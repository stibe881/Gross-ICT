import{c as T,z as H,j as l,N as a,A as p,x as e}from"./index-BN9GAmQT.js";import{I as L}from"./input-DAxyQcQ6.js";import{C as t,d as c,a as D,b as E}from"./card-DDCG5iAJ.js";import{B as f}from"./badge-DuBy3M6P.js";import{B as n}from"./button-B7XicF_D.js";import{S as I,a as M,b as V,c as F,d as B}from"./select-lpC4X7iX.js";import{L as W}from"./Layout-Dhifyl4R.js";import{S as Q}from"./SEO-C_76O7xS.js";import{B as K}from"./book-open-DJlXj3jr.js";import{S as U}from"./search-DYS7RNfR.js";import{a as z,C as R}from"./chevron-up-CGjsbtlF.js";import{E as O}from"./eye-DH5-FCbl.js";import{T as P}from"./thumbs-up-D8P2B3QF.js";import"./dialog-BFxkyGdG.js";import"./index-DkLA8Hun.js";import"./index-Ci_qB1WW.js";import"./index-DYYK5dbJ.js";import"./index-FM6g0UGI.js";import"./check-B0XS7teL.js";import"./switch-pOM7cBrf.js";import"./download-_y-9cJJ1.js";import"./user-DNKQZcJU.js";import"./arrow-right-DrTepnru.js";import"./menu-CAMq4GAl.js";const j=T("ThumbsDown",[["path",{d:"M17 14V2",key:"8ymqnk"}],["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22a3.13 3.13 0 0 1-3-3.88Z",key:"m61m77"}]]);function he(){const{t:q}=H(),[i,N]=l.useState(""),[r,v]=l.useState(""),[d,k]=l.useState(null),[o,S]=l.useState(new Set),m=a.useUtils(),{data:g,isLoading:y}=a.kb.all.useQuery({search:i||void 0,category:r||void 0,visibility:"public"}),{data:C}=a.kb.categories.useQuery(),b=a.kb.markHelpful.useMutation({onSuccess:()=>{m.kb.all.invalidate(),p.success("Vielen Dank für Ihr Feedback!")}}),h=a.kb.markNotHelpful.useMutation({onSuccess:()=>{m.kb.all.invalidate(),p.success("Vielen Dank für Ihr Feedback!")}}),w=(s,x)=>{if(o.has(s)){p.info("Sie haben diesen Artikel bereits bewertet");return}x?b.mutate({id:s}):h.mutate({id:s}),S(u=>new Set(u).add(s))},A=s=>{k(d===s?null:s)};return e.jsxs(W,{"data-loc":"client/src/pages/PublicKnowledgeBase.tsx:70",children:[e.jsx(Q,{"data-loc":"client/src/pages/PublicKnowledgeBase.tsx:71",title:"Wissensdatenbank",description:"Durchsuchen Sie unsere Wissensdatenbank nach Lösungen für häufige IT-Probleme und Fragen."}),e.jsx("div",{"data-loc":"client/src/pages/PublicKnowledgeBase.tsx:75",className:"min-h-screen py-20",children:e.jsxs("div",{"data-loc":"client/src/pages/PublicKnowledgeBase.tsx:76",className:"container mx-auto px-4",children:[e.jsxs("div",{"data-loc":"client/src/pages/PublicKnowledgeBase.tsx:78",className:"text-center mb-12",children:[e.jsx("div",{"data-loc":"client/src/pages/PublicKnowledgeBase.tsx:79",className:"inline-flex items-center justify-center w-16 h-16 bg-primary/10 rounded-full mb-4",children:e.jsx(K,{"data-loc":"client/src/pages/PublicKnowledgeBase.tsx:80",className:"h-8 w-8 text-primary"})}),e.jsx("h1",{"data-loc":"client/src/pages/PublicKnowledgeBase.tsx:82",className:"text-4xl md:text-5xl font-bold mb-4",children:"Wissensdatenbank"}),e.jsx("p",{"data-loc":"client/src/pages/PublicKnowledgeBase.tsx:83",className:"text-xl text-muted-foreground max-w-2xl mx-auto",children:"Finden Sie schnell Antworten auf häufige Fragen und Lösungen für IT-Probleme"})]}),e.jsx(t,{"data-loc":"client/src/pages/PublicKnowledgeBase.tsx:89",className:"mb-8 bg-card/50 backdrop-blur-sm",children:e.jsx(c,{"data-loc":"client/src/pages/PublicKnowledgeBase.tsx:90",className:"p-6",children:e.jsxs("div",{"data-loc":"client/src/pages/PublicKnowledgeBase.tsx:91",className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{"data-loc":"client/src/pages/PublicKnowledgeBase.tsx:92",className:"md:col-span-2 relative",children:[e.jsx(U,{"data-loc":"client/src/pages/PublicKnowledgeBase.tsx:93",className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-muted-foreground"}),e.jsx(L,{"data-loc":"client/src/pages/PublicKnowledgeBase.tsx:94",value:i,onChange:s=>N(s.target.value),placeholder:"Suche nach Lösungen, Stichwörtern...",className:"pl-10 h-12 text-lg"})]}),e.jsxs(I,{"data-loc":"client/src/pages/PublicKnowledgeBase.tsx:101",value:r||"all",onValueChange:s=>v(s==="all"?"":s),children:[e.jsx(M,{"data-loc":"client/src/pages/PublicKnowledgeBase.tsx:102",className:"h-12",children:e.jsx(V,{"data-loc":"client/src/pages/PublicKnowledgeBase.tsx:103",placeholder:"Alle Kategorien"})}),e.jsxs(F,{"data-loc":"client/src/pages/PublicKnowledgeBase.tsx:105",children:[e.jsx(B,{"data-loc":"client/src/pages/PublicKnowledgeBase.tsx:106",value:"all",children:"Alle Kategorien"}),C?.map(s=>e.jsx(B,{"data-loc":"client/src/pages/PublicKnowledgeBase.tsx:108",value:s,children:s},s))]})]})]})})}),y?e.jsxs("div",{"data-loc":"client/src/pages/PublicKnowledgeBase.tsx:120",className:"text-center py-12",children:[e.jsx("div",{"data-loc":"client/src/pages/PublicKnowledgeBase.tsx:121",className:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-primary"}),e.jsx("p",{"data-loc":"client/src/pages/PublicKnowledgeBase.tsx:122",className:"mt-4 text-muted-foreground",children:"Lädt..."})]}):g&&g.length>0?e.jsx("div",{"data-loc":"client/src/pages/PublicKnowledgeBase.tsx:125",className:"grid grid-cols-1 gap-4",children:g.map(s=>e.jsxs(t,{"data-loc":"client/src/pages/PublicKnowledgeBase.tsx:127",className:"bg-card/50 backdrop-blur-sm hover:shadow-lg transition-shadow",children:[e.jsx(D,{"data-loc":"client/src/pages/PublicKnowledgeBase.tsx:128",className:"cursor-pointer",onClick:()=>A(s.id),children:e.jsx("div",{"data-loc":"client/src/pages/PublicKnowledgeBase.tsx:129",className:"flex justify-between items-start gap-4",children:e.jsxs("div",{"data-loc":"client/src/pages/PublicKnowledgeBase.tsx:130",className:"flex-1",children:[e.jsxs("div",{"data-loc":"client/src/pages/PublicKnowledgeBase.tsx:131",className:"flex items-center gap-3 mb-2",children:[e.jsx(E,{"data-loc":"client/src/pages/PublicKnowledgeBase.tsx:132",className:"text-xl",children:s.title}),d===s.id?e.jsx(z,{"data-loc":"client/src/pages/PublicKnowledgeBase.tsx:134",className:"h-5 w-5 text-muted-foreground flex-shrink-0"}):e.jsx(R,{"data-loc":"client/src/pages/PublicKnowledgeBase.tsx:136",className:"h-5 w-5 text-muted-foreground flex-shrink-0"})]}),e.jsxs("div",{"data-loc":"client/src/pages/PublicKnowledgeBase.tsx:139",className:"flex flex-wrap gap-2 text-sm",children:[e.jsx(f,{"data-loc":"client/src/pages/PublicKnowledgeBase.tsx:140",variant:"secondary",children:s.category}),s.tags&&s.tags.split(",").map((x,u)=>e.jsx(f,{"data-loc":"client/src/pages/PublicKnowledgeBase.tsx:142",variant:"outline",className:"text-xs",children:x.trim()},u))]})]})})}),d===s.id&&e.jsxs(c,{"data-loc":"client/src/pages/PublicKnowledgeBase.tsx:151",children:[e.jsx("div",{"data-loc":"client/src/pages/PublicKnowledgeBase.tsx:152",className:"prose prose-invert max-w-none mb-4",children:e.jsx("p",{"data-loc":"client/src/pages/PublicKnowledgeBase.tsx:153",className:"whitespace-pre-wrap",children:s.content})}),e.jsxs("div",{"data-loc":"client/src/pages/PublicKnowledgeBase.tsx:155",className:"space-y-4 pt-4 border-t border-border",children:[e.jsxs("div",{"data-loc":"client/src/pages/PublicKnowledgeBase.tsx:156",className:"flex items-center gap-6 text-sm text-muted-foreground",children:[e.jsxs("div",{"data-loc":"client/src/pages/PublicKnowledgeBase.tsx:157",className:"flex items-center gap-2",children:[e.jsx(O,{"data-loc":"client/src/pages/PublicKnowledgeBase.tsx:158",className:"h-4 w-4"}),s.viewCount," Aufrufe"]}),e.jsxs("div",{"data-loc":"client/src/pages/PublicKnowledgeBase.tsx:161",className:"flex items-center gap-2",children:[e.jsx(P,{"data-loc":"client/src/pages/PublicKnowledgeBase.tsx:162",className:"h-4 w-4"}),s.helpfulCount," Hilfreich"]}),s.notHelpfulCount>0&&e.jsxs("div",{"data-loc":"client/src/pages/PublicKnowledgeBase.tsx:166",className:"flex items-center gap-2",children:[e.jsx(j,{"data-loc":"client/src/pages/PublicKnowledgeBase.tsx:167",className:"h-4 w-4"}),s.notHelpfulCount]})]}),e.jsxs("div",{"data-loc":"client/src/pages/PublicKnowledgeBase.tsx:172",className:"flex items-center gap-3 pt-2",children:[e.jsx("p",{"data-loc":"client/src/pages/PublicKnowledgeBase.tsx:173",className:"text-sm font-medium",children:"War dieser Artikel hilfreich?"}),e.jsxs(n,{"data-loc":"client/src/pages/PublicKnowledgeBase.tsx:174",variant:"outline",size:"sm",onClick:()=>w(s.id,!0),disabled:o.has(s.id)||b.isPending,className:"gap-2",children:[e.jsx(P,{"data-loc":"client/src/pages/PublicKnowledgeBase.tsx:181",className:"h-4 w-4"}),"Ja"]}),e.jsxs(n,{"data-loc":"client/src/pages/PublicKnowledgeBase.tsx:184",variant:"outline",size:"sm",onClick:()=>w(s.id,!1),disabled:o.has(s.id)||h.isPending,className:"gap-2",children:[e.jsx(j,{"data-loc":"client/src/pages/PublicKnowledgeBase.tsx:191",className:"h-4 w-4"}),"Nein"]})]})]})]})]},s.id))}):e.jsx(t,{"data-loc":"client/src/pages/PublicKnowledgeBase.tsx:202",className:"bg-card/50 backdrop-blur-sm",children:e.jsxs(c,{"data-loc":"client/src/pages/PublicKnowledgeBase.tsx:203",className:"py-12 text-center",children:[e.jsx(K,{"data-loc":"client/src/pages/PublicKnowledgeBase.tsx:204",className:"h-16 w-16 text-muted-foreground mx-auto mb-4"}),e.jsx("h3",{"data-loc":"client/src/pages/PublicKnowledgeBase.tsx:205",className:"text-xl font-semibold mb-2",children:"Keine Artikel gefunden"}),e.jsx("p",{"data-loc":"client/src/pages/PublicKnowledgeBase.tsx:206",className:"text-muted-foreground mb-6",children:i||r?"Versuchen Sie es mit anderen Suchbegriffen oder Kategorien":"Noch keine Artikel in der Wissensdatenbank"}),e.jsx(n,{"data-loc":"client/src/pages/PublicKnowledgeBase.tsx:211",asChild:!0,children:e.jsx("a",{"data-loc":"client/src/pages/PublicKnowledgeBase.tsx:212",href:"/support-center",children:"Ticket erstellen"})})]})}),e.jsx(t,{"data-loc":"client/src/pages/PublicKnowledgeBase.tsx:219",className:"mt-8 bg-primary/5 border-primary/20",children:e.jsxs(c,{"data-loc":"client/src/pages/PublicKnowledgeBase.tsx:220",className:"p-6 text-center",children:[e.jsx("h3",{"data-loc":"client/src/pages/PublicKnowledgeBase.tsx:221",className:"text-xl font-semibold mb-2",children:"Nicht gefunden, was Sie suchen?"}),e.jsx("p",{"data-loc":"client/src/pages/PublicKnowledgeBase.tsx:222",className:"text-muted-foreground mb-4",children:"Unser Support-Team hilft Ihnen gerne weiter"}),e.jsx(n,{"data-loc":"client/src/pages/PublicKnowledgeBase.tsx:225",asChild:!0,children:e.jsx("a",{"data-loc":"client/src/pages/PublicKnowledgeBase.tsx:226",href:"/support-center",children:"Support-Ticket erstellen"})})]})})]})})]})}export{he as default};
