import{J as oe,j as m,N as g,A as r,x as e}from"./index-BN9GAmQT.js";import{C as t}from"./card-DDCG5iAJ.js";import{B as a}from"./button-B7XicF_D.js";import{I as S}from"./input-DAxyQcQ6.js";import{S as xe,a as he,b as ge,c as be,d as C}from"./select-lpC4X7iX.js";import{T as me,a as pe,b as R,c as u,d as Ne,e as D}from"./table-CCi6V4m7.js";import{D as we,a as ue,b as De,c as je,e as fe,f as ve}from"./dialog-BFxkyGdG.js";import{B as l}from"./badge-DuBy3M6P.js";import{T as ye,a as ke,b as A,c as T}from"./tabs-BqpNVkZh.js";import{M as G}from"./mail-fgvT38PL.js";import{F as Se}from"./filter-CeMfskc8.js";import{P as L}from"./plus-Bs9J4-Yt.js";import{C as Q}from"./chart-column-8Hy86w9_.js";import{U as W}from"./users-BEPVjVsG.js";import{S as Z}from"./send-C6irG-PM.js";import{F as E}from"./file-text-zOWEdpec.js";import{T as Ce}from"./trending-up-q9Xt4TNZ.js";import{S as Ae}from"./search-DYS7RNfR.js";import{U as Te}from"./upload-BZj3U29R.js";import{D as Ee}from"./download-_y-9cJJ1.js";import{S as $e}from"./square-pen-CPfJwZSi.js";import{T as Ie}from"./trash-2-BGEcaC5X.js";import"./index-Ci_qB1WW.js";import"./index-DYYK5dbJ.js";import"./index-DkLA8Hun.js";import"./index-FM6g0UGI.js";import"./chevron-up-CGjsbtlF.js";import"./check-B0XS7teL.js";import"./index-DE5s7y_t.js";function is(){const[,x]=oe(),[_,q]=m.useState("overview"),[p,F]=m.useState(1),[$,J]=m.useState("all"),[K,X]=m.useState(""),[Y,j]=m.useState(!1),[n,f]=m.useState({email:"",firstName:"",lastName:""}),{data:i,isLoading:ee}=g.newsletter.dashboardStats.useQuery(),{data:N}=g.newsletter.subscribers.stats.useQuery(),{data:c,isLoading:se,refetch:I}=g.newsletter.subscribers.list.useQuery({page:p,pageSize:20,status:$==="all"?void 0:$,search:K||void 0}),{data:M,refetch:Me}=g.newsletter.campaigns.list.useQuery({page:1,pageSize:10}),O=g.newsletter.subscribers.create.useMutation({onSuccess:()=>{r.success("Abonnent erfolgreich hinzugefügt"),j(!1),f({email:"",firstName:"",lastName:""}),I()},onError:s=>{r.error(`Fehler: ${s.message}`)}}),ae=g.newsletter.subscribers.delete.useMutation({onSuccess:()=>{r.success("Abonnent gelöscht"),I()},onError:s=>{r.error(`Fehler: ${s.message}`)}}),te=()=>{if(!n.email){r.error("E-Mail ist erforderlich");return}O.mutate(n)},re=s=>{confirm("Möchten Sie diesen Abonnenten wirklich löschen?")&&ae.mutate({id:s})},le=g.newsletter.subscribers.bulkImport.useMutation({onSuccess:s=>{r.success(`Import abgeschlossen: ${s.imported} importiert, ${s.skipped} übersprungen${s.errors.length>0?`, ${s.errors.length} Fehler`:""}`),s.errors.length>0&&console.error("Import errors:",s.errors),I()},onError:s=>{r.error(`Import fehlgeschlagen: ${s.message}`)}}),ce=s=>{const b=s.target.files?.[0];if(!b)return;const v=new FileReader;v.onload=o=>{try{const d=(o.target?.result).split(`
`),h=d[0].split(",").map(w=>w.trim().toLowerCase()),z=[];for(let w=1;w<d.length;w++){const P=d[w].trim();if(!P)continue;const k=P.split(",").map(ie=>ie.trim()),B=h.indexOf("email"),U=h.indexOf("firstname")>=0?h.indexOf("firstname"):h.indexOf("first_name"),H=h.indexOf("lastname")>=0?h.indexOf("lastname"):h.indexOf("last_name");B>=0&&k[B]&&z.push({email:k[B],firstName:U>=0?k[U]:void 0,lastName:H>=0?k[H]:void 0})}if(z.length===0){r.error("Keine gültigen Abonnenten in der CSV-Datei gefunden");return}le.mutate({subscribers:z})}catch(y){r.error("Fehler beim Lesen der CSV-Datei"),console.error(y)}},v.readAsText(b)},de=()=>{if(!c?.subscribers){r.error("Keine Daten zum Exportieren vorhanden");return}const b=[["email","firstName","lastName","status","createdAt"].join(","),...c.subscribers.map(d=>`${d.email},${d.firstName||""},${d.lastName||""},${d.status},${d.createdAt}`)].join(`
`),v=new Blob([b],{type:"text/csv;charset=utf-8;"}),o=document.createElement("a"),y=URL.createObjectURL(v);o.setAttribute("href",y),o.setAttribute("download",`newsletter-subscribers-${new Date().toISOString().split("T")[0]}.csv`),o.style.visibility="hidden",document.body.appendChild(o),o.click(),document.body.removeChild(o),r.success("CSV-Datei erfolgreich exportiert")},ne=s=>{switch(s){case"active":return e.jsx(l,{"data-loc":"client/src/pages/NewsletterDashboard.tsx:222",className:"bg-green-500/10 text-green-600 hover:bg-green-500/20",children:"Aktiv"});case"unsubscribed":return e.jsx(l,{"data-loc":"client/src/pages/NewsletterDashboard.tsx:228",className:"bg-gray-500/10 text-gray-600 hover:bg-gray-500/20",children:"Abgemeldet"});case"bounced":return e.jsx(l,{"data-loc":"client/src/pages/NewsletterDashboard.tsx:234",className:"bg-red-500/10 text-red-600 hover:bg-red-500/20",children:"Bounced"});default:return e.jsx(l,{"data-loc":"client/src/pages/NewsletterDashboard.tsx:239",variant:"outline",children:s})}},V=s=>{switch(s){case"draft":return e.jsx(l,{"data-loc":"client/src/pages/NewsletterDashboard.tsx:246",variant:"outline",children:"Entwurf"});case"scheduled":return e.jsx(l,{"data-loc":"client/src/pages/NewsletterDashboard.tsx:249",className:"bg-blue-500/10 text-blue-600 hover:bg-blue-500/20",children:"Geplant"});case"sending":return e.jsx(l,{"data-loc":"client/src/pages/NewsletterDashboard.tsx:255",className:"bg-yellow-500/10 text-yellow-600 hover:bg-yellow-500/20",children:"Wird gesendet"});case"sent":return e.jsx(l,{"data-loc":"client/src/pages/NewsletterDashboard.tsx:261",className:"bg-green-500/10 text-green-600 hover:bg-green-500/20",children:"Gesendet"});case"paused":return e.jsx(l,{"data-loc":"client/src/pages/NewsletterDashboard.tsx:267",className:"bg-gray-500/10 text-gray-600 hover:bg-gray-500/20",children:"Pausiert"});default:return e.jsx(l,{"data-loc":"client/src/pages/NewsletterDashboard.tsx:272",variant:"outline",children:s})}};return e.jsx("div",{"data-loc":"client/src/pages/NewsletterDashboard.tsx:277",className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 dark:from-gray-900 dark:to-gray-800 p-6",children:e.jsxs("div",{"data-loc":"client/src/pages/NewsletterDashboard.tsx:278",className:"container mx-auto max-w-7xl",children:[e.jsx("div",{"data-loc":"client/src/pages/NewsletterDashboard.tsx:280",className:"mb-8",children:e.jsxs("div",{"data-loc":"client/src/pages/NewsletterDashboard.tsx:281",className:"flex items-center justify-between",children:[e.jsxs("div",{"data-loc":"client/src/pages/NewsletterDashboard.tsx:282",children:[e.jsxs("div",{"data-loc":"client/src/pages/NewsletterDashboard.tsx:283",className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{"data-loc":"client/src/pages/NewsletterDashboard.tsx:284",className:"p-2 bg-blue-500/10 rounded-lg",children:e.jsx(G,{"data-loc":"client/src/pages/NewsletterDashboard.tsx:285",className:"w-6 h-6 text-blue-600"})}),e.jsx("h1",{"data-loc":"client/src/pages/NewsletterDashboard.tsx:287",className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Newsletter Management"})]}),e.jsx("p",{"data-loc":"client/src/pages/NewsletterDashboard.tsx:291",className:"text-gray-600 dark:text-gray-400",children:"Verwalten Sie Abonnenten, Kampagnen und Newsletter-Templates"})]}),e.jsxs("div",{"data-loc":"client/src/pages/NewsletterDashboard.tsx:295",className:"flex gap-2",children:[e.jsxs(a,{"data-loc":"client/src/pages/NewsletterDashboard.tsx:296",onClick:()=>x("/newsletter/segments"),variant:"outline",children:[e.jsx(Se,{"data-loc":"client/src/pages/NewsletterDashboard.tsx:300",className:"w-4 h-4 mr-2"}),"Segmente"]}),e.jsxs(a,{"data-loc":"client/src/pages/NewsletterDashboard.tsx:303",onClick:()=>x("/newsletter/campaigns/new"),className:"bg-blue-600 hover:bg-blue-700",children:[e.jsx(L,{"data-loc":"client/src/pages/NewsletterDashboard.tsx:307",className:"w-4 h-4 mr-2"}),"Neue Kampagne"]})]})]})}),e.jsxs(ye,{"data-loc":"client/src/pages/NewsletterDashboard.tsx:315",value:_,onValueChange:q,className:"space-y-6",children:[e.jsxs(ke,{"data-loc":"client/src/pages/NewsletterDashboard.tsx:316",className:"bg-white dark:bg-gray-800 p-1",children:[e.jsxs(A,{"data-loc":"client/src/pages/NewsletterDashboard.tsx:317",value:"overview",children:[e.jsx(Q,{"data-loc":"client/src/pages/NewsletterDashboard.tsx:318",className:"w-4 h-4 mr-2"}),"Übersicht"]}),e.jsxs(A,{"data-loc":"client/src/pages/NewsletterDashboard.tsx:321",value:"subscribers",children:[e.jsx(W,{"data-loc":"client/src/pages/NewsletterDashboard.tsx:322",className:"w-4 h-4 mr-2"}),"Abonnenten"]}),e.jsxs(A,{"data-loc":"client/src/pages/NewsletterDashboard.tsx:325",value:"campaigns",children:[e.jsx(Z,{"data-loc":"client/src/pages/NewsletterDashboard.tsx:326",className:"w-4 h-4 mr-2"}),"Kampagnen"]}),e.jsxs(A,{"data-loc":"client/src/pages/NewsletterDashboard.tsx:329",value:"templates",children:[e.jsx(E,{"data-loc":"client/src/pages/NewsletterDashboard.tsx:330",className:"w-4 h-4 mr-2"}),"Templates"]})]}),e.jsxs(T,{"data-loc":"client/src/pages/NewsletterDashboard.tsx:336",value:"overview",className:"space-y-6",children:[!ee&&i&&e.jsxs("div",{"data-loc":"client/src/pages/NewsletterDashboard.tsx:339",className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx(t,{"data-loc":"client/src/pages/NewsletterDashboard.tsx:340",className:"p-6 bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700",children:e.jsxs("div",{"data-loc":"client/src/pages/NewsletterDashboard.tsx:341",className:"flex items-center justify-between",children:[e.jsxs("div",{"data-loc":"client/src/pages/NewsletterDashboard.tsx:342",children:[e.jsx("p",{"data-loc":"client/src/pages/NewsletterDashboard.tsx:343",className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Aktive Abonnenten"}),e.jsx("p",{"data-loc":"client/src/pages/NewsletterDashboard.tsx:346",className:"text-2xl font-bold text-gray-900 dark:text-white",children:i.totalSubscribers})]}),e.jsx(W,{"data-loc":"client/src/pages/NewsletterDashboard.tsx:350",className:"w-10 h-10 text-blue-500 opacity-20"})]})}),e.jsx(t,{"data-loc":"client/src/pages/NewsletterDashboard.tsx:354",className:"p-6 bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700",children:e.jsxs("div",{"data-loc":"client/src/pages/NewsletterDashboard.tsx:355",className:"flex items-center justify-between",children:[e.jsxs("div",{"data-loc":"client/src/pages/NewsletterDashboard.tsx:356",children:[e.jsx("p",{"data-loc":"client/src/pages/NewsletterDashboard.tsx:357",className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Gesendete Kampagnen"}),e.jsx("p",{"data-loc":"client/src/pages/NewsletterDashboard.tsx:360",className:"text-2xl font-bold text-gray-900 dark:text-white",children:i.sentCampaigns})]}),e.jsx(Z,{"data-loc":"client/src/pages/NewsletterDashboard.tsx:364",className:"w-10 h-10 text-green-500 opacity-20"})]})}),e.jsx(t,{"data-loc":"client/src/pages/NewsletterDashboard.tsx:368",className:"p-6 bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700",children:e.jsxs("div",{"data-loc":"client/src/pages/NewsletterDashboard.tsx:369",className:"flex items-center justify-between",children:[e.jsxs("div",{"data-loc":"client/src/pages/NewsletterDashboard.tsx:370",children:[e.jsx("p",{"data-loc":"client/src/pages/NewsletterDashboard.tsx:371",className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Gesamt Kampagnen"}),e.jsx("p",{"data-loc":"client/src/pages/NewsletterDashboard.tsx:374",className:"text-2xl font-bold text-gray-900 dark:text-white",children:i.totalCampaigns})]}),e.jsx(G,{"data-loc":"client/src/pages/NewsletterDashboard.tsx:378",className:"w-10 h-10 text-purple-500 opacity-20"})]})}),e.jsx(t,{"data-loc":"client/src/pages/NewsletterDashboard.tsx:382",className:"p-6 bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700",children:e.jsxs("div",{"data-loc":"client/src/pages/NewsletterDashboard.tsx:383",className:"flex items-center justify-between",children:[e.jsxs("div",{"data-loc":"client/src/pages/NewsletterDashboard.tsx:384",children:[e.jsx("p",{"data-loc":"client/src/pages/NewsletterDashboard.tsx:385",className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Ø Öffnungsrate"}),e.jsxs("p",{"data-loc":"client/src/pages/NewsletterDashboard.tsx:388",className:"text-2xl font-bold text-gray-900 dark:text-white",children:[i.avgOpenRate.toFixed(1),"%"]})]}),e.jsx(Ce,{"data-loc":"client/src/pages/NewsletterDashboard.tsx:392",className:"w-10 h-10 text-orange-500 opacity-20"})]})})]}),e.jsx(t,{"data-loc":"client/src/pages/NewsletterDashboard.tsx:399",className:"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700",children:e.jsxs("div",{"data-loc":"client/src/pages/NewsletterDashboard.tsx:400",className:"p-6",children:[e.jsx("h2",{"data-loc":"client/src/pages/NewsletterDashboard.tsx:401",className:"text-xl font-semibold mb-4 text-gray-900 dark:text-white",children:"Letzte Kampagnen"}),i&&i.recentCampaigns.length>0?e.jsx("div",{"data-loc":"client/src/pages/NewsletterDashboard.tsx:405",className:"space-y-3",children:i.recentCampaigns.map(s=>e.jsxs("div",{"data-loc":"client/src/pages/NewsletterDashboard.tsx:407",className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:[e.jsxs("div",{"data-loc":"client/src/pages/NewsletterDashboard.tsx:411",className:"flex-1",children:[e.jsx("div",{"data-loc":"client/src/pages/NewsletterDashboard.tsx:412",className:"font-medium text-gray-900 dark:text-white",children:s.name}),e.jsx("div",{"data-loc":"client/src/pages/NewsletterDashboard.tsx:415",className:"text-sm text-gray-500",children:s.subject})]}),e.jsxs("div",{"data-loc":"client/src/pages/NewsletterDashboard.tsx:419",className:"flex items-center gap-3",children:[V(s.status),e.jsxs("span",{"data-loc":"client/src/pages/NewsletterDashboard.tsx:421",className:"text-sm text-gray-500",children:[s.recipientCount," Empfänger"]})]})]},s.id))}):e.jsx("p",{"data-loc":"client/src/pages/NewsletterDashboard.tsx:429",className:"text-gray-500 text-center py-8",children:"Noch keine Kampagnen erstellt"})]})})]}),e.jsxs(T,{"data-loc":"client/src/pages/NewsletterDashboard.tsx:438",value:"subscribers",className:"space-y-6",children:[N&&e.jsxs("div",{"data-loc":"client/src/pages/NewsletterDashboard.tsx:441",className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs(t,{"data-loc":"client/src/pages/NewsletterDashboard.tsx:442",className:"p-4 bg-white dark:bg-gray-800",children:[e.jsx("div",{"data-loc":"client/src/pages/NewsletterDashboard.tsx:443",className:"text-sm text-gray-600 dark:text-gray-400",children:"Gesamt"}),e.jsx("div",{"data-loc":"client/src/pages/NewsletterDashboard.tsx:446",className:"text-2xl font-bold text-gray-900 dark:text-white",children:N.total})]}),e.jsxs(t,{"data-loc":"client/src/pages/NewsletterDashboard.tsx:450",className:"p-4 bg-white dark:bg-gray-800",children:[e.jsx("div",{"data-loc":"client/src/pages/NewsletterDashboard.tsx:451",className:"text-sm text-green-600",children:"Aktiv"}),e.jsx("div",{"data-loc":"client/src/pages/NewsletterDashboard.tsx:452",className:"text-2xl font-bold text-green-600",children:N.active})]}),e.jsxs(t,{"data-loc":"client/src/pages/NewsletterDashboard.tsx:456",className:"p-4 bg-white dark:bg-gray-800",children:[e.jsx("div",{"data-loc":"client/src/pages/NewsletterDashboard.tsx:457",className:"text-sm text-gray-600 dark:text-gray-400",children:"Abgemeldet"}),e.jsx("div",{"data-loc":"client/src/pages/NewsletterDashboard.tsx:460",className:"text-2xl font-bold text-gray-600",children:N.unsubscribed})]}),e.jsxs(t,{"data-loc":"client/src/pages/NewsletterDashboard.tsx:464",className:"p-4 bg-white dark:bg-gray-800",children:[e.jsx("div",{"data-loc":"client/src/pages/NewsletterDashboard.tsx:465",className:"text-sm text-red-600",children:"Bounced"}),e.jsx("div",{"data-loc":"client/src/pages/NewsletterDashboard.tsx:466",className:"text-2xl font-bold text-red-600",children:N.bounced})]})]}),e.jsx(t,{"data-loc":"client/src/pages/NewsletterDashboard.tsx:474",className:"p-6 bg-white dark:bg-gray-800",children:e.jsxs("div",{"data-loc":"client/src/pages/NewsletterDashboard.tsx:475",className:"flex flex-col md:flex-row gap-4",children:[e.jsxs("div",{"data-loc":"client/src/pages/NewsletterDashboard.tsx:476",className:"flex-1 relative",children:[e.jsx(Ae,{"data-loc":"client/src/pages/NewsletterDashboard.tsx:477",className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx(S,{"data-loc":"client/src/pages/NewsletterDashboard.tsx:478",placeholder:"Suche nach Email oder Name...",value:K,onChange:s=>X(s.target.value),className:"pl-10"})]}),e.jsxs(xe,{"data-loc":"client/src/pages/NewsletterDashboard.tsx:485",value:$,onValueChange:J,children:[e.jsx(he,{"data-loc":"client/src/pages/NewsletterDashboard.tsx:486",className:"w-full md:w-48",children:e.jsx(ge,{"data-loc":"client/src/pages/NewsletterDashboard.tsx:487"})}),e.jsxs(be,{"data-loc":"client/src/pages/NewsletterDashboard.tsx:489",children:[e.jsx(C,{"data-loc":"client/src/pages/NewsletterDashboard.tsx:490",value:"all",children:"Alle Status"}),e.jsx(C,{"data-loc":"client/src/pages/NewsletterDashboard.tsx:491",value:"active",children:"Aktiv"}),e.jsx(C,{"data-loc":"client/src/pages/NewsletterDashboard.tsx:492",value:"unsubscribed",children:"Abgemeldet"}),e.jsx(C,{"data-loc":"client/src/pages/NewsletterDashboard.tsx:493",value:"bounced",children:"Bounced"})]})]}),e.jsxs(a,{"data-loc":"client/src/pages/NewsletterDashboard.tsx:496",onClick:()=>j(!0),children:[e.jsx(L,{"data-loc":"client/src/pages/NewsletterDashboard.tsx:497",className:"w-4 h-4 mr-2"}),"Abonnent hinzufügen"]}),e.jsxs(a,{"data-loc":"client/src/pages/NewsletterDashboard.tsx:500",variant:"outline",onClick:()=>document.getElementById("csv-upload")?.click(),children:[e.jsx(Te,{"data-loc":"client/src/pages/NewsletterDashboard.tsx:504",className:"w-4 h-4 mr-2"}),"CSV Import"]}),e.jsx("input",{"data-loc":"client/src/pages/NewsletterDashboard.tsx:507",id:"csv-upload",type:"file",accept:".csv",className:"hidden",onChange:ce}),e.jsxs(a,{"data-loc":"client/src/pages/NewsletterDashboard.tsx:514",variant:"outline",onClick:de,children:[e.jsx(Ee,{"data-loc":"client/src/pages/NewsletterDashboard.tsx:518",className:"w-4 h-4 mr-2"}),"CSV Export"]})]})}),e.jsx(t,{"data-loc":"client/src/pages/NewsletterDashboard.tsx:525",className:"bg-white dark:bg-gray-800",children:e.jsxs("div",{"data-loc":"client/src/pages/NewsletterDashboard.tsx:526",className:"p-6",children:[e.jsx("h2",{"data-loc":"client/src/pages/NewsletterDashboard.tsx:527",className:"text-xl font-semibold mb-4 text-gray-900 dark:text-white",children:"Abonnenten"}),se?e.jsx("div",{"data-loc":"client/src/pages/NewsletterDashboard.tsx:531",className:"flex justify-center py-12",children:e.jsx("div",{"data-loc":"client/src/pages/NewsletterDashboard.tsx:532",className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):!c||c.subscribers.length===0?e.jsx("p",{"data-loc":"client/src/pages/NewsletterDashboard.tsx:535",className:"text-center py-12 text-gray-500",children:"Keine Abonnenten gefunden"}):e.jsxs(e.Fragment,{children:[e.jsx("div",{"data-loc":"client/src/pages/NewsletterDashboard.tsx:540",className:"overflow-x-auto",children:e.jsxs(me,{"data-loc":"client/src/pages/NewsletterDashboard.tsx:541",children:[e.jsx(pe,{"data-loc":"client/src/pages/NewsletterDashboard.tsx:542",children:e.jsxs(R,{"data-loc":"client/src/pages/NewsletterDashboard.tsx:543",children:[e.jsx(u,{"data-loc":"client/src/pages/NewsletterDashboard.tsx:544",children:"Email"}),e.jsx(u,{"data-loc":"client/src/pages/NewsletterDashboard.tsx:545",children:"Name"}),e.jsx(u,{"data-loc":"client/src/pages/NewsletterDashboard.tsx:546",children:"Status"}),e.jsx(u,{"data-loc":"client/src/pages/NewsletterDashboard.tsx:547",children:"Abonniert am"}),e.jsx(u,{"data-loc":"client/src/pages/NewsletterDashboard.tsx:548",className:"text-right",children:"Aktionen"})]})}),e.jsx(Ne,{"data-loc":"client/src/pages/NewsletterDashboard.tsx:551",children:c.subscribers.map(s=>e.jsxs(R,{"data-loc":"client/src/pages/NewsletterDashboard.tsx:553",children:[e.jsx(D,{"data-loc":"client/src/pages/NewsletterDashboard.tsx:554",className:"font-medium",children:s.email}),e.jsx(D,{"data-loc":"client/src/pages/NewsletterDashboard.tsx:557",children:s.firstName||s.lastName?`${s.firstName||""} ${s.lastName||""}`.trim():"—"}),e.jsx(D,{"data-loc":"client/src/pages/NewsletterDashboard.tsx:562",children:ne(s.status)}),e.jsx(D,{"data-loc":"client/src/pages/NewsletterDashboard.tsx:563",children:new Date(s.subscribedAt).toLocaleDateString("de-CH")}),e.jsx(D,{"data-loc":"client/src/pages/NewsletterDashboard.tsx:568",className:"text-right",children:e.jsxs("div",{"data-loc":"client/src/pages/NewsletterDashboard.tsx:569",className:"flex justify-end gap-2",children:[e.jsx(a,{"data-loc":"client/src/pages/NewsletterDashboard.tsx:570",variant:"ghost",size:"sm",children:e.jsx($e,{"data-loc":"client/src/pages/NewsletterDashboard.tsx:571",className:"w-4 h-4"})}),e.jsx(a,{"data-loc":"client/src/pages/NewsletterDashboard.tsx:573",variant:"ghost",size:"sm",onClick:()=>re(s.id),children:e.jsx(Ie,{"data-loc":"client/src/pages/NewsletterDashboard.tsx:580",className:"w-4 h-4"})})]})})]},s.id))})]})}),c.pagination.totalPages>1&&e.jsxs("div",{"data-loc":"client/src/pages/NewsletterDashboard.tsx:592",className:"flex items-center justify-between mt-6 pt-6 border-t",children:[e.jsxs("div",{"data-loc":"client/src/pages/NewsletterDashboard.tsx:593",className:"text-sm text-gray-600",children:["Seite ",c.pagination.page," von"," ",c.pagination.totalPages]}),e.jsxs("div",{"data-loc":"client/src/pages/NewsletterDashboard.tsx:597",className:"flex gap-2",children:[e.jsx(a,{"data-loc":"client/src/pages/NewsletterDashboard.tsx:598",variant:"outline",size:"sm",onClick:()=>F(p-1),disabled:p===1,children:"Zurück"}),e.jsx(a,{"data-loc":"client/src/pages/NewsletterDashboard.tsx:606",variant:"outline",size:"sm",onClick:()=>F(p+1),disabled:p>=c.pagination.totalPages,children:"Weiter"})]})]})]})]})})]}),e.jsx(T,{"data-loc":"client/src/pages/NewsletterDashboard.tsx:627",value:"campaigns",className:"space-y-6",children:e.jsx(t,{"data-loc":"client/src/pages/NewsletterDashboard.tsx:628",className:"bg-white dark:bg-gray-800",children:e.jsxs("div",{"data-loc":"client/src/pages/NewsletterDashboard.tsx:629",className:"p-6",children:[e.jsxs("div",{"data-loc":"client/src/pages/NewsletterDashboard.tsx:630",className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{"data-loc":"client/src/pages/NewsletterDashboard.tsx:631",className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Alle Kampagnen"}),e.jsxs(a,{"data-loc":"client/src/pages/NewsletterDashboard.tsx:634",onClick:()=>x("/newsletter/campaigns/new"),className:"bg-blue-600 hover:bg-blue-700",children:[e.jsx(L,{"data-loc":"client/src/pages/NewsletterDashboard.tsx:638",className:"w-4 h-4 mr-2"}),"Neue Kampagne"]})]}),M&&M.campaigns.length>0?e.jsx("div",{"data-loc":"client/src/pages/NewsletterDashboard.tsx:643",className:"space-y-3",children:M.campaigns.map(s=>e.jsxs("div",{"data-loc":"client/src/pages/NewsletterDashboard.tsx:645",className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-700/50 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors cursor-pointer",onClick:()=>x(`/newsletter/campaigns/${s.id}`),children:[e.jsxs("div",{"data-loc":"client/src/pages/NewsletterDashboard.tsx:652",className:"flex-1",children:[e.jsx("div",{"data-loc":"client/src/pages/NewsletterDashboard.tsx:653",className:"font-medium text-gray-900 dark:text-white",children:s.name}),e.jsx("div",{"data-loc":"client/src/pages/NewsletterDashboard.tsx:656",className:"text-sm text-gray-500",children:s.subject}),e.jsxs("div",{"data-loc":"client/src/pages/NewsletterDashboard.tsx:659",className:"text-xs text-gray-400 mt-1",children:["Erstellt am"," ",new Date(s.createdAt).toLocaleDateString("de-CH")]})]}),e.jsxs("div",{"data-loc":"client/src/pages/NewsletterDashboard.tsx:664",className:"flex items-center gap-4",children:[V(s.status),e.jsxs("div",{"data-loc":"client/src/pages/NewsletterDashboard.tsx:666",className:"text-sm text-gray-500",children:[s.recipientCount," Empfänger"]}),s.status==="sent"&&e.jsxs(a,{"data-loc":"client/src/pages/NewsletterDashboard.tsx:670",variant:"outline",size:"sm",onClick:b=>{b.stopPropagation(),x(`/newsletter/campaigns/${s.id}/stats`)},children:[e.jsx(Q,{"data-loc":"client/src/pages/NewsletterDashboard.tsx:678",className:"w-4 h-4 mr-2"}),"Statistiken"]})]})]},s.id))}):e.jsx("p",{"data-loc":"client/src/pages/NewsletterDashboard.tsx:687",className:"text-center py-12 text-gray-500",children:"Noch keine Kampagnen erstellt"})]})})}),e.jsx(T,{"data-loc":"client/src/pages/NewsletterDashboard.tsx:696",value:"templates",className:"space-y-6",children:e.jsx(t,{"data-loc":"client/src/pages/NewsletterDashboard.tsx:697",className:"bg-white dark:bg-gray-800",children:e.jsxs("div",{"data-loc":"client/src/pages/NewsletterDashboard.tsx:698",className:"p-6",children:[e.jsxs("div",{"data-loc":"client/src/pages/NewsletterDashboard.tsx:699",className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{"data-loc":"client/src/pages/NewsletterDashboard.tsx:700",className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Newsletter Templates"}),e.jsxs(a,{"data-loc":"client/src/pages/NewsletterDashboard.tsx:703",onClick:()=>x("/newsletter/templates"),className:"bg-blue-600 hover:bg-blue-700",children:[e.jsx(E,{"data-loc":"client/src/pages/NewsletterDashboard.tsx:707",className:"w-4 h-4 mr-2"}),"Template-Bibliothek öffnen"]})]}),e.jsxs("div",{"data-loc":"client/src/pages/NewsletterDashboard.tsx:711",className:"text-center py-12",children:[e.jsx(E,{"data-loc":"client/src/pages/NewsletterDashboard.tsx:712",className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsx("p",{"data-loc":"client/src/pages/NewsletterDashboard.tsx:713",className:"text-gray-500 mb-4",children:"Verwalten Sie wiederverwendbare E-Mail-Templates"}),e.jsxs(a,{"data-loc":"client/src/pages/NewsletterDashboard.tsx:716",onClick:()=>x("/newsletter/templates"),variant:"outline",children:[e.jsx(E,{"data-loc":"client/src/pages/NewsletterDashboard.tsx:720",className:"w-4 h-4 mr-2"}),"Zur Template-Bibliothek"]})]})]})})})]}),e.jsx(we,{"data-loc":"client/src/pages/NewsletterDashboard.tsx:730",open:Y,onOpenChange:j,children:e.jsxs(ue,{"data-loc":"client/src/pages/NewsletterDashboard.tsx:731",children:[e.jsxs(De,{"data-loc":"client/src/pages/NewsletterDashboard.tsx:732",children:[e.jsx(je,{"data-loc":"client/src/pages/NewsletterDashboard.tsx:733",children:"Neuen Abonnenten hinzufügen"}),e.jsx(fe,{"data-loc":"client/src/pages/NewsletterDashboard.tsx:734",children:"Fügen Sie einen neuen Newsletter-Abonnenten hinzu"})]}),e.jsxs("div",{"data-loc":"client/src/pages/NewsletterDashboard.tsx:738",className:"space-y-4",children:[e.jsxs("div",{"data-loc":"client/src/pages/NewsletterDashboard.tsx:739",children:[e.jsx("label",{"data-loc":"client/src/pages/NewsletterDashboard.tsx:740",className:"text-sm font-medium mb-2 block",children:"E-Mail *"}),e.jsx(S,{"data-loc":"client/src/pages/NewsletterDashboard.tsx:743",type:"email",placeholder:"abonnent@example.com",value:n.email,onChange:s=>f({...n,email:s.target.value})})]}),e.jsxs("div",{"data-loc":"client/src/pages/NewsletterDashboard.tsx:752",children:[e.jsx("label",{"data-loc":"client/src/pages/NewsletterDashboard.tsx:753",className:"text-sm font-medium mb-2 block",children:"Vorname"}),e.jsx(S,{"data-loc":"client/src/pages/NewsletterDashboard.tsx:754",placeholder:"Max",value:n.firstName,onChange:s=>f({...n,firstName:s.target.value})})]}),e.jsxs("div",{"data-loc":"client/src/pages/NewsletterDashboard.tsx:765",children:[e.jsx("label",{"data-loc":"client/src/pages/NewsletterDashboard.tsx:766",className:"text-sm font-medium mb-2 block",children:"Nachname"}),e.jsx(S,{"data-loc":"client/src/pages/NewsletterDashboard.tsx:767",placeholder:"Mustermann",value:n.lastName,onChange:s=>f({...n,lastName:s.target.value})})]})]}),e.jsxs(ve,{"data-loc":"client/src/pages/NewsletterDashboard.tsx:776",children:[e.jsx(a,{"data-loc":"client/src/pages/NewsletterDashboard.tsx:777",variant:"outline",onClick:()=>j(!1),children:"Abbrechen"}),e.jsx(a,{"data-loc":"client/src/pages/NewsletterDashboard.tsx:783",onClick:te,disabled:O.isPending,children:"Hinzufügen"})]})]})})]})})}export{is as default};
