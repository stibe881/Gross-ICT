import{w as Ug,j as sl,x as gc}from"./index-BN9GAmQT.js";var Bg={4729:((i,r,t)=>{var e,n,o;(function(l){n=[t(5706),t(4193)],e=l,o=typeof e=="function"?e.apply(r,n):e,o!==void 0&&(i.exports=o)})(function(l,s){var f=Array.prototype.slice;function u(P,D,R){return R.length<=4?P.call(D,R[0],R[1],R[2],R[3]):P.apply(D,R)}function p(P,D){return f.call(P,D)}function d(P,D){return P==null?!1:(l.isArray(D)||(D=p(arguments,1)),l.all(D,function(R){return R in P}))}var h=(function(){var P=!1,D=-1;function R(){D++,P=!0,l.defer(function(){P=!1})}return function(){return P||R(),D}})();function v(){this.registeredObjects=[],this.cidIndexes=[]}v.prototype={isRegistered:function(P){return P&&P.cid?this.registeredObjects[P.cid]:l.contains(this.registeredObjects,P)},register:function(P){return this.isRegistered(P)?!1:(P&&P.cid?(this.registeredObjects[P.cid]=P,this.cidIndexes.push(P.cid)):this.registeredObjects.push(P),!0)},unregister:function(P){if(this.isRegistered(P)){if(P&&P.cid)delete this.registeredObjects[P.cid],this.cidIndexes.splice(l.indexOf(this.cidIndexes,P.cid),1);else{var D=l.indexOf(this.registeredObjects,P);this.registeredObjects.splice(D,1)}return!0}return!1},get:function(){return l.map(this.cidIndexes,function(P){return this.registeredObjects[P]},this).concat(this.registeredObjects)}};function _(P,D,R,M){for(var z=0,H=D.length,$;z<H;z++)if($=D[z],!!$){if(P==="on"){if(!M.objectRegistry.register($))continue}else if(!M.objectRegistry.unregister($))continue;l.isFunction($[P])&&$[P]("all",R,M)}}function T(P,D){var R=D.type,M=D.undoTypes,z=!M[R]||M[R][P];l.isFunction(z)&&z(D.object,D.before,D.after,D.options)}function w(P,D,R,M,z){if(!(R.isCurrentlyUndoRedoing||P==="undo"&&R.pointer===-1||P==="redo"&&R.pointer===R.length-1)){R.isCurrentlyUndoRedoing=!0;var H,$,j=P==="undo";for(z?$=j&&R.pointer===R.length-1||!j&&R.pointer===-1?l.clone(R.models):f.apply(R.models,j?[0,R.pointer]:[R.pointer,R.length-1]):(H=R.at(j?R.pointer:R.pointer+1),$=M?R.where({magicFusionIndex:H.get("magicFusionIndex")}):[H]),R.pointer+=(j?-1:1)*$.length;H=j?$.pop():$.shift();)H[P]();R.isCurrentlyUndoRedoing=!1,D.trigger(P,D)}}function C(P,D){var R=P.condition,M=typeof R;return M==="function"?!!u(R,P,D):M==="boolean"?R:!0}function A(P,D,R,M){if(P.track&&!P.isCurrentlyUndoRedoing&&D in M&&C(M[D],R)){var z=u(M[D].on,M[D],R),H;if(d(z,"object","before","after")){if(z.type=D,z.magicFusionIndex=h(),z.undoTypes=M,P.pointer<P.length-1)for(var H=P.length-P.pointer-1;H--;)P.pop();P.pointer=P.length,P.add(z),P.length>P.maximumStackLength&&(P.shift(),P.pointer--)}}}var S={add:{undo:function(P,D,R,M){P.remove(R,M)},redo:function(P,D,R,M){M.index&&(M.at=M.index),P.add(R,M)},on:function(P,D,R){return{object:D,before:void 0,after:P,options:l.clone(R)}}},remove:{undo:function(P,D,R,M){"index"in M&&(M.at=M.index),P.add(D,M)},redo:function(P,D,R,M){P.remove(D,M)},on:function(P,D,R){return{object:D,before:P,after:void 0,options:l.clone(R)}}},change:{undo:function(P,D,R,M){l.isEmpty(D)?l.each(l.keys(R),P.unset,P):(P.set(D),M&&M.unsetData&&M.unsetData.before&&M.unsetData.before.length&&l.each(M.unsetData.before,P.unset,P))},redo:function(P,D,R,M){l.isEmpty(R)?l.each(l.keys(D),P.unset,P):(P.set(R),M&&M.unsetData&&M.unsetData.after&&M.unsetData.after.length&&l.each(M.unsetData.after,P.unset,P))},on:function(P,D){var R=P.changedAttributes(),M=l.keys(R),z=l.pick(P.previousAttributes(),M),H=l.keys(z),$=(D||(D={})).unsetData={after:[],before:[]};return M.length!=H.length&&(M.length>H.length?l.each(M,function(j){j in z||$.before.push(j)},this):l.each(H,function(j){j in R||$.after.push(j)})),{object:P,before:z,after:R,options:l.clone(D)}}},reset:{undo:function(P,D,R){P.reset(D)},redo:function(P,D,R){P.reset(R)},on:function(P,D){return{object:P,before:D.previousModels,after:l.clone(P.models)}}}};function x(){}x.prototype=S;function N(P,D,R,M){if(typeof D=="object")return l.each(D,function(z,H){P===2?N(P,z,R,M):N(P,H,z,R)});switch(P){case 0:d(R,"undo","redo","on")&&l.all(l.pick(R,"undo","redo","on"),l.isFunction)&&(M[D]=R);break;case 1:M[D]&&l.isObject(R)&&(M[D]=l.extend({},M[D],R));break;case 2:delete M[D];break}return this}var b=s.Model.extend({defaults:{type:null,object:null,before:null,after:null,magicFusionIndex:null},undo:function(P){T("undo",this.attributes)},redo:function(P){T("redo",this.attributes)}}),L=s.Collection.extend({model:b,pointer:-1,track:!1,isCurrentlyUndoRedoing:!1,maximumStackLength:1/0,setMaxLength:function(P){this.maximumStackLength=P}}),k=s.Model.extend({defaults:{maximumStackLength:1/0,track:!1},initialize:function(P){this.stack=new L,this.objectRegistry=new v,this.undoTypes=new x,this.stack.setMaxLength(this.get("maximumStackLength")),this.on("change:maximumStackLength",function(D,R){this.stack.setMaxLength(R)},this),P&&P.track&&this.startTracking(),P&&P.register&&(l.isArray(P.register)||l.isArguments(P.register)?u(this.register,this,P.register):this.register(P.register))},startTracking:function(){this.set("track",!0),this.stack.track=!0},stopTracking:function(){this.set("track",!1),this.stack.track=!1},isTracking:function(){return this.get("track")},_addToStack:function(P){A(this.stack,P,p(arguments,1),this.undoTypes)},register:function(){_("on",arguments,this._addToStack,this)},unregister:function(){_("off",arguments,this._addToStack,this)},unregisterAll:function(){u(this.unregister,this,this.objectRegistry.get())},undo:function(P){w("undo",this,this.stack,P)},undoAll:function(){w("undo",this,this.stack,!1,!0)},redo:function(P){w("redo",this,this.stack,P)},redoAll:function(){w("redo",this,this.stack,!1,!0)},isAvailable:function(P){var D=this.stack,R=D.length;switch(P){case"undo":return R>0&&D.pointer>-1;case"redo":return R>0&&D.pointer<R-1;default:return!1}},merge:function(P){for(var D=l.isArray(P)?P:p(arguments),R;R=D.pop();)R instanceof k&&R.stack instanceof L&&(R.stack=this.stack)},addUndoType:function(P,D){N(0,P,D,this.undoTypes)},changeUndoType:function(P,D){N(1,P,D,this.undoTypes)},removeUndoType:function(P){N(2,P,void 0,this.undoTypes)},clear:function(){this.stack.reset(),this.stack.pointer=-1}});return l.extend(k,{defaults:function(P){l.extend(k.prototype.defaults,P)},addUndoType:function(P,D){N(0,P,D,S)},changeUndoType:function(P,D){N(1,P,D,S)},removeUndoType:function(P){N(2,P,void 0,S)}}),s.UndoManager=k})}),4193:((i,r,t)=>{var e,n;(function(o){var l=typeof self=="object"&&self.self===self&&self||typeof t.g=="object"&&t.g.global===t.g&&t.g;e=[t(5706),t(7774),r],n=(function(s,f,u){l.Backbone=o(l,u,s,f)}).apply(r,e),n!==void 0&&(i.exports=n)})(function(o,l,s,f){var u=o.Backbone,p=Array.prototype.slice;l.VERSION="1.4.1",l.$=f,l.noConflict=function(){return o.Backbone=u,this},l.emulateHTTP=!1,l.emulateJSON=!1;var d=l.Events={},h=/\s+/,v,_=function(W,Z,it,Ct,jt){var ut=0,Dt;if(it&&typeof it=="object")for(Ct!==void 0&&("context"in jt)&&jt.context===void 0&&(jt.context=Ct),Dt=s.keys(it);ut<Dt.length;ut++)Z=_(W,Z,Dt[ut],it[Dt[ut]],jt);else if(it&&h.test(it))for(Dt=it.split(h);ut<Dt.length;ut++)Z=W(Z,Dt[ut],Ct,jt);else Z=W(Z,it,Ct,jt);return Z};d.on=function(W,Z,it){if(this._events=_(T,this._events||{},W,Z,{context:it,ctx:this,listening:v}),v){var Ct=this._listeners||(this._listeners={});Ct[v.id]=v,v.interop=!1}return this},d.listenTo=function(W,Z,it){if(!W)return this;var Ct=W._listenId||(W._listenId=s.uniqueId("l")),jt=this._listeningTo||(this._listeningTo={}),ut=v=jt[Ct];ut||(this._listenId||(this._listenId=s.uniqueId("l")),ut=v=jt[Ct]=new N(this,W));var Dt=w(W,Z,it,this);if(v=void 0,Dt)throw Dt;return ut.interop&&ut.on(Z,it),this};var T=function(W,Z,it,Ct){if(it){var jt=W[Z]||(W[Z]=[]),ut=Ct.context,Dt=Ct.ctx,At=Ct.listening;At&&At.count++,jt.push({callback:it,context:ut,ctx:ut||Dt,listening:At})}return W},w=function(W,Z,it,Ct){try{W.on(Z,it,Ct)}catch(jt){return jt}};d.off=function(W,Z,it){return this._events?(this._events=_(C,this._events,W,Z,{context:it,listeners:this._listeners}),this):this},d.stopListening=function(W,Z,it){var Ct=this._listeningTo;if(!Ct)return this;for(var jt=W?[W._listenId]:s.keys(Ct),ut=0;ut<jt.length;ut++){var Dt=Ct[jt[ut]];if(!Dt)break;Dt.obj.off(Z,it,this),Dt.interop&&Dt.off(Z,it)}return s.isEmpty(Ct)&&(this._listeningTo=void 0),this};var C=function(W,Z,it,Ct){if(W){var jt=Ct.context,ut=Ct.listeners,Dt=0,At;if(!Z&&!jt&&!it){for(At=s.keys(ut);Dt<At.length;Dt++)ut[At[Dt]].cleanup();return}for(At=Z?[Z]:s.keys(W);Dt<At.length;Dt++){Z=At[Dt];var ee=W[Z];if(!ee)break;for(var Ce=[],de=0;de<ee.length;de++){var nt=ee[de];if(it&&it!==nt.callback&&it!==nt.callback._callback||jt&&jt!==nt.context)Ce.push(nt);else{var wt=nt.listening;wt&&wt.off(Z,it)}}Ce.length?W[Z]=Ce:delete W[Z]}return W}};d.once=function(W,Z,it){var Ct=_(A,{},W,Z,this.off.bind(this));return typeof W=="string"&&it==null&&(Z=void 0),this.on(Ct,Z,it)},d.listenToOnce=function(W,Z,it){var Ct=_(A,{},Z,it,this.stopListening.bind(this,W));return this.listenTo(W,Ct)};var A=function(W,Z,it,Ct){if(it){var jt=W[Z]=s.once(function(){Ct(Z,jt),it.apply(this,arguments)});jt._callback=it}return W};d.trigger=function(W){if(!this._events)return this;for(var Z=Math.max(0,arguments.length-1),it=Array(Z),Ct=0;Ct<Z;Ct++)it[Ct]=arguments[Ct+1];return _(S,this._events,W,void 0,it),this};var S=function(W,Z,it,Ct){if(W){var jt=W[Z],ut=W.all;jt&&ut&&(ut=ut.slice()),jt&&x(jt,Ct),ut&&x(ut,[Z].concat(Ct))}return W},x=function(W,Z){var it,Ct=-1,jt=W.length,ut=Z[0],Dt=Z[1],At=Z[2];switch(Z.length){case 0:for(;++Ct<jt;)(it=W[Ct]).callback.call(it.ctx);return;case 1:for(;++Ct<jt;)(it=W[Ct]).callback.call(it.ctx,ut);return;case 2:for(;++Ct<jt;)(it=W[Ct]).callback.call(it.ctx,ut,Dt);return;case 3:for(;++Ct<jt;)(it=W[Ct]).callback.call(it.ctx,ut,Dt,At);return;default:for(;++Ct<jt;)(it=W[Ct]).callback.apply(it.ctx,Z);return}},N=function(W,Z){this.id=W._listenId,this.listener=W,this.obj=Z,this.interop=!0,this.count=0,this._events=void 0};N.prototype.on=d.on,N.prototype.off=function(W,Z){var it;this.interop?(this._events=_(C,this._events,W,Z,{context:void 0,listeners:void 0}),it=!this._events):(this.count--,it=this.count===0),it&&this.cleanup()},N.prototype.cleanup=function(){delete this.listener._listeningTo[this.obj._listenId],this.interop||delete this.obj._listeners[this.id]},d.bind=d.on,d.unbind=d.off,s.extend(l,d);var b=l.Model=function(W,Z){var it=W||{};Z||(Z={}),this.preinitialize.apply(this,arguments),this.cid=s.uniqueId(this.cidPrefix),this.attributes={},Z.collection&&(this.collection=Z.collection),Z.parse&&(it=this.parse(it,Z)||{});var Ct=s.result(this,"defaults");it=s.defaults(s.extend({},Ct,it),Ct),this.set(it,Z),this.changed={},this.initialize.apply(this,arguments)};s.extend(b.prototype,d,{changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",preinitialize:function(){},initialize:function(){},toJSON:function(W){return s.clone(this.attributes)},sync:function(){return l.sync.apply(this,arguments)},get:function(W){return this.attributes[W]},escape:function(W){return s.escape(this.get(W))},has:function(W){return this.get(W)!=null},matches:function(W){return!!s.iteratee(W,this)(this.attributes)},set:function(W,Z,it){if(W==null)return this;var Ct;if(typeof W=="object"?(Ct=W,it=Z):(Ct={})[W]=Z,it||(it={}),!this._validate(Ct,it))return!1;var jt=it.unset,ut=it.silent,Dt=[],At=this._changing;this._changing=!0,At||(this._previousAttributes=s.clone(this.attributes),this.changed={});var ee=this.attributes,Ce=this.changed,de=this._previousAttributes;for(var nt in Ct)Z=Ct[nt],s.isEqual(ee[nt],Z)||Dt.push(nt),s.isEqual(de[nt],Z)?delete Ce[nt]:Ce[nt]=Z,jt?delete ee[nt]:ee[nt]=Z;if(this.idAttribute in Ct){var wt=this.id;this.id=this.get(this.idAttribute),this.trigger("changeId",this,wt,it)}if(!ut){Dt.length&&(this._pending=it);for(var J=0;J<Dt.length;J++)this.trigger("change:"+Dt[J],this,ee[Dt[J]],it)}if(At)return this;if(!ut)for(;this._pending;)it=this._pending,this._pending=!1,this.trigger("change",this,it);return this._pending=!1,this._changing=!1,this},unset:function(W,Z){return this.set(W,void 0,s.extend({},Z,{unset:!0}))},clear:function(W){var Z={};for(var it in this.attributes)Z[it]=void 0;return this.set(Z,s.extend({},W,{unset:!0}))},hasChanged:function(W){return W==null?!s.isEmpty(this.changed):s.has(this.changed,W)},changedAttributes:function(W){if(!W)return this.hasChanged()?s.clone(this.changed):!1;var Z=this._changing?this._previousAttributes:this.attributes,it={},Ct;for(var jt in W){var ut=W[jt];s.isEqual(Z[jt],ut)||(it[jt]=ut,Ct=!0)}return Ct?it:!1},previous:function(W){return W==null||!this._previousAttributes?null:this._previousAttributes[W]},previousAttributes:function(){return s.clone(this._previousAttributes)},fetch:function(W){W=s.extend({parse:!0},W);var Z=this,it=W.success;return W.success=function(Ct){var jt=W.parse?Z.parse(Ct,W):Ct;if(!Z.set(jt,W))return!1;it&&it.call(W.context,Z,Ct,W),Z.trigger("sync",Z,Ct,W)},Kt(this,W),this.sync("read",this,W)},save:function(W,Z,it){var Ct;W==null||typeof W=="object"?(Ct=W,it=Z):(Ct={})[W]=Z,it=s.extend({validate:!0,parse:!0},it);var jt=it.wait;if(Ct&&!jt){if(!this.set(Ct,it))return!1}else if(!this._validate(Ct,it))return!1;var ut=this,Dt=it.success,At=this.attributes;it.success=function(de){ut.attributes=At;var nt=it.parse?ut.parse(de,it):de;if(jt&&(nt=s.extend({},Ct,nt)),nt&&!ut.set(nt,it))return!1;Dt&&Dt.call(it.context,ut,de,it),ut.trigger("sync",ut,de,it)},Kt(this,it),Ct&&jt&&(this.attributes=s.extend({},At,Ct));var ee=this.isNew()?"create":it.patch?"patch":"update";ee==="patch"&&!it.attrs&&(it.attrs=Ct);var Ce=this.sync(ee,this,it);return this.attributes=At,Ce},destroy:function(W){W=W?s.clone(W):{};var Z=this,it=W.success,Ct=W.wait,jt=function(){Z.stopListening(),Z.trigger("destroy",Z,Z.collection,W)};W.success=function(Dt){Ct&&jt(),it&&it.call(W.context,Z,Dt,W),Z.isNew()||Z.trigger("sync",Z,Dt,W)};var ut=!1;return this.isNew()?s.defer(W.success):(Kt(this,W),ut=this.sync("delete",this,W)),Ct||jt(),ut},url:function(){var W=s.result(this,"urlRoot")||s.result(this.collection,"url")||Ft();if(this.isNew())return W;var Z=this.get(this.idAttribute);return W.replace(/[^\/]$/,"$&/")+encodeURIComponent(Z)},parse:function(W,Z){return W},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(W){return this._validate({},s.extend({},W,{validate:!0}))},_validate:function(W,Z){if(!Z.validate||!this.validate)return!0;W=s.extend({},this.attributes,W);var it=this.validationError=this.validate(W,Z)||null;return it?(this.trigger("invalid",this,it,s.extend(Z,{validationError:it})),!1):!0}});var L=l.Collection=function(W,Z){Z||(Z={}),this.preinitialize.apply(this,arguments),Z.model&&(this.model=Z.model),Z.comparator!==void 0&&(this.comparator=Z.comparator),this._reset(),this.initialize.apply(this,arguments),W&&this.reset(W,s.extend({silent:!0},Z))},k={add:!0,remove:!0,merge:!0},P={add:!0,remove:!1},D=function(W,Z,it){it=Math.min(Math.max(it,0),W.length);var Ct=Array(W.length-it),jt=Z.length,ut;for(ut=0;ut<Ct.length;ut++)Ct[ut]=W[ut+it];for(ut=0;ut<jt;ut++)W[ut+it]=Z[ut];for(ut=0;ut<Ct.length;ut++)W[ut+jt+it]=Ct[ut]};s.extend(L.prototype,d,{model:b,preinitialize:function(){},initialize:function(){},toJSON:function(W){return this.map(function(Z){return Z.toJSON(W)})},sync:function(){return l.sync.apply(this,arguments)},add:function(W,Z){return this.set(W,s.extend({merge:!1},Z,P))},remove:function(W,Z){Z=s.extend({},Z);var it=!s.isArray(W);W=it?[W]:W.slice();var Ct=this._removeModels(W,Z);return!Z.silent&&Ct.length&&(Z.changes={added:[],merged:[],removed:Ct},this.trigger("update",this,Z)),it?Ct[0]:Ct},set:function(W,Z){if(W!=null){Z=s.extend({},k,Z),Z.parse&&!this._isModel(W)&&(W=this.parse(W,Z)||[]);var it=!s.isArray(W);W=it?[W]:W.slice();var Ct=Z.at;Ct!=null&&(Ct=+Ct),Ct>this.length&&(Ct=this.length),Ct<0&&(Ct+=this.length+1);var jt=[],ut=[],Dt=[],At=[],ee={},Ce=Z.add,de=Z.merge,nt=Z.remove,wt=!1,J=this.comparator&&Ct==null&&Z.sort!==!1,Xt=s.isString(this.comparator)?this.comparator:null,Lt,Zt;for(Zt=0;Zt<W.length;Zt++){Lt=W[Zt];var re=this.get(Lt);if(re){if(de&&Lt!==re){var le=this._isModel(Lt)?Lt.attributes:Lt;Z.parse&&(le=re.parse(le,Z)),re.set(le,Z),Dt.push(re),J&&!wt&&(wt=re.hasChanged(Xt))}ee[re.cid]||(ee[re.cid]=!0,jt.push(re)),W[Zt]=re}else Ce&&(Lt=W[Zt]=this._prepareModel(Lt,Z),Lt&&(ut.push(Lt),this._addReference(Lt,Z),ee[Lt.cid]=!0,jt.push(Lt)))}if(nt){for(Zt=0;Zt<this.length;Zt++)Lt=this.models[Zt],ee[Lt.cid]||At.push(Lt);At.length&&this._removeModels(At,Z)}var oe=!1,ve=!J&&Ce&&nt;if(jt.length&&ve?(oe=this.length!==jt.length||s.some(this.models,function(xe,Ae){return xe!==jt[Ae]}),this.models.length=0,D(this.models,jt,0),this.length=this.models.length):ut.length&&(J&&(wt=!0),D(this.models,ut,Ct??this.length),this.length=this.models.length),wt&&this.sort({silent:!0}),!Z.silent){for(Zt=0;Zt<ut.length;Zt++)Ct!=null&&(Z.index=Ct+Zt),Lt=ut[Zt],Lt.trigger("add",Lt,this,Z);(wt||oe)&&this.trigger("sort",this,Z),(ut.length||At.length||Dt.length)&&(Z.changes={added:ut,removed:At,merged:Dt},this.trigger("update",this,Z))}return it?W[0]:W}},reset:function(W,Z){Z=Z?s.clone(Z):{};for(var it=0;it<this.models.length;it++)this._removeReference(this.models[it],Z);return Z.previousModels=this.models,this._reset(),W=this.add(W,s.extend({silent:!0},Z)),Z.silent||this.trigger("reset",this,Z),W},push:function(W,Z){return this.add(W,s.extend({at:this.length},Z))},pop:function(W){var Z=this.at(this.length-1);return this.remove(Z,W)},unshift:function(W,Z){return this.add(W,s.extend({at:0},Z))},shift:function(W){var Z=this.at(0);return this.remove(Z,W)},slice:function(){return p.apply(this.models,arguments)},get:function(W){if(W!=null)return this._byId[W]||this._byId[this.modelId(this._isModel(W)?W.attributes:W,W.idAttribute)]||W.cid&&this._byId[W.cid]},has:function(W){return this.get(W)!=null},at:function(W){return W<0&&(W+=this.length),this.models[W]},where:function(W,Z){return this[Z?"find":"filter"](W)},findWhere:function(W){return this.where(W,!0)},sort:function(W){var Z=this.comparator;if(!Z)throw new Error("Cannot sort a set without a comparator");W||(W={});var it=Z.length;return s.isFunction(Z)&&(Z=Z.bind(this)),it===1||s.isString(Z)?this.models=this.sortBy(Z):this.models.sort(Z),W.silent||this.trigger("sort",this,W),this},pluck:function(W){return this.map(W+"")},fetch:function(W){W=s.extend({parse:!0},W);var Z=W.success,it=this;return W.success=function(Ct){var jt=W.reset?"reset":"set";it[jt](Ct,W),Z&&Z.call(W.context,it,Ct,W),it.trigger("sync",it,Ct,W)},Kt(this,W),this.sync("read",this,W)},create:function(W,Z){Z=Z?s.clone(Z):{};var it=Z.wait;if(W=this._prepareModel(W,Z),!W)return!1;it||this.add(W,Z);var Ct=this,jt=Z.success;return Z.success=function(ut,Dt,At){it&&Ct.add(ut,At),jt&&jt.call(At.context,ut,Dt,At)},W.save(null,Z),W},parse:function(W,Z){return W},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(W,Z){return W[Z||this.model.prototype.idAttribute||"id"]},values:function(){return new M(this,z)},keys:function(){return new M(this,H)},entries:function(){return new M(this,$)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(W,Z){if(this._isModel(W))return W.collection||(W.collection=this),W;Z=Z?s.clone(Z):{},Z.collection=this;var it;return this.model.prototype?it=new this.model(W,Z):it=this.model(W,Z),it.validationError?(this.trigger("invalid",this,it.validationError,Z),!1):it},_removeModels:function(W,Z){for(var it=[],Ct=0;Ct<W.length;Ct++){var jt=this.get(W[Ct]);if(jt){var ut=this.indexOf(jt);this.models.splice(ut,1),this.length--,delete this._byId[jt.cid];var Dt=this.modelId(jt.attributes,jt.idAttribute);Dt!=null&&delete this._byId[Dt],Z.silent||(Z.index=ut,jt.trigger("remove",jt,this,Z)),it.push(jt),this._removeReference(jt,Z)}}return it},_isModel:function(W){return W instanceof b},_addReference:function(W,Z){this._byId[W.cid]=W;var it=this.modelId(W.attributes,W.idAttribute);it!=null&&(this._byId[it]=W),W.on("all",this._onModelEvent,this)},_removeReference:function(W,Z){delete this._byId[W.cid];var it=this.modelId(W.attributes,W.idAttribute);it!=null&&delete this._byId[it],this===W.collection&&delete W.collection,W.off("all",this._onModelEvent,this)},_onModelEvent:function(W,Z,it,Ct){if(Z){if((W==="add"||W==="remove")&&it!==this)return;if(W==="destroy"&&this.remove(Z,Ct),W==="changeId"){var jt=this.modelId(Z.previousAttributes(),Z.idAttribute),ut=this.modelId(Z.attributes,Z.idAttribute);jt!=null&&delete this._byId[jt],ut!=null&&(this._byId[ut]=Z)}}this.trigger.apply(this,arguments)}});var R=typeof Symbol=="function"&&Symbol.iterator;R&&(L.prototype[R]=L.prototype.values);var M=function(W,Z){this._collection=W,this._kind=Z,this._index=0},z=1,H=2,$=3;R&&(M.prototype[R]=function(){return this}),M.prototype.next=function(){if(this._collection){if(this._index<this._collection.length){var W=this._collection.at(this._index);this._index++;var Z;if(this._kind===z)Z=W;else{var it=this._collection.modelId(W.attributes,W.idAttribute);this._kind===H?Z=it:Z=[it,W]}return{value:Z,done:!1}}this._collection=void 0}return{value:void 0,done:!0}};var j=l.View=function(W){this.cid=s.uniqueId("view"),this.preinitialize.apply(this,arguments),s.extend(this,s.pick(W,q)),this._ensureElement(),this.initialize.apply(this,arguments)},rt=/^(\S+)\s*(.*)$/,q=["model","collection","el","id","attributes","className","tagName","events"];s.extend(j.prototype,d,{tagName:"div",$:function(W){return this.$el.find(W)},preinitialize:function(){},initialize:function(){},render:function(){return this},remove:function(){return this._removeElement(),this.stopListening(),this},_removeElement:function(){this.$el.remove()},setElement:function(W){return this.undelegateEvents(),this._setElement(W),this.delegateEvents(),this},_setElement:function(W){this.$el=W instanceof l.$?W:l.$(W),this.el=this.$el[0]},delegateEvents:function(W){if(W||(W=s.result(this,"events")),!W)return this;this.undelegateEvents();for(var Z in W){var it=W[Z];if(s.isFunction(it)||(it=this[it]),!!it){var Ct=Z.match(rt);this.delegate(Ct[1],Ct[2],it.bind(this))}}return this},delegate:function(W,Z,it){return this.$el.on(W+".delegateEvents"+this.cid,Z,it),this},undelegateEvents:function(){return this.$el&&this.$el.off(".delegateEvents"+this.cid),this},undelegate:function(W,Z,it){return this.$el.off(W+".delegateEvents"+this.cid,Z,it),this},_createElement:function(W){return document.createElement(W)},_ensureElement:function(){if(this.el)this.setElement(s.result(this,"el"));else{var W=s.extend({},s.result(this,"attributes"));this.id&&(W.id=s.result(this,"id")),this.className&&(W.class=s.result(this,"className")),this.setElement(this._createElement(s.result(this,"tagName"))),this._setAttributes(W)}},_setAttributes:function(W){this.$el.attr(W)}});var st=function(W,Z,it,Ct){switch(Z){case 1:return function(){return W[it](this[Ct])};case 2:return function(jt){return W[it](this[Ct],jt)};case 3:return function(jt,ut){return W[it](this[Ct],St(jt,this),ut)};case 4:return function(jt,ut,Dt){return W[it](this[Ct],St(jt,this),ut,Dt)};default:return function(){var jt=p.call(arguments);return jt.unshift(this[Ct]),W[it].apply(W,jt)}}},vt=function(W,Z,it,Ct){s.each(it,function(jt,ut){Z[ut]&&(W.prototype[ut]=st(Z,jt,ut,Ct))})},St=function(W,Z){return s.isFunction(W)?W:s.isObject(W)&&!Z._isModel(W)?pt(W):s.isString(W)?function(it){return it.get(W)}:W},pt=function(W){var Z=s.matches(W);return function(it){return Z(it.attributes)}},bt={forEach:3,each:3,map:3,collect:3,reduce:0,foldl:0,inject:0,reduceRight:0,foldr:0,find:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:3,includes:3,contains:3,invoke:0,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,partition:3,groupBy:3,countBy:3,sortBy:3,indexBy:3,findIndex:3,findLastIndex:3},at={keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1};s.each([[L,bt,"models"],[b,at,"attributes"]],function(W){var Z=W[0],it=W[1],Ct=W[2];Z.mixin=function(jt){var ut=s.reduce(s.functions(jt),function(Dt,At){return Dt[At]=0,Dt},{});vt(Z,jt,ut,Ct)},vt(Z,s,it,Ct)}),l.sync=function(W,Z,it){var Ct=lt[W];s.defaults(it||(it={}),{emulateHTTP:l.emulateHTTP,emulateJSON:l.emulateJSON});var jt={type:Ct,dataType:"json"};if(it.url||(jt.url=s.result(Z,"url")||Ft()),it.data==null&&Z&&(W==="create"||W==="update"||W==="patch")&&(jt.contentType="application/json",jt.data=JSON.stringify(it.attrs||Z.toJSON(it))),it.emulateJSON&&(jt.contentType="application/x-www-form-urlencoded",jt.data=jt.data?{model:jt.data}:{}),it.emulateHTTP&&(Ct==="PUT"||Ct==="DELETE"||Ct==="PATCH")){jt.type="POST",it.emulateJSON&&(jt.data._method=Ct);var ut=it.beforeSend;it.beforeSend=function(ee){if(ee.setRequestHeader("X-HTTP-Method-Override",Ct),ut)return ut.apply(this,arguments)}}jt.type!=="GET"&&!it.emulateJSON&&(jt.processData=!1);var Dt=it.error;it.error=function(ee,Ce,de){it.textStatus=Ce,it.errorThrown=de,Dt&&Dt.call(it.context,ee,Ce,de)};var At=it.xhr=l.ajax(s.extend(jt,it));return Z.trigger("request",Z,At,it),At};var lt={create:"POST",update:"PUT",patch:"PATCH",delete:"DELETE",read:"GET"};l.ajax=function(){return l.$.ajax.apply(l.$,arguments)};var Et=l.Router=function(W){W||(W={}),this.preinitialize.apply(this,arguments),W.routes&&(this.routes=W.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},yt=/\((.*?)\)/g,Ot=/(\(\?)?:\w+/g,zt=/\*\w+/g,Bt=/[\-{}\[\]+?.,\\\^$|#\s]/g;s.extend(Et.prototype,d,{preinitialize:function(){},initialize:function(){},route:function(W,Z,it){s.isRegExp(W)||(W=this._routeToRegExp(W)),s.isFunction(Z)&&(it=Z,Z=""),it||(it=this[Z]);var Ct=this;return l.history.route(W,function(jt){var ut=Ct._extractParameters(W,jt);Ct.execute(it,ut,Z)!==!1&&(Ct.trigger.apply(Ct,["route:"+Z].concat(ut)),Ct.trigger("route",Z,ut),l.history.trigger("route",Ct,Z,ut))}),this},execute:function(W,Z,it){W&&W.apply(this,Z)},navigate:function(W,Z){return l.history.navigate(W,Z),this},_bindRoutes:function(){if(this.routes){this.routes=s.result(this,"routes");for(var W,Z=s.keys(this.routes);(W=Z.pop())!=null;)this.route(W,this.routes[W])}},_routeToRegExp:function(W){return W=W.replace(Bt,"\\$&").replace(yt,"(?:$1)?").replace(Ot,function(Z,it){return it?Z:"([^/?]+)"}).replace(zt,"([^?]*?)"),new RegExp("^"+W+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(W,Z){var it=W.exec(Z).slice(1);return s.map(it,function(Ct,jt){return jt===it.length-1?Ct||null:Ct?decodeURIComponent(Ct):null})}});var Ut=l.History=function(){this.handlers=[],this.checkUrl=this.checkUrl.bind(this),typeof window<"u"&&(this.location=window.location,this.history=window.history)},xt=/^[#\/]|\s+$/g,ot=/^\/+|\/+$/g,Vt=/#.*$/;Ut.started=!1,s.extend(Ut.prototype,d,{interval:50,atRoot:function(){var W=this.location.pathname.replace(/[^\/]$/,"$&/");return W===this.root&&!this.getSearch()},matchRoot:function(){var W=this.decodeFragment(this.location.pathname),Z=W.slice(0,this.root.length-1)+"/";return Z===this.root},decodeFragment:function(W){return decodeURI(W.replace(/%25/g,"%2525"))},getSearch:function(){var W=this.location.href.replace(/#.*/,"").match(/\?.+/);return W?W[0]:""},getHash:function(W){var Z=(W||this).location.href.match(/#(.*)$/);return Z?Z[1]:""},getPath:function(){var W=this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return W.charAt(0)==="/"?W.slice(1):W},getFragment:function(W){return W==null&&(this._usePushState||!this._wantsHashChange?W=this.getPath():W=this.getHash()),W.replace(xt,"")},start:function(W){if(Ut.started)throw new Error("Backbone.history has already been started");if(Ut.started=!0,this.options=s.extend({root:"/"},this.options,W),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._hasHashChange="onhashchange"in window&&(document.documentMode===void 0||document.documentMode>7),this._useHashChange=this._wantsHashChange&&this._hasHashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.history&&this.history.pushState),this._usePushState=this._wantsPushState&&this._hasPushState,this.fragment=this.getFragment(),this.root=("/"+this.root+"/").replace(ot,"/"),this._wantsHashChange&&this._wantsPushState)if(!this._hasPushState&&!this.atRoot()){var Z=this.root.slice(0,-1)||"/";return this.location.replace(Z+"#"+this.getPath()),!0}else this._hasPushState&&this.atRoot()&&this.navigate(this.getHash(),{replace:!0});if(!this._hasHashChange&&this._wantsHashChange&&!this._usePushState){this.iframe=document.createElement("iframe"),this.iframe.src="javascript:0",this.iframe.style.display="none",this.iframe.tabIndex=-1;var it=document.body,Ct=it.insertBefore(this.iframe,it.firstChild).contentWindow;Ct.document.open(),Ct.document.close(),Ct.location.hash="#"+this.fragment}var jt=window.addEventListener||function(ut,Dt){return attachEvent("on"+ut,Dt)};if(this._usePushState?jt("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe?jt("hashchange",this.checkUrl,!1):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),!this.options.silent)return this.loadUrl()},stop:function(){var W=window.removeEventListener||function(Z,it){return detachEvent("on"+Z,it)};this._usePushState?W("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe&&W("hashchange",this.checkUrl,!1),this.iframe&&(document.body.removeChild(this.iframe),this.iframe=null),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),Ut.started=!1},route:function(W,Z){this.handlers.unshift({route:W,callback:Z})},checkUrl:function(W){var Z=this.getFragment();if(Z===this.fragment&&this.iframe&&(Z=this.getHash(this.iframe.contentWindow)),Z===this.fragment)return!1;this.iframe&&this.navigate(Z),this.loadUrl()},loadUrl:function(W){return this.matchRoot()?(W=this.fragment=this.getFragment(W),s.some(this.handlers,function(Z){if(Z.route.test(W))return Z.callback(W),!0})):!1},navigate:function(W,Z){if(!Ut.started)return!1;(!Z||Z===!0)&&(Z={trigger:!!Z}),W=this.getFragment(W||"");var it=this.root;(W===""||W.charAt(0)==="?")&&(it=it.slice(0,-1)||"/");var Ct=it+W;W=W.replace(Vt,"");var jt=this.decodeFragment(W);if(this.fragment!==jt){if(this.fragment=jt,this._usePushState)this.history[Z.replace?"replaceState":"pushState"]({},document.title,Ct);else if(this._wantsHashChange){if(this._updateHash(this.location,W,Z.replace),this.iframe&&W!==this.getHash(this.iframe.contentWindow)){var ut=this.iframe.contentWindow;Z.replace||(ut.document.open(),ut.document.close()),this._updateHash(ut.location,W,Z.replace)}}else return this.location.assign(Ct);if(Z.trigger)return this.loadUrl(W)}},_updateHash:function(W,Z,it){if(it){var Ct=W.href.replace(/(javascript:|#).*$/,"");W.replace(Ct+"#"+Z)}else W.hash="#"+Z}}),l.history=new Ut;var mt=function(W,Z){var it=this,Ct;return W&&s.has(W,"constructor")?Ct=W.constructor:Ct=function(){return it.apply(this,arguments)},s.extend(Ct,it,Z),Ct.prototype=s.create(it.prototype,W),Ct.prototype.constructor=Ct,Ct.__super__=it.prototype,Ct};b.extend=L.extend=Et.extend=j.extend=Ut.extend=mt;var Ft=function(){throw new Error('A "url" property or function must be specified')},Kt=function(W,Z){var it=Z.error;Z.error=function(Ct){it&&it.call(Z.context,W,Ct,Z),W.trigger("error",W,Ct,Z)}};return l})}),3640:((i,r,t)=>{(function(e){e(t(4408))})(function(e){e.extendMode("css",{commentStart:"/*",commentEnd:"*/",newlineAfterToken:function(o,l){return/^[;{}]$/.test(l)}}),e.extendMode("javascript",{commentStart:"/*",commentEnd:"*/",newlineAfterToken:function(o,l,s,f){return this.jsonMode?/^[\[,{]$/.test(l)||/^}/.test(s):l==";"&&f.lexical&&f.lexical.type==")"?!1:/^[;{}]$/.test(l)&&!/^;/.test(s)}});var n=/^(a|abbr|acronym|area|base|bdo|big|br|button|caption|cite|code|col|colgroup|dd|del|dfn|em|frame|hr|iframe|img|input|ins|kbd|label|legend|link|map|object|optgroup|option|param|q|samp|script|select|small|span|strong|sub|sup|textarea|tt|var)$/;e.extendMode("xml",{commentStart:"<!--",commentEnd:"-->",newlineAfterToken:function(o,l,s,f){var u=!1;return this.configuration=="html"&&(u=f.context?n.test(f.context.tagName):!1),!u&&(o=="tag"&&/>$/.test(l)&&f.context||/^</.test(s))}}),e.defineExtension("commentRange",function(o,l,s){var f=this,u=e.innerMode(f.getMode(),f.getTokenAt(l).state).mode;f.operation(function(){if(o)f.replaceRange(u.commentEnd,s),f.replaceRange(u.commentStart,l),l.line==s.line&&l.ch==s.ch&&f.setCursor(l.line,l.ch+u.commentStart.length);else{var p=f.getRange(l,s),d=p.indexOf(u.commentStart),h=p.lastIndexOf(u.commentEnd);d>-1&&h>-1&&h>d&&(p=p.substr(0,d)+p.substring(d+u.commentStart.length,h)+p.substr(h+u.commentEnd.length)),f.replaceRange(p,l,s)}})}),e.defineExtension("autoIndentRange",function(o,l){var s=this;this.operation(function(){for(var f=o.line;f<=l.line;f++)s.indentLine(f,"smart")})}),e.defineExtension("autoFormatRange",function(o,l){var s=this,f=s.getMode(),u=s.getRange(o,l).split(`
`),p=e.copyState(f,s.getTokenAt(o).state),d=s.getOption("tabSize"),h="",v=0,_=o.ch===0;function T(){h+=`
`,_=!0,++v}for(var w=0;w<u.length;++w){for(var C=new e.StringStream(u[w],d);!C.eol();){var A=e.innerMode(f,p),S=f.token(C,p),x=C.current();C.start=C.pos,(!_||/\S/.test(x))&&(h+=x,_=!1),!_&&A.mode.newlineAfterToken&&A.mode.newlineAfterToken(S,x,C.string.slice(C.pos)||u[w+1]||"",A.state)&&T()}!C.pos&&f.blankLine&&f.blankLine(p),!_&&w<u.length-1&&T()}s.operation(function(){s.replaceRange(h,o,l);for(var N=o.line+1,b=o.line+v;N<=b;++N)s.indentLine(N,"smart");s.setSelection(o,s.getCursor(!1))})})})}),4408:(function(i){(function(r,t){i.exports=t()})(this,(function(){var r=navigator.userAgent,t=navigator.platform,e=/gecko\/\d/i.test(r),n=/MSIE \d/.test(r),o=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(r),l=/Edge\/(\d+)/.exec(r),s=n||o||l,f=s&&(n?document.documentMode||6:+(l||o)[1]),u=!l&&/WebKit\//.test(r),p=u&&/Qt\/\d+\.\d+/.test(r),d=!l&&/Chrome\//.test(r),h=/Opera\//.test(r),v=/Apple Computer/.test(navigator.vendor),_=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(r),T=/PhantomJS/.test(r),w=v&&(/Mobile\/\w+/.test(r)||navigator.maxTouchPoints>2),C=/Android/.test(r),A=w||C||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(r),S=w||/Mac/.test(t),x=/\bCrOS\b/.test(r),N=/win/i.test(t),b=h&&r.match(/Version\/(\d*\.\d*)/);b&&(b=Number(b[1])),b&&b>=15&&(h=!1,u=!0);var L=S&&(p||h&&(b==null||b<12.11)),k=e||s&&f>=9;function P(a){return new RegExp("(^|\\s)"+a+"(?:$|\\s)\\s*")}var D=function(a,c){var m=a.className,g=P(c).exec(m);if(g){var y=m.slice(g.index+g[0].length);a.className=m.slice(0,g.index)+(y?g[1]+y:"")}};function R(a){for(var c=a.childNodes.length;c>0;--c)a.removeChild(a.firstChild);return a}function M(a,c){return R(a).appendChild(c)}function z(a,c,m,g){var y=document.createElement(a);if(m&&(y.className=m),g&&(y.style.cssText=g),typeof c=="string")y.appendChild(document.createTextNode(c));else if(c)for(var E=0;E<c.length;++E)y.appendChild(c[E]);return y}function H(a,c,m,g){var y=z(a,c,m,g);return y.setAttribute("role","presentation"),y}var $;document.createRange?$=function(a,c,m,g){var y=document.createRange();return y.setEnd(g||a,m),y.setStart(a,c),y}:$=function(a,c,m){var g=document.body.createTextRange();try{g.moveToElementText(a.parentNode)}catch{return g}return g.collapse(!0),g.moveEnd("character",m),g.moveStart("character",c),g};function j(a,c){if(c.nodeType==3&&(c=c.parentNode),a.contains)return a.contains(c);do if(c.nodeType==11&&(c=c.host),c==a)return!0;while(c=c.parentNode)}function rt(){var a;try{a=document.activeElement}catch{a=document.body||null}for(;a&&a.shadowRoot&&a.shadowRoot.activeElement;)a=a.shadowRoot.activeElement;return a}function q(a,c){var m=a.className;P(c).test(m)||(a.className+=(m?" ":"")+c)}function st(a,c){for(var m=a.split(" "),g=0;g<m.length;g++)m[g]&&!P(m[g]).test(c)&&(c+=" "+m[g]);return c}var vt=function(a){a.select()};w?vt=function(a){a.selectionStart=0,a.selectionEnd=a.value.length}:s&&(vt=function(a){try{a.select()}catch{}});function St(a){var c=Array.prototype.slice.call(arguments,1);return function(){return a.apply(null,c)}}function pt(a,c,m){c||(c={});for(var g in a)a.hasOwnProperty(g)&&(m!==!1||!c.hasOwnProperty(g))&&(c[g]=a[g]);return c}function bt(a,c,m,g,y){c==null&&(c=a.search(/[^\s\u00a0]/),c==-1&&(c=a.length));for(var E=g||0,I=y||0;;){var V=a.indexOf("	",E);if(V<0||V>=c)return I+(c-E);I+=V-E,I+=m-I%m,E=V+1}}var at=function(){this.id=null,this.f=null,this.time=0,this.handler=St(this.onTimeout,this)};at.prototype.onTimeout=function(a){a.id=0,a.time<=+new Date?a.f():setTimeout(a.handler,a.time-+new Date)},at.prototype.set=function(a,c){this.f=c;var m=+new Date+a;(!this.id||m<this.time)&&(clearTimeout(this.id),this.id=setTimeout(this.handler,a),this.time=m)};function lt(a,c){for(var m=0;m<a.length;++m)if(a[m]==c)return m;return-1}var Et=50,yt={toString:function(){return"CodeMirror.Pass"}},Ot={scroll:!1},zt={origin:"*mouse"},Bt={origin:"+move"};function Ut(a,c,m){for(var g=0,y=0;;){var E=a.indexOf("	",g);E==-1&&(E=a.length);var I=E-g;if(E==a.length||y+I>=c)return g+Math.min(I,c-y);if(y+=E-g,y+=m-y%m,g=E+1,y>=c)return g}}var xt=[""];function ot(a){for(;xt.length<=a;)xt.push(Vt(xt)+" ");return xt[a]}function Vt(a){return a[a.length-1]}function mt(a,c){for(var m=[],g=0;g<a.length;g++)m[g]=c(a[g],g);return m}function Ft(a,c,m){for(var g=0,y=m(c);g<a.length&&m(a[g])<=y;)g++;a.splice(g,0,c)}function Kt(){}function W(a,c){var m;return Object.create?m=Object.create(a):(Kt.prototype=a,m=new Kt),c&&pt(c,m),m}var Z=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function it(a){return/\w/.test(a)||a>""&&(a.toUpperCase()!=a.toLowerCase()||Z.test(a))}function Ct(a,c){return c?c.source.indexOf("\\w")>-1&&it(a)?!0:c.test(a):it(a)}function jt(a){for(var c in a)if(a.hasOwnProperty(c)&&a[c])return!1;return!0}var ut=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function Dt(a){return a.charCodeAt(0)>=768&&ut.test(a)}function At(a,c,m){for(;(m<0?c>0:c<a.length)&&Dt(a.charAt(c));)c+=m;return c}function ee(a,c,m){for(var g=c>m?-1:1;;){if(c==m)return c;var y=(c+m)/2,E=g<0?Math.ceil(y):Math.floor(y);if(E==c)return a(E)?c:m;a(E)?m=E:c=E+g}}function Ce(a,c,m,g){if(!a)return g(c,m,"ltr",0);for(var y=!1,E=0;E<a.length;++E){var I=a[E];(I.from<m&&I.to>c||c==m&&I.to==c)&&(g(Math.max(I.from,c),Math.min(I.to,m),I.level==1?"rtl":"ltr",E),y=!0)}y||g(c,m,"ltr")}var de=null;function nt(a,c,m){var g;de=null;for(var y=0;y<a.length;++y){var E=a[y];if(E.from<c&&E.to>c)return y;E.to==c&&(E.from!=E.to&&m=="before"?g=y:de=y),E.from==c&&(E.from!=E.to&&m!="before"?g=y:de=y)}return g??de}var wt=(function(){var a="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",c="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111";function m(Y){return Y<=247?a.charAt(Y):1424<=Y&&Y<=1524?"R":1536<=Y&&Y<=1785?c.charAt(Y-1536):1774<=Y&&Y<=2220?"r":8192<=Y&&Y<=8203?"w":Y==8204?"b":"L"}var g=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,y=/[stwN]/,E=/[LRr]/,I=/[Lb1n]/,V=/[1n]/;function K(Y,ft,gt){this.level=Y,this.from=ft,this.to=gt}return function(Y,ft){var gt=ft=="ltr"?"L":"R";if(Y.length==0||ft=="ltr"&&!g.test(Y))return!1;for(var It=Y.length,kt=[],Gt=0;Gt<It;++Gt)kt.push(m(Y.charCodeAt(Gt)));for(var Qt=0,ie=gt;Qt<It;++Qt){var fe=kt[Qt];fe=="m"?kt[Qt]=ie:ie=fe}for(var he=0,pe=gt;he<It;++he){var ge=kt[he];ge=="1"&&pe=="r"?kt[he]="n":E.test(ge)&&(pe=ge,ge=="r"&&(kt[he]="R"))}for(var Se=1,Te=kt[0];Se<It-1;++Se){var Be=kt[Se];Be=="+"&&Te=="1"&&kt[Se+1]=="1"?kt[Se]="1":Be==","&&Te==kt[Se+1]&&(Te=="1"||Te=="n")&&(kt[Se]=Te),Te=Be}for(var or=0;or<It;++or){var Lr=kt[or];if(Lr==",")kt[or]="N";else if(Lr=="%"){var dr=void 0;for(dr=or+1;dr<It&&kt[dr]=="%";++dr);for(var hn=or&&kt[or-1]=="!"||dr<It&&kt[dr]=="1"?"1":"N",Jr=or;Jr<dr;++Jr)kt[Jr]=hn;or=dr-1}}for(var Cr=0,tn=gt;Cr<It;++Cr){var jr=kt[Cr];tn=="L"&&jr=="1"?kt[Cr]="L":E.test(jr)&&(tn=jr)}for(var Ar=0;Ar<It;++Ar)if(y.test(kt[Ar])){var wr=void 0;for(wr=Ar+1;wr<It&&y.test(kt[wr]);++wr);for(var gr=(Ar?kt[Ar-1]:gt)=="L",en=(wr<It?kt[wr]:gt)=="L",qi=gr==en?gr?"L":"R":gt,qo=Ar;qo<wr;++qo)kt[qo]=qi;Ar=wr-1}for(var Wr=[],no,Ir=0;Ir<It;)if(I.test(kt[Ir])){var hc=Ir;for(++Ir;Ir<It&&I.test(kt[Ir]);++Ir);Wr.push(new K(0,hc,Ir))}else{var yo=Ir,fi=Wr.length,pi=ft=="rtl"?1:0;for(++Ir;Ir<It&&kt[Ir]!="L";++Ir);for(var qr=yo;qr<Ir;)if(V.test(kt[qr])){yo<qr&&(Wr.splice(fi,0,new K(1,yo,qr)),fi+=pi);var Yi=qr;for(++qr;qr<Ir&&V.test(kt[qr]);++qr);Wr.splice(fi,0,new K(2,Yi,qr)),fi+=pi,yo=qr}else++qr;yo<Ir&&Wr.splice(fi,0,new K(1,yo,Ir))}return ft=="ltr"&&(Wr[0].level==1&&(no=Y.match(/^\s+/))&&(Wr[0].from=no[0].length,Wr.unshift(new K(0,0,no[0].length))),Vt(Wr).level==1&&(no=Y.match(/\s+$/))&&(Vt(Wr).to-=no[0].length,Wr.push(new K(0,It-no[0].length,It)))),ft=="rtl"?Wr.reverse():Wr}})();function J(a,c){var m=a.order;return m==null&&(m=a.order=wt(a.text,c)),m}var Xt=[],Lt=function(a,c,m){if(a.addEventListener)a.addEventListener(c,m,!1);else if(a.attachEvent)a.attachEvent("on"+c,m);else{var g=a._handlers||(a._handlers={});g[c]=(g[c]||Xt).concat(m)}};function Zt(a,c){return a._handlers&&a._handlers[c]||Xt}function re(a,c,m){if(a.removeEventListener)a.removeEventListener(c,m,!1);else if(a.detachEvent)a.detachEvent("on"+c,m);else{var g=a._handlers,y=g&&g[c];if(y){var E=lt(y,m);E>-1&&(g[c]=y.slice(0,E).concat(y.slice(E+1)))}}}function le(a,c){var m=Zt(a,c);if(m.length)for(var g=Array.prototype.slice.call(arguments,2),y=0;y<m.length;++y)m[y].apply(null,g)}function oe(a,c,m){return typeof c=="string"&&(c={type:c,preventDefault:function(){this.defaultPrevented=!0}}),le(a,m||c.type,a,c),ir(c)||c.codemirrorIgnore}function ve(a){var c=a._handlers&&a._handlers.cursorActivity;if(c)for(var m=a.curOp.cursorActivityHandlers||(a.curOp.cursorActivityHandlers=[]),g=0;g<c.length;++g)lt(m,c[g])==-1&&m.push(c[g])}function xe(a,c){return Zt(a,c).length>0}function Ae(a){a.prototype.on=function(c,m){Lt(this,c,m)},a.prototype.off=function(c,m){re(this,c,m)}}function ke(a){a.preventDefault?a.preventDefault():a.returnValue=!1}function We(a){a.stopPropagation?a.stopPropagation():a.cancelBubble=!0}function ir(a){return a.defaultPrevented!=null?a.defaultPrevented:a.returnValue==!1}function et(a){ke(a),We(a)}function _t(a){return a.target||a.srcElement}function Pt(a){var c=a.which;return c==null&&(a.button&1?c=1:a.button&2?c=3:a.button&4&&(c=2)),S&&a.ctrlKey&&c==1&&(c=3),c}var Yt=(function(){if(s&&f<9)return!1;var a=z("div");return"draggable"in a||"dragDrop"in a})(),ne;function me(a){if(ne==null){var c=z("span","​");M(a,z("span",[c,document.createTextNode("x")])),a.firstChild.offsetHeight!=0&&(ne=c.offsetWidth<=1&&c.offsetHeight>2&&!(s&&f<8))}var m=ne?z("span","​"):z("span"," ",null,"display: inline-block; width: 1px; margin-right: -1px");return m.setAttribute("cm-text",""),m}var we;function Me(a){if(we!=null)return we;var c=M(a,document.createTextNode("AخA")),m=$(c,0,1).getBoundingClientRect(),g=$(c,1,2).getBoundingClientRect();return R(a),!m||m.left==m.right?!1:we=g.right-m.right<3}var Ue=`

b`.split(/\n/).length!=3?function(a){for(var c=0,m=[],g=a.length;c<=g;){var y=a.indexOf(`
`,c);y==-1&&(y=a.length);var E=a.slice(c,a.charAt(y-1)=="\r"?y-1:y),I=E.indexOf("\r");I!=-1?(m.push(E.slice(0,I)),c+=I+1):(m.push(E),c=y+1)}return m}:function(a){return a.split(/\r\n?|\n/)},ze=window.getSelection?function(a){try{return a.selectionStart!=a.selectionEnd}catch{return!1}}:function(a){var c;try{c=a.ownerDocument.selection.createRange()}catch{}return!c||c.parentElement()!=a?!1:c.compareEndPoints("StartToEnd",c)!=0},Pr=(function(){var a=z("div");return"oncopy"in a?!0:(a.setAttribute("oncopy","return;"),typeof a.oncopy=="function")})(),Fe=null;function hr(a){if(Fe!=null)return Fe;var c=M(a,z("span","x")),m=c.getBoundingClientRect(),g=$(c,0,1).getBoundingClientRect();return Fe=Math.abs(m.left-g.left)>1}var ar={},De={};function er(a,c){arguments.length>2&&(c.dependencies=Array.prototype.slice.call(arguments,2)),ar[a]=c}function Re(a,c){De[a]=c}function Ye(a){if(typeof a=="string"&&De.hasOwnProperty(a))a=De[a];else if(a&&typeof a.name=="string"&&De.hasOwnProperty(a.name)){var c=De[a.name];typeof c=="string"&&(c={name:c}),a=W(c,a),a.name=c.name}else{if(typeof a=="string"&&/^[\w\-]+\/[\w\-]+\+xml$/.test(a))return Ye("application/xml");if(typeof a=="string"&&/^[\w\-]+\/[\w\-]+\+json$/.test(a))return Ye("application/json")}return typeof a=="string"?{name:a}:a||{name:"null"}}function ye(a,c){c=Ye(c);var m=ar[c.name];if(!m)return ye(a,"text/plain");var g=m(a,c);if(ur.hasOwnProperty(c.name)){var y=ur[c.name];for(var E in y)y.hasOwnProperty(E)&&(g.hasOwnProperty(E)&&(g["_"+E]=g[E]),g[E]=y[E])}if(g.name=c.name,c.helperType&&(g.helperType=c.helperType),c.modeProps)for(var I in c.modeProps)g[I]=c.modeProps[I];return g}var ur={};function Ve(a,c){var m=ur.hasOwnProperty(a)?ur[a]:ur[a]={};pt(c,m)}function Je(a,c){if(c===!0)return c;if(a.copyState)return a.copyState(c);var m={};for(var g in c){var y=c[g];y instanceof Array&&(y=y.concat([])),m[g]=y}return m}function Ge(a,c){for(var m;a.innerMode&&(m=a.innerMode(c),!(!m||m.mode==a));)c=m.state,a=m.mode;return m||{mode:a,state:c}}function rr(a,c,m){return a.startState?a.startState(c,m):!0}var Ie=function(a,c,m){this.pos=this.start=0,this.string=a,this.tabSize=c||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=m};Ie.prototype.eol=function(){return this.pos>=this.string.length},Ie.prototype.sol=function(){return this.pos==this.lineStart},Ie.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},Ie.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},Ie.prototype.eat=function(a){var c=this.string.charAt(this.pos),m;if(typeof a=="string"?m=c==a:m=c&&(a.test?a.test(c):a(c)),m)return++this.pos,c},Ie.prototype.eatWhile=function(a){for(var c=this.pos;this.eat(a););return this.pos>c},Ie.prototype.eatSpace=function(){for(var a=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>a},Ie.prototype.skipToEnd=function(){this.pos=this.string.length},Ie.prototype.skipTo=function(a){var c=this.string.indexOf(a,this.pos);if(c>-1)return this.pos=c,!0},Ie.prototype.backUp=function(a){this.pos-=a},Ie.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=bt(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?bt(this.string,this.lineStart,this.tabSize):0)},Ie.prototype.indentation=function(){return bt(this.string,null,this.tabSize)-(this.lineStart?bt(this.string,this.lineStart,this.tabSize):0)},Ie.prototype.match=function(a,c,m){if(typeof a=="string"){var g=function(I){return m?I.toLowerCase():I},y=this.string.substr(this.pos,a.length);if(g(y)==g(a))return c!==!1&&(this.pos+=a.length),!0}else{var E=this.string.slice(this.pos).match(a);return E&&E.index>0?null:(E&&c!==!1&&(this.pos+=E[0].length),E)}},Ie.prototype.current=function(){return this.string.slice(this.start,this.pos)},Ie.prototype.hideFirstChars=function(a,c){this.lineStart+=a;try{return c()}finally{this.lineStart-=a}},Ie.prototype.lookAhead=function(a){var c=this.lineOracle;return c&&c.lookAhead(a)},Ie.prototype.baseToken=function(){var a=this.lineOracle;return a&&a.baseToken(this.pos)};function O(a,c){if(c-=a.first,c<0||c>=a.size)throw new Error("There is no line "+(c+a.first)+" in the document.");for(var m=a;!m.lines;)for(var g=0;;++g){var y=m.children[g],E=y.chunkSize();if(c<E){m=y;break}c-=E}return m.lines[c]}function B(a,c,m){var g=[],y=c.line;return a.iter(c.line,m.line+1,function(E){var I=E.text;y==m.line&&(I=I.slice(0,m.ch)),y==c.line&&(I=I.slice(c.ch)),g.push(I),++y}),g}function F(a,c,m){var g=[];return a.iter(c,m,function(y){g.push(y.text)}),g}function ct(a,c){var m=c-a.height;if(m)for(var g=a;g;g=g.parent)g.height+=m}function Mt(a){if(a.parent==null)return null;for(var c=a.parent,m=lt(c.lines,a),g=c.parent;g;c=g,g=g.parent)for(var y=0;g.children[y]!=c;++y)m+=g.children[y].chunkSize();return m+c.first}function ce(a,c){var m=a.first;t:do{for(var g=0;g<a.children.length;++g){var y=a.children[g],E=y.height;if(c<E){a=y;continue t}c-=E,m+=y.chunkSize()}return m}while(!a.lines);for(var I=0;I<a.lines.length;++I){var V=a.lines[I],K=V.height;if(c<K)break;c-=K}return m+I}function $e(a,c){return c>=a.first&&c<a.first+a.size}function Ne(a,c){return String(a.lineNumberFormatter(c+a.firstLineNumber))}function Ht(a,c,m){if(m===void 0&&(m=null),!(this instanceof Ht))return new Ht(a,c,m);this.line=a,this.ch=c,this.sticky=m}function U(a,c){return a.line-c.line||a.ch-c.ch}function Oe(a,c){return a.sticky==c.sticky&&U(a,c)==0}function Q(a){return Ht(a.line,a.ch)}function dt(a,c){return U(a,c)<0?c:a}function Wt(a,c){return U(a,c)<0?a:c}function Jt(a,c){return Math.max(a.first,Math.min(c,a.first+a.size-1))}function te(a,c){if(c.line<a.first)return Ht(a.first,0);var m=a.first+a.size-1;return c.line>m?Ht(m,O(a,m).text.length):Pe(c,O(a,c.line).text.length)}function Pe(a,c){var m=a.ch;return m==null||m>c?Ht(a.line,c):m<0?Ht(a.line,0):a}function je(a,c){for(var m=[],g=0;g<c.length;g++)m[g]=te(a,c[g]);return m}var sr=function(a,c){this.state=a,this.lookAhead=c},Ze=function(a,c,m,g){this.state=c,this.doc=a,this.line=m,this.maxLookAhead=g||0,this.baseTokens=null,this.baseTokenPos=1};Ze.prototype.lookAhead=function(a){var c=this.doc.getLine(this.line+a);return c!=null&&a>this.maxLookAhead&&(this.maxLookAhead=a),c},Ze.prototype.baseToken=function(a){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=a;)this.baseTokenPos+=2;var c=this.baseTokens[this.baseTokenPos+1];return{type:c&&c.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-a}},Ze.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},Ze.fromSaved=function(a,c,m){return c instanceof sr?new Ze(a,Je(a.mode,c.state),m,c.lookAhead):new Ze(a,Je(a.mode,c),m)},Ze.prototype.save=function(a){var c=a!==!1?Je(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new sr(c,this.maxLookAhead):c};function cn(a,c,m,g){var y=[a.state.modeGen],E={};eo(a,c.text,a.doc.mode,m,function(Y,ft){return y.push(Y,ft)},E,g);for(var I=m.state,V=function(Y){m.baseTokens=y;var ft=a.state.overlays[Y],gt=1,It=0;m.state=!0,eo(a,c.text,ft.mode,m,function(kt,Gt){for(var Qt=gt;It<kt;){var ie=y[gt];ie>kt&&y.splice(gt,1,kt,y[gt+1],ie),gt+=2,It=Math.min(kt,ie)}if(Gt)if(ft.opaque)y.splice(Qt,gt-Qt,kt,"overlay "+Gt),gt=Qt+2;else for(;Qt<gt;Qt+=2){var fe=y[Qt+1];y[Qt+1]=(fe?fe+" ":"")+"overlay "+Gt}},E),m.state=I,m.baseTokens=null,m.baseTokenPos=1},K=0;K<a.state.overlays.length;++K)V(K);return{styles:y,classes:E.bgClass||E.textClass?E:null}}function Oo(a,c,m){if(!c.styles||c.styles[0]!=a.state.modeGen){var g=ao(a,Mt(c)),y=c.text.length>a.options.maxHighlightLength&&Je(a.doc.mode,g.state),E=cn(a,c,g);y&&(g.state=y),c.stateAfter=g.save(!y),c.styles=E.styles,E.classes?c.styleClasses=E.classes:c.styleClasses&&(c.styleClasses=null),m===a.doc.highlightFrontier&&(a.doc.modeFrontier=Math.max(a.doc.modeFrontier,++a.doc.highlightFrontier))}return c.styles}function ao(a,c,m){var g=a.doc,y=a.display;if(!g.mode.startState)return new Ze(g,!0,c);var E=Wn(a,c,m),I=E>g.first&&O(g,E-1).stateAfter,V=I?Ze.fromSaved(g,I,E):new Ze(g,rr(g.mode),E);return g.iter(E,c,function(K){so(a,K.text,V);var Y=V.line;K.stateAfter=Y==c-1||Y%5==0||Y>=y.viewFrom&&Y<y.viewTo?V.save():null,V.nextLine()}),m&&(g.modeFrontier=V.line),V}function so(a,c,m,g){var y=a.doc.mode,E=new Ie(c,a.options.tabSize,m);for(E.start=E.pos=g||0,c==""&&lo(y,m.state);!E.eol();)ti(y,E,m.state),E.start=E.pos}function lo(a,c){if(a.blankLine)return a.blankLine(c);if(a.innerMode){var m=Ge(a,c);if(m.mode.blankLine)return m.mode.blankLine(m.state)}}function ti(a,c,m,g){for(var y=0;y<10;y++){g&&(g[0]=Ge(a,m).mode);var E=a.token(c,m);if(c.pos>c.start)return E}throw new Error("Mode "+a.name+" failed to advance stream.")}var Ao=function(a,c,m){this.start=a.start,this.end=a.pos,this.string=a.current(),this.type=c||null,this.state=m};function Po(a,c,m,g){var y=a.doc,E=y.mode,I;c=te(y,c);var V=O(y,c.line),K=ao(a,c.line,m),Y=new Ie(V.text,a.options.tabSize,K),ft;for(g&&(ft=[]);(g||Y.pos<c.ch)&&!Y.eol();)Y.start=Y.pos,I=ti(E,Y,K.state),g&&ft.push(new Ao(Y,I,Je(y.mode,K.state)));return g?ft:new Ao(Y,I,K.state)}function uo(a,c){if(a)for(;;){var m=a.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!m)break;a=a.slice(0,m.index)+a.slice(m.index+m[0].length);var g=m[1]?"bgClass":"textClass";c[g]==null?c[g]=m[2]:new RegExp("(?:^|\\s)"+m[2]+"(?:$|\\s)").test(c[g])||(c[g]+=" "+m[2])}return a}function eo(a,c,m,g,y,E,I){var V=m.flattenSpans;V==null&&(V=a.options.flattenSpans);var K=0,Y=null,ft=new Ie(c,a.options.tabSize,g),gt,It=a.options.addModeClass&&[null];for(c==""&&uo(lo(m,g.state),E);!ft.eol();){if(ft.pos>a.options.maxHighlightLength?(V=!1,I&&so(a,c,g,ft.pos),ft.pos=c.length,gt=null):gt=uo(ti(m,ft,g.state,It),E),It){var kt=It[0].name;kt&&(gt="m-"+(gt?kt+" "+gt:kt))}if(!V||Y!=gt){for(;K<ft.start;)K=Math.min(ft.start,K+5e3),y(K,Y);Y=gt}ft.start=ft.pos}for(;K<ft.pos;){var Gt=Math.min(ft.pos,K+5e3);y(Gt,Y),K=Gt}}function Wn(a,c,m){for(var g,y,E=a.doc,I=m?-1:c-(a.doc.mode.innerMode?1e3:100),V=c;V>I;--V){if(V<=E.first)return E.first;var K=O(E,V-1),Y=K.stateAfter;if(Y&&(!m||V+(Y instanceof sr?Y.lookAhead:0)<=E.modeFrontier))return V;var ft=bt(K.text,null,a.options.tabSize);(y==null||g>ft)&&(y=V-1,g=ft)}return y}function ko(a,c){if(a.modeFrontier=Math.min(a.modeFrontier,c),!(a.highlightFrontier<c-10)){for(var m=a.first,g=c-1;g>m;g--){var y=O(a,g).stateAfter;if(y&&(!(y instanceof sr)||g+y.lookAhead<c)){m=g+1;break}}a.highlightFrontier=Math.min(a.highlightFrontier,m)}}var br=!1,Er=!1;function ei(){br=!0}function wn(){Er=!0}function zn(a,c,m){this.marker=a,this.from=c,this.to=m}function zr(a,c){if(a)for(var m=0;m<a.length;++m){var g=a[m];if(g.marker==c)return g}}function xr(a,c){for(var m,g=0;g<a.length;++g)a[g]!=c&&(m||(m=[])).push(a[g]);return m}function Oi(a,c,m){var g=m&&window.WeakSet&&(m.markedSpans||(m.markedSpans=new WeakSet));g&&g.has(a.markedSpans)?a.markedSpans.push(c):(a.markedSpans=a.markedSpans?a.markedSpans.concat([c]):[c],g&&g.add(a.markedSpans)),c.marker.attachLine(a)}function Kn(a,c,m){var g;if(a)for(var y=0;y<a.length;++y){var E=a[y],I=E.marker,V=E.from==null||(I.inclusiveLeft?E.from<=c:E.from<c);if(V||E.from==c&&I.type=="bookmark"&&(!m||!E.marker.insertLeft)){var K=E.to==null||(I.inclusiveRight?E.to>=c:E.to>c);(g||(g=[])).push(new zn(I,E.from,K?null:E.to))}}return g}function Sn(a,c,m){var g;if(a)for(var y=0;y<a.length;++y){var E=a[y],I=E.marker,V=E.to==null||(I.inclusiveRight?E.to>=c:E.to>c);if(V||E.from==c&&I.type=="bookmark"&&(!m||E.marker.insertLeft)){var K=E.from==null||(I.inclusiveLeft?E.from<=c:E.from<c);(g||(g=[])).push(new zn(I,K?null:E.from-c,E.to==null?null:E.to-c))}}return g}function co(a,c){if(c.full)return null;var m=$e(a,c.from.line)&&O(a,c.from.line).markedSpans,g=$e(a,c.to.line)&&O(a,c.to.line).markedSpans;if(!m&&!g)return null;var y=c.from.ch,E=c.to.ch,I=U(c.from,c.to)==0,V=Kn(m,y,I),K=Sn(g,E,I),Y=c.text.length==1,ft=Vt(c.text).length+(Y?y:0);if(V)for(var gt=0;gt<V.length;++gt){var It=V[gt];if(It.to==null){var kt=zr(K,It.marker);kt?Y&&(It.to=kt.to==null?null:kt.to+ft):It.to=y}}if(K)for(var Gt=0;Gt<K.length;++Gt){var Qt=K[Gt];if(Qt.to!=null&&(Qt.to+=ft),Qt.from==null){var ie=zr(V,Qt.marker);ie||(Qt.from=ft,Y&&(V||(V=[])).push(Qt))}else Qt.from+=ft,Y&&(V||(V=[])).push(Qt)}V&&(V=En(V)),K&&K!=V&&(K=En(K));var fe=[V];if(!Y){var he=c.text.length-2,pe;if(he>0&&V)for(var ge=0;ge<V.length;++ge)V[ge].to==null&&(pe||(pe=[])).push(new zn(V[ge].marker,null,null));for(var Se=0;Se<he;++Se)fe.push(pe);fe.push(K)}return fe}function En(a){for(var c=0;c<a.length;++c){var m=a[c];m.from!=null&&m.from==m.to&&m.marker.clearWhenEmpty!==!1&&a.splice(c--,1)}return a.length?a:null}function xn(a,c,m){var g=null;if(a.iter(c.line,m.line+1,function(kt){if(kt.markedSpans)for(var Gt=0;Gt<kt.markedSpans.length;++Gt){var Qt=kt.markedSpans[Gt].marker;Qt.readOnly&&(!g||lt(g,Qt)==-1)&&(g||(g=[])).push(Qt)}}),!g)return null;for(var y=[{from:c,to:m}],E=0;E<g.length;++E)for(var I=g[E],V=I.find(0),K=0;K<y.length;++K){var Y=y[K];if(!(U(Y.to,V.from)<0||U(Y.from,V.to)>0)){var ft=[K,1],gt=U(Y.from,V.from),It=U(Y.to,V.to);(gt<0||!I.inclusiveLeft&&!gt)&&ft.push({from:Y.from,to:V.from}),(It>0||!I.inclusiveRight&&!It)&&ft.push({from:V.to,to:Y.to}),y.splice.apply(y,ft),K+=ft.length-3}}return y}function ri(a){var c=a.markedSpans;if(c){for(var m=0;m<c.length;++m)c[m].marker.detachLine(a);a.markedSpans=null}}function Mo(a,c){if(c){for(var m=0;m<c.length;++m)c[m].marker.attachLine(a);a.markedSpans=c}}function fo(a){return a.inclusiveLeft?-1:0}function In(a){return a.inclusiveRight?1:0}function po(a,c){var m=a.lines.length-c.lines.length;if(m!=0)return m;var g=a.find(),y=c.find(),E=U(g.from,y.from)||fo(a)-fo(c);if(E)return-E;var I=U(g.to,y.to)||In(a)-In(c);return I||c.id-a.id}function Gn(a,c){var m=Er&&a.markedSpans,g;if(m)for(var y=void 0,E=0;E<m.length;++E)y=m[E],y.marker.collapsed&&(c?y.from:y.to)==null&&(!g||po(g,y.marker)<0)&&(g=y.marker);return g}function be(a){return Gn(a,!0)}function _e(a){return Gn(a,!1)}function Ke(a,c){var m=Er&&a.markedSpans,g;if(m)for(var y=0;y<m.length;++y){var E=m[y];E.marker.collapsed&&(E.from==null||E.from<c)&&(E.to==null||E.to>c)&&(!g||po(g,E.marker)<0)&&(g=E.marker)}return g}function Ee(a,c,m,g,y){var E=O(a,c),I=Er&&E.markedSpans;if(I)for(var V=0;V<I.length;++V){var K=I[V];if(K.marker.collapsed){var Y=K.marker.find(0),ft=U(Y.from,m)||fo(K.marker)-fo(y),gt=U(Y.to,g)||In(K.marker)-In(y);if(!(ft>=0&&gt<=0||ft<=0&&gt>=0)&&(ft<=0&&(K.marker.inclusiveRight&&y.inclusiveLeft?U(Y.to,m)>=0:U(Y.to,m)>0)||ft>=0&&(K.marker.inclusiveRight&&y.inclusiveLeft?U(Y.from,g)<=0:U(Y.from,g)<0)))return!0}}}function cr(a){for(var c;c=be(a);)a=c.find(-1,!0).line;return a}function Tr(a){for(var c;c=_e(a);)a=c.find(1,!0).line;return a}function Kr(a){for(var c,m;c=_e(a);)a=c.find(1,!0).line,(m||(m=[])).push(a);return m}function Dn(a,c){var m=O(a,c),g=cr(m);return m==g?c:Mt(g)}function Xr(a,c){if(c>a.lastLine())return c;var m=O(a,c),g;if(!$r(a,m))return c;for(;g=_e(m);)m=g.find(1,!0).line;return Mt(m)+1}function $r(a,c){var m=Er&&c.markedSpans;if(m){for(var g=void 0,y=0;y<m.length;++y)if(g=m[y],!!g.marker.collapsed){if(g.from==null)return!0;if(!g.marker.widgetNode&&g.from==0&&g.marker.inclusiveLeft&&fn(a,c,g))return!0}}}function fn(a,c,m){if(m.to==null){var g=m.marker.find(1,!0);return fn(a,g.line,zr(g.line.markedSpans,m.marker))}if(m.marker.inclusiveRight&&m.to==c.text.length)return!0;for(var y=void 0,E=0;E<c.markedSpans.length;++E)if(y=c.markedSpans[E],y.marker.collapsed&&!y.marker.widgetNode&&y.from==m.to&&(y.to==null||y.to!=m.from)&&(y.marker.inclusiveLeft||m.marker.inclusiveRight)&&fn(a,c,y))return!0}function Rn(a){a=cr(a);for(var c=0,m=a.parent,g=0;g<m.lines.length;++g){var y=m.lines[g];if(y==a)break;c+=y.height}for(var E=m.parent;E;m=E,E=m.parent)for(var I=0;I<E.children.length;++I){var V=E.children[I];if(V==m)break;c+=V.height}return c}function ho(a){if(a.height==0)return 0;for(var c=a.text.length,m,g=a;m=be(g);){var y=m.find(0,!0);g=y.from.line,c+=y.from.ch-y.to.ch}for(g=a;m=_e(g);){var E=m.find(0,!0);c-=g.text.length-E.from.ch,g=E.to.line,c+=g.text.length-E.to.ch}return c}function No(a){var c=a.display,m=a.doc;c.maxLine=O(m,m.first),c.maxLineLength=ho(c.maxLine),c.maxLineChanged=!0,m.iter(function(g){var y=ho(g);y>c.maxLineLength&&(c.maxLineLength=y,c.maxLine=g)})}var kr=function(a,c,m){this.text=a,Mo(this,c),this.height=m?m(this):1};kr.prototype.lineNo=function(){return Mt(this)},Ae(kr);function xs(a,c,m,g){a.text=c,a.stateAfter&&(a.stateAfter=null),a.styles&&(a.styles=null),a.order!=null&&(a.order=null),ri(a),Mo(a,m);var y=g?g(a):1;y!=a.height&&ct(a,y)}function Ai(a){a.parent=null,ri(a)}var Os={},wa={};function Sa(a,c){if(!a||/^\s*$/.test(a))return null;var m=c.addModeClass?wa:Os;return m[a]||(m[a]=a.replace(/\S+/g,"cm-$&"))}function Pi(a,c){var m=H("span",null,null,u?"padding-right: .1px":null),g={pre:H("pre",[m],"CodeMirror-line"),content:m,col:0,pos:0,cm:a,trailingSpace:!1,splitSpaces:a.getOption("lineWrapping")};c.measure={};for(var y=0;y<=(c.rest?c.rest.length:0);y++){var E=y?c.rest[y-1]:c.line,I=void 0;g.pos=0,g.addToken=Ps,Me(a.display.measure)&&(I=J(E,a.doc.direction))&&(g.addToken=ks(g.addToken,I)),g.map=[];var V=c!=a.display.externalMeasured&&Mt(E);Ms(E,g,Oo(a,E,V)),E.styleClasses&&(E.styleClasses.bgClass&&(g.bgClass=st(E.styleClasses.bgClass,g.bgClass||"")),E.styleClasses.textClass&&(g.textClass=st(E.styleClasses.textClass,g.textClass||""))),g.map.length==0&&g.map.push(0,0,g.content.appendChild(me(a.display.measure))),y==0?(c.measure.map=g.map,c.measure.cache={}):((c.measure.maps||(c.measure.maps=[])).push(g.map),(c.measure.caches||(c.measure.caches=[])).push({}))}if(u){var K=g.content.lastChild;(/\bcm-tab\b/.test(K.className)||K.querySelector&&K.querySelector(".cm-tab"))&&(g.content.className="cm-tab-wrap-hack")}return le(a,"renderLine",a,c.line,g.pre),g.pre.className&&(g.textClass=st(g.pre.className,g.textClass||"")),g}function As(a){var c=z("span","•","cm-invalidchar");return c.title="\\u"+a.charCodeAt(0).toString(16),c.setAttribute("aria-label",c.title),c}function Ps(a,c,m,g,y,E,I){if(c){var V=a.splitSpaces?ki(c,a.trailingSpace):c,K=a.cm.state.specialChars,Y=!1,ft;if(!K.test(c))a.col+=c.length,ft=document.createTextNode(V),a.map.push(a.pos,a.pos+c.length,ft),s&&f<9&&(Y=!0),a.pos+=c.length;else{ft=document.createDocumentFragment();for(var gt=0;;){K.lastIndex=gt;var It=K.exec(c),kt=It?It.index-gt:c.length-gt;if(kt){var Gt=document.createTextNode(V.slice(gt,gt+kt));s&&f<9?ft.appendChild(z("span",[Gt])):ft.appendChild(Gt),a.map.push(a.pos,a.pos+kt,Gt),a.col+=kt,a.pos+=kt}if(!It)break;gt+=kt+1;var Qt=void 0;if(It[0]=="	"){var ie=a.cm.options.tabSize,fe=ie-a.col%ie;Qt=ft.appendChild(z("span",ot(fe),"cm-tab")),Qt.setAttribute("role","presentation"),Qt.setAttribute("cm-text","	"),a.col+=fe}else It[0]=="\r"||It[0]==`
`?(Qt=ft.appendChild(z("span",It[0]=="\r"?"␍":"␤","cm-invalidchar")),Qt.setAttribute("cm-text",It[0]),a.col+=1):(Qt=a.cm.options.specialCharPlaceholder(It[0]),Qt.setAttribute("cm-text",It[0]),s&&f<9?ft.appendChild(z("span",[Qt])):ft.appendChild(Qt),a.col+=1);a.map.push(a.pos,a.pos+1,Qt),a.pos++}}if(a.trailingSpace=V.charCodeAt(c.length-1)==32,m||g||y||Y||E||I){var he=m||"";g&&(he+=g),y&&(he+=y);var pe=z("span",[ft],he,E);if(I)for(var ge in I)I.hasOwnProperty(ge)&&ge!="style"&&ge!="class"&&pe.setAttribute(ge,I[ge]);return a.content.appendChild(pe)}a.content.appendChild(ft)}}function ki(a,c){if(a.length>1&&!/  /.test(a))return a;for(var m=c,g="",y=0;y<a.length;y++){var E=a.charAt(y);E==" "&&m&&(y==a.length-1||a.charCodeAt(y+1)==32)&&(E=" "),g+=E,m=E==" "}return g}function ks(a,c){return function(m,g,y,E,I,V,K){y=y?y+" cm-force-border":"cm-force-border";for(var Y=m.pos,ft=Y+g.length;;){for(var gt=void 0,It=0;It<c.length&&(gt=c[It],!(gt.to>Y&&gt.from<=Y));It++);if(gt.to>=ft)return a(m,g,y,E,I,V,K);a(m,g.slice(0,gt.to-Y),y,E,null,V,K),E=null,g=g.slice(gt.to-Y),Y=gt.to}}}function Ea(a,c,m,g){var y=!g&&m.widgetNode;y&&a.map.push(a.pos,a.pos+c,y),!g&&a.cm.display.input.needsContentAttribute&&(y||(y=a.content.appendChild(document.createElement("span"))),y.setAttribute("cm-marker",m.id)),y&&(a.cm.display.input.setUneditable(y),a.content.appendChild(y)),a.pos+=c,a.trailingSpace=!1}function Ms(a,c,m){var g=a.markedSpans,y=a.text,E=0;if(!g){for(var I=1;I<m.length;I+=2)c.addToken(c,y.slice(E,E=m[I]),Sa(m[I+1],c.cm.options));return}for(var V=y.length,K=0,Y=1,ft="",gt,It,kt=0,Gt,Qt,ie,fe,he;;){if(kt==K){Gt=Qt=ie=It="",he=null,fe=null,kt=1/0;for(var pe=[],ge=void 0,Se=0;Se<g.length;++Se){var Te=g[Se],Be=Te.marker;if(Be.type=="bookmark"&&Te.from==K&&Be.widgetNode)pe.push(Be);else if(Te.from<=K&&(Te.to==null||Te.to>K||Be.collapsed&&Te.to==K&&Te.from==K)){if(Te.to!=null&&Te.to!=K&&kt>Te.to&&(kt=Te.to,Qt=""),Be.className&&(Gt+=" "+Be.className),Be.css&&(It=(It?It+";":"")+Be.css),Be.startStyle&&Te.from==K&&(ie+=" "+Be.startStyle),Be.endStyle&&Te.to==kt&&(ge||(ge=[])).push(Be.endStyle,Te.to),Be.title&&((he||(he={})).title=Be.title),Be.attributes)for(var or in Be.attributes)(he||(he={}))[or]=Be.attributes[or];Be.collapsed&&(!fe||po(fe.marker,Be)<0)&&(fe=Te)}else Te.from>K&&kt>Te.from&&(kt=Te.from)}if(ge)for(var Lr=0;Lr<ge.length;Lr+=2)ge[Lr+1]==kt&&(Qt+=" "+ge[Lr]);if(!fe||fe.from==K)for(var dr=0;dr<pe.length;++dr)Ea(c,0,pe[dr]);if(fe&&(fe.from||0)==K){if(Ea(c,(fe.to==null?V+1:fe.to)-K,fe.marker,fe.from==null),fe.to==null)return;fe.to==K&&(fe=!1)}}if(K>=V)break;for(var hn=Math.min(V,kt);;){if(ft){var Jr=K+ft.length;if(!fe){var Cr=Jr>hn?ft.slice(0,hn-K):ft;c.addToken(c,Cr,gt?gt+Gt:Gt,ie,K+Cr.length==kt?Qt:"",It,he)}if(Jr>=hn){ft=ft.slice(hn-K),K=hn;break}K=Jr,ie=""}ft=y.slice(E,E=m[Y++]),gt=Sa(m[Y++],c.cm.options)}}}function xa(a,c,m){this.line=c,this.rest=Kr(c),this.size=this.rest?Mt(Vt(this.rest))-m+1:1,this.node=this.text=null,this.hidden=$r(a,c)}function Mi(a,c,m){for(var g=[],y,E=c;E<m;E=y){var I=new xa(a.doc,O(a.doc,E),E);y=E+I.size,g.push(I)}return g}var vo=null;function Ns(a){vo?vo.ops.push(a):a.ownsGroup=vo={ops:[a],delayedCallbacks:[]}}function Du(a){var c=a.delayedCallbacks,m=0;do{for(;m<c.length;m++)c[m].call(null);for(var g=0;g<a.ops.length;g++){var y=a.ops[g];if(y.cursorActivityHandlers)for(;y.cursorActivityCalled<y.cursorActivityHandlers.length;)y.cursorActivityHandlers[y.cursorActivityCalled++].call(null,y.cm)}}while(m<c.length)}function Oa(a,c){var m=a.ownsGroup;if(m)try{Du(m)}finally{vo=null,c(m)}}var Lo=null;function vr(a,c){var m=Zt(a,c);if(m.length){var g=Array.prototype.slice.call(arguments,2),y;vo?y=vo.delayedCallbacks:Lo?y=Lo:(y=Lo=[],setTimeout(Io,0));for(var E=function(V){y.push(function(){return m[V].apply(null,g)})},I=0;I<m.length;++I)E(I)}}function Io(){var a=Lo;Lo=null;for(var c=0;c<a.length;++c)a[c]()}function ro(a,c,m,g){for(var y=0;y<c.changes.length;y++){var E=c.changes[y];E=="text"?Pa(a,c):E=="gutter"?Ro(a,c,m,g):E=="class"?Ni(a,c):E=="widget"&&Is(a,c,g)}c.changes=null}function Do(a){return a.node==a.text&&(a.node=z("div",null,null,"position: relative"),a.text.parentNode&&a.text.parentNode.replaceChild(a.node,a.text),a.node.appendChild(a.text),s&&f<8&&(a.node.style.zIndex=2)),a.node}function Ls(a,c){var m=c.bgClass?c.bgClass+" "+(c.line.bgClass||""):c.line.bgClass;if(m&&(m+=" CodeMirror-linebackground"),c.background)m?c.background.className=m:(c.background.parentNode.removeChild(c.background),c.background=null);else if(m){var g=Do(c);c.background=g.insertBefore(z("div",null,m),g.firstChild),a.display.input.setUneditable(c.background)}}function Aa(a,c){var m=a.display.externalMeasured;return m&&m.line==c.line?(a.display.externalMeasured=null,c.measure=m.measure,m.built):Pi(a,c)}function Pa(a,c){var m=c.text.className,g=Aa(a,c);c.text==c.node&&(c.node=g.pre),c.text.parentNode.replaceChild(g.pre,c.text),c.text=g.pre,g.bgClass!=c.bgClass||g.textClass!=c.textClass?(c.bgClass=g.bgClass,c.textClass=g.textClass,Ni(a,c)):m&&(c.text.className=m)}function Ni(a,c){Ls(a,c),c.line.wrapClass?Do(c).className=c.line.wrapClass:c.node!=c.text&&(c.node.className="");var m=c.textClass?c.textClass+" "+(c.line.textClass||""):c.line.textClass;c.text.className=m||""}function Ro(a,c,m,g){if(c.gutter&&(c.node.removeChild(c.gutter),c.gutter=null),c.gutterBackground&&(c.node.removeChild(c.gutterBackground),c.gutterBackground=null),c.line.gutterClass){var y=Do(c);c.gutterBackground=z("div",null,"CodeMirror-gutter-background "+c.line.gutterClass,"left: "+(a.options.fixedGutter?g.fixedPos:-g.gutterTotalWidth)+"px; width: "+g.gutterTotalWidth+"px"),a.display.input.setUneditable(c.gutterBackground),y.insertBefore(c.gutterBackground,c.text)}var E=c.line.gutterMarkers;if(a.options.lineNumbers||E){var I=Do(c),V=c.gutter=z("div",null,"CodeMirror-gutter-wrapper","left: "+(a.options.fixedGutter?g.fixedPos:-g.gutterTotalWidth)+"px");if(V.setAttribute("aria-hidden","true"),a.display.input.setUneditable(V),I.insertBefore(V,c.text),c.line.gutterClass&&(V.className+=" "+c.line.gutterClass),a.options.lineNumbers&&(!E||!E["CodeMirror-linenumbers"])&&(c.lineNumber=V.appendChild(z("div",Ne(a.options,m),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+g.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+a.display.lineNumInnerWidth+"px"))),E)for(var K=0;K<a.display.gutterSpecs.length;++K){var Y=a.display.gutterSpecs[K].className,ft=E.hasOwnProperty(Y)&&E[Y];ft&&V.appendChild(z("div",[ft],"CodeMirror-gutter-elt","left: "+g.gutterLeft[Y]+"px; width: "+g.gutterWidth[Y]+"px"))}}}function Is(a,c,m){c.alignable&&(c.alignable=null);for(var g=P("CodeMirror-linewidget"),y=c.node.firstChild,E=void 0;y;y=E)E=y.nextSibling,g.test(y.className)&&c.node.removeChild(y);jo(a,c,m)}function Ds(a,c,m,g){var y=Aa(a,c);return c.text=c.node=y.pre,y.bgClass&&(c.bgClass=y.bgClass),y.textClass&&(c.textClass=y.textClass),Ni(a,c),Ro(a,c,m,g),jo(a,c,g),c.node}function jo(a,c,m){if(ka(a,c.line,c,m,!0),c.rest)for(var g=0;g<c.rest.length;g++)ka(a,c.rest[g],c,m,!1)}function ka(a,c,m,g,y){if(c.widgets)for(var E=Do(m),I=0,V=c.widgets;I<V.length;++I){var K=V[I],Y=z("div",[K.node],"CodeMirror-linewidget"+(K.className?" "+K.className:""));K.handleMouseEvents||Y.setAttribute("cm-ignore-events","true"),Rs(K,Y,m,g),a.display.input.setUneditable(Y),y&&K.above?E.insertBefore(Y,m.gutter||m.text):E.appendChild(Y),vr(K,"redraw")}}function Rs(a,c,m,g){if(a.noHScroll){(m.alignable||(m.alignable=[])).push(c);var y=g.wrapperWidth;c.style.left=g.fixedPos+"px",a.coverGutter||(y-=g.gutterTotalWidth,c.style.paddingLeft=g.gutterTotalWidth+"px"),c.style.width=y+"px"}a.coverGutter&&(c.style.zIndex=5,c.style.position="relative",a.noHScroll||(c.style.marginLeft=-g.gutterTotalWidth+"px"))}function Ho(a){if(a.height!=null)return a.height;var c=a.doc.cm;if(!c)return 0;if(!j(document.body,a.node)){var m="position: relative;";a.coverGutter&&(m+="margin-left: -"+c.display.gutters.offsetWidth+"px;"),a.noHScroll&&(m+="width: "+c.display.wrapper.clientWidth+"px;"),M(c.display.measure,z("div",[a.node],null,m))}return a.height=a.node.parentNode.offsetHeight}function jn(a,c){for(var m=_t(c);m!=a.wrapper;m=m.parentNode)if(!m||m.nodeType==1&&m.getAttribute("cm-ignore-events")=="true"||m.parentNode==a.sizer&&m!=a.mover)return!0}function Fo(a){return a.lineSpace.offsetTop}function ni(a){return a.mover.offsetHeight-a.lineSpace.offsetHeight}function js(a){if(a.cachedPaddingH)return a.cachedPaddingH;var c=M(a.measure,z("pre","x","CodeMirror-line-like")),m=window.getComputedStyle?window.getComputedStyle(c):c.currentStyle,g={left:parseInt(m.paddingLeft),right:parseInt(m.paddingRight)};return!isNaN(g.left)&&!isNaN(g.right)&&(a.cachedPaddingH=g),g}function pn(a){return Et-a.display.nativeBarWidth}function go(a){return a.display.scroller.clientWidth-pn(a)-a.display.barWidth}function G(a){return a.display.scroller.clientHeight-pn(a)-a.display.barHeight}function tt(a,c,m){var g=a.options.lineWrapping,y=g&&go(a);if(!c.measure.heights||g&&c.measure.width!=y){var E=c.measure.heights=[];if(g){c.measure.width=y;for(var I=c.text.firstChild.getClientRects(),V=0;V<I.length-1;V++){var K=I[V],Y=I[V+1];Math.abs(K.bottom-Y.bottom)>2&&E.push((K.bottom+Y.top)/2-m.top)}}E.push(m.bottom-m.top)}}function ht(a,c,m){if(a.line==c)return{map:a.measure.map,cache:a.measure.cache};for(var g=0;g<a.rest.length;g++)if(a.rest[g]==c)return{map:a.measure.maps[g],cache:a.measure.caches[g]};for(var y=0;y<a.rest.length;y++)if(Mt(a.rest[y])>m)return{map:a.measure.maps[y],cache:a.measure.caches[y],before:!0}}function Tt(a,c){c=cr(c);var m=Mt(c),g=a.display.externalMeasured=new xa(a.doc,c,m);g.lineN=m;var y=g.built=Pi(a,g);return g.text=y.pre,M(a.display.lineMeasure,y.pre),g}function Rt(a,c,m,g){return se(a,$t(a,c),m,g)}function Nt(a,c){if(c>=a.display.viewFrom&&c<a.display.viewTo)return a.display.view[ai(a,c)];var m=a.display.externalMeasured;if(m&&c>=m.lineN&&c<m.lineN+m.size)return m}function $t(a,c){var m=Mt(c),g=Nt(a,m);g&&!g.text?g=null:g&&g.changes&&(ro(a,g,m,Vu(a)),a.curOp.forceUpdate=!0),g||(g=Tt(a,c));var y=ht(g,c,m);return{line:c,view:g,rect:null,map:y.map,cache:y.cache,before:y.before,hasHeights:!1}}function se(a,c,m,g,y){c.before&&(m=-1);var E=m+(g||""),I;return c.cache.hasOwnProperty(E)?I=c.cache[E]:(c.rect||(c.rect=c.view.text.getBoundingClientRect()),c.hasHeights||(tt(a,c.view,c.rect),c.hasHeights=!0),I=Ur(a,c,m,g),I.bogus||(c.cache[E]=I)),{left:I.left,right:I.right,top:y?I.rtop:I.top,bottom:y?I.rbottom:I.bottom}}var He={left:0,right:0,top:0,bottom:0};function Le(a,c,m){for(var g,y,E,I,V,K,Y=0;Y<a.length;Y+=3)if(V=a[Y],K=a[Y+1],c<V?(y=0,E=1,I="left"):c<K?(y=c-V,E=y+1):(Y==a.length-3||c==K&&a[Y+3]>c)&&(E=K-V,y=E-1,c>=K&&(I="right")),y!=null){if(g=a[Y+2],V==K&&m==(g.insertLeft?"left":"right")&&(I=m),m=="left"&&y==0)for(;Y&&a[Y-2]==a[Y-3]&&a[Y-1].insertLeft;)g=a[(Y-=3)+2],I="left";if(m=="right"&&y==K-V)for(;Y<a.length-3&&a[Y+3]==a[Y+4]&&!a[Y+5].insertLeft;)g=a[(Y+=3)+2],I="right";break}return{node:g,start:y,end:E,collapse:I,coverStart:V,coverEnd:K}}function Or(a,c){var m=He;if(c=="left")for(var g=0;g<a.length&&(m=a[g]).left==m.right;g++);else for(var y=a.length-1;y>=0&&(m=a[y]).left==m.right;y--);return m}function Ur(a,c,m,g){var y=Le(c.map,m,g),E=y.node,I=y.start,V=y.end,K=y.collapse,Y;if(E.nodeType==3){for(var ft=0;ft<4;ft++){for(;I&&Dt(c.line.text.charAt(y.coverStart+I));)--I;for(;y.coverStart+V<y.coverEnd&&Dt(c.line.text.charAt(y.coverStart+V));)++V;if(s&&f<9&&I==0&&V==y.coverEnd-y.coverStart?Y=E.parentNode.getBoundingClientRect():Y=Or($(E,I,V).getClientRects(),g),Y.left||Y.right||I==0)break;V=I,I=I-1,K="right"}s&&f<11&&(Y=Hs(a.display.measure,Y))}else{I>0&&(K=g="right");var gt;a.options.lineWrapping&&(gt=E.getClientRects()).length>1?Y=gt[g=="right"?gt.length-1:0]:Y=E.getBoundingClientRect()}if(s&&f<9&&!I&&(!Y||!Y.left&&!Y.right)){var It=E.parentNode.getClientRects()[0];It?Y={left:It.left,right:It.left+Ii(a.display),top:It.top,bottom:It.bottom}:Y=He}for(var kt=Y.top-c.rect.top,Gt=Y.bottom-c.rect.top,Qt=(kt+Gt)/2,ie=c.view.measure.heights,fe=0;fe<ie.length-1&&!(Qt<ie[fe]);fe++);var he=fe?ie[fe-1]:0,pe=ie[fe],ge={left:(K=="right"?Y.right:Y.left)-c.rect.left,right:(K=="left"?Y.left:Y.right)-c.rect.left,top:he,bottom:pe};return!Y.left&&!Y.right&&(ge.bogus=!0),a.options.singleCursorHeightPerLine||(ge.rtop=kt,ge.rbottom=Gt),ge}function Hs(a,c){if(!window.screen||screen.logicalXDPI==null||screen.logicalXDPI==screen.deviceXDPI||!hr(a))return c;var m=screen.logicalXDPI/screen.deviceXDPI,g=screen.logicalYDPI/screen.deviceYDPI;return{left:c.left*m,right:c.right*m,top:c.top*g,bottom:c.bottom*g}}function Ma(a){if(a.measure&&(a.measure.cache={},a.measure.heights=null,a.rest))for(var c=0;c<a.rest.length;c++)a.measure.caches[c]={}}function ep(a){a.display.externalMeasure=null,R(a.display.lineMeasure);for(var c=0;c<a.display.view.length;c++)Ma(a.display.view[c])}function Na(a){ep(a),a.display.cachedCharWidth=a.display.cachedTextHeight=a.display.cachedPaddingH=null,a.options.lineWrapping||(a.display.maxLineChanged=!0),a.display.lineNumChars=null}function rp(){return d&&C?-(document.body.getBoundingClientRect().left-parseInt(getComputedStyle(document.body).marginLeft)):window.pageXOffset||(document.documentElement||document.body).scrollLeft}function np(){return d&&C?-(document.body.getBoundingClientRect().top-parseInt(getComputedStyle(document.body).marginTop)):window.pageYOffset||(document.documentElement||document.body).scrollTop}function Ru(a){var c=0;if(a.widgets)for(var m=0;m<a.widgets.length;++m)a.widgets[m].above&&(c+=Ho(a.widgets[m]));return c}function Fs(a,c,m,g,y){if(!y){var E=Ru(c);m.top+=E,m.bottom+=E}if(g=="line")return m;g||(g="local");var I=Rn(c);if(g=="local"?I+=Fo(a.display):I-=a.display.viewOffset,g=="page"||g=="window"){var V=a.display.lineSpace.getBoundingClientRect();I+=V.top+(g=="window"?0:np());var K=V.left+(g=="window"?0:rp());m.left+=K,m.right+=K}return m.top+=I,m.bottom+=I,m}function op(a,c,m){if(m=="div")return c;var g=c.left,y=c.top;if(m=="page")g-=rp(),y-=np();else if(m=="local"||!m){var E=a.display.sizer.getBoundingClientRect();g+=E.left,y+=E.top}var I=a.display.lineSpace.getBoundingClientRect();return{left:g-I.left,top:y-I.top}}function Vs(a,c,m,g,y){return g||(g=O(a.doc,c.line)),Fs(a,g,Rt(a,g,c.ch,y),m)}function qn(a,c,m,g,y,E){g=g||O(a.doc,c.line),y||(y=$t(a,g));function I(Gt,Qt){var ie=se(a,y,Gt,Qt?"right":"left",E);return Qt?ie.left=ie.right:ie.right=ie.left,Fs(a,g,ie,m)}var V=J(g,a.doc.direction),K=c.ch,Y=c.sticky;if(K>=g.text.length?(K=g.text.length,Y="before"):K<=0&&(K=0,Y="after"),!V)return I(Y=="before"?K-1:K,Y=="before");function ft(Gt,Qt,ie){var fe=V[Qt],he=fe.level==1;return I(ie?Gt-1:Gt,he!=ie)}var gt=nt(V,K,Y),It=de,kt=ft(K,gt,Y=="before");return It!=null&&(kt.other=ft(K,It,Y!="before")),kt}function ip(a,c){var m=0;c=te(a.doc,c),a.options.lineWrapping||(m=Ii(a.display)*c.ch);var g=O(a.doc,c.line),y=Rn(g)+Fo(a.display);return{left:m,right:m,top:y,bottom:y+g.height}}function ju(a,c,m,g,y){var E=Ht(a,c,m);return E.xRel=y,g&&(E.outside=g),E}function Hu(a,c,m){var g=a.doc;if(m+=a.display.viewOffset,m<0)return ju(g.first,0,null,-1,-1);var y=ce(g,m),E=g.first+g.size-1;if(y>E)return ju(g.first+g.size-1,O(g,E).text.length,null,1,1);c<0&&(c=0);for(var I=O(g,y);;){var V=Sv(a,I,y,c,m),K=Ke(I,V.ch+(V.xRel>0||V.outside>0?1:0));if(!K)return V;var Y=K.find(1);if(Y.line==y)return Y;I=O(g,y=Y.line)}}function ap(a,c,m,g){g-=Ru(c);var y=c.text.length,E=ee(function(I){return se(a,m,I-1).bottom<=g},y,0);return y=ee(function(I){return se(a,m,I).top>g},E,y),{begin:E,end:y}}function sp(a,c,m,g){m||(m=$t(a,c));var y=Fs(a,c,se(a,m,g),"line").top;return ap(a,c,m,y)}function Fu(a,c,m,g){return a.bottom<=m?!1:a.top>m?!0:(g?a.left:a.right)>c}function Sv(a,c,m,g,y){y-=Rn(c);var E=$t(a,c),I=Ru(c),V=0,K=c.text.length,Y=!0,ft=J(c,a.doc.direction);if(ft){var gt=(a.options.lineWrapping?xv:Ev)(a,c,m,E,ft,g,y);Y=gt.level!=1,V=Y?gt.from:gt.to-1,K=Y?gt.to:gt.from-1}var It=null,kt=null,Gt=ee(function(Se){var Te=se(a,E,Se);return Te.top+=I,Te.bottom+=I,Fu(Te,g,y,!1)?(Te.top<=y&&Te.left<=g&&(It=Se,kt=Te),!0):!1},V,K),Qt,ie,fe=!1;if(kt){var he=g-kt.left<kt.right-g,pe=he==Y;Gt=It+(pe?0:1),ie=pe?"after":"before",Qt=he?kt.left:kt.right}else{!Y&&(Gt==K||Gt==V)&&Gt++,ie=Gt==0?"after":Gt==c.text.length?"before":se(a,E,Gt-(Y?1:0)).bottom+I<=y==Y?"after":"before";var ge=qn(a,Ht(m,Gt,ie),"line",c,E);Qt=ge.left,fe=y<ge.top?-1:y>=ge.bottom?1:0}return Gt=At(c.text,Gt,1),ju(m,Gt,ie,fe,g-Qt)}function Ev(a,c,m,g,y,E,I){var V=ee(function(gt){var It=y[gt],kt=It.level!=1;return Fu(qn(a,Ht(m,kt?It.to:It.from,kt?"before":"after"),"line",c,g),E,I,!0)},0,y.length-1),K=y[V];if(V>0){var Y=K.level!=1,ft=qn(a,Ht(m,Y?K.from:K.to,Y?"after":"before"),"line",c,g);Fu(ft,E,I,!0)&&ft.top>I&&(K=y[V-1])}return K}function xv(a,c,m,g,y,E,I){var V=ap(a,c,g,I),K=V.begin,Y=V.end;/\s/.test(c.text.charAt(Y-1))&&Y--;for(var ft=null,gt=null,It=0;It<y.length;It++){var kt=y[It];if(!(kt.from>=Y||kt.to<=K)){var Gt=kt.level!=1,Qt=se(a,g,Gt?Math.min(Y,kt.to)-1:Math.max(K,kt.from)).right,ie=Qt<E?E-Qt+1e9:Qt-E;(!ft||gt>ie)&&(ft=kt,gt=ie)}}return ft||(ft=y[y.length-1]),ft.from<K&&(ft={from:K,to:ft.to,level:ft.level}),ft.to>Y&&(ft={from:ft.from,to:Y,level:ft.level}),ft}var oi;function Li(a){if(a.cachedTextHeight!=null)return a.cachedTextHeight;if(oi==null){oi=z("pre",null,"CodeMirror-line-like");for(var c=0;c<49;++c)oi.appendChild(document.createTextNode("x")),oi.appendChild(z("br"));oi.appendChild(document.createTextNode("x"))}M(a.measure,oi);var m=oi.offsetHeight/50;return m>3&&(a.cachedTextHeight=m),R(a.measure),m||1}function Ii(a){if(a.cachedCharWidth!=null)return a.cachedCharWidth;var c=z("span","xxxxxxxxxx"),m=z("pre",[c],"CodeMirror-line-like");M(a.measure,m);var g=c.getBoundingClientRect(),y=(g.right-g.left)/10;return y>2&&(a.cachedCharWidth=y),y||10}function Vu(a){for(var c=a.display,m={},g={},y=c.gutters.clientLeft,E=c.gutters.firstChild,I=0;E;E=E.nextSibling,++I){var V=a.display.gutterSpecs[I].className;m[V]=E.offsetLeft+E.clientLeft+y,g[V]=E.clientWidth}return{fixedPos:Uu(c),gutterTotalWidth:c.gutters.offsetWidth,gutterLeft:m,gutterWidth:g,wrapperWidth:c.wrapper.clientWidth}}function Uu(a){return a.scroller.getBoundingClientRect().left-a.sizer.getBoundingClientRect().left}function lp(a){var c=Li(a.display),m=a.options.lineWrapping,g=m&&Math.max(5,a.display.scroller.clientWidth/Ii(a.display)-3);return function(y){if($r(a.doc,y))return 0;var E=0;if(y.widgets)for(var I=0;I<y.widgets.length;I++)y.widgets[I].height&&(E+=y.widgets[I].height);return m?E+(Math.ceil(y.text.length/g)||1)*c:E+c}}function Bu(a){var c=a.doc,m=lp(a);c.iter(function(g){var y=m(g);y!=g.height&&ct(g,y)})}function ii(a,c,m,g){var y=a.display;if(!m&&_t(c).getAttribute("cm-not-content")=="true")return null;var E,I,V=y.lineSpace.getBoundingClientRect();try{E=c.clientX-V.left,I=c.clientY-V.top}catch{return null}var K=Hu(a,E,I),Y;if(g&&K.xRel>0&&(Y=O(a.doc,K.line).text).length==K.ch){var ft=bt(Y,Y.length,a.options.tabSize)-Y.length;K=Ht(K.line,Math.max(0,Math.round((E-js(a.display).left)/Ii(a.display))-ft))}return K}function ai(a,c){if(c>=a.display.viewTo||(c-=a.display.viewFrom,c<0))return null;for(var m=a.display.view,g=0;g<m.length;g++)if(c-=m[g].size,c<0)return g}function Zr(a,c,m,g){c==null&&(c=a.doc.first),m==null&&(m=a.doc.first+a.doc.size),g||(g=0);var y=a.display;if(g&&m<y.viewTo&&(y.updateLineNumbers==null||y.updateLineNumbers>c)&&(y.updateLineNumbers=c),a.curOp.viewChanged=!0,c>=y.viewTo)Er&&Dn(a.doc,c)<y.viewTo&&Uo(a);else if(m<=y.viewFrom)Er&&Xr(a.doc,m+g)>y.viewFrom?Uo(a):(y.viewFrom+=g,y.viewTo+=g);else if(c<=y.viewFrom&&m>=y.viewTo)Uo(a);else if(c<=y.viewFrom){var E=Us(a,m,m+g,1);E?(y.view=y.view.slice(E.index),y.viewFrom=E.lineN,y.viewTo+=g):Uo(a)}else if(m>=y.viewTo){var I=Us(a,c,c,-1);I?(y.view=y.view.slice(0,I.index),y.viewTo=I.lineN):Uo(a)}else{var V=Us(a,c,c,-1),K=Us(a,m,m+g,1);V&&K?(y.view=y.view.slice(0,V.index).concat(Mi(a,V.lineN,K.lineN)).concat(y.view.slice(K.index)),y.viewTo+=g):Uo(a)}var Y=y.externalMeasured;Y&&(m<Y.lineN?Y.lineN+=g:c<Y.lineN+Y.size&&(y.externalMeasured=null))}function Vo(a,c,m){a.curOp.viewChanged=!0;var g=a.display,y=a.display.externalMeasured;if(y&&c>=y.lineN&&c<y.lineN+y.size&&(g.externalMeasured=null),!(c<g.viewFrom||c>=g.viewTo)){var E=g.view[ai(a,c)];if(E.node!=null){var I=E.changes||(E.changes=[]);lt(I,m)==-1&&I.push(m)}}}function Uo(a){a.display.viewFrom=a.display.viewTo=a.doc.first,a.display.view=[],a.display.viewOffset=0}function Us(a,c,m,g){var y=ai(a,c),E,I=a.display.view;if(!Er||m==a.doc.first+a.doc.size)return{index:y,lineN:m};for(var V=a.display.viewFrom,K=0;K<y;K++)V+=I[K].size;if(V!=c){if(g>0){if(y==I.length-1)return null;E=V+I[y].size-c,y++}else E=V-c;c+=E,m+=E}for(;Dn(a.doc,m)!=m;){if(y==(g<0?0:I.length-1))return null;m+=g*I[y-(g<0?1:0)].size,y+=g}return{index:y,lineN:m}}function Ov(a,c,m){var g=a.display,y=g.view;y.length==0||c>=g.viewTo||m<=g.viewFrom?(g.view=Mi(a,c,m),g.viewFrom=c):(g.viewFrom>c?g.view=Mi(a,c,g.viewFrom).concat(g.view):g.viewFrom<c&&(g.view=g.view.slice(ai(a,c))),g.viewFrom=c,g.viewTo<m?g.view=g.view.concat(Mi(a,g.viewTo,m)):g.viewTo>m&&(g.view=g.view.slice(0,ai(a,m)))),g.viewTo=m}function up(a){for(var c=a.display.view,m=0,g=0;g<c.length;g++){var y=c[g];!y.hidden&&(!y.node||y.changes)&&++m}return m}function La(a){a.display.input.showSelection(a.display.input.prepareSelection())}function cp(a,c){c===void 0&&(c=!0);for(var m=a.doc,g={},y=g.cursors=document.createDocumentFragment(),E=g.selection=document.createDocumentFragment(),I=0;I<m.sel.ranges.length;I++)if(!(!c&&I==m.sel.primIndex)){var V=m.sel.ranges[I];if(!(V.from().line>=a.display.viewTo||V.to().line<a.display.viewFrom)){var K=V.empty();(K||a.options.showCursorWhenSelecting)&&fp(a,V.head,y),K||Av(a,V,E)}}return g}function fp(a,c,m){var g=qn(a,c,"div",null,null,!a.options.singleCursorHeightPerLine),y=m.appendChild(z("div"," ","CodeMirror-cursor"));if(y.style.left=g.left+"px",y.style.top=g.top+"px",y.style.height=Math.max(0,g.bottom-g.top)*a.options.cursorHeight+"px",/\bcm-fat-cursor\b/.test(a.getWrapperElement().className)){var E=Vs(a,c,"div",null,null);E.right-E.left>0&&(y.style.width=E.right-E.left+"px")}if(g.other){var I=m.appendChild(z("div"," ","CodeMirror-cursor CodeMirror-secondarycursor"));I.style.display="",I.style.left=g.other.left+"px",I.style.top=g.other.top+"px",I.style.height=(g.other.bottom-g.other.top)*.85+"px"}}function Bs(a,c){return a.top-c.top||a.left-c.left}function Av(a,c,m){var g=a.display,y=a.doc,E=document.createDocumentFragment(),I=js(a.display),V=I.left,K=Math.max(g.sizerWidth,go(a)-g.sizer.offsetLeft)-I.right,Y=y.direction=="ltr";function ft(pe,ge,Se,Te){ge<0&&(ge=0),ge=Math.round(ge),Te=Math.round(Te),E.appendChild(z("div",null,"CodeMirror-selected","position: absolute; left: "+pe+`px;
                             top: `+ge+"px; width: "+(Se??K-pe)+`px;
                             height: `+(Te-ge)+"px"))}function gt(pe,ge,Se){var Te=O(y,pe),Be=Te.text.length,or,Lr;function dr(Cr,tn){return Vs(a,Ht(pe,Cr),"div",Te,tn)}function hn(Cr,tn,jr){var Ar=sp(a,Te,null,Cr),wr=tn=="ltr"==(jr=="after")?"left":"right",gr=jr=="after"?Ar.begin:Ar.end-(/\s/.test(Te.text.charAt(Ar.end-1))?2:1);return dr(gr,wr)[wr]}var Jr=J(Te,y.direction);return Ce(Jr,ge||0,Se??Be,function(Cr,tn,jr,Ar){var wr=jr=="ltr",gr=dr(Cr,wr?"left":"right"),en=dr(tn-1,wr?"right":"left"),qi=ge==null&&Cr==0,qo=Se==null&&tn==Be,Wr=Ar==0,no=!Jr||Ar==Jr.length-1;if(en.top-gr.top<=3){var Ir=(Y?qi:qo)&&Wr,hc=(Y?qo:qi)&&no,yo=Ir?V:(wr?gr:en).left,fi=hc?K:(wr?en:gr).right;ft(yo,gr.top,fi-yo,gr.bottom)}else{var pi,qr,Yi,vc;wr?(pi=Y&&qi&&Wr?V:gr.left,qr=Y?K:hn(Cr,jr,"before"),Yi=Y?V:hn(tn,jr,"after"),vc=Y&&qo&&no?K:en.right):(pi=Y?hn(Cr,jr,"before"):V,qr=!Y&&qi&&Wr?K:gr.right,Yi=!Y&&qo&&no?V:en.left,vc=Y?hn(tn,jr,"after"):K),ft(pi,gr.top,qr-pi,gr.bottom),gr.bottom<en.top&&ft(V,gr.bottom,null,en.top),ft(Yi,en.top,vc-Yi,en.bottom)}(!or||Bs(gr,or)<0)&&(or=gr),Bs(en,or)<0&&(or=en),(!Lr||Bs(gr,Lr)<0)&&(Lr=gr),Bs(en,Lr)<0&&(Lr=en)}),{start:or,end:Lr}}var It=c.from(),kt=c.to();if(It.line==kt.line)gt(It.line,It.ch,kt.ch);else{var Gt=O(y,It.line),Qt=O(y,kt.line),ie=cr(Gt)==cr(Qt),fe=gt(It.line,It.ch,ie?Gt.text.length+1:null).end,he=gt(kt.line,ie?0:null,kt.ch).start;ie&&(fe.top<he.top-2?(ft(fe.right,fe.top,null,fe.bottom),ft(V,he.top,he.left,he.bottom)):ft(fe.right,fe.top,he.left-fe.right,fe.bottom)),fe.bottom<he.top&&ft(V,fe.bottom,null,he.top)}m.appendChild(E)}function Wu(a){if(a.state.focused){var c=a.display;clearInterval(c.blinker);var m=!0;c.cursorDiv.style.visibility="",a.options.cursorBlinkRate>0?c.blinker=setInterval(function(){a.hasFocus()||Di(a),c.cursorDiv.style.visibility=(m=!m)?"":"hidden"},a.options.cursorBlinkRate):a.options.cursorBlinkRate<0&&(c.cursorDiv.style.visibility="hidden")}}function pp(a){a.hasFocus()||(a.display.input.focus(),a.state.focused||Ku(a))}function zu(a){a.state.delayingBlurEvent=!0,setTimeout(function(){a.state.delayingBlurEvent&&(a.state.delayingBlurEvent=!1,a.state.focused&&Di(a))},100)}function Ku(a,c){a.state.delayingBlurEvent&&!a.state.draggingText&&(a.state.delayingBlurEvent=!1),a.options.readOnly!="nocursor"&&(a.state.focused||(le(a,"focus",a,c),a.state.focused=!0,q(a.display.wrapper,"CodeMirror-focused"),!a.curOp&&a.display.selForContextMenu!=a.doc.sel&&(a.display.input.reset(),u&&setTimeout(function(){return a.display.input.reset(!0)},20)),a.display.input.receivedFocus()),Wu(a))}function Di(a,c){a.state.delayingBlurEvent||(a.state.focused&&(le(a,"blur",a,c),a.state.focused=!1,D(a.display.wrapper,"CodeMirror-focused")),clearInterval(a.display.blinker),setTimeout(function(){a.state.focused||(a.display.shift=!1)},150))}function Ws(a){for(var c=a.display,m=c.lineDiv.offsetTop,g=Math.max(0,c.scroller.getBoundingClientRect().top),y=c.lineDiv.getBoundingClientRect().top,E=0,I=0;I<c.view.length;I++){var V=c.view[I],K=a.options.lineWrapping,Y=void 0,ft=0;if(!V.hidden){if(y+=V.line.height,s&&f<8){var gt=V.node.offsetTop+V.node.offsetHeight;Y=gt-m,m=gt}else{var It=V.node.getBoundingClientRect();Y=It.bottom-It.top,!K&&V.text.firstChild&&(ft=V.text.firstChild.getBoundingClientRect().right-It.left-1)}var kt=V.line.height-Y;if((kt>.005||kt<-.005)&&(y<g&&(E-=kt),ct(V.line,Y),dp(V.line),V.rest))for(var Gt=0;Gt<V.rest.length;Gt++)dp(V.rest[Gt]);if(ft>a.display.sizerWidth){var Qt=Math.ceil(ft/Ii(a.display));Qt>a.display.maxLineLength&&(a.display.maxLineLength=Qt,a.display.maxLine=V.line,a.display.maxLineChanged=!0)}}}Math.abs(E)>2&&(c.scroller.scrollTop+=E)}function dp(a){if(a.widgets)for(var c=0;c<a.widgets.length;++c){var m=a.widgets[c],g=m.node.parentNode;g&&(m.height=g.offsetHeight)}}function zs(a,c,m){var g=m&&m.top!=null?Math.max(0,m.top):a.scroller.scrollTop;g=Math.floor(g-Fo(a));var y=m&&m.bottom!=null?m.bottom:g+a.wrapper.clientHeight,E=ce(c,g),I=ce(c,y);if(m&&m.ensure){var V=m.ensure.from.line,K=m.ensure.to.line;V<E?(E=V,I=ce(c,Rn(O(c,V))+a.wrapper.clientHeight)):Math.min(K,c.lastLine())>=I&&(E=ce(c,Rn(O(c,K))-a.wrapper.clientHeight),I=K)}return{from:E,to:Math.max(I,E+1)}}function Pv(a,c){if(!oe(a,"scrollCursorIntoView")){var m=a.display,g=m.sizer.getBoundingClientRect(),y=null;if(c.top+g.top<0?y=!0:c.bottom+g.top>(window.innerHeight||document.documentElement.clientHeight)&&(y=!1),y!=null&&!T){var E=z("div","​",null,`position: absolute;
                         top: `+(c.top-m.viewOffset-Fo(a.display))+`px;
                         height: `+(c.bottom-c.top+pn(a)+m.barHeight)+`px;
                         left: `+c.left+"px; width: "+Math.max(2,c.right-c.left)+"px;");a.display.lineSpace.appendChild(E),E.scrollIntoView(y),a.display.lineSpace.removeChild(E)}}}function kv(a,c,m,g){g==null&&(g=0);var y;!a.options.lineWrapping&&c==m&&(m=c.sticky=="before"?Ht(c.line,c.ch+1,"before"):c,c=c.ch?Ht(c.line,c.sticky=="before"?c.ch-1:c.ch,"after"):c);for(var E=0;E<5;E++){var I=!1,V=qn(a,c),K=!m||m==c?V:qn(a,m);y={left:Math.min(V.left,K.left),top:Math.min(V.top,K.top)-g,right:Math.max(V.left,K.left),bottom:Math.max(V.bottom,K.bottom)+g};var Y=Gu(a,y),ft=a.doc.scrollTop,gt=a.doc.scrollLeft;if(Y.scrollTop!=null&&(Da(a,Y.scrollTop),Math.abs(a.doc.scrollTop-ft)>1&&(I=!0)),Y.scrollLeft!=null&&(si(a,Y.scrollLeft),Math.abs(a.doc.scrollLeft-gt)>1&&(I=!0)),!I)break}return y}function Mv(a,c){var m=Gu(a,c);m.scrollTop!=null&&Da(a,m.scrollTop),m.scrollLeft!=null&&si(a,m.scrollLeft)}function Gu(a,c){var m=a.display,g=Li(a.display);c.top<0&&(c.top=0);var y=a.curOp&&a.curOp.scrollTop!=null?a.curOp.scrollTop:m.scroller.scrollTop,E=G(a),I={};c.bottom-c.top>E&&(c.bottom=c.top+E);var V=a.doc.height+ni(m),K=c.top<g,Y=c.bottom>V-g;if(c.top<y)I.scrollTop=K?0:c.top;else if(c.bottom>y+E){var ft=Math.min(c.top,(Y?V:c.bottom)-E);ft!=y&&(I.scrollTop=ft)}var gt=a.options.fixedGutter?0:m.gutters.offsetWidth,It=a.curOp&&a.curOp.scrollLeft!=null?a.curOp.scrollLeft:m.scroller.scrollLeft-gt,kt=go(a)-m.gutters.offsetWidth,Gt=c.right-c.left>kt;return Gt&&(c.right=c.left+kt),c.left<10?I.scrollLeft=0:c.left<It?I.scrollLeft=Math.max(0,c.left+gt-(Gt?0:10)):c.right>kt+It-3&&(I.scrollLeft=c.right+(Gt?0:10)-kt),I}function qu(a,c){c!=null&&(Ks(a),a.curOp.scrollTop=(a.curOp.scrollTop==null?a.doc.scrollTop:a.curOp.scrollTop)+c)}function Ri(a){Ks(a);var c=a.getCursor();a.curOp.scrollToPos={from:c,to:c,margin:a.options.cursorScrollMargin}}function Ia(a,c,m){(c!=null||m!=null)&&Ks(a),c!=null&&(a.curOp.scrollLeft=c),m!=null&&(a.curOp.scrollTop=m)}function Nv(a,c){Ks(a),a.curOp.scrollToPos=c}function Ks(a){var c=a.curOp.scrollToPos;if(c){a.curOp.scrollToPos=null;var m=ip(a,c.from),g=ip(a,c.to);hp(a,m,g,c.margin)}}function hp(a,c,m,g){var y=Gu(a,{left:Math.min(c.left,m.left),top:Math.min(c.top,m.top)-g,right:Math.max(c.right,m.right),bottom:Math.max(c.bottom,m.bottom)+g});Ia(a,y.scrollLeft,y.scrollTop)}function Da(a,c){Math.abs(a.doc.scrollTop-c)<2||(e||Xu(a,{top:c}),vp(a,c,!0),e&&Xu(a),Ha(a,100))}function vp(a,c,m){c=Math.max(0,Math.min(a.display.scroller.scrollHeight-a.display.scroller.clientHeight,c)),!(a.display.scroller.scrollTop==c&&!m)&&(a.doc.scrollTop=c,a.display.scrollbars.setScrollTop(c),a.display.scroller.scrollTop!=c&&(a.display.scroller.scrollTop=c))}function si(a,c,m,g){c=Math.max(0,Math.min(c,a.display.scroller.scrollWidth-a.display.scroller.clientWidth)),!((m?c==a.doc.scrollLeft:Math.abs(a.doc.scrollLeft-c)<2)&&!g)&&(a.doc.scrollLeft=c,bp(a),a.display.scroller.scrollLeft!=c&&(a.display.scroller.scrollLeft=c),a.display.scrollbars.setScrollLeft(c))}function Ra(a){var c=a.display,m=c.gutters.offsetWidth,g=Math.round(a.doc.height+ni(a.display));return{clientHeight:c.scroller.clientHeight,viewHeight:c.wrapper.clientHeight,scrollWidth:c.scroller.scrollWidth,clientWidth:c.scroller.clientWidth,viewWidth:c.wrapper.clientWidth,barLeft:a.options.fixedGutter?m:0,docHeight:g,scrollHeight:g+pn(a)+c.barHeight,nativeBarWidth:c.nativeBarWidth,gutterWidth:m}}var li=function(a,c,m){this.cm=m;var g=this.vert=z("div",[z("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),y=this.horiz=z("div",[z("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");g.tabIndex=y.tabIndex=-1,a(g),a(y),Lt(g,"scroll",function(){g.clientHeight&&c(g.scrollTop,"vertical")}),Lt(y,"scroll",function(){y.clientWidth&&c(y.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,s&&f<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};li.prototype.update=function(a){var c=a.scrollWidth>a.clientWidth+1,m=a.scrollHeight>a.clientHeight+1,g=a.nativeBarWidth;if(m){this.vert.style.display="block",this.vert.style.bottom=c?g+"px":"0";var y=a.viewHeight-(c?g:0);this.vert.firstChild.style.height=Math.max(0,a.scrollHeight-a.clientHeight+y)+"px"}else this.vert.style.display="",this.vert.firstChild.style.height="0";if(c){this.horiz.style.display="block",this.horiz.style.right=m?g+"px":"0",this.horiz.style.left=a.barLeft+"px";var E=a.viewWidth-a.barLeft-(m?g:0);this.horiz.firstChild.style.width=Math.max(0,a.scrollWidth-a.clientWidth+E)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&a.clientHeight>0&&(g==0&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:m?g:0,bottom:c?g:0}},li.prototype.setScrollLeft=function(a){this.horiz.scrollLeft!=a&&(this.horiz.scrollLeft=a),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},li.prototype.setScrollTop=function(a){this.vert.scrollTop!=a&&(this.vert.scrollTop=a),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},li.prototype.zeroWidthHack=function(){var a=S&&!_?"12px":"18px";this.horiz.style.height=this.vert.style.width=a,this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none",this.disableHoriz=new at,this.disableVert=new at},li.prototype.enableZeroWidthBar=function(a,c,m){a.style.pointerEvents="auto";function g(){var y=a.getBoundingClientRect(),E=m=="vert"?document.elementFromPoint(y.right-1,(y.top+y.bottom)/2):document.elementFromPoint((y.right+y.left)/2,y.bottom-1);E!=a?a.style.pointerEvents="none":c.set(1e3,g)}c.set(1e3,g)},li.prototype.clear=function(){var a=this.horiz.parentNode;a.removeChild(this.horiz),a.removeChild(this.vert)};var ja=function(){};ja.prototype.update=function(){return{bottom:0,right:0}},ja.prototype.setScrollLeft=function(){},ja.prototype.setScrollTop=function(){},ja.prototype.clear=function(){};function ji(a,c){c||(c=Ra(a));var m=a.display.barWidth,g=a.display.barHeight;gp(a,c);for(var y=0;y<4&&m!=a.display.barWidth||g!=a.display.barHeight;y++)m!=a.display.barWidth&&a.options.lineWrapping&&Ws(a),gp(a,Ra(a)),m=a.display.barWidth,g=a.display.barHeight}function gp(a,c){var m=a.display,g=m.scrollbars.update(c);m.sizer.style.paddingRight=(m.barWidth=g.right)+"px",m.sizer.style.paddingBottom=(m.barHeight=g.bottom)+"px",m.heightForcer.style.borderBottom=g.bottom+"px solid transparent",g.right&&g.bottom?(m.scrollbarFiller.style.display="block",m.scrollbarFiller.style.height=g.bottom+"px",m.scrollbarFiller.style.width=g.right+"px"):m.scrollbarFiller.style.display="",g.bottom&&a.options.coverGutterNextToScrollbar&&a.options.fixedGutter?(m.gutterFiller.style.display="block",m.gutterFiller.style.height=g.bottom+"px",m.gutterFiller.style.width=c.gutterWidth+"px"):m.gutterFiller.style.display=""}var mp={native:li,null:ja};function yp(a){a.display.scrollbars&&(a.display.scrollbars.clear(),a.display.scrollbars.addClass&&D(a.display.wrapper,a.display.scrollbars.addClass)),a.display.scrollbars=new mp[a.options.scrollbarStyle](function(c){a.display.wrapper.insertBefore(c,a.display.scrollbarFiller),Lt(c,"mousedown",function(){a.state.focused&&setTimeout(function(){return a.display.input.focus()},0)}),c.setAttribute("cm-not-content","true")},function(c,m){m=="horizontal"?si(a,c):Da(a,c)},a),a.display.scrollbars.addClass&&q(a.display.wrapper,a.display.scrollbars.addClass)}var Lv=0;function ui(a){a.curOp={cm:a,viewChanged:!1,startHeight:a.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++Lv,markArrays:null},Ns(a.curOp)}function ci(a){var c=a.curOp;c&&Oa(c,function(m){for(var g=0;g<m.ops.length;g++)m.ops[g].cm.curOp=null;Iv(m)})}function Iv(a){for(var c=a.ops,m=0;m<c.length;m++)Dv(c[m]);for(var g=0;g<c.length;g++)Rv(c[g]);for(var y=0;y<c.length;y++)jv(c[y]);for(var E=0;E<c.length;E++)Hv(c[E]);for(var I=0;I<c.length;I++)Fv(c[I])}function Dv(a){var c=a.cm,m=c.display;Uv(c),a.updateMaxLine&&No(c),a.mustUpdate=a.viewChanged||a.forceUpdate||a.scrollTop!=null||a.scrollToPos&&(a.scrollToPos.from.line<m.viewFrom||a.scrollToPos.to.line>=m.viewTo)||m.maxLineChanged&&c.options.lineWrapping,a.update=a.mustUpdate&&new Gs(c,a.mustUpdate&&{top:a.scrollTop,ensure:a.scrollToPos},a.forceUpdate)}function Rv(a){a.updatedDisplay=a.mustUpdate&&Yu(a.cm,a.update)}function jv(a){var c=a.cm,m=c.display;a.updatedDisplay&&Ws(c),a.barMeasure=Ra(c),m.maxLineChanged&&!c.options.lineWrapping&&(a.adjustWidthTo=Rt(c,m.maxLine,m.maxLine.text.length).left+3,c.display.sizerWidth=a.adjustWidthTo,a.barMeasure.scrollWidth=Math.max(m.scroller.clientWidth,m.sizer.offsetLeft+a.adjustWidthTo+pn(c)+c.display.barWidth),a.maxScrollLeft=Math.max(0,m.sizer.offsetLeft+a.adjustWidthTo-go(c))),(a.updatedDisplay||a.selectionChanged)&&(a.preparedSelection=m.input.prepareSelection())}function Hv(a){var c=a.cm;a.adjustWidthTo!=null&&(c.display.sizer.style.minWidth=a.adjustWidthTo+"px",a.maxScrollLeft<c.doc.scrollLeft&&si(c,Math.min(c.display.scroller.scrollLeft,a.maxScrollLeft),!0),c.display.maxLineChanged=!1);var m=a.focus&&a.focus==rt();a.preparedSelection&&c.display.input.showSelection(a.preparedSelection,m),(a.updatedDisplay||a.startHeight!=c.doc.height)&&ji(c,a.barMeasure),a.updatedDisplay&&Zu(c,a.barMeasure),a.selectionChanged&&Wu(c),c.state.focused&&a.updateInput&&c.display.input.reset(a.typing),m&&pp(a.cm)}function Fv(a){var c=a.cm,m=c.display,g=c.doc;if(a.updatedDisplay&&_p(c,a.update),m.wheelStartX!=null&&(a.scrollTop!=null||a.scrollLeft!=null||a.scrollToPos)&&(m.wheelStartX=m.wheelStartY=null),a.scrollTop!=null&&vp(c,a.scrollTop,a.forceScroll),a.scrollLeft!=null&&si(c,a.scrollLeft,!0,!0),a.scrollToPos){var y=kv(c,te(g,a.scrollToPos.from),te(g,a.scrollToPos.to),a.scrollToPos.margin);Pv(c,y)}var E=a.maybeHiddenMarkers,I=a.maybeUnhiddenMarkers;if(E)for(var V=0;V<E.length;++V)E[V].lines.length||le(E[V],"hide");if(I)for(var K=0;K<I.length;++K)I[K].lines.length&&le(I[K],"unhide");m.wrapper.offsetHeight&&(g.scrollTop=c.display.scroller.scrollTop),a.changeObjs&&le(c,"changes",c,a.changeObjs),a.update&&a.update.finish()}function dn(a,c){if(a.curOp)return c();ui(a);try{return c()}finally{ci(a)}}function Mr(a,c){return function(){if(a.curOp)return c.apply(a,arguments);ui(a);try{return c.apply(a,arguments)}finally{ci(a)}}}function Gr(a){return function(){if(this.curOp)return a.apply(this,arguments);ui(this);try{return a.apply(this,arguments)}finally{ci(this)}}}function Nr(a){return function(){var c=this.cm;if(!c||c.curOp)return a.apply(this,arguments);ui(c);try{return a.apply(this,arguments)}finally{ci(c)}}}function Ha(a,c){a.doc.highlightFrontier<a.display.viewTo&&a.state.highlight.set(c,St(Vv,a))}function Vv(a){var c=a.doc;if(!(c.highlightFrontier>=a.display.viewTo)){var m=+new Date+a.options.workTime,g=ao(a,c.highlightFrontier),y=[];c.iter(g.line,Math.min(c.first+c.size,a.display.viewTo+500),function(E){if(g.line>=a.display.viewFrom){var I=E.styles,V=E.text.length>a.options.maxHighlightLength?Je(c.mode,g.state):null,K=cn(a,E,g,!0);V&&(g.state=V),E.styles=K.styles;var Y=E.styleClasses,ft=K.classes;ft?E.styleClasses=ft:Y&&(E.styleClasses=null);for(var gt=!I||I.length!=E.styles.length||Y!=ft&&(!Y||!ft||Y.bgClass!=ft.bgClass||Y.textClass!=ft.textClass),It=0;!gt&&It<I.length;++It)gt=I[It]!=E.styles[It];gt&&y.push(g.line),E.stateAfter=g.save(),g.nextLine()}else E.text.length<=a.options.maxHighlightLength&&so(a,E.text,g),E.stateAfter=g.line%5==0?g.save():null,g.nextLine();if(+new Date>m)return Ha(a,a.options.workDelay),!0}),c.highlightFrontier=g.line,c.modeFrontier=Math.max(c.modeFrontier,g.line),y.length&&dn(a,function(){for(var E=0;E<y.length;E++)Vo(a,y[E],"text")})}}var Gs=function(a,c,m){var g=a.display;this.viewport=c,this.visible=zs(g,a.doc,c),this.editorIsHidden=!g.wrapper.offsetWidth,this.wrapperHeight=g.wrapper.clientHeight,this.wrapperWidth=g.wrapper.clientWidth,this.oldDisplayWidth=go(a),this.force=m,this.dims=Vu(a),this.events=[]};Gs.prototype.signal=function(a,c){xe(a,c)&&this.events.push(arguments)},Gs.prototype.finish=function(){for(var a=0;a<this.events.length;a++)le.apply(null,this.events[a])};function Uv(a){var c=a.display;!c.scrollbarsClipped&&c.scroller.offsetWidth&&(c.nativeBarWidth=c.scroller.offsetWidth-c.scroller.clientWidth,c.heightForcer.style.height=pn(a)+"px",c.sizer.style.marginBottom=-c.nativeBarWidth+"px",c.sizer.style.borderRightWidth=pn(a)+"px",c.scrollbarsClipped=!0)}function Bv(a){if(a.hasFocus())return null;var c=rt();if(!c||!j(a.display.lineDiv,c))return null;var m={activeElt:c};if(window.getSelection){var g=window.getSelection();g.anchorNode&&g.extend&&j(a.display.lineDiv,g.anchorNode)&&(m.anchorNode=g.anchorNode,m.anchorOffset=g.anchorOffset,m.focusNode=g.focusNode,m.focusOffset=g.focusOffset)}return m}function Wv(a){if(!(!a||!a.activeElt||a.activeElt==rt())&&(a.activeElt.focus(),!/^(INPUT|TEXTAREA)$/.test(a.activeElt.nodeName)&&a.anchorNode&&j(document.body,a.anchorNode)&&j(document.body,a.focusNode))){var c=window.getSelection(),m=document.createRange();m.setEnd(a.anchorNode,a.anchorOffset),m.collapse(!1),c.removeAllRanges(),c.addRange(m),c.extend(a.focusNode,a.focusOffset)}}function Yu(a,c){var m=a.display,g=a.doc;if(c.editorIsHidden)return Uo(a),!1;if(!c.force&&c.visible.from>=m.viewFrom&&c.visible.to<=m.viewTo&&(m.updateLineNumbers==null||m.updateLineNumbers>=m.viewTo)&&m.renderedView==m.view&&up(a)==0)return!1;Tp(a)&&(Uo(a),c.dims=Vu(a));var y=g.first+g.size,E=Math.max(c.visible.from-a.options.viewportMargin,g.first),I=Math.min(y,c.visible.to+a.options.viewportMargin);m.viewFrom<E&&E-m.viewFrom<20&&(E=Math.max(g.first,m.viewFrom)),m.viewTo>I&&m.viewTo-I<20&&(I=Math.min(y,m.viewTo)),Er&&(E=Dn(a.doc,E),I=Xr(a.doc,I));var V=E!=m.viewFrom||I!=m.viewTo||m.lastWrapHeight!=c.wrapperHeight||m.lastWrapWidth!=c.wrapperWidth;Ov(a,E,I),m.viewOffset=Rn(O(a.doc,m.viewFrom)),a.display.mover.style.top=m.viewOffset+"px";var K=up(a);if(!V&&K==0&&!c.force&&m.renderedView==m.view&&(m.updateLineNumbers==null||m.updateLineNumbers>=m.viewTo))return!1;var Y=Bv(a);return K>4&&(m.lineDiv.style.display="none"),zv(a,m.updateLineNumbers,c.dims),K>4&&(m.lineDiv.style.display=""),m.renderedView=m.view,Wv(Y),R(m.cursorDiv),R(m.selectionDiv),m.gutters.style.height=m.sizer.style.minHeight=0,V&&(m.lastWrapHeight=c.wrapperHeight,m.lastWrapWidth=c.wrapperWidth,Ha(a,400)),m.updateLineNumbers=null,!0}function _p(a,c){for(var m=c.viewport,g=!0;;g=!1){if(!g||!a.options.lineWrapping||c.oldDisplayWidth==go(a)){if(m&&m.top!=null&&(m={top:Math.min(a.doc.height+ni(a.display)-G(a),m.top)}),c.visible=zs(a.display,a.doc,m),c.visible.from>=a.display.viewFrom&&c.visible.to<=a.display.viewTo)break}else g&&(c.visible=zs(a.display,a.doc,m));if(!Yu(a,c))break;Ws(a);var y=Ra(a);La(a),ji(a,y),Zu(a,y),c.force=!1}c.signal(a,"update",a),(a.display.viewFrom!=a.display.reportedViewFrom||a.display.viewTo!=a.display.reportedViewTo)&&(c.signal(a,"viewportChange",a,a.display.viewFrom,a.display.viewTo),a.display.reportedViewFrom=a.display.viewFrom,a.display.reportedViewTo=a.display.viewTo)}function Xu(a,c){var m=new Gs(a,c);if(Yu(a,m)){Ws(a),_p(a,m);var g=Ra(a);La(a),ji(a,g),Zu(a,g),m.finish()}}function zv(a,c,m){var g=a.display,y=a.options.lineNumbers,E=g.lineDiv,I=E.firstChild;function V(Gt){var Qt=Gt.nextSibling;return u&&S&&a.display.currentWheelTarget==Gt?Gt.style.display="none":Gt.parentNode.removeChild(Gt),Qt}for(var K=g.view,Y=g.viewFrom,ft=0;ft<K.length;ft++){var gt=K[ft];if(!gt.hidden)if(!gt.node||gt.node.parentNode!=E){var It=Ds(a,gt,Y,m);E.insertBefore(It,I)}else{for(;I!=gt.node;)I=V(I);var kt=y&&c!=null&&c<=Y&&gt.lineNumber;gt.changes&&(lt(gt.changes,"gutter")>-1&&(kt=!1),ro(a,gt,Y,m)),kt&&(R(gt.lineNumber),gt.lineNumber.appendChild(document.createTextNode(Ne(a.options,Y)))),I=gt.node.nextSibling}Y+=gt.size}for(;I;)I=V(I)}function $u(a){var c=a.gutters.offsetWidth;a.sizer.style.marginLeft=c+"px",vr(a,"gutterChanged",a)}function Zu(a,c){a.display.sizer.style.minHeight=c.docHeight+"px",a.display.heightForcer.style.top=c.docHeight+"px",a.display.gutters.style.height=c.docHeight+a.display.barHeight+pn(a)+"px"}function bp(a){var c=a.display,m=c.view;if(!(!c.alignWidgets&&(!c.gutters.firstChild||!a.options.fixedGutter))){for(var g=Uu(c)-c.scroller.scrollLeft+a.doc.scrollLeft,y=c.gutters.offsetWidth,E=g+"px",I=0;I<m.length;I++)if(!m[I].hidden){a.options.fixedGutter&&(m[I].gutter&&(m[I].gutter.style.left=E),m[I].gutterBackground&&(m[I].gutterBackground.style.left=E));var V=m[I].alignable;if(V)for(var K=0;K<V.length;K++)V[K].style.left=E}a.options.fixedGutter&&(c.gutters.style.left=g+y+"px")}}function Tp(a){if(!a.options.lineNumbers)return!1;var c=a.doc,m=Ne(a.options,c.first+c.size-1),g=a.display;if(m.length!=g.lineNumChars){var y=g.measure.appendChild(z("div",[z("div",m)],"CodeMirror-linenumber CodeMirror-gutter-elt")),E=y.firstChild.offsetWidth,I=y.offsetWidth-E;return g.lineGutter.style.width="",g.lineNumInnerWidth=Math.max(E,g.lineGutter.offsetWidth-I)+1,g.lineNumWidth=g.lineNumInnerWidth+I,g.lineNumChars=g.lineNumInnerWidth?m.length:-1,g.lineGutter.style.width=g.lineNumWidth+"px",$u(a.display),!0}return!1}function Qu(a,c){for(var m=[],g=!1,y=0;y<a.length;y++){var E=a[y],I=null;if(typeof E!="string"&&(I=E.style,E=E.className),E=="CodeMirror-linenumbers")if(c)g=!0;else continue;m.push({className:E,style:I})}return c&&!g&&m.push({className:"CodeMirror-linenumbers",style:null}),m}function Cp(a){var c=a.gutters,m=a.gutterSpecs;R(c),a.lineGutter=null;for(var g=0;g<m.length;++g){var y=m[g],E=y.className,I=y.style,V=c.appendChild(z("div",null,"CodeMirror-gutter "+E));I&&(V.style.cssText=I),E=="CodeMirror-linenumbers"&&(a.lineGutter=V,V.style.width=(a.lineNumWidth||1)+"px")}c.style.display=m.length?"":"none",$u(a)}function Fa(a){Cp(a.display),Zr(a),bp(a)}function Kv(a,c,m,g){var y=this;this.input=m,y.scrollbarFiller=z("div",null,"CodeMirror-scrollbar-filler"),y.scrollbarFiller.setAttribute("cm-not-content","true"),y.gutterFiller=z("div",null,"CodeMirror-gutter-filler"),y.gutterFiller.setAttribute("cm-not-content","true"),y.lineDiv=H("div",null,"CodeMirror-code"),y.selectionDiv=z("div",null,null,"position: relative; z-index: 1"),y.cursorDiv=z("div",null,"CodeMirror-cursors"),y.measure=z("div",null,"CodeMirror-measure"),y.lineMeasure=z("div",null,"CodeMirror-measure"),y.lineSpace=H("div",[y.measure,y.lineMeasure,y.selectionDiv,y.cursorDiv,y.lineDiv],null,"position: relative; outline: none");var E=H("div",[y.lineSpace],"CodeMirror-lines");y.mover=z("div",[E],null,"position: relative"),y.sizer=z("div",[y.mover],"CodeMirror-sizer"),y.sizerWidth=null,y.heightForcer=z("div",null,null,"position: absolute; height: "+Et+"px; width: 1px;"),y.gutters=z("div",null,"CodeMirror-gutters"),y.lineGutter=null,y.scroller=z("div",[y.sizer,y.heightForcer,y.gutters],"CodeMirror-scroll"),y.scroller.setAttribute("tabIndex","-1"),y.wrapper=z("div",[y.scrollbarFiller,y.gutterFiller,y.scroller],"CodeMirror"),y.wrapper.setAttribute("translate","no"),s&&f<8&&(y.gutters.style.zIndex=-1,y.scroller.style.paddingRight=0),!u&&!(e&&A)&&(y.scroller.draggable=!0),a&&(a.appendChild?a.appendChild(y.wrapper):a(y.wrapper)),y.viewFrom=y.viewTo=c.first,y.reportedViewFrom=y.reportedViewTo=c.first,y.view=[],y.renderedView=null,y.externalMeasured=null,y.viewOffset=0,y.lastWrapHeight=y.lastWrapWidth=0,y.updateLineNumbers=null,y.nativeBarWidth=y.barHeight=y.barWidth=0,y.scrollbarsClipped=!1,y.lineNumWidth=y.lineNumInnerWidth=y.lineNumChars=null,y.alignWidgets=!1,y.cachedCharWidth=y.cachedTextHeight=y.cachedPaddingH=null,y.maxLine=null,y.maxLineLength=0,y.maxLineChanged=!1,y.wheelDX=y.wheelDY=y.wheelStartX=y.wheelStartY=null,y.shift=!1,y.selForContextMenu=null,y.activeTouch=null,y.gutterSpecs=Qu(g.gutters,g.lineNumbers),Cp(y),m.init(y)}var qs=0,On=null;s?On=-.53:e?On=15:d?On=-.7:v&&(On=-1/3);function wp(a){var c=a.wheelDeltaX,m=a.wheelDeltaY;return c==null&&a.detail&&a.axis==a.HORIZONTAL_AXIS&&(c=a.detail),m==null&&a.detail&&a.axis==a.VERTICAL_AXIS?m=a.detail:m==null&&(m=a.wheelDelta),{x:c,y:m}}function Gv(a){var c=wp(a);return c.x*=On,c.y*=On,c}function Sp(a,c){var m=wp(c),g=m.x,y=m.y,E=a.display,I=E.scroller,V=I.scrollWidth>I.clientWidth,K=I.scrollHeight>I.clientHeight;if(g&&V||y&&K){if(y&&S&&u){t:for(var Y=c.target,ft=E.view;Y!=I;Y=Y.parentNode)for(var gt=0;gt<ft.length;gt++)if(ft[gt].node==Y){a.display.currentWheelTarget=Y;break t}}if(g&&!e&&!h&&On!=null){y&&K&&Da(a,Math.max(0,I.scrollTop+y*On)),si(a,Math.max(0,I.scrollLeft+g*On)),(!y||y&&K)&&ke(c),E.wheelStartX=null;return}if(y&&On!=null){var It=y*On,kt=a.doc.scrollTop,Gt=kt+E.wrapper.clientHeight;It<0?kt=Math.max(0,kt+It-50):Gt=Math.min(a.doc.height,Gt+It+50),Xu(a,{top:kt,bottom:Gt})}qs<20&&(E.wheelStartX==null?(E.wheelStartX=I.scrollLeft,E.wheelStartY=I.scrollTop,E.wheelDX=g,E.wheelDY=y,setTimeout(function(){if(E.wheelStartX!=null){var Qt=I.scrollLeft-E.wheelStartX,ie=I.scrollTop-E.wheelStartY,fe=ie&&E.wheelDY&&ie/E.wheelDY||Qt&&E.wheelDX&&Qt/E.wheelDX;E.wheelStartX=E.wheelStartY=null,fe&&(On=(On*qs+fe)/(qs+1),++qs)}},200)):(E.wheelDX+=g,E.wheelDY+=y))}}var An=function(a,c){this.ranges=a,this.primIndex=c};An.prototype.primary=function(){return this.ranges[this.primIndex]},An.prototype.equals=function(a){if(a==this)return!0;if(a.primIndex!=this.primIndex||a.ranges.length!=this.ranges.length)return!1;for(var c=0;c<this.ranges.length;c++){var m=this.ranges[c],g=a.ranges[c];if(!Oe(m.anchor,g.anchor)||!Oe(m.head,g.head))return!1}return!0},An.prototype.deepCopy=function(){for(var a=[],c=0;c<this.ranges.length;c++)a[c]=new Qe(Q(this.ranges[c].anchor),Q(this.ranges[c].head));return new An(a,this.primIndex)},An.prototype.somethingSelected=function(){for(var a=0;a<this.ranges.length;a++)if(!this.ranges[a].empty())return!0;return!1},An.prototype.contains=function(a,c){c||(c=a);for(var m=0;m<this.ranges.length;m++){var g=this.ranges[m];if(U(c,g.from())>=0&&U(a,g.to())<=0)return m}return-1};var Qe=function(a,c){this.anchor=a,this.head=c};Qe.prototype.from=function(){return Wt(this.anchor,this.head)},Qe.prototype.to=function(){return dt(this.anchor,this.head)},Qe.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch};function Yn(a,c,m){var g=a&&a.options.selectionsMayTouch,y=c[m];c.sort(function(It,kt){return U(It.from(),kt.from())}),m=lt(c,y);for(var E=1;E<c.length;E++){var I=c[E],V=c[E-1],K=U(V.to(),I.from());if(g&&!I.empty()?K>0:K>=0){var Y=Wt(V.from(),I.from()),ft=dt(V.to(),I.to()),gt=V.empty()?I.from()==I.head:V.from()==V.head;E<=m&&--m,c.splice(--E,2,new Qe(gt?ft:Y,gt?Y:ft))}}return new An(c,m)}function Bo(a,c){return new An([new Qe(a,c||a)],0)}function Wo(a){return a.text?Ht(a.from.line+a.text.length-1,Vt(a.text).length+(a.text.length==1?a.from.ch:0)):a.to}function Ep(a,c){if(U(a,c.from)<0)return a;if(U(a,c.to)<=0)return Wo(c);var m=a.line+c.text.length-(c.to.line-c.from.line)-1,g=a.ch;return a.line==c.to.line&&(g+=Wo(c).ch-c.to.ch),Ht(m,g)}function Ju(a,c){for(var m=[],g=0;g<a.sel.ranges.length;g++){var y=a.sel.ranges[g];m.push(new Qe(Ep(y.anchor,c),Ep(y.head,c)))}return Yn(a.cm,m,a.sel.primIndex)}function xp(a,c,m){return a.line==c.line?Ht(m.line,a.ch-c.ch+m.ch):Ht(m.line+(a.line-c.line),a.ch)}function qv(a,c,m){for(var g=[],y=Ht(a.first,0),E=y,I=0;I<c.length;I++){var V=c[I],K=xp(V.from,y,E),Y=xp(Wo(V),y,E);if(y=V.to,E=Y,m=="around"){var ft=a.sel.ranges[I],gt=U(ft.head,ft.anchor)<0;g[I]=new Qe(gt?Y:K,gt?K:Y)}else g[I]=new Qe(K,K)}return new An(g,a.sel.primIndex)}function tc(a){a.doc.mode=ye(a.options,a.doc.modeOption),Va(a)}function Va(a){a.doc.iter(function(c){c.stateAfter&&(c.stateAfter=null),c.styles&&(c.styles=null)}),a.doc.modeFrontier=a.doc.highlightFrontier=a.doc.first,Ha(a,100),a.state.modeGen++,a.curOp&&Zr(a)}function Op(a,c){return c.from.ch==0&&c.to.ch==0&&Vt(c.text)==""&&(!a.cm||a.cm.options.wholeLineUpdateBefore)}function ec(a,c,m,g){function y(he){return m?m[he]:null}function E(he,pe,ge){xs(he,pe,ge,g),vr(he,"change",he,c)}function I(he,pe){for(var ge=[],Se=he;Se<pe;++Se)ge.push(new kr(Y[Se],y(Se),g));return ge}var V=c.from,K=c.to,Y=c.text,ft=O(a,V.line),gt=O(a,K.line),It=Vt(Y),kt=y(Y.length-1),Gt=K.line-V.line;if(c.full)a.insert(0,I(0,Y.length)),a.remove(Y.length,a.size-Y.length);else if(Op(a,c)){var Qt=I(0,Y.length-1);E(gt,gt.text,kt),Gt&&a.remove(V.line,Gt),Qt.length&&a.insert(V.line,Qt)}else if(ft==gt)if(Y.length==1)E(ft,ft.text.slice(0,V.ch)+It+ft.text.slice(K.ch),kt);else{var ie=I(1,Y.length-1);ie.push(new kr(It+ft.text.slice(K.ch),kt,g)),E(ft,ft.text.slice(0,V.ch)+Y[0],y(0)),a.insert(V.line+1,ie)}else if(Y.length==1)E(ft,ft.text.slice(0,V.ch)+Y[0]+gt.text.slice(K.ch),y(0)),a.remove(V.line+1,Gt);else{E(ft,ft.text.slice(0,V.ch)+Y[0],y(0)),E(gt,It+gt.text.slice(K.ch),kt);var fe=I(1,Y.length-1);Gt>1&&a.remove(V.line+1,Gt-1),a.insert(V.line+1,fe)}vr(a,"change",a,c)}function zo(a,c,m){function g(y,E,I){if(y.linked)for(var V=0;V<y.linked.length;++V){var K=y.linked[V];if(K.doc!=E){var Y=I&&K.sharedHist;m&&!Y||(c(K.doc,Y),g(K.doc,y,Y))}}}g(a,null,!0)}function Ap(a,c){if(c.cm)throw new Error("This document is already in use.");a.doc=c,c.cm=a,Bu(a),tc(a),Pp(a),a.options.direction=c.direction,a.options.lineWrapping||No(a),a.options.mode=c.modeOption,Zr(a)}function Pp(a){(a.doc.direction=="rtl"?q:D)(a.display.lineDiv,"CodeMirror-rtl")}function Yv(a){dn(a,function(){Pp(a),Zr(a)})}function Ys(a){this.done=[],this.undone=[],this.undoDepth=a?a.undoDepth:1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=a?a.maxGeneration:1}function rc(a,c){var m={from:Q(c.from),to:Wo(c),text:B(a,c.from,c.to)};return Np(a,m,c.from.line,c.to.line+1),zo(a,function(g){return Np(g,m,c.from.line,c.to.line+1)},!0),m}function kp(a){for(;a.length;){var c=Vt(a);if(c.ranges)a.pop();else break}}function Xv(a,c){if(c)return kp(a.done),Vt(a.done);if(a.done.length&&!Vt(a.done).ranges)return Vt(a.done);if(a.done.length>1&&!a.done[a.done.length-2].ranges)return a.done.pop(),Vt(a.done)}function Mp(a,c,m,g){var y=a.history;y.undone.length=0;var E=+new Date,I,V;if((y.lastOp==g||y.lastOrigin==c.origin&&c.origin&&(c.origin.charAt(0)=="+"&&y.lastModTime>E-(a.cm?a.cm.options.historyEventDelay:500)||c.origin.charAt(0)=="*"))&&(I=Xv(y,y.lastOp==g)))V=Vt(I.changes),U(c.from,c.to)==0&&U(c.from,V.to)==0?V.to=Wo(c):I.changes.push(rc(a,c));else{var K=Vt(y.done);for((!K||!K.ranges)&&Xs(a.sel,y.done),I={changes:[rc(a,c)],generation:y.generation},y.done.push(I);y.done.length>y.undoDepth;)y.done.shift(),y.done[0].ranges||y.done.shift()}y.done.push(m),y.generation=++y.maxGeneration,y.lastModTime=y.lastSelTime=E,y.lastOp=y.lastSelOp=g,y.lastOrigin=y.lastSelOrigin=c.origin,V||le(a,"historyAdded")}function $v(a,c,m,g){var y=c.charAt(0);return y=="*"||y=="+"&&m.ranges.length==g.ranges.length&&m.somethingSelected()==g.somethingSelected()&&new Date-a.history.lastSelTime<=(a.cm?a.cm.options.historyEventDelay:500)}function Zv(a,c,m,g){var y=a.history,E=g&&g.origin;m==y.lastSelOp||E&&y.lastSelOrigin==E&&(y.lastModTime==y.lastSelTime&&y.lastOrigin==E||$v(a,E,Vt(y.done),c))?y.done[y.done.length-1]=c:Xs(c,y.done),y.lastSelTime=+new Date,y.lastSelOrigin=E,y.lastSelOp=m,g&&g.clearRedo!==!1&&kp(y.undone)}function Xs(a,c){var m=Vt(c);m&&m.ranges&&m.equals(a)||c.push(a)}function Np(a,c,m,g){var y=c["spans_"+a.id],E=0;a.iter(Math.max(a.first,m),Math.min(a.first+a.size,g),function(I){I.markedSpans&&((y||(y=c["spans_"+a.id]={}))[E]=I.markedSpans),++E})}function Qv(a){if(!a)return null;for(var c,m=0;m<a.length;++m)a[m].marker.explicitlyCleared?c||(c=a.slice(0,m)):c&&c.push(a[m]);return c?c.length?c:null:a}function Jv(a,c){var m=c["spans_"+a.id];if(!m)return null;for(var g=[],y=0;y<c.text.length;++y)g.push(Qv(m[y]));return g}function Lp(a,c){var m=Jv(a,c),g=co(a,c);if(!m)return g;if(!g)return m;for(var y=0;y<m.length;++y){var E=m[y],I=g[y];if(E&&I)t:for(var V=0;V<I.length;++V){for(var K=I[V],Y=0;Y<E.length;++Y)if(E[Y].marker==K.marker)continue t;E.push(K)}else I&&(m[y]=I)}return m}function Hi(a,c,m){for(var g=[],y=0;y<a.length;++y){var E=a[y];if(E.ranges){g.push(m?An.prototype.deepCopy.call(E):E);continue}var I=E.changes,V=[];g.push({changes:V});for(var K=0;K<I.length;++K){var Y=I[K],ft=void 0;if(V.push({from:Y.from,to:Y.to,text:Y.text}),c)for(var gt in Y)(ft=gt.match(/^spans_(\d+)$/))&&lt(c,Number(ft[1]))>-1&&(Vt(V)[gt]=Y[gt],delete Y[gt])}}return g}function nc(a,c,m,g){if(g){var y=a.anchor;if(m){var E=U(c,y)<0;E!=U(m,y)<0?(y=c,c=m):E!=U(c,m)<0&&(c=m)}return new Qe(y,c)}else return new Qe(m||c,c)}function $s(a,c,m,g,y){y==null&&(y=a.cm&&(a.cm.display.shift||a.extend)),Br(a,new An([nc(a.sel.primary(),c,m,y)],0),g)}function Ip(a,c,m){for(var g=[],y=a.cm&&(a.cm.display.shift||a.extend),E=0;E<a.sel.ranges.length;E++)g[E]=nc(a.sel.ranges[E],c[E],null,y);var I=Yn(a.cm,g,a.sel.primIndex);Br(a,I,m)}function oc(a,c,m,g){var y=a.sel.ranges.slice(0);y[c]=m,Br(a,Yn(a.cm,y,a.sel.primIndex),g)}function Dp(a,c,m,g){Br(a,Bo(c,m),g)}function tg(a,c,m){var g={ranges:c.ranges,update:function(y){this.ranges=[];for(var E=0;E<y.length;E++)this.ranges[E]=new Qe(te(a,y[E].anchor),te(a,y[E].head))},origin:m&&m.origin};return le(a,"beforeSelectionChange",a,g),a.cm&&le(a.cm,"beforeSelectionChange",a.cm,g),g.ranges!=c.ranges?Yn(a.cm,g.ranges,g.ranges.length-1):c}function Rp(a,c,m){var g=a.history.done,y=Vt(g);y&&y.ranges?(g[g.length-1]=c,Zs(a,c,m)):Br(a,c,m)}function Br(a,c,m){Zs(a,c,m),Zv(a,a.sel,a.cm?a.cm.curOp.id:NaN,m)}function Zs(a,c,m){(xe(a,"beforeSelectionChange")||a.cm&&xe(a.cm,"beforeSelectionChange"))&&(c=tg(a,c,m));var g=m&&m.bias||(U(c.primary().head,a.sel.primary().head)<0?-1:1);jp(a,Fp(a,c,g,!0)),!(m&&m.scroll===!1)&&a.cm&&a.cm.getOption("readOnly")!="nocursor"&&Ri(a.cm)}function jp(a,c){c.equals(a.sel)||(a.sel=c,a.cm&&(a.cm.curOp.updateInput=1,a.cm.curOp.selectionChanged=!0,ve(a.cm)),vr(a,"cursorActivity",a))}function Hp(a){jp(a,Fp(a,a.sel,null,!1))}function Fp(a,c,m,g){for(var y,E=0;E<c.ranges.length;E++){var I=c.ranges[E],V=c.ranges.length==a.sel.ranges.length&&a.sel.ranges[E],K=Qs(a,I.anchor,V&&V.anchor,m,g),Y=Qs(a,I.head,V&&V.head,m,g);(y||K!=I.anchor||Y!=I.head)&&(y||(y=c.ranges.slice(0,E)),y[E]=new Qe(K,Y))}return y?Yn(a.cm,y,c.primIndex):c}function Fi(a,c,m,g,y){var E=O(a,c.line);if(E.markedSpans)for(var I=0;I<E.markedSpans.length;++I){var V=E.markedSpans[I],K=V.marker,Y="selectLeft"in K?!K.selectLeft:K.inclusiveLeft,ft="selectRight"in K?!K.selectRight:K.inclusiveRight;if((V.from==null||(Y?V.from<=c.ch:V.from<c.ch))&&(V.to==null||(ft?V.to>=c.ch:V.to>c.ch))){if(y&&(le(K,"beforeCursorEnter"),K.explicitlyCleared))if(E.markedSpans){--I;continue}else break;if(!K.atomic)continue;if(m){var gt=K.find(g<0?1:-1),It=void 0;if((g<0?ft:Y)&&(gt=Vp(a,gt,-g,gt&&gt.line==c.line?E:null)),gt&&gt.line==c.line&&(It=U(gt,m))&&(g<0?It<0:It>0))return Fi(a,gt,c,g,y)}var kt=K.find(g<0?-1:1);return(g<0?Y:ft)&&(kt=Vp(a,kt,g,kt.line==c.line?E:null)),kt?Fi(a,kt,c,g,y):null}}return c}function Qs(a,c,m,g,y){var E=g||1,I=Fi(a,c,m,E,y)||!y&&Fi(a,c,m,E,!0)||Fi(a,c,m,-E,y)||!y&&Fi(a,c,m,-E,!0);return I||(a.cantEdit=!0,Ht(a.first,0))}function Vp(a,c,m,g){return m<0&&c.ch==0?c.line>a.first?te(a,Ht(c.line-1)):null:m>0&&c.ch==(g||O(a,c.line)).text.length?c.line<a.first+a.size-1?Ht(c.line+1,0):null:new Ht(c.line,c.ch+m)}function Up(a){a.setSelection(Ht(a.firstLine(),0),Ht(a.lastLine()),Ot)}function Bp(a,c,m){var g={canceled:!1,from:c.from,to:c.to,text:c.text,origin:c.origin,cancel:function(){return g.canceled=!0}};return m&&(g.update=function(y,E,I,V){y&&(g.from=te(a,y)),E&&(g.to=te(a,E)),I&&(g.text=I),V!==void 0&&(g.origin=V)}),le(a,"beforeChange",a,g),a.cm&&le(a.cm,"beforeChange",a.cm,g),g.canceled?(a.cm&&(a.cm.curOp.updateInput=2),null):{from:g.from,to:g.to,text:g.text,origin:g.origin}}function Vi(a,c,m){if(a.cm){if(!a.cm.curOp)return Mr(a.cm,Vi)(a,c,m);if(a.cm.state.suppressEdits)return}if(!((xe(a,"beforeChange")||a.cm&&xe(a.cm,"beforeChange"))&&(c=Bp(a,c,!0),!c))){var g=br&&!m&&xn(a,c.from,c.to);if(g)for(var y=g.length-1;y>=0;--y)Wp(a,{from:g[y].from,to:g[y].to,text:y?[""]:c.text,origin:c.origin});else Wp(a,c)}}function Wp(a,c){if(!(c.text.length==1&&c.text[0]==""&&U(c.from,c.to)==0)){var m=Ju(a,c);Mp(a,c,m,a.cm?a.cm.curOp.id:NaN),Ua(a,c,m,co(a,c));var g=[];zo(a,function(y,E){!E&&lt(g,y.history)==-1&&(qp(y.history,c),g.push(y.history)),Ua(y,c,null,co(y,c))})}}function Js(a,c,m){var g=a.cm&&a.cm.state.suppressEdits;if(!(g&&!m)){for(var y=a.history,E,I=a.sel,V=c=="undo"?y.done:y.undone,K=c=="undo"?y.undone:y.done,Y=0;Y<V.length&&(E=V[Y],!(m?E.ranges&&!E.equals(a.sel):!E.ranges));Y++);if(Y!=V.length){for(y.lastOrigin=y.lastSelOrigin=null;;)if(E=V.pop(),E.ranges){if(Xs(E,K),m&&!E.equals(a.sel)){Br(a,E,{clearRedo:!1});return}I=E}else if(g){V.push(E);return}else break;var ft=[];Xs(I,K),K.push({changes:ft,generation:y.generation}),y.generation=E.generation||++y.maxGeneration;for(var gt=xe(a,"beforeChange")||a.cm&&xe(a.cm,"beforeChange"),It=function(Qt){var ie=E.changes[Qt];if(ie.origin=c,gt&&!Bp(a,ie,!1))return V.length=0,{};ft.push(rc(a,ie));var fe=Qt?Ju(a,ie):Vt(V);Ua(a,ie,fe,Lp(a,ie)),!Qt&&a.cm&&a.cm.scrollIntoView({from:ie.from,to:Wo(ie)});var he=[];zo(a,function(pe,ge){!ge&&lt(he,pe.history)==-1&&(qp(pe.history,ie),he.push(pe.history)),Ua(pe,ie,null,Lp(pe,ie))})},kt=E.changes.length-1;kt>=0;--kt){var Gt=It(kt);if(Gt)return Gt.v}}}}function zp(a,c){if(c!=0&&(a.first+=c,a.sel=new An(mt(a.sel.ranges,function(y){return new Qe(Ht(y.anchor.line+c,y.anchor.ch),Ht(y.head.line+c,y.head.ch))}),a.sel.primIndex),a.cm)){Zr(a.cm,a.first,a.first-c,c);for(var m=a.cm.display,g=m.viewFrom;g<m.viewTo;g++)Vo(a.cm,g,"gutter")}}function Ua(a,c,m,g){if(a.cm&&!a.cm.curOp)return Mr(a.cm,Ua)(a,c,m,g);if(c.to.line<a.first){zp(a,c.text.length-1-(c.to.line-c.from.line));return}if(!(c.from.line>a.lastLine())){if(c.from.line<a.first){var y=c.text.length-1-(a.first-c.from.line);zp(a,y),c={from:Ht(a.first,0),to:Ht(c.to.line+y,c.to.ch),text:[Vt(c.text)],origin:c.origin}}var E=a.lastLine();c.to.line>E&&(c={from:c.from,to:Ht(E,O(a,E).text.length),text:[c.text[0]],origin:c.origin}),c.removed=B(a,c.from,c.to),m||(m=Ju(a,c)),a.cm?eg(a.cm,c,g):ec(a,c,g),Zs(a,m,Ot),a.cantEdit&&Qs(a,Ht(a.firstLine(),0))&&(a.cantEdit=!1)}}function eg(a,c,m){var g=a.doc,y=a.display,E=c.from,I=c.to,V=!1,K=E.line;a.options.lineWrapping||(K=Mt(cr(O(g,E.line))),g.iter(K,I.line+1,function(kt){if(kt==y.maxLine)return V=!0,!0})),g.sel.contains(c.from,c.to)>-1&&ve(a),ec(g,c,m,lp(a)),a.options.lineWrapping||(g.iter(K,E.line+c.text.length,function(kt){var Gt=ho(kt);Gt>y.maxLineLength&&(y.maxLine=kt,y.maxLineLength=Gt,y.maxLineChanged=!0,V=!1)}),V&&(a.curOp.updateMaxLine=!0)),ko(g,E.line),Ha(a,400);var Y=c.text.length-(I.line-E.line)-1;c.full?Zr(a):E.line==I.line&&c.text.length==1&&!Op(a.doc,c)?Vo(a,E.line,"text"):Zr(a,E.line,I.line+1,Y);var ft=xe(a,"changes"),gt=xe(a,"change");if(gt||ft){var It={from:E,to:I,text:c.text,removed:c.removed,origin:c.origin};gt&&vr(a,"change",a,It),ft&&(a.curOp.changeObjs||(a.curOp.changeObjs=[])).push(It)}a.display.selForContextMenu=null}function Ui(a,c,m,g,y){var E;g||(g=m),U(g,m)<0&&(E=[g,m],m=E[0],g=E[1]),typeof c=="string"&&(c=a.splitLines(c)),Vi(a,{from:m,to:g,text:c,origin:y})}function Kp(a,c,m,g){m<a.line?a.line+=g:c<a.line&&(a.line=c,a.ch=0)}function Gp(a,c,m,g){for(var y=0;y<a.length;++y){var E=a[y],I=!0;if(E.ranges){E.copied||(E=a[y]=E.deepCopy(),E.copied=!0);for(var V=0;V<E.ranges.length;V++)Kp(E.ranges[V].anchor,c,m,g),Kp(E.ranges[V].head,c,m,g);continue}for(var K=0;K<E.changes.length;++K){var Y=E.changes[K];if(m<Y.from.line)Y.from=Ht(Y.from.line+g,Y.from.ch),Y.to=Ht(Y.to.line+g,Y.to.ch);else if(c<=Y.to.line){I=!1;break}}I||(a.splice(0,y+1),y=0)}}function qp(a,c){var m=c.from.line,g=c.to.line,y=c.text.length-(g-m)-1;Gp(a.done,m,g,y),Gp(a.undone,m,g,y)}function Ba(a,c,m,g){var y=c,E=c;return typeof c=="number"?E=O(a,Jt(a,c)):y=Mt(c),y==null?null:(g(E,y)&&a.cm&&Vo(a.cm,y,m),E)}function Wa(a){this.lines=a,this.parent=null;for(var c=0,m=0;m<a.length;++m)a[m].parent=this,c+=a[m].height;this.height=c}Wa.prototype={chunkSize:function(){return this.lines.length},removeInner:function(a,c){for(var m=a,g=a+c;m<g;++m){var y=this.lines[m];this.height-=y.height,Ai(y),vr(y,"delete")}this.lines.splice(a,c)},collapse:function(a){a.push.apply(a,this.lines)},insertInner:function(a,c,m){this.height+=m,this.lines=this.lines.slice(0,a).concat(c).concat(this.lines.slice(a));for(var g=0;g<c.length;++g)c[g].parent=this},iterN:function(a,c,m){for(var g=a+c;a<g;++a)if(m(this.lines[a]))return!0}};function za(a){this.children=a;for(var c=0,m=0,g=0;g<a.length;++g){var y=a[g];c+=y.chunkSize(),m+=y.height,y.parent=this}this.size=c,this.height=m,this.parent=null}za.prototype={chunkSize:function(){return this.size},removeInner:function(a,c){this.size-=c;for(var m=0;m<this.children.length;++m){var g=this.children[m],y=g.chunkSize();if(a<y){var E=Math.min(c,y-a),I=g.height;if(g.removeInner(a,E),this.height-=I-g.height,y==E&&(this.children.splice(m--,1),g.parent=null),(c-=E)==0)break;a=0}else a-=y}if(this.size-c<25&&(this.children.length>1||!(this.children[0]instanceof Wa))){var V=[];this.collapse(V),this.children=[new Wa(V)],this.children[0].parent=this}},collapse:function(a){for(var c=0;c<this.children.length;++c)this.children[c].collapse(a)},insertInner:function(a,c,m){this.size+=c.length,this.height+=m;for(var g=0;g<this.children.length;++g){var y=this.children[g],E=y.chunkSize();if(a<=E){if(y.insertInner(a,c,m),y.lines&&y.lines.length>50){for(var I=y.lines.length%25+25,V=I;V<y.lines.length;){var K=new Wa(y.lines.slice(V,V+=25));y.height-=K.height,this.children.splice(++g,0,K),K.parent=this}y.lines=y.lines.slice(0,I),this.maybeSpill()}break}a-=E}},maybeSpill:function(){if(!(this.children.length<=10)){var a=this;do{var c=a.children.splice(a.children.length-5,5),m=new za(c);if(a.parent){a.size-=m.size,a.height-=m.height;var y=lt(a.parent.children,a);a.parent.children.splice(y+1,0,m)}else{var g=new za(a.children);g.parent=a,a.children=[g,m],a=g}m.parent=a.parent}while(a.children.length>10);a.parent.maybeSpill()}},iterN:function(a,c,m){for(var g=0;g<this.children.length;++g){var y=this.children[g],E=y.chunkSize();if(a<E){var I=Math.min(c,E-a);if(y.iterN(a,I,m))return!0;if((c-=I)==0)break;a=0}else a-=E}}};var Ka=function(a,c,m){if(m)for(var g in m)m.hasOwnProperty(g)&&(this[g]=m[g]);this.doc=a,this.node=c};Ka.prototype.clear=function(){var a=this.doc.cm,c=this.line.widgets,m=this.line,g=Mt(m);if(!(g==null||!c)){for(var y=0;y<c.length;++y)c[y]==this&&c.splice(y--,1);c.length||(m.widgets=null);var E=Ho(this);ct(m,Math.max(0,m.height-E)),a&&(dn(a,function(){Yp(a,m,-E),Vo(a,g,"widget")}),vr(a,"lineWidgetCleared",a,this,g))}},Ka.prototype.changed=function(){var a=this,c=this.height,m=this.doc.cm,g=this.line;this.height=null;var y=Ho(this)-c;y&&($r(this.doc,g)||ct(g,g.height+y),m&&dn(m,function(){m.curOp.forceUpdate=!0,Yp(m,g,y),vr(m,"lineWidgetChanged",m,a,Mt(g))}))},Ae(Ka);function Yp(a,c,m){Rn(c)<(a.curOp&&a.curOp.scrollTop||a.doc.scrollTop)&&qu(a,m)}function rg(a,c,m,g){var y=new Ka(a,m,g),E=a.cm;return E&&y.noHScroll&&(E.display.alignWidgets=!0),Ba(a,c,"widget",function(I){var V=I.widgets||(I.widgets=[]);if(y.insertAt==null?V.push(y):V.splice(Math.min(V.length,Math.max(0,y.insertAt)),0,y),y.line=I,E&&!$r(a,I)){var K=Rn(I)<a.scrollTop;ct(I,I.height+Ho(y)),K&&qu(E,y.height),E.curOp.forceUpdate=!0}return!0}),E&&vr(E,"lineWidgetAdded",E,y,typeof c=="number"?c:Mt(c)),y}var Xp=0,Ko=function(a,c){this.lines=[],this.type=c,this.doc=a,this.id=++Xp};Ko.prototype.clear=function(){if(!this.explicitlyCleared){var a=this.doc.cm,c=a&&!a.curOp;if(c&&ui(a),xe(this,"clear")){var m=this.find();m&&vr(this,"clear",m.from,m.to)}for(var g=null,y=null,E=0;E<this.lines.length;++E){var I=this.lines[E],V=zr(I.markedSpans,this);a&&!this.collapsed?Vo(a,Mt(I),"text"):a&&(V.to!=null&&(y=Mt(I)),V.from!=null&&(g=Mt(I))),I.markedSpans=xr(I.markedSpans,V),V.from==null&&this.collapsed&&!$r(this.doc,I)&&a&&ct(I,Li(a.display))}if(a&&this.collapsed&&!a.options.lineWrapping)for(var K=0;K<this.lines.length;++K){var Y=cr(this.lines[K]),ft=ho(Y);ft>a.display.maxLineLength&&(a.display.maxLine=Y,a.display.maxLineLength=ft,a.display.maxLineChanged=!0)}g!=null&&a&&this.collapsed&&Zr(a,g,y+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,a&&Hp(a.doc)),a&&vr(a,"markerCleared",a,this,g,y),c&&ci(a),this.parent&&this.parent.clear()}},Ko.prototype.find=function(a,c){a==null&&this.type=="bookmark"&&(a=1);for(var m,g,y=0;y<this.lines.length;++y){var E=this.lines[y],I=zr(E.markedSpans,this);if(I.from!=null&&(m=Ht(c?E:Mt(E),I.from),a==-1))return m;if(I.to!=null&&(g=Ht(c?E:Mt(E),I.to),a==1))return g}return m&&{from:m,to:g}},Ko.prototype.changed=function(){var a=this,c=this.find(-1,!0),m=this,g=this.doc.cm;!c||!g||dn(g,function(){var y=c.line,E=Mt(c.line),I=Nt(g,E);if(I&&(Ma(I),g.curOp.selectionChanged=g.curOp.forceUpdate=!0),g.curOp.updateMaxLine=!0,!$r(m.doc,y)&&m.height!=null){var V=m.height;m.height=null;var K=Ho(m)-V;K&&ct(y,y.height+K)}vr(g,"markerChanged",g,a)})},Ko.prototype.attachLine=function(a){if(!this.lines.length&&this.doc.cm){var c=this.doc.cm.curOp;(!c.maybeHiddenMarkers||lt(c.maybeHiddenMarkers,this)==-1)&&(c.maybeUnhiddenMarkers||(c.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(a)},Ko.prototype.detachLine=function(a){if(this.lines.splice(lt(this.lines,a),1),!this.lines.length&&this.doc.cm){var c=this.doc.cm.curOp;(c.maybeHiddenMarkers||(c.maybeHiddenMarkers=[])).push(this)}},Ae(Ko);function Bi(a,c,m,g,y){if(g&&g.shared)return ng(a,c,m,g,y);if(a.cm&&!a.cm.curOp)return Mr(a.cm,Bi)(a,c,m,g,y);var E=new Ko(a,y),I=U(c,m);if(g&&pt(g,E,!1),I>0||I==0&&E.clearWhenEmpty!==!1)return E;if(E.replacedWith&&(E.collapsed=!0,E.widgetNode=H("span",[E.replacedWith],"CodeMirror-widget"),g.handleMouseEvents||E.widgetNode.setAttribute("cm-ignore-events","true"),g.insertLeft&&(E.widgetNode.insertLeft=!0)),E.collapsed){if(Ee(a,c.line,c,m,E)||c.line!=m.line&&Ee(a,m.line,c,m,E))throw new Error("Inserting collapsed marker partially overlapping an existing one");wn()}E.addToHistory&&Mp(a,{from:c,to:m,origin:"markText"},a.sel,NaN);var V=c.line,K=a.cm,Y;if(a.iter(V,m.line+1,function(gt){K&&E.collapsed&&!K.options.lineWrapping&&cr(gt)==K.display.maxLine&&(Y=!0),E.collapsed&&V!=c.line&&ct(gt,0),Oi(gt,new zn(E,V==c.line?c.ch:null,V==m.line?m.ch:null),a.cm&&a.cm.curOp),++V}),E.collapsed&&a.iter(c.line,m.line+1,function(gt){$r(a,gt)&&ct(gt,0)}),E.clearOnEnter&&Lt(E,"beforeCursorEnter",function(){return E.clear()}),E.readOnly&&(ei(),(a.history.done.length||a.history.undone.length)&&a.clearHistory()),E.collapsed&&(E.id=++Xp,E.atomic=!0),K){if(Y&&(K.curOp.updateMaxLine=!0),E.collapsed)Zr(K,c.line,m.line+1);else if(E.className||E.startStyle||E.endStyle||E.css||E.attributes||E.title)for(var ft=c.line;ft<=m.line;ft++)Vo(K,ft,"text");E.atomic&&Hp(K.doc),vr(K,"markerAdded",K,E)}return E}var Ga=function(a,c){this.markers=a,this.primary=c;for(var m=0;m<a.length;++m)a[m].parent=this};Ga.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var a=0;a<this.markers.length;++a)this.markers[a].clear();vr(this,"clear")}},Ga.prototype.find=function(a,c){return this.primary.find(a,c)},Ae(Ga);function ng(a,c,m,g,y){g=pt(g),g.shared=!1;var E=[Bi(a,c,m,g,y)],I=E[0],V=g.widgetNode;return zo(a,function(K){V&&(g.widgetNode=V.cloneNode(!0)),E.push(Bi(K,te(K,c),te(K,m),g,y));for(var Y=0;Y<K.linked.length;++Y)if(K.linked[Y].isParent)return;I=Vt(E)}),new Ga(E,I)}function $p(a){return a.findMarks(Ht(a.first,0),a.clipPos(Ht(a.lastLine())),function(c){return c.parent})}function og(a,c){for(var m=0;m<c.length;m++){var g=c[m],y=g.find(),E=a.clipPos(y.from),I=a.clipPos(y.to);if(U(E,I)){var V=Bi(a,E,I,g.primary,g.primary.type);g.markers.push(V),V.parent=g}}}function ig(a){for(var c=function(g){var y=a[g],E=[y.primary.doc];zo(y.primary.doc,function(K){return E.push(K)});for(var I=0;I<y.markers.length;I++){var V=y.markers[I];lt(E,V.doc)==-1&&(V.parent=null,y.markers.splice(I--,1))}},m=0;m<a.length;m++)c(m)}var ag=0,Qr=function(a,c,m,g,y){if(!(this instanceof Qr))return new Qr(a,c,m,g,y);m==null&&(m=0),za.call(this,[new Wa([new kr("",null)])]),this.first=m,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=m;var E=Ht(m,0);this.sel=Bo(E),this.history=new Ys(null),this.id=++ag,this.modeOption=c,this.lineSep=g,this.direction=y=="rtl"?"rtl":"ltr",this.extend=!1,typeof a=="string"&&(a=this.splitLines(a)),ec(this,{from:E,to:E,text:a}),Br(this,Bo(E),Ot)};Qr.prototype=W(za.prototype,{constructor:Qr,iter:function(a,c,m){m?this.iterN(a-this.first,c-a,m):this.iterN(this.first,this.first+this.size,a)},insert:function(a,c){for(var m=0,g=0;g<c.length;++g)m+=c[g].height;this.insertInner(a-this.first,c,m)},remove:function(a,c){this.removeInner(a-this.first,c)},getValue:function(a){var c=F(this,this.first,this.first+this.size);return a===!1?c:c.join(a||this.lineSeparator())},setValue:Nr(function(a){var c=Ht(this.first,0),m=this.first+this.size-1;Vi(this,{from:c,to:Ht(m,O(this,m).text.length),text:this.splitLines(a),origin:"setValue",full:!0},!0),this.cm&&Ia(this.cm,0,0),Br(this,Bo(c),Ot)}),replaceRange:function(a,c,m,g){c=te(this,c),m=m?te(this,m):c,Ui(this,a,c,m,g)},getRange:function(a,c,m){var g=B(this,te(this,a),te(this,c));return m===!1?g:m===""?g.join(""):g.join(m||this.lineSeparator())},getLine:function(a){var c=this.getLineHandle(a);return c&&c.text},getLineHandle:function(a){if($e(this,a))return O(this,a)},getLineNumber:function(a){return Mt(a)},getLineHandleVisualStart:function(a){return typeof a=="number"&&(a=O(this,a)),cr(a)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(a){return te(this,a)},getCursor:function(a){var c=this.sel.primary(),m;return a==null||a=="head"?m=c.head:a=="anchor"?m=c.anchor:a=="end"||a=="to"||a===!1?m=c.to():m=c.from(),m},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:Nr(function(a,c,m){Dp(this,te(this,typeof a=="number"?Ht(a,c||0):a),null,m)}),setSelection:Nr(function(a,c,m){Dp(this,te(this,a),te(this,c||a),m)}),extendSelection:Nr(function(a,c,m){$s(this,te(this,a),c&&te(this,c),m)}),extendSelections:Nr(function(a,c){Ip(this,je(this,a),c)}),extendSelectionsBy:Nr(function(a,c){var m=mt(this.sel.ranges,a);Ip(this,je(this,m),c)}),setSelections:Nr(function(a,c,m){if(a.length){for(var g=[],y=0;y<a.length;y++)g[y]=new Qe(te(this,a[y].anchor),te(this,a[y].head||a[y].anchor));c==null&&(c=Math.min(a.length-1,this.sel.primIndex)),Br(this,Yn(this.cm,g,c),m)}}),addSelection:Nr(function(a,c,m){var g=this.sel.ranges.slice(0);g.push(new Qe(te(this,a),te(this,c||a))),Br(this,Yn(this.cm,g,g.length-1),m)}),getSelection:function(a){for(var c=this.sel.ranges,m,g=0;g<c.length;g++){var y=B(this,c[g].from(),c[g].to());m=m?m.concat(y):y}return a===!1?m:m.join(a||this.lineSeparator())},getSelections:function(a){for(var c=[],m=this.sel.ranges,g=0;g<m.length;g++){var y=B(this,m[g].from(),m[g].to());a!==!1&&(y=y.join(a||this.lineSeparator())),c[g]=y}return c},replaceSelection:function(a,c,m){for(var g=[],y=0;y<this.sel.ranges.length;y++)g[y]=a;this.replaceSelections(g,c,m||"+input")},replaceSelections:Nr(function(a,c,m){for(var g=[],y=this.sel,E=0;E<y.ranges.length;E++){var I=y.ranges[E];g[E]={from:I.from(),to:I.to(),text:this.splitLines(a[E]),origin:m}}for(var V=c&&c!="end"&&qv(this,g,c),K=g.length-1;K>=0;K--)Vi(this,g[K]);V?Rp(this,V):this.cm&&Ri(this.cm)}),undo:Nr(function(){Js(this,"undo")}),redo:Nr(function(){Js(this,"redo")}),undoSelection:Nr(function(){Js(this,"undo",!0)}),redoSelection:Nr(function(){Js(this,"redo",!0)}),setExtending:function(a){this.extend=a},getExtending:function(){return this.extend},historySize:function(){for(var a=this.history,c=0,m=0,g=0;g<a.done.length;g++)a.done[g].ranges||++c;for(var y=0;y<a.undone.length;y++)a.undone[y].ranges||++m;return{undo:c,redo:m}},clearHistory:function(){var a=this;this.history=new Ys(this.history),zo(this,function(c){return c.history=a.history},!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(a){return a&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(a){return this.history.generation==(a||this.cleanGeneration)},getHistory:function(){return{done:Hi(this.history.done),undone:Hi(this.history.undone)}},setHistory:function(a){var c=this.history=new Ys(this.history);c.done=Hi(a.done.slice(0),null,!0),c.undone=Hi(a.undone.slice(0),null,!0)},setGutterMarker:Nr(function(a,c,m){return Ba(this,a,"gutter",function(g){var y=g.gutterMarkers||(g.gutterMarkers={});return y[c]=m,!m&&jt(y)&&(g.gutterMarkers=null),!0})}),clearGutter:Nr(function(a){var c=this;this.iter(function(m){m.gutterMarkers&&m.gutterMarkers[a]&&Ba(c,m,"gutter",function(){return m.gutterMarkers[a]=null,jt(m.gutterMarkers)&&(m.gutterMarkers=null),!0})})}),lineInfo:function(a){var c;if(typeof a=="number"){if(!$e(this,a)||(c=a,a=O(this,a),!a))return null}else if(c=Mt(a),c==null)return null;return{line:c,handle:a,text:a.text,gutterMarkers:a.gutterMarkers,textClass:a.textClass,bgClass:a.bgClass,wrapClass:a.wrapClass,widgets:a.widgets}},addLineClass:Nr(function(a,c,m){return Ba(this,a,c=="gutter"?"gutter":"class",function(g){var y=c=="text"?"textClass":c=="background"?"bgClass":c=="gutter"?"gutterClass":"wrapClass";if(!g[y])g[y]=m;else{if(P(m).test(g[y]))return!1;g[y]+=" "+m}return!0})}),removeLineClass:Nr(function(a,c,m){return Ba(this,a,c=="gutter"?"gutter":"class",function(g){var y=c=="text"?"textClass":c=="background"?"bgClass":c=="gutter"?"gutterClass":"wrapClass",E=g[y];if(E)if(m==null)g[y]=null;else{var I=E.match(P(m));if(!I)return!1;var V=I.index+I[0].length;g[y]=E.slice(0,I.index)+(!I.index||V==E.length?"":" ")+E.slice(V)||null}else return!1;return!0})}),addLineWidget:Nr(function(a,c,m){return rg(this,a,c,m)}),removeLineWidget:function(a){a.clear()},markText:function(a,c,m){return Bi(this,te(this,a),te(this,c),m,m&&m.type||"range")},setBookmark:function(a,c){var m={replacedWith:c&&(c.nodeType==null?c.widget:c),insertLeft:c&&c.insertLeft,clearWhenEmpty:!1,shared:c&&c.shared,handleMouseEvents:c&&c.handleMouseEvents};return a=te(this,a),Bi(this,a,a,m,"bookmark")},findMarksAt:function(a){a=te(this,a);var c=[],m=O(this,a.line).markedSpans;if(m)for(var g=0;g<m.length;++g){var y=m[g];(y.from==null||y.from<=a.ch)&&(y.to==null||y.to>=a.ch)&&c.push(y.marker.parent||y.marker)}return c},findMarks:function(a,c,m){a=te(this,a),c=te(this,c);var g=[],y=a.line;return this.iter(a.line,c.line+1,function(E){var I=E.markedSpans;if(I)for(var V=0;V<I.length;V++){var K=I[V];!(K.to!=null&&y==a.line&&a.ch>=K.to||K.from==null&&y!=a.line||K.from!=null&&y==c.line&&K.from>=c.ch)&&(!m||m(K.marker))&&g.push(K.marker.parent||K.marker)}++y}),g},getAllMarks:function(){var a=[];return this.iter(function(c){var m=c.markedSpans;if(m)for(var g=0;g<m.length;++g)m[g].from!=null&&a.push(m[g].marker)}),a},posFromIndex:function(a){var c,m=this.first,g=this.lineSeparator().length;return this.iter(function(y){var E=y.text.length+g;if(E>a)return c=a,!0;a-=E,++m}),te(this,Ht(m,c))},indexFromPos:function(a){a=te(this,a);var c=a.ch;if(a.line<this.first||a.ch<0)return 0;var m=this.lineSeparator().length;return this.iter(this.first,a.line,function(g){c+=g.text.length+m}),c},copy:function(a){var c=new Qr(F(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return c.scrollTop=this.scrollTop,c.scrollLeft=this.scrollLeft,c.sel=this.sel,c.extend=!1,a&&(c.history.undoDepth=this.history.undoDepth,c.setHistory(this.getHistory())),c},linkedDoc:function(a){a||(a={});var c=this.first,m=this.first+this.size;a.from!=null&&a.from>c&&(c=a.from),a.to!=null&&a.to<m&&(m=a.to);var g=new Qr(F(this,c,m),a.mode||this.modeOption,c,this.lineSep,this.direction);return a.sharedHist&&(g.history=this.history),(this.linked||(this.linked=[])).push({doc:g,sharedHist:a.sharedHist}),g.linked=[{doc:this,isParent:!0,sharedHist:a.sharedHist}],og(g,$p(this)),g},unlinkDoc:function(a){if(a instanceof fr&&(a=a.doc),this.linked)for(var c=0;c<this.linked.length;++c){var m=this.linked[c];if(m.doc==a){this.linked.splice(c,1),a.unlinkDoc(this),ig($p(this));break}}if(a.history==this.history){var g=[a.id];zo(a,function(y){return g.push(y.id)},!0),a.history=new Ys(null),a.history.done=Hi(this.history.done,g),a.history.undone=Hi(this.history.undone,g)}},iterLinkedDocs:function(a){zo(this,a)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(a){return this.lineSep?a.split(this.lineSep):Ue(a)},lineSeparator:function(){return this.lineSep||`
`},setDirection:Nr(function(a){a!="rtl"&&(a="ltr"),a!=this.direction&&(this.direction=a,this.iter(function(c){return c.order=null}),this.cm&&Yv(this.cm))})}),Qr.prototype.eachLine=Qr.prototype.iter;var Zp=0;function sg(a){var c=this;if(Qp(c),!(oe(c,a)||jn(c.display,a))){ke(a),s&&(Zp=+new Date);var m=ii(c,a,!0),g=a.dataTransfer.files;if(!(!m||c.isReadOnly()))if(g&&g.length&&window.FileReader&&window.File)for(var y=g.length,E=Array(y),I=0,V=function(){++I==y&&Mr(c,function(){m=te(c.doc,m);var kt={from:m,to:m,text:c.doc.splitLines(E.filter(function(Gt){return Gt!=null}).join(c.doc.lineSeparator())),origin:"paste"};Vi(c.doc,kt),Rp(c.doc,Bo(te(c.doc,m),te(c.doc,Wo(kt))))})()},K=function(kt,Gt){if(c.options.allowDropFileTypes&&lt(c.options.allowDropFileTypes,kt.type)==-1){V();return}var Qt=new FileReader;Qt.onerror=function(){return V()},Qt.onload=function(){var ie=Qt.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(ie)){V();return}E[Gt]=ie,V()},Qt.readAsText(kt)},Y=0;Y<g.length;Y++)K(g[Y],Y);else{if(c.state.draggingText&&c.doc.sel.contains(m)>-1){c.state.draggingText(a),setTimeout(function(){return c.display.input.focus()},20);return}try{var ft=a.dataTransfer.getData("Text");if(ft){var gt;if(c.state.draggingText&&!c.state.draggingText.copy&&(gt=c.listSelections()),Zs(c.doc,Bo(m,m)),gt)for(var It=0;It<gt.length;++It)Ui(c.doc,"",gt[It].anchor,gt[It].head,"drag");c.replaceSelection(ft,"around","paste"),c.display.input.focus()}}catch{}}}}function lg(a,c){if(s&&(!a.state.draggingText||+new Date-Zp<100)){et(c);return}if(!(oe(a,c)||jn(a.display,c))&&(c.dataTransfer.setData("Text",a.getSelection()),c.dataTransfer.effectAllowed="copyMove",c.dataTransfer.setDragImage&&!v)){var m=z("img",null,null,"position: fixed; left: 0; top: 0;");m.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",h&&(m.width=m.height=1,a.display.wrapper.appendChild(m),m._top=m.offsetTop),c.dataTransfer.setDragImage(m,0,0),h&&m.parentNode.removeChild(m)}}function ug(a,c){var m=ii(a,c);if(m){var g=document.createDocumentFragment();fp(a,m,g),a.display.dragCursor||(a.display.dragCursor=z("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),a.display.lineSpace.insertBefore(a.display.dragCursor,a.display.cursorDiv)),M(a.display.dragCursor,g)}}function Qp(a){a.display.dragCursor&&(a.display.lineSpace.removeChild(a.display.dragCursor),a.display.dragCursor=null)}function Jp(a){if(document.getElementsByClassName){for(var c=document.getElementsByClassName("CodeMirror"),m=[],g=0;g<c.length;g++){var y=c[g].CodeMirror;y&&m.push(y)}m.length&&m[0].operation(function(){for(var E=0;E<m.length;E++)a(m[E])})}}var td=!1;function cg(){td||(fg(),td=!0)}function fg(){var a;Lt(window,"resize",function(){a==null&&(a=setTimeout(function(){a=null,Jp(pg)},100))}),Lt(window,"blur",function(){return Jp(Di)})}function pg(a){var c=a.display;c.cachedCharWidth=c.cachedTextHeight=c.cachedPaddingH=null,c.scrollbarsClipped=!1,a.setSize()}for(var Go={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",224:"Mod",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},qa=0;qa<10;qa++)Go[qa+48]=Go[qa+96]=String(qa);for(var tl=65;tl<=90;tl++)Go[tl]=String.fromCharCode(tl);for(var Ya=1;Ya<=12;Ya++)Go[Ya+111]=Go[Ya+63235]="F"+Ya;var mo={};mo.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},mo.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},mo.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},mo.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},mo.default=S?mo.macDefault:mo.pcDefault;function dg(a){var c=a.split(/-(?!$)/);a=c[c.length-1];for(var m,g,y,E,I=0;I<c.length-1;I++){var V=c[I];if(/^(cmd|meta|m)$/i.test(V))E=!0;else if(/^a(lt)?$/i.test(V))m=!0;else if(/^(c|ctrl|control)$/i.test(V))g=!0;else if(/^s(hift)?$/i.test(V))y=!0;else throw new Error("Unrecognized modifier name: "+V)}return m&&(a="Alt-"+a),g&&(a="Ctrl-"+a),E&&(a="Cmd-"+a),y&&(a="Shift-"+a),a}function hg(a){var c={};for(var m in a)if(a.hasOwnProperty(m)){var g=a[m];if(/^(name|fallthrough|(de|at)tach)$/.test(m))continue;if(g=="..."){delete a[m];continue}for(var y=mt(m.split(" "),dg),E=0;E<y.length;E++){var I=void 0,V=void 0;E==y.length-1?(V=y.join(" "),I=g):(V=y.slice(0,E+1).join(" "),I="...");var K=c[V];if(!K)c[V]=I;else if(K!=I)throw new Error("Inconsistent bindings for "+V)}delete a[m]}for(var Y in c)a[Y]=c[Y];return a}function Wi(a,c,m,g){c=el(c);var y=c.call?c.call(a,g):c[a];if(y===!1)return"nothing";if(y==="...")return"multi";if(y!=null&&m(y))return"handled";if(c.fallthrough){if(Object.prototype.toString.call(c.fallthrough)!="[object Array]")return Wi(a,c.fallthrough,m,g);for(var E=0;E<c.fallthrough.length;E++){var I=Wi(a,c.fallthrough[E],m,g);if(I)return I}}}function ed(a){var c=typeof a=="string"?a:Go[a.keyCode];return c=="Ctrl"||c=="Alt"||c=="Shift"||c=="Mod"}function rd(a,c,m){var g=a;return c.altKey&&g!="Alt"&&(a="Alt-"+a),(L?c.metaKey:c.ctrlKey)&&g!="Ctrl"&&(a="Ctrl-"+a),(L?c.ctrlKey:c.metaKey)&&g!="Mod"&&(a="Cmd-"+a),!m&&c.shiftKey&&g!="Shift"&&(a="Shift-"+a),a}function nd(a,c){if(h&&a.keyCode==34&&a.char)return!1;var m=Go[a.keyCode];return m==null||a.altGraphKey?!1:(a.keyCode==3&&a.code&&(m=a.code),rd(m,a,c))}function el(a){return typeof a=="string"?mo[a]:a}function zi(a,c){for(var m=a.doc.sel.ranges,g=[],y=0;y<m.length;y++){for(var E=c(m[y]);g.length&&U(E.from,Vt(g).to)<=0;){var I=g.pop();if(U(I.from,E.from)<0){E.from=I.from;break}}g.push(E)}dn(a,function(){for(var V=g.length-1;V>=0;V--)Ui(a.doc,"",g[V].from,g[V].to,"+delete");Ri(a)})}function ic(a,c,m){var g=At(a.text,c+m,m);return g<0||g>a.text.length?null:g}function ac(a,c,m){var g=ic(a,c.ch,m);return g==null?null:new Ht(c.line,g,m<0?"after":"before")}function sc(a,c,m,g,y){if(a){c.doc.direction=="rtl"&&(y=-y);var E=J(m,c.doc.direction);if(E){var I=y<0?Vt(E):E[0],V=y<0==(I.level==1),K=V?"after":"before",Y;if(I.level>0||c.doc.direction=="rtl"){var ft=$t(c,m);Y=y<0?m.text.length-1:0;var gt=se(c,ft,Y).top;Y=ee(function(It){return se(c,ft,It).top==gt},y<0==(I.level==1)?I.from:I.to-1,Y),K=="before"&&(Y=ic(m,Y,1))}else Y=y<0?I.to:I.from;return new Ht(g,Y,K)}}return new Ht(g,y<0?m.text.length:0,y<0?"before":"after")}function vg(a,c,m,g){var y=J(c,a.doc.direction);if(!y)return ac(c,m,g);m.ch>=c.text.length?(m.ch=c.text.length,m.sticky="before"):m.ch<=0&&(m.ch=0,m.sticky="after");var E=nt(y,m.ch,m.sticky),I=y[E];if(a.doc.direction=="ltr"&&I.level%2==0&&(g>0?I.to>m.ch:I.from<m.ch))return ac(c,m,g);var V=function(fe,he){return ic(c,fe instanceof Ht?fe.ch:fe,he)},K,Y=function(fe){return a.options.lineWrapping?(K=K||$t(a,c),sp(a,c,K,fe)):{begin:0,end:c.text.length}},ft=Y(m.sticky=="before"?V(m,-1):m.ch);if(a.doc.direction=="rtl"||I.level==1){var gt=I.level==1==g<0,It=V(m,gt?1:-1);if(It!=null&&(gt?It<=I.to&&It<=ft.end:It>=I.from&&It>=ft.begin)){var kt=gt?"before":"after";return new Ht(m.line,It,kt)}}var Gt=function(fe,he,pe){for(var ge=function(or,Lr){return Lr?new Ht(m.line,V(or,1),"before"):new Ht(m.line,or,"after")};fe>=0&&fe<y.length;fe+=he){var Se=y[fe],Te=he>0==(Se.level!=1),Be=Te?pe.begin:V(pe.end,-1);if(Se.from<=Be&&Be<Se.to||(Be=Te?Se.from:V(Se.to,-1),pe.begin<=Be&&Be<pe.end))return ge(Be,Te)}},Qt=Gt(E+g,g,ft);if(Qt)return Qt;var ie=g>0?ft.end:V(ft.begin,-1);return ie!=null&&!(g>0&&ie==c.text.length)&&(Qt=Gt(g>0?0:y.length-1,g,Y(ie)),Qt)?Qt:null}var Xa={selectAll:Up,singleSelection:function(a){return a.setSelection(a.getCursor("anchor"),a.getCursor("head"),Ot)},killLine:function(a){return zi(a,function(c){if(c.empty()){var m=O(a.doc,c.head.line).text.length;return c.head.ch==m&&c.head.line<a.lastLine()?{from:c.head,to:Ht(c.head.line+1,0)}:{from:c.head,to:Ht(c.head.line,m)}}else return{from:c.from(),to:c.to()}})},deleteLine:function(a){return zi(a,function(c){return{from:Ht(c.from().line,0),to:te(a.doc,Ht(c.to().line+1,0))}})},delLineLeft:function(a){return zi(a,function(c){return{from:Ht(c.from().line,0),to:c.from()}})},delWrappedLineLeft:function(a){return zi(a,function(c){var m=a.charCoords(c.head,"div").top+5,g=a.coordsChar({left:0,top:m},"div");return{from:g,to:c.from()}})},delWrappedLineRight:function(a){return zi(a,function(c){var m=a.charCoords(c.head,"div").top+5,g=a.coordsChar({left:a.display.lineDiv.offsetWidth+100,top:m},"div");return{from:c.from(),to:g}})},undo:function(a){return a.undo()},redo:function(a){return a.redo()},undoSelection:function(a){return a.undoSelection()},redoSelection:function(a){return a.redoSelection()},goDocStart:function(a){return a.extendSelection(Ht(a.firstLine(),0))},goDocEnd:function(a){return a.extendSelection(Ht(a.lastLine()))},goLineStart:function(a){return a.extendSelectionsBy(function(c){return od(a,c.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(a){return a.extendSelectionsBy(function(c){return id(a,c.head)},{origin:"+move",bias:1})},goLineEnd:function(a){return a.extendSelectionsBy(function(c){return gg(a,c.head.line)},{origin:"+move",bias:-1})},goLineRight:function(a){return a.extendSelectionsBy(function(c){var m=a.cursorCoords(c.head,"div").top+5;return a.coordsChar({left:a.display.lineDiv.offsetWidth+100,top:m},"div")},Bt)},goLineLeft:function(a){return a.extendSelectionsBy(function(c){var m=a.cursorCoords(c.head,"div").top+5;return a.coordsChar({left:0,top:m},"div")},Bt)},goLineLeftSmart:function(a){return a.extendSelectionsBy(function(c){var m=a.cursorCoords(c.head,"div").top+5,g=a.coordsChar({left:0,top:m},"div");return g.ch<a.getLine(g.line).search(/\S/)?id(a,c.head):g},Bt)},goLineUp:function(a){return a.moveV(-1,"line")},goLineDown:function(a){return a.moveV(1,"line")},goPageUp:function(a){return a.moveV(-1,"page")},goPageDown:function(a){return a.moveV(1,"page")},goCharLeft:function(a){return a.moveH(-1,"char")},goCharRight:function(a){return a.moveH(1,"char")},goColumnLeft:function(a){return a.moveH(-1,"column")},goColumnRight:function(a){return a.moveH(1,"column")},goWordLeft:function(a){return a.moveH(-1,"word")},goGroupRight:function(a){return a.moveH(1,"group")},goGroupLeft:function(a){return a.moveH(-1,"group")},goWordRight:function(a){return a.moveH(1,"word")},delCharBefore:function(a){return a.deleteH(-1,"codepoint")},delCharAfter:function(a){return a.deleteH(1,"char")},delWordBefore:function(a){return a.deleteH(-1,"word")},delWordAfter:function(a){return a.deleteH(1,"word")},delGroupBefore:function(a){return a.deleteH(-1,"group")},delGroupAfter:function(a){return a.deleteH(1,"group")},indentAuto:function(a){return a.indentSelection("smart")},indentMore:function(a){return a.indentSelection("add")},indentLess:function(a){return a.indentSelection("subtract")},insertTab:function(a){return a.replaceSelection("	")},insertSoftTab:function(a){for(var c=[],m=a.listSelections(),g=a.options.tabSize,y=0;y<m.length;y++){var E=m[y].from(),I=bt(a.getLine(E.line),E.ch,g);c.push(ot(g-I%g))}a.replaceSelections(c)},defaultTab:function(a){a.somethingSelected()?a.indentSelection("add"):a.execCommand("insertTab")},transposeChars:function(a){return dn(a,function(){for(var c=a.listSelections(),m=[],g=0;g<c.length;g++)if(c[g].empty()){var y=c[g].head,E=O(a.doc,y.line).text;if(E){if(y.ch==E.length&&(y=new Ht(y.line,y.ch-1)),y.ch>0)y=new Ht(y.line,y.ch+1),a.replaceRange(E.charAt(y.ch-1)+E.charAt(y.ch-2),Ht(y.line,y.ch-2),y,"+transpose");else if(y.line>a.doc.first){var I=O(a.doc,y.line-1).text;I&&(y=new Ht(y.line,1),a.replaceRange(E.charAt(0)+a.doc.lineSeparator()+I.charAt(I.length-1),Ht(y.line-1,I.length-1),y,"+transpose"))}}m.push(new Qe(y,y))}a.setSelections(m)})},newlineAndIndent:function(a){return dn(a,function(){for(var c=a.listSelections(),m=c.length-1;m>=0;m--)a.replaceRange(a.doc.lineSeparator(),c[m].anchor,c[m].head,"+input");c=a.listSelections();for(var g=0;g<c.length;g++)a.indentLine(c[g].from().line,null,!0);Ri(a)})},openLine:function(a){return a.replaceSelection(`
`,"start")},toggleOverwrite:function(a){return a.toggleOverwrite()}};function od(a,c){var m=O(a.doc,c),g=cr(m);return g!=m&&(c=Mt(g)),sc(!0,a,g,c,1)}function gg(a,c){var m=O(a.doc,c),g=Tr(m);return g!=m&&(c=Mt(g)),sc(!0,a,m,c,-1)}function id(a,c){var m=od(a,c.line),g=O(a.doc,m.line),y=J(g,a.doc.direction);if(!y||y[0].level==0){var E=Math.max(m.ch,g.text.search(/\S/)),I=c.line==m.line&&c.ch<=E&&c.ch;return Ht(m.line,I?0:E,m.sticky)}return m}function rl(a,c,m){if(typeof c=="string"&&(c=Xa[c],!c))return!1;a.display.input.ensurePolled();var g=a.display.shift,y=!1;try{a.isReadOnly()&&(a.state.suppressEdits=!0),m&&(a.display.shift=!1),y=c(a)!=yt}finally{a.display.shift=g,a.state.suppressEdits=!1}return y}function mg(a,c,m){for(var g=0;g<a.state.keyMaps.length;g++){var y=Wi(c,a.state.keyMaps[g],m,a);if(y)return y}return a.options.extraKeys&&Wi(c,a.options.extraKeys,m,a)||Wi(c,a.options.keyMap,m,a)}var yg=new at;function $a(a,c,m,g){var y=a.state.keySeq;if(y){if(ed(c))return"handled";if(/\'$/.test(c)?a.state.keySeq=null:yg.set(50,function(){a.state.keySeq==y&&(a.state.keySeq=null,a.display.input.reset())}),ad(a,y+" "+c,m,g))return!0}return ad(a,c,m,g)}function ad(a,c,m,g){var y=mg(a,c,g);return y=="multi"&&(a.state.keySeq=c),y=="handled"&&vr(a,"keyHandled",a,c,m),(y=="handled"||y=="multi")&&(ke(m),Wu(a)),!!y}function sd(a,c){var m=nd(c,!0);return m?c.shiftKey&&!a.state.keySeq?$a(a,"Shift-"+m,c,function(g){return rl(a,g,!0)})||$a(a,m,c,function(g){if(typeof g=="string"?/^go[A-Z]/.test(g):g.motion)return rl(a,g)}):$a(a,m,c,function(g){return rl(a,g)}):!1}function _g(a,c,m){return $a(a,"'"+m+"'",c,function(g){return rl(a,g,!0)})}var lc=null;function ld(a){var c=this;if(!(a.target&&a.target!=c.display.input.getField())&&(c.curOp.focus=rt(),!oe(c,a))){s&&f<11&&a.keyCode==27&&(a.returnValue=!1);var m=a.keyCode;c.display.shift=m==16||a.shiftKey;var g=sd(c,a);h&&(lc=g?m:null,!g&&m==88&&!Pr&&(S?a.metaKey:a.ctrlKey)&&c.replaceSelection("",null,"cut")),e&&!S&&!g&&m==46&&a.shiftKey&&!a.ctrlKey&&document.execCommand&&document.execCommand("cut"),m==18&&!/\bCodeMirror-crosshair\b/.test(c.display.lineDiv.className)&&bg(c)}}function bg(a){var c=a.display.lineDiv;q(c,"CodeMirror-crosshair");function m(g){(g.keyCode==18||!g.altKey)&&(D(c,"CodeMirror-crosshair"),re(document,"keyup",m),re(document,"mouseover",m))}Lt(document,"keyup",m),Lt(document,"mouseover",m)}function ud(a){a.keyCode==16&&(this.doc.sel.shift=!1),oe(this,a)}function cd(a){var c=this;if(!(a.target&&a.target!=c.display.input.getField())&&!(jn(c.display,a)||oe(c,a)||a.ctrlKey&&!a.altKey||S&&a.metaKey)){var m=a.keyCode,g=a.charCode;if(h&&m==lc){lc=null,ke(a);return}if(!(h&&(!a.which||a.which<10)&&sd(c,a))){var y=String.fromCharCode(g??m);y!="\b"&&(_g(c,a,y)||c.display.input.onKeyPress(a))}}}var Tg=400,uc=function(a,c,m){this.time=a,this.pos=c,this.button=m};uc.prototype.compare=function(a,c,m){return this.time+Tg>a&&U(c,this.pos)==0&&m==this.button};var Za,Qa;function Cg(a,c){var m=+new Date;return Qa&&Qa.compare(m,a,c)?(Za=Qa=null,"triple"):Za&&Za.compare(m,a,c)?(Qa=new uc(m,a,c),Za=null,"double"):(Za=new uc(m,a,c),Qa=null,"single")}function fd(a){var c=this,m=c.display;if(!(oe(c,a)||m.activeTouch&&m.input.supportsTouch())){if(m.input.ensurePolled(),m.shift=a.shiftKey,jn(m,a)){u||(m.scroller.draggable=!1,setTimeout(function(){return m.scroller.draggable=!0},100));return}if(!cc(c,a)){var g=ii(c,a),y=Pt(a),E=g?Cg(g,y):"single";window.focus(),y==1&&c.state.selectingText&&c.state.selectingText(a),!(g&&wg(c,y,g,E,a))&&(y==1?g?Eg(c,g,E,a):_t(a)==m.scroller&&ke(a):y==2?(g&&$s(c.doc,g),setTimeout(function(){return m.input.focus()},20)):y==3&&(k?c.display.input.onContextMenu(a):zu(c)))}}}function wg(a,c,m,g,y){var E="Click";return g=="double"?E="Double"+E:g=="triple"&&(E="Triple"+E),E=(c==1?"Left":c==2?"Middle":"Right")+E,$a(a,rd(E,y),y,function(I){if(typeof I=="string"&&(I=Xa[I]),!I)return!1;var V=!1;try{a.isReadOnly()&&(a.state.suppressEdits=!0),V=I(a,m)!=yt}finally{a.state.suppressEdits=!1}return V})}function Sg(a,c,m){var g=a.getOption("configureMouse"),y=g?g(a,c,m):{};if(y.unit==null){var E=x?m.shiftKey&&m.metaKey:m.altKey;y.unit=E?"rectangle":c=="single"?"char":c=="double"?"word":"line"}return(y.extend==null||a.doc.extend)&&(y.extend=a.doc.extend||m.shiftKey),y.addNew==null&&(y.addNew=S?m.metaKey:m.ctrlKey),y.moveOnDrag==null&&(y.moveOnDrag=!(S?m.altKey:m.ctrlKey)),y}function Eg(a,c,m,g){s?setTimeout(St(pp,a),0):a.curOp.focus=rt();var y=Sg(a,m,g),E=a.doc.sel,I;a.options.dragDrop&&Yt&&!a.isReadOnly()&&m=="single"&&(I=E.contains(c))>-1&&(U((I=E.ranges[I]).from(),c)<0||c.xRel>0)&&(U(I.to(),c)>0||c.xRel<0)?xg(a,g,c,y):Og(a,g,c,y)}function xg(a,c,m,g){var y=a.display,E=!1,I=Mr(a,function(Y){u&&(y.scroller.draggable=!1),a.state.draggingText=!1,a.state.delayingBlurEvent&&(a.hasFocus()?a.state.delayingBlurEvent=!1:zu(a)),re(y.wrapper.ownerDocument,"mouseup",I),re(y.wrapper.ownerDocument,"mousemove",V),re(y.scroller,"dragstart",K),re(y.scroller,"drop",I),E||(ke(Y),g.addNew||$s(a.doc,m,null,null,g.extend),u&&!v||s&&f==9?setTimeout(function(){y.wrapper.ownerDocument.body.focus({preventScroll:!0}),y.input.focus()},20):y.input.focus())}),V=function(Y){E=E||Math.abs(c.clientX-Y.clientX)+Math.abs(c.clientY-Y.clientY)>=10},K=function(){return E=!0};u&&(y.scroller.draggable=!0),a.state.draggingText=I,I.copy=!g.moveOnDrag,Lt(y.wrapper.ownerDocument,"mouseup",I),Lt(y.wrapper.ownerDocument,"mousemove",V),Lt(y.scroller,"dragstart",K),Lt(y.scroller,"drop",I),a.state.delayingBlurEvent=!0,setTimeout(function(){return y.input.focus()},20),y.scroller.dragDrop&&y.scroller.dragDrop()}function pd(a,c,m){if(m=="char")return new Qe(c,c);if(m=="word")return a.findWordAt(c);if(m=="line")return new Qe(Ht(c.line,0),te(a.doc,Ht(c.line+1,0)));var g=m(a,c);return new Qe(g.from,g.to)}function Og(a,c,m,g){s&&zu(a);var y=a.display,E=a.doc;ke(c);var I,V,K=E.sel,Y=K.ranges;if(g.addNew&&!g.extend?(V=E.sel.contains(m),V>-1?I=Y[V]:I=new Qe(m,m)):(I=E.sel.primary(),V=E.sel.primIndex),g.unit=="rectangle")g.addNew||(I=new Qe(m,m)),m=ii(a,c,!0,!0),V=-1;else{var ft=pd(a,m,g.unit);g.extend?I=nc(I,ft.anchor,ft.head,g.extend):I=ft}g.addNew?V==-1?(V=Y.length,Br(E,Yn(a,Y.concat([I]),V),{scroll:!1,origin:"*mouse"})):Y.length>1&&Y[V].empty()&&g.unit=="char"&&!g.extend?(Br(E,Yn(a,Y.slice(0,V).concat(Y.slice(V+1)),0),{scroll:!1,origin:"*mouse"}),K=E.sel):oc(E,V,I,zt):(V=0,Br(E,new An([I],0),zt),K=E.sel);var gt=m;function It(pe){if(U(gt,pe)!=0)if(gt=pe,g.unit=="rectangle"){for(var ge=[],Se=a.options.tabSize,Te=bt(O(E,m.line).text,m.ch,Se),Be=bt(O(E,pe.line).text,pe.ch,Se),or=Math.min(Te,Be),Lr=Math.max(Te,Be),dr=Math.min(m.line,pe.line),hn=Math.min(a.lastLine(),Math.max(m.line,pe.line));dr<=hn;dr++){var Jr=O(E,dr).text,Cr=Ut(Jr,or,Se);or==Lr?ge.push(new Qe(Ht(dr,Cr),Ht(dr,Cr))):Jr.length>Cr&&ge.push(new Qe(Ht(dr,Cr),Ht(dr,Ut(Jr,Lr,Se))))}ge.length||ge.push(new Qe(m,m)),Br(E,Yn(a,K.ranges.slice(0,V).concat(ge),V),{origin:"*mouse",scroll:!1}),a.scrollIntoView(pe)}else{var tn=I,jr=pd(a,pe,g.unit),Ar=tn.anchor,wr;U(jr.anchor,Ar)>0?(wr=jr.head,Ar=Wt(tn.from(),jr.anchor)):(wr=jr.anchor,Ar=dt(tn.to(),jr.head));var gr=K.ranges.slice(0);gr[V]=Ag(a,new Qe(te(E,Ar),wr)),Br(E,Yn(a,gr,V),zt)}}var kt=y.wrapper.getBoundingClientRect(),Gt=0;function Qt(pe){var ge=++Gt,Se=ii(a,pe,!0,g.unit=="rectangle");if(Se)if(U(Se,gt)!=0){a.curOp.focus=rt(),It(Se);var Te=zs(y,E);(Se.line>=Te.to||Se.line<Te.from)&&setTimeout(Mr(a,function(){Gt==ge&&Qt(pe)}),150)}else{var Be=pe.clientY<kt.top?-20:pe.clientY>kt.bottom?20:0;Be&&setTimeout(Mr(a,function(){Gt==ge&&(y.scroller.scrollTop+=Be,Qt(pe))}),50)}}function ie(pe){a.state.selectingText=!1,Gt=1/0,pe&&(ke(pe),y.input.focus()),re(y.wrapper.ownerDocument,"mousemove",fe),re(y.wrapper.ownerDocument,"mouseup",he),E.history.lastSelOrigin=null}var fe=Mr(a,function(pe){pe.buttons===0||!Pt(pe)?ie(pe):Qt(pe)}),he=Mr(a,ie);a.state.selectingText=he,Lt(y.wrapper.ownerDocument,"mousemove",fe),Lt(y.wrapper.ownerDocument,"mouseup",he)}function Ag(a,c){var m=c.anchor,g=c.head,y=O(a.doc,m.line);if(U(m,g)==0&&m.sticky==g.sticky)return c;var E=J(y);if(!E)return c;var I=nt(E,m.ch,m.sticky),V=E[I];if(V.from!=m.ch&&V.to!=m.ch)return c;var K=I+(V.from==m.ch==(V.level!=1)?0:1);if(K==0||K==E.length)return c;var Y;if(g.line!=m.line)Y=(g.line-m.line)*(a.doc.direction=="ltr"?1:-1)>0;else{var ft=nt(E,g.ch,g.sticky),gt=ft-I||(g.ch-m.ch)*(V.level==1?-1:1);ft==K-1||ft==K?Y=gt<0:Y=gt>0}var It=E[K+(Y?-1:0)],kt=Y==(It.level==1),Gt=kt?It.from:It.to,Qt=kt?"after":"before";return m.ch==Gt&&m.sticky==Qt?c:new Qe(new Ht(m.line,Gt,Qt),g)}function dd(a,c,m,g){var y,E;if(c.touches)y=c.touches[0].clientX,E=c.touches[0].clientY;else try{y=c.clientX,E=c.clientY}catch{return!1}if(y>=Math.floor(a.display.gutters.getBoundingClientRect().right))return!1;g&&ke(c);var I=a.display,V=I.lineDiv.getBoundingClientRect();if(E>V.bottom||!xe(a,m))return ir(c);E-=V.top-I.viewOffset;for(var K=0;K<a.display.gutterSpecs.length;++K){var Y=I.gutters.childNodes[K];if(Y&&Y.getBoundingClientRect().right>=y){var ft=ce(a.doc,E),gt=a.display.gutterSpecs[K];return le(a,m,a,ft,gt.className,c),ir(c)}}}function cc(a,c){return dd(a,c,"gutterClick",!0)}function hd(a,c){jn(a.display,c)||Pg(a,c)||oe(a,c,"contextmenu")||k||a.display.input.onContextMenu(c)}function Pg(a,c){return xe(a,"gutterContextMenu")?dd(a,c,"gutterContextMenu",!1):!1}function vd(a){a.display.wrapper.className=a.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+a.options.theme.replace(/(^|\s)\s*/g," cm-s-"),Na(a)}var Ki={toString:function(){return"CodeMirror.Init"}},gd={},nl={};function kg(a){var c=a.optionHandlers;function m(g,y,E,I){a.defaults[g]=y,E&&(c[g]=I?function(V,K,Y){Y!=Ki&&E(V,K,Y)}:E)}a.defineOption=m,a.Init=Ki,m("value","",function(g,y){return g.setValue(y)},!0),m("mode",null,function(g,y){g.doc.modeOption=y,tc(g)},!0),m("indentUnit",2,tc,!0),m("indentWithTabs",!1),m("smartIndent",!0),m("tabSize",4,function(g){Va(g),Na(g),Zr(g)},!0),m("lineSeparator",null,function(g,y){if(g.doc.lineSep=y,!!y){var E=[],I=g.doc.first;g.doc.iter(function(K){for(var Y=0;;){var ft=K.text.indexOf(y,Y);if(ft==-1)break;Y=ft+y.length,E.push(Ht(I,ft))}I++});for(var V=E.length-1;V>=0;V--)Ui(g.doc,y,E[V],Ht(E[V].line,E[V].ch+y.length))}}),m("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b\u200e\u200f\u2028\u2029\ufeff\ufff9-\ufffc]/g,function(g,y,E){g.state.specialChars=new RegExp(y.source+(y.test("	")?"":"|	"),"g"),E!=Ki&&g.refresh()}),m("specialCharPlaceholder",As,function(g){return g.refresh()},!0),m("electricChars",!0),m("inputStyle",A?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),m("spellcheck",!1,function(g,y){return g.getInputField().spellcheck=y},!0),m("autocorrect",!1,function(g,y){return g.getInputField().autocorrect=y},!0),m("autocapitalize",!1,function(g,y){return g.getInputField().autocapitalize=y},!0),m("rtlMoveVisually",!N),m("wholeLineUpdateBefore",!0),m("theme","default",function(g){vd(g),Fa(g)},!0),m("keyMap","default",function(g,y,E){var I=el(y),V=E!=Ki&&el(E);V&&V.detach&&V.detach(g,I),I.attach&&I.attach(g,V||null)}),m("extraKeys",null),m("configureMouse",null),m("lineWrapping",!1,Ng,!0),m("gutters",[],function(g,y){g.display.gutterSpecs=Qu(y,g.options.lineNumbers),Fa(g)},!0),m("fixedGutter",!0,function(g,y){g.display.gutters.style.left=y?Uu(g.display)+"px":"0",g.refresh()},!0),m("coverGutterNextToScrollbar",!1,function(g){return ji(g)},!0),m("scrollbarStyle","native",function(g){yp(g),ji(g),g.display.scrollbars.setScrollTop(g.doc.scrollTop),g.display.scrollbars.setScrollLeft(g.doc.scrollLeft)},!0),m("lineNumbers",!1,function(g,y){g.display.gutterSpecs=Qu(g.options.gutters,y),Fa(g)},!0),m("firstLineNumber",1,Fa,!0),m("lineNumberFormatter",function(g){return g},Fa,!0),m("showCursorWhenSelecting",!1,La,!0),m("resetSelectionOnContextMenu",!0),m("lineWiseCopyCut",!0),m("pasteLinesPerSelection",!0),m("selectionsMayTouch",!1),m("readOnly",!1,function(g,y){y=="nocursor"&&(Di(g),g.display.input.blur()),g.display.input.readOnlyChanged(y)}),m("screenReaderLabel",null,function(g,y){y=y===""?null:y,g.display.input.screenReaderLabelChanged(y)}),m("disableInput",!1,function(g,y){y||g.display.input.reset()},!0),m("dragDrop",!0,Mg),m("allowDropFileTypes",null),m("cursorBlinkRate",530),m("cursorScrollMargin",0),m("cursorHeight",1,La,!0),m("singleCursorHeightPerLine",!0,La,!0),m("workTime",100),m("workDelay",100),m("flattenSpans",!0,Va,!0),m("addModeClass",!1,Va,!0),m("pollInterval",100),m("undoDepth",200,function(g,y){return g.doc.history.undoDepth=y}),m("historyEventDelay",1250),m("viewportMargin",10,function(g){return g.refresh()},!0),m("maxHighlightLength",1e4,Va,!0),m("moveInputWithCursor",!0,function(g,y){y||g.display.input.resetPosition()}),m("tabindex",null,function(g,y){return g.display.input.getField().tabIndex=y||""}),m("autofocus",null),m("direction","ltr",function(g,y){return g.doc.setDirection(y)},!0),m("phrases",null)}function Mg(a,c,m){var g=m&&m!=Ki;if(!c!=!g){var y=a.display.dragFunctions,E=c?Lt:re;E(a.display.scroller,"dragstart",y.start),E(a.display.scroller,"dragenter",y.enter),E(a.display.scroller,"dragover",y.over),E(a.display.scroller,"dragleave",y.leave),E(a.display.scroller,"drop",y.drop)}}function Ng(a){a.options.lineWrapping?(q(a.display.wrapper,"CodeMirror-wrap"),a.display.sizer.style.minWidth="",a.display.sizerWidth=null):(D(a.display.wrapper,"CodeMirror-wrap"),No(a)),Bu(a),Zr(a),Na(a),setTimeout(function(){return ji(a)},100)}function fr(a,c){var m=this;if(!(this instanceof fr))return new fr(a,c);this.options=c=c?pt(c):{},pt(gd,c,!1);var g=c.value;typeof g=="string"?g=new Qr(g,c.mode,null,c.lineSeparator,c.direction):c.mode&&(g.modeOption=c.mode),this.doc=g;var y=new fr.inputStyles[c.inputStyle](this),E=this.display=new Kv(a,g,y,c);E.wrapper.CodeMirror=this,vd(this),c.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),yp(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new at,keySeq:null,specialChars:null},c.autofocus&&!A&&E.input.focus(),s&&f<11&&setTimeout(function(){return m.display.input.reset(!0)},20),Lg(this),cg(),ui(this),this.curOp.forceUpdate=!0,Ap(this,g),c.autofocus&&!A||this.hasFocus()?setTimeout(function(){m.hasFocus()&&!m.state.focused&&Ku(m)},20):Di(this);for(var I in nl)nl.hasOwnProperty(I)&&nl[I](this,c[I],Ki);Tp(this),c.finishInit&&c.finishInit(this);for(var V=0;V<fc.length;++V)fc[V](this);ci(this),u&&c.lineWrapping&&getComputedStyle(E.lineDiv).textRendering=="optimizelegibility"&&(E.lineDiv.style.textRendering="auto")}fr.defaults=gd,fr.optionHandlers=nl;function Lg(a){var c=a.display;Lt(c.scroller,"mousedown",Mr(a,fd)),s&&f<11?Lt(c.scroller,"dblclick",Mr(a,function(K){if(!oe(a,K)){var Y=ii(a,K);if(!(!Y||cc(a,K)||jn(a.display,K))){ke(K);var ft=a.findWordAt(Y);$s(a.doc,ft.anchor,ft.head)}}})):Lt(c.scroller,"dblclick",function(K){return oe(a,K)||ke(K)}),Lt(c.scroller,"contextmenu",function(K){return hd(a,K)}),Lt(c.input.getField(),"contextmenu",function(K){c.scroller.contains(K.target)||hd(a,K)});var m,g={end:0};function y(){c.activeTouch&&(m=setTimeout(function(){return c.activeTouch=null},1e3),g=c.activeTouch,g.end=+new Date)}function E(K){if(K.touches.length!=1)return!1;var Y=K.touches[0];return Y.radiusX<=1&&Y.radiusY<=1}function I(K,Y){if(Y.left==null)return!0;var ft=Y.left-K.left,gt=Y.top-K.top;return ft*ft+gt*gt>400}Lt(c.scroller,"touchstart",function(K){if(!oe(a,K)&&!E(K)&&!cc(a,K)){c.input.ensurePolled(),clearTimeout(m);var Y=+new Date;c.activeTouch={start:Y,moved:!1,prev:Y-g.end<=300?g:null},K.touches.length==1&&(c.activeTouch.left=K.touches[0].pageX,c.activeTouch.top=K.touches[0].pageY)}}),Lt(c.scroller,"touchmove",function(){c.activeTouch&&(c.activeTouch.moved=!0)}),Lt(c.scroller,"touchend",function(K){var Y=c.activeTouch;if(Y&&!jn(c,K)&&Y.left!=null&&!Y.moved&&new Date-Y.start<300){var ft=a.coordsChar(c.activeTouch,"page"),gt;!Y.prev||I(Y,Y.prev)?gt=new Qe(ft,ft):!Y.prev.prev||I(Y,Y.prev.prev)?gt=a.findWordAt(ft):gt=new Qe(Ht(ft.line,0),te(a.doc,Ht(ft.line+1,0))),a.setSelection(gt.anchor,gt.head),a.focus(),ke(K)}y()}),Lt(c.scroller,"touchcancel",y),Lt(c.scroller,"scroll",function(){c.scroller.clientHeight&&(Da(a,c.scroller.scrollTop),si(a,c.scroller.scrollLeft,!0),le(a,"scroll",a))}),Lt(c.scroller,"mousewheel",function(K){return Sp(a,K)}),Lt(c.scroller,"DOMMouseScroll",function(K){return Sp(a,K)}),Lt(c.wrapper,"scroll",function(){return c.wrapper.scrollTop=c.wrapper.scrollLeft=0}),c.dragFunctions={enter:function(K){oe(a,K)||et(K)},over:function(K){oe(a,K)||(ug(a,K),et(K))},start:function(K){return lg(a,K)},drop:Mr(a,sg),leave:function(K){oe(a,K)||Qp(a)}};var V=c.input.getField();Lt(V,"keyup",function(K){return ud.call(a,K)}),Lt(V,"keydown",Mr(a,ld)),Lt(V,"keypress",Mr(a,cd)),Lt(V,"focus",function(K){return Ku(a,K)}),Lt(V,"blur",function(K){return Di(a,K)})}var fc=[];fr.defineInitHook=function(a){return fc.push(a)};function Ja(a,c,m,g){var y=a.doc,E;m==null&&(m="add"),m=="smart"&&(y.mode.indent?E=ao(a,c).state:m="prev");var I=a.options.tabSize,V=O(y,c),K=bt(V.text,null,I);V.stateAfter&&(V.stateAfter=null);var Y=V.text.match(/^\s*/)[0],ft;if(!g&&!/\S/.test(V.text))ft=0,m="not";else if(m=="smart"&&(ft=y.mode.indent(E,V.text.slice(Y.length),V.text),ft==yt||ft>150)){if(!g)return;m="prev"}m=="prev"?c>y.first?ft=bt(O(y,c-1).text,null,I):ft=0:m=="add"?ft=K+a.options.indentUnit:m=="subtract"?ft=K-a.options.indentUnit:typeof m=="number"&&(ft=K+m),ft=Math.max(0,ft);var gt="",It=0;if(a.options.indentWithTabs)for(var kt=Math.floor(ft/I);kt;--kt)It+=I,gt+="	";if(It<ft&&(gt+=ot(ft-It)),gt!=Y)return Ui(y,gt,Ht(c,0),Ht(c,Y.length),"+input"),V.stateAfter=null,!0;for(var Gt=0;Gt<y.sel.ranges.length;Gt++){var Qt=y.sel.ranges[Gt];if(Qt.head.line==c&&Qt.head.ch<Y.length){var ie=Ht(c,Y.length);oc(y,Gt,new Qe(ie,ie));break}}}var Xn=null;function ol(a){Xn=a}function pc(a,c,m,g,y){var E=a.doc;a.display.shift=!1,g||(g=E.sel);var I=+new Date-200,V=y=="paste"||a.state.pasteIncoming>I,K=Ue(c),Y=null;if(V&&g.ranges.length>1)if(Xn&&Xn.text.join(`
`)==c){if(g.ranges.length%Xn.text.length==0){Y=[];for(var ft=0;ft<Xn.text.length;ft++)Y.push(E.splitLines(Xn.text[ft]))}}else K.length==g.ranges.length&&a.options.pasteLinesPerSelection&&(Y=mt(K,function(fe){return[fe]}));for(var gt=a.curOp.updateInput,It=g.ranges.length-1;It>=0;It--){var kt=g.ranges[It],Gt=kt.from(),Qt=kt.to();kt.empty()&&(m&&m>0?Gt=Ht(Gt.line,Gt.ch-m):a.state.overwrite&&!V?Qt=Ht(Qt.line,Math.min(O(E,Qt.line).text.length,Qt.ch+Vt(K).length)):V&&Xn&&Xn.lineWise&&Xn.text.join(`
`)==K.join(`
`)&&(Gt=Qt=Ht(Gt.line,0)));var ie={from:Gt,to:Qt,text:Y?Y[It%Y.length]:K,origin:y||(V?"paste":a.state.cutIncoming>I?"cut":"+input")};Vi(a.doc,ie),vr(a,"inputRead",a,ie)}c&&!V&&yd(a,c),Ri(a),a.curOp.updateInput<2&&(a.curOp.updateInput=gt),a.curOp.typing=!0,a.state.pasteIncoming=a.state.cutIncoming=-1}function md(a,c){var m=a.clipboardData&&a.clipboardData.getData("Text");if(m)return a.preventDefault(),!c.isReadOnly()&&!c.options.disableInput&&dn(c,function(){return pc(c,m,0,null,"paste")}),!0}function yd(a,c){if(!(!a.options.electricChars||!a.options.smartIndent))for(var m=a.doc.sel,g=m.ranges.length-1;g>=0;g--){var y=m.ranges[g];if(!(y.head.ch>100||g&&m.ranges[g-1].head.line==y.head.line)){var E=a.getModeAt(y.head),I=!1;if(E.electricChars){for(var V=0;V<E.electricChars.length;V++)if(c.indexOf(E.electricChars.charAt(V))>-1){I=Ja(a,y.head.line,"smart");break}}else E.electricInput&&E.electricInput.test(O(a.doc,y.head.line).text.slice(0,y.head.ch))&&(I=Ja(a,y.head.line,"smart"));I&&vr(a,"electricInput",a,y.head.line)}}}function _d(a){for(var c=[],m=[],g=0;g<a.doc.sel.ranges.length;g++){var y=a.doc.sel.ranges[g].head.line,E={anchor:Ht(y,0),head:Ht(y+1,0)};m.push(E),c.push(a.getRange(E.anchor,E.head))}return{text:c,ranges:m}}function bd(a,c,m,g){a.setAttribute("autocorrect",m?"":"off"),a.setAttribute("autocapitalize",g?"":"off"),a.setAttribute("spellcheck",!!c)}function Td(){var a=z("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; outline: none"),c=z("div",[a],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return u?a.style.width="1000px":a.setAttribute("wrap","off"),w&&(a.style.border="1px solid black"),bd(a),c}function Ig(a){var c=a.optionHandlers,m=a.helpers={};a.prototype={constructor:a,focus:function(){window.focus(),this.display.input.focus()},setOption:function(g,y){var E=this.options,I=E[g];E[g]==y&&g!="mode"||(E[g]=y,c.hasOwnProperty(g)&&Mr(this,c[g])(this,y,I),le(this,"optionChange",this,g))},getOption:function(g){return this.options[g]},getDoc:function(){return this.doc},addKeyMap:function(g,y){this.state.keyMaps[y?"push":"unshift"](el(g))},removeKeyMap:function(g){for(var y=this.state.keyMaps,E=0;E<y.length;++E)if(y[E]==g||y[E].name==g)return y.splice(E,1),!0},addOverlay:Gr(function(g,y){var E=g.token?g:a.getMode(this.options,g);if(E.startState)throw new Error("Overlays may not be stateful.");Ft(this.state.overlays,{mode:E,modeSpec:g,opaque:y&&y.opaque,priority:y&&y.priority||0},function(I){return I.priority}),this.state.modeGen++,Zr(this)}),removeOverlay:Gr(function(g){for(var y=this.state.overlays,E=0;E<y.length;++E){var I=y[E].modeSpec;if(I==g||typeof g=="string"&&I.name==g){y.splice(E,1),this.state.modeGen++,Zr(this);return}}}),indentLine:Gr(function(g,y,E){typeof y!="string"&&typeof y!="number"&&(y==null?y=this.options.smartIndent?"smart":"prev":y=y?"add":"subtract"),$e(this.doc,g)&&Ja(this,g,y,E)}),indentSelection:Gr(function(g){for(var y=this.doc.sel.ranges,E=-1,I=0;I<y.length;I++){var V=y[I];if(V.empty())V.head.line>E&&(Ja(this,V.head.line,g,!0),E=V.head.line,I==this.doc.sel.primIndex&&Ri(this));else{var K=V.from(),Y=V.to(),ft=Math.max(E,K.line);E=Math.min(this.lastLine(),Y.line-(Y.ch?0:1))+1;for(var gt=ft;gt<E;++gt)Ja(this,gt,g);var It=this.doc.sel.ranges;K.ch==0&&y.length==It.length&&It[I].from().ch>0&&oc(this.doc,I,new Qe(K,It[I].to()),Ot)}}}),getTokenAt:function(g,y){return Po(this,g,y)},getLineTokens:function(g,y){return Po(this,Ht(g),y,!0)},getTokenTypeAt:function(g){g=te(this.doc,g);var y=Oo(this,O(this.doc,g.line)),E=0,I=(y.length-1)/2,V=g.ch,K;if(V==0)K=y[2];else for(;;){var Y=E+I>>1;if((Y?y[Y*2-1]:0)>=V)I=Y;else if(y[Y*2+1]<V)E=Y+1;else{K=y[Y*2+2];break}}var ft=K?K.indexOf("overlay "):-1;return ft<0?K:ft==0?null:K.slice(0,ft-1)},getModeAt:function(g){var y=this.doc.mode;return y.innerMode?a.innerMode(y,this.getTokenAt(g).state).mode:y},getHelper:function(g,y){return this.getHelpers(g,y)[0]},getHelpers:function(g,y){var E=[];if(!m.hasOwnProperty(y))return E;var I=m[y],V=this.getModeAt(g);if(typeof V[y]=="string")I[V[y]]&&E.push(I[V[y]]);else if(V[y])for(var K=0;K<V[y].length;K++){var Y=I[V[y][K]];Y&&E.push(Y)}else V.helperType&&I[V.helperType]?E.push(I[V.helperType]):I[V.name]&&E.push(I[V.name]);for(var ft=0;ft<I._global.length;ft++){var gt=I._global[ft];gt.pred(V,this)&&lt(E,gt.val)==-1&&E.push(gt.val)}return E},getStateAfter:function(g,y){var E=this.doc;return g=Jt(E,g??E.first+E.size-1),ao(this,g+1,y).state},cursorCoords:function(g,y){var E,I=this.doc.sel.primary();return g==null?E=I.head:typeof g=="object"?E=te(this.doc,g):E=g?I.from():I.to(),qn(this,E,y||"page")},charCoords:function(g,y){return Vs(this,te(this.doc,g),y||"page")},coordsChar:function(g,y){return g=op(this,g,y||"page"),Hu(this,g.left,g.top)},lineAtHeight:function(g,y){return g=op(this,{top:g,left:0},y||"page").top,ce(this.doc,g+this.display.viewOffset)},heightAtLine:function(g,y,E){var I=!1,V;if(typeof g=="number"){var K=this.doc.first+this.doc.size-1;g<this.doc.first?g=this.doc.first:g>K&&(g=K,I=!0),V=O(this.doc,g)}else V=g;return Fs(this,V,{top:0,left:0},y||"page",E||I).top+(I?this.doc.height-Rn(V):0)},defaultTextHeight:function(){return Li(this.display)},defaultCharWidth:function(){return Ii(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(g,y,E,I,V){var K=this.display;g=qn(this,te(this.doc,g));var Y=g.bottom,ft=g.left;if(y.style.position="absolute",y.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(y),K.sizer.appendChild(y),I=="over")Y=g.top;else if(I=="above"||I=="near"){var gt=Math.max(K.wrapper.clientHeight,this.doc.height),It=Math.max(K.sizer.clientWidth,K.lineSpace.clientWidth);(I=="above"||g.bottom+y.offsetHeight>gt)&&g.top>y.offsetHeight?Y=g.top-y.offsetHeight:g.bottom+y.offsetHeight<=gt&&(Y=g.bottom),ft+y.offsetWidth>It&&(ft=It-y.offsetWidth)}y.style.top=Y+"px",y.style.left=y.style.right="",V=="right"?(ft=K.sizer.clientWidth-y.offsetWidth,y.style.right="0px"):(V=="left"?ft=0:V=="middle"&&(ft=(K.sizer.clientWidth-y.offsetWidth)/2),y.style.left=ft+"px"),E&&Mv(this,{left:ft,top:Y,right:ft+y.offsetWidth,bottom:Y+y.offsetHeight})},triggerOnKeyDown:Gr(ld),triggerOnKeyPress:Gr(cd),triggerOnKeyUp:ud,triggerOnMouseDown:Gr(fd),execCommand:function(g){if(Xa.hasOwnProperty(g))return Xa[g].call(null,this)},triggerElectric:Gr(function(g){yd(this,g)}),findPosH:function(g,y,E,I){var V=1;y<0&&(V=-1,y=-y);for(var K=te(this.doc,g),Y=0;Y<y&&(K=dc(this.doc,K,V,E,I),!K.hitSide);++Y);return K},moveH:Gr(function(g,y){var E=this;this.extendSelectionsBy(function(I){return E.display.shift||E.doc.extend||I.empty()?dc(E.doc,I.head,g,y,E.options.rtlMoveVisually):g<0?I.from():I.to()},Bt)}),deleteH:Gr(function(g,y){var E=this.doc.sel,I=this.doc;E.somethingSelected()?I.replaceSelection("",null,"+delete"):zi(this,function(V){var K=dc(I,V.head,g,y,!1);return g<0?{from:K,to:V.head}:{from:V.head,to:K}})}),findPosV:function(g,y,E,I){var V=1,K=I;y<0&&(V=-1,y=-y);for(var Y=te(this.doc,g),ft=0;ft<y;++ft){var gt=qn(this,Y,"div");if(K==null?K=gt.left:gt.left=K,Y=Cd(this,gt,V,E),Y.hitSide)break}return Y},moveV:Gr(function(g,y){var E=this,I=this.doc,V=[],K=!this.display.shift&&!I.extend&&I.sel.somethingSelected();if(I.extendSelectionsBy(function(ft){if(K)return g<0?ft.from():ft.to();var gt=qn(E,ft.head,"div");ft.goalColumn!=null&&(gt.left=ft.goalColumn),V.push(gt.left);var It=Cd(E,gt,g,y);return y=="page"&&ft==I.sel.primary()&&qu(E,Vs(E,It,"div").top-gt.top),It},Bt),V.length)for(var Y=0;Y<I.sel.ranges.length;Y++)I.sel.ranges[Y].goalColumn=V[Y]}),findWordAt:function(g){var y=this.doc,E=O(y,g.line).text,I=g.ch,V=g.ch;if(E){var K=this.getHelper(g,"wordChars");(g.sticky=="before"||V==E.length)&&I?--I:++V;for(var Y=E.charAt(I),ft=Ct(Y,K)?function(gt){return Ct(gt,K)}:/\s/.test(Y)?function(gt){return/\s/.test(gt)}:function(gt){return!/\s/.test(gt)&&!Ct(gt)};I>0&&ft(E.charAt(I-1));)--I;for(;V<E.length&&ft(E.charAt(V));)++V}return new Qe(Ht(g.line,I),Ht(g.line,V))},toggleOverwrite:function(g){g!=null&&g==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?q(this.display.cursorDiv,"CodeMirror-overwrite"):D(this.display.cursorDiv,"CodeMirror-overwrite"),le(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==rt()},isReadOnly:function(){return!!(this.options.readOnly||this.doc.cantEdit)},scrollTo:Gr(function(g,y){Ia(this,g,y)}),getScrollInfo:function(){var g=this.display.scroller;return{left:g.scrollLeft,top:g.scrollTop,height:g.scrollHeight-pn(this)-this.display.barHeight,width:g.scrollWidth-pn(this)-this.display.barWidth,clientHeight:G(this),clientWidth:go(this)}},scrollIntoView:Gr(function(g,y){g==null?(g={from:this.doc.sel.primary().head,to:null},y==null&&(y=this.options.cursorScrollMargin)):typeof g=="number"?g={from:Ht(g,0),to:null}:g.from==null&&(g={from:g,to:null}),g.to||(g.to=g.from),g.margin=y||0,g.from.line!=null?Nv(this,g):hp(this,g.from,g.to,g.margin)}),setSize:Gr(function(g,y){var E=this,I=function(K){return typeof K=="number"||/^\d+$/.test(String(K))?K+"px":K};g!=null&&(this.display.wrapper.style.width=I(g)),y!=null&&(this.display.wrapper.style.height=I(y)),this.options.lineWrapping&&ep(this);var V=this.display.viewFrom;this.doc.iter(V,this.display.viewTo,function(K){if(K.widgets){for(var Y=0;Y<K.widgets.length;Y++)if(K.widgets[Y].noHScroll){Vo(E,V,"widget");break}}++V}),this.curOp.forceUpdate=!0,le(this,"refresh",this)}),operation:function(g){return dn(this,g)},startOperation:function(){return ui(this)},endOperation:function(){return ci(this)},refresh:Gr(function(){var g=this.display.cachedTextHeight;Zr(this),this.curOp.forceUpdate=!0,Na(this),Ia(this,this.doc.scrollLeft,this.doc.scrollTop),$u(this.display),(g==null||Math.abs(g-Li(this.display))>.5||this.options.lineWrapping)&&Bu(this),le(this,"refresh",this)}),swapDoc:Gr(function(g){var y=this.doc;return y.cm=null,this.state.selectingText&&this.state.selectingText(),Ap(this,g),Na(this),this.display.input.reset(),Ia(this,g.scrollLeft,g.scrollTop),this.curOp.forceScroll=!0,vr(this,"swapDoc",this,y),y}),phrase:function(g){var y=this.options.phrases;return y&&Object.prototype.hasOwnProperty.call(y,g)?y[g]:g},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},Ae(a),a.registerHelper=function(g,y,E){m.hasOwnProperty(g)||(m[g]=a[g]={_global:[]}),m[g][y]=E},a.registerGlobalHelper=function(g,y,E,I){a.registerHelper(g,y,I),m[g]._global.push({pred:E,val:I})}}function dc(a,c,m,g,y){var E=c,I=m,V=O(a,c.line),K=y&&a.direction=="rtl"?-m:m;function Y(){var he=c.line+K;return he<a.first||he>=a.first+a.size?!1:(c=new Ht(he,c.ch,c.sticky),V=O(a,he))}function ft(he){var pe;if(g=="codepoint"){var ge=V.text.charCodeAt(c.ch+(m>0?0:-1));if(isNaN(ge))pe=null;else{var Se=m>0?ge>=55296&&ge<56320:ge>=56320&&ge<57343;pe=new Ht(c.line,Math.max(0,Math.min(V.text.length,c.ch+m*(Se?2:1))),-m)}}else y?pe=vg(a.cm,V,c,m):pe=ac(V,c,m);if(pe==null)if(!he&&Y())c=sc(y,a.cm,V,c.line,K);else return!1;else c=pe;return!0}if(g=="char"||g=="codepoint")ft();else if(g=="column")ft(!0);else if(g=="word"||g=="group")for(var gt=null,It=g=="group",kt=a.cm&&a.cm.getHelper(c,"wordChars"),Gt=!0;!(m<0&&!ft(!Gt));Gt=!1){var Qt=V.text.charAt(c.ch)||`
`,ie=Ct(Qt,kt)?"w":It&&Qt==`
`?"n":!It||/\s/.test(Qt)?null:"p";if(It&&!Gt&&!ie&&(ie="s"),gt&&gt!=ie){m<0&&(m=1,ft(),c.sticky="after");break}if(ie&&(gt=ie),m>0&&!ft(!Gt))break}var fe=Qs(a,c,E,I,!0);return Oe(E,fe)&&(fe.hitSide=!0),fe}function Cd(a,c,m,g){var y=a.doc,E=c.left,I;if(g=="page"){var V=Math.min(a.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight),K=Math.max(V-.5*Li(a.display),3);I=(m>0?c.bottom:c.top)+m*K}else g=="line"&&(I=m>0?c.bottom+3:c.top-3);for(var Y;Y=Hu(a,E,I),!!Y.outside;){if(m<0?I<=0:I>=y.height){Y.hitSide=!0;break}I+=m*5}return Y}var tr=function(a){this.cm=a,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new at,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};tr.prototype.init=function(a){var c=this,m=this,g=m.cm,y=m.div=a.lineDiv;y.contentEditable=!0,bd(y,g.options.spellcheck,g.options.autocorrect,g.options.autocapitalize);function E(V){for(var K=V.target;K;K=K.parentNode){if(K==y)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(K.className))break}return!1}Lt(y,"paste",function(V){!E(V)||oe(g,V)||md(V,g)||f<=11&&setTimeout(Mr(g,function(){return c.updateFromDOM()}),20)}),Lt(y,"compositionstart",function(V){c.composing={data:V.data,done:!1}}),Lt(y,"compositionupdate",function(V){c.composing||(c.composing={data:V.data,done:!1})}),Lt(y,"compositionend",function(V){c.composing&&(V.data!=c.composing.data&&c.readFromDOMSoon(),c.composing.done=!0)}),Lt(y,"touchstart",function(){return m.forceCompositionEnd()}),Lt(y,"input",function(){c.composing||c.readFromDOMSoon()});function I(V){if(!(!E(V)||oe(g,V))){if(g.somethingSelected())ol({lineWise:!1,text:g.getSelections()}),V.type=="cut"&&g.replaceSelection("",null,"cut");else if(g.options.lineWiseCopyCut){var K=_d(g);ol({lineWise:!0,text:K.text}),V.type=="cut"&&g.operation(function(){g.setSelections(K.ranges,0,Ot),g.replaceSelection("",null,"cut")})}else return;if(V.clipboardData){V.clipboardData.clearData();var Y=Xn.text.join(`
`);if(V.clipboardData.setData("Text",Y),V.clipboardData.getData("Text")==Y){V.preventDefault();return}}var ft=Td(),gt=ft.firstChild;g.display.lineSpace.insertBefore(ft,g.display.lineSpace.firstChild),gt.value=Xn.text.join(`
`);var It=rt();vt(gt),setTimeout(function(){g.display.lineSpace.removeChild(ft),It.focus(),It==y&&m.showPrimarySelection()},50)}}Lt(y,"copy",I),Lt(y,"cut",I)},tr.prototype.screenReaderLabelChanged=function(a){a?this.div.setAttribute("aria-label",a):this.div.removeAttribute("aria-label")},tr.prototype.prepareSelection=function(){var a=cp(this.cm,!1);return a.focus=rt()==this.div,a},tr.prototype.showSelection=function(a,c){!a||!this.cm.display.view.length||((a.focus||c)&&this.showPrimarySelection(),this.showMultipleSelections(a))},tr.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},tr.prototype.showPrimarySelection=function(){var a=this.getSelection(),c=this.cm,m=c.doc.sel.primary(),g=m.from(),y=m.to();if(c.display.viewTo==c.display.viewFrom||g.line>=c.display.viewTo||y.line<c.display.viewFrom){a.removeAllRanges();return}var E=il(c,a.anchorNode,a.anchorOffset),I=il(c,a.focusNode,a.focusOffset);if(!(E&&!E.bad&&I&&!I.bad&&U(Wt(E,I),g)==0&&U(dt(E,I),y)==0)){var V=c.display.view,K=g.line>=c.display.viewFrom&&wd(c,g)||{node:V[0].measure.map[2],offset:0},Y=y.line<c.display.viewTo&&wd(c,y);if(!Y){var ft=V[V.length-1].measure,gt=ft.maps?ft.maps[ft.maps.length-1]:ft.map;Y={node:gt[gt.length-1],offset:gt[gt.length-2]-gt[gt.length-3]}}if(!K||!Y){a.removeAllRanges();return}var It=a.rangeCount&&a.getRangeAt(0),kt;try{kt=$(K.node,K.offset,Y.offset,Y.node)}catch{}kt&&(!e&&c.state.focused?(a.collapse(K.node,K.offset),kt.collapsed||(a.removeAllRanges(),a.addRange(kt))):(a.removeAllRanges(),a.addRange(kt)),It&&a.anchorNode==null?a.addRange(It):e&&this.startGracePeriod()),this.rememberSelection()}},tr.prototype.startGracePeriod=function(){var a=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){a.gracePeriod=!1,a.selectionChanged()&&a.cm.operation(function(){return a.cm.curOp.selectionChanged=!0})},20)},tr.prototype.showMultipleSelections=function(a){M(this.cm.display.cursorDiv,a.cursors),M(this.cm.display.selectionDiv,a.selection)},tr.prototype.rememberSelection=function(){var a=this.getSelection();this.lastAnchorNode=a.anchorNode,this.lastAnchorOffset=a.anchorOffset,this.lastFocusNode=a.focusNode,this.lastFocusOffset=a.focusOffset},tr.prototype.selectionInEditor=function(){var a=this.getSelection();if(!a.rangeCount)return!1;var c=a.getRangeAt(0).commonAncestorContainer;return j(this.div,c)},tr.prototype.focus=function(){this.cm.options.readOnly!="nocursor"&&((!this.selectionInEditor()||rt()!=this.div)&&this.showSelection(this.prepareSelection(),!0),this.div.focus())},tr.prototype.blur=function(){this.div.blur()},tr.prototype.getField=function(){return this.div},tr.prototype.supportsTouch=function(){return!0},tr.prototype.receivedFocus=function(){var a=this,c=this;this.selectionInEditor()?setTimeout(function(){return a.pollSelection()},20):dn(this.cm,function(){return c.cm.curOp.selectionChanged=!0});function m(){c.cm.state.focused&&(c.pollSelection(),c.polling.set(c.cm.options.pollInterval,m))}this.polling.set(this.cm.options.pollInterval,m)},tr.prototype.selectionChanged=function(){var a=this.getSelection();return a.anchorNode!=this.lastAnchorNode||a.anchorOffset!=this.lastAnchorOffset||a.focusNode!=this.lastFocusNode||a.focusOffset!=this.lastFocusOffset},tr.prototype.pollSelection=function(){if(!(this.readDOMTimeout!=null||this.gracePeriod||!this.selectionChanged())){var a=this.getSelection(),c=this.cm;if(C&&d&&this.cm.display.gutterSpecs.length&&Dg(a.anchorNode)){this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),this.focus();return}if(!this.composing){this.rememberSelection();var m=il(c,a.anchorNode,a.anchorOffset),g=il(c,a.focusNode,a.focusOffset);m&&g&&dn(c,function(){Br(c.doc,Bo(m,g),Ot),(m.bad||g.bad)&&(c.curOp.selectionChanged=!0)})}}},tr.prototype.pollContent=function(){this.readDOMTimeout!=null&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var a=this.cm,c=a.display,m=a.doc.sel.primary(),g=m.from(),y=m.to();if(g.ch==0&&g.line>a.firstLine()&&(g=Ht(g.line-1,O(a.doc,g.line-1).length)),y.ch==O(a.doc,y.line).text.length&&y.line<a.lastLine()&&(y=Ht(y.line+1,0)),g.line<c.viewFrom||y.line>c.viewTo-1)return!1;var E,I,V;g.line==c.viewFrom||(E=ai(a,g.line))==0?(I=Mt(c.view[0].line),V=c.view[0].node):(I=Mt(c.view[E].line),V=c.view[E-1].node.nextSibling);var K=ai(a,y.line),Y,ft;if(K==c.view.length-1?(Y=c.viewTo-1,ft=c.lineDiv.lastChild):(Y=Mt(c.view[K+1].line)-1,ft=c.view[K+1].node.previousSibling),!V)return!1;for(var gt=a.doc.splitLines(Rg(a,V,ft,I,Y)),It=B(a.doc,Ht(I,0),Ht(Y,O(a.doc,Y).text.length));gt.length>1&&It.length>1;)if(Vt(gt)==Vt(It))gt.pop(),It.pop(),Y--;else if(gt[0]==It[0])gt.shift(),It.shift(),I++;else break;for(var kt=0,Gt=0,Qt=gt[0],ie=It[0],fe=Math.min(Qt.length,ie.length);kt<fe&&Qt.charCodeAt(kt)==ie.charCodeAt(kt);)++kt;for(var he=Vt(gt),pe=Vt(It),ge=Math.min(he.length-(gt.length==1?kt:0),pe.length-(It.length==1?kt:0));Gt<ge&&he.charCodeAt(he.length-Gt-1)==pe.charCodeAt(pe.length-Gt-1);)++Gt;if(gt.length==1&&It.length==1&&I==g.line)for(;kt&&kt>g.ch&&he.charCodeAt(he.length-Gt-1)==pe.charCodeAt(pe.length-Gt-1);)kt--,Gt++;gt[gt.length-1]=he.slice(0,he.length-Gt).replace(/^\u200b+/,""),gt[0]=gt[0].slice(kt).replace(/\u200b+$/,"");var Se=Ht(I,kt),Te=Ht(Y,It.length?Vt(It).length-Gt:0);if(gt.length>1||gt[0]||U(Se,Te))return Ui(a.doc,gt,Se,Te,"+input"),!0},tr.prototype.ensurePolled=function(){this.forceCompositionEnd()},tr.prototype.reset=function(){this.forceCompositionEnd()},tr.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},tr.prototype.readFromDOMSoon=function(){var a=this;this.readDOMTimeout==null&&(this.readDOMTimeout=setTimeout(function(){if(a.readDOMTimeout=null,a.composing)if(a.composing.done)a.composing=null;else return;a.updateFromDOM()},80))},tr.prototype.updateFromDOM=function(){var a=this;(this.cm.isReadOnly()||!this.pollContent())&&dn(this.cm,function(){return Zr(a.cm)})},tr.prototype.setUneditable=function(a){a.contentEditable="false"},tr.prototype.onKeyPress=function(a){a.charCode==0||this.composing||(a.preventDefault(),this.cm.isReadOnly()||Mr(this.cm,pc)(this.cm,String.fromCharCode(a.charCode==null?a.keyCode:a.charCode),0))},tr.prototype.readOnlyChanged=function(a){this.div.contentEditable=String(a!="nocursor")},tr.prototype.onContextMenu=function(){},tr.prototype.resetPosition=function(){},tr.prototype.needsContentAttribute=!0;function wd(a,c){var m=Nt(a,c.line);if(!m||m.hidden)return null;var g=O(a.doc,c.line),y=ht(m,g,c.line),E=J(g,a.doc.direction),I="left";if(E){var V=nt(E,c.ch);I=V%2?"right":"left"}var K=Le(y.map,c.ch,I);return K.offset=K.collapse=="right"?K.end:K.start,K}function Dg(a){for(var c=a;c;c=c.parentNode)if(/CodeMirror-gutter-wrapper/.test(c.className))return!0;return!1}function Gi(a,c){return c&&(a.bad=!0),a}function Rg(a,c,m,g,y){var E="",I=!1,V=a.doc.lineSeparator(),K=!1;function Y(kt){return function(Gt){return Gt.id==kt}}function ft(){I&&(E+=V,K&&(E+=V),I=K=!1)}function gt(kt){kt&&(ft(),E+=kt)}function It(kt){if(kt.nodeType==1){var Gt=kt.getAttribute("cm-text");if(Gt){gt(Gt);return}var Qt=kt.getAttribute("cm-marker"),ie;if(Qt){var fe=a.findMarks(Ht(g,0),Ht(y+1,0),Y(+Qt));fe.length&&(ie=fe[0].find(0))&&gt(B(a.doc,ie.from,ie.to).join(V));return}if(kt.getAttribute("contenteditable")=="false")return;var he=/^(pre|div|p|li|table|br)$/i.test(kt.nodeName);if(!/^br$/i.test(kt.nodeName)&&kt.textContent.length==0)return;he&&ft();for(var pe=0;pe<kt.childNodes.length;pe++)It(kt.childNodes[pe]);/^(pre|p)$/i.test(kt.nodeName)&&(K=!0),he&&(I=!0)}else kt.nodeType==3&&gt(kt.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "))}for(;It(c),c!=m;)c=c.nextSibling,K=!1;return E}function il(a,c,m){var g;if(c==a.display.lineDiv){if(g=a.display.lineDiv.childNodes[m],!g)return Gi(a.clipPos(Ht(a.display.viewTo-1)),!0);c=null,m=0}else for(g=c;;g=g.parentNode){if(!g||g==a.display.lineDiv)return null;if(g.parentNode&&g.parentNode==a.display.lineDiv)break}for(var y=0;y<a.display.view.length;y++){var E=a.display.view[y];if(E.node==g)return jg(E,c,m)}}function jg(a,c,m){var g=a.text.firstChild,y=!1;if(!c||!j(g,c))return Gi(Ht(Mt(a.line),0),!0);if(c==g&&(y=!0,c=g.childNodes[m],m=0,!c)){var E=a.rest?Vt(a.rest):a.line;return Gi(Ht(Mt(E),E.text.length),y)}var I=c.nodeType==3?c:null,V=c;for(!I&&c.childNodes.length==1&&c.firstChild.nodeType==3&&(I=c.firstChild,m&&(m=I.nodeValue.length));V.parentNode!=g;)V=V.parentNode;var K=a.measure,Y=K.maps;function ft(ie,fe,he){for(var pe=-1;pe<(Y?Y.length:0);pe++)for(var ge=pe<0?K.map:Y[pe],Se=0;Se<ge.length;Se+=3){var Te=ge[Se+2];if(Te==ie||Te==fe){var Be=Mt(pe<0?a.line:a.rest[pe]),or=ge[Se]+he;return(he<0||Te!=ie)&&(or=ge[Se+(he?1:0)]),Ht(Be,or)}}}var gt=ft(I,V,m);if(gt)return Gi(gt,y);for(var It=V.nextSibling,kt=I?I.nodeValue.length-m:0;It;It=It.nextSibling){if(gt=ft(It,It.firstChild,0),gt)return Gi(Ht(gt.line,gt.ch-kt),y);kt+=It.textContent.length}for(var Gt=V.previousSibling,Qt=m;Gt;Gt=Gt.previousSibling){if(gt=ft(Gt,Gt.firstChild,-1),gt)return Gi(Ht(gt.line,gt.ch+Qt),y);Qt+=Gt.textContent.length}}var yr=function(a){this.cm=a,this.prevInput="",this.pollingFast=!1,this.polling=new at,this.hasSelection=!1,this.composing=null};yr.prototype.init=function(a){var c=this,m=this,g=this.cm;this.createField(a);var y=this.textarea;a.wrapper.insertBefore(this.wrapper,a.wrapper.firstChild),w&&(y.style.width="0px"),Lt(y,"input",function(){s&&f>=9&&c.hasSelection&&(c.hasSelection=null),m.poll()}),Lt(y,"paste",function(I){oe(g,I)||md(I,g)||(g.state.pasteIncoming=+new Date,m.fastPoll())});function E(I){if(!oe(g,I)){if(g.somethingSelected())ol({lineWise:!1,text:g.getSelections()});else if(g.options.lineWiseCopyCut){var V=_d(g);ol({lineWise:!0,text:V.text}),I.type=="cut"?g.setSelections(V.ranges,null,Ot):(m.prevInput="",y.value=V.text.join(`
`),vt(y))}else return;I.type=="cut"&&(g.state.cutIncoming=+new Date)}}Lt(y,"cut",E),Lt(y,"copy",E),Lt(a.scroller,"paste",function(I){if(!(jn(a,I)||oe(g,I))){if(!y.dispatchEvent){g.state.pasteIncoming=+new Date,m.focus();return}var V=new Event("paste");V.clipboardData=I.clipboardData,y.dispatchEvent(V)}}),Lt(a.lineSpace,"selectstart",function(I){jn(a,I)||ke(I)}),Lt(y,"compositionstart",function(){var I=g.getCursor("from");m.composing&&m.composing.range.clear(),m.composing={start:I,range:g.markText(I,g.getCursor("to"),{className:"CodeMirror-composing"})}}),Lt(y,"compositionend",function(){m.composing&&(m.poll(),m.composing.range.clear(),m.composing=null)})},yr.prototype.createField=function(a){this.wrapper=Td(),this.textarea=this.wrapper.firstChild},yr.prototype.screenReaderLabelChanged=function(a){a?this.textarea.setAttribute("aria-label",a):this.textarea.removeAttribute("aria-label")},yr.prototype.prepareSelection=function(){var a=this.cm,c=a.display,m=a.doc,g=cp(a);if(a.options.moveInputWithCursor){var y=qn(a,m.sel.primary().head,"div"),E=c.wrapper.getBoundingClientRect(),I=c.lineDiv.getBoundingClientRect();g.teTop=Math.max(0,Math.min(c.wrapper.clientHeight-10,y.top+I.top-E.top)),g.teLeft=Math.max(0,Math.min(c.wrapper.clientWidth-10,y.left+I.left-E.left))}return g},yr.prototype.showSelection=function(a){var c=this.cm,m=c.display;M(m.cursorDiv,a.cursors),M(m.selectionDiv,a.selection),a.teTop!=null&&(this.wrapper.style.top=a.teTop+"px",this.wrapper.style.left=a.teLeft+"px")},yr.prototype.reset=function(a){if(!(this.contextMenuPending||this.composing)){var c=this.cm;if(c.somethingSelected()){this.prevInput="";var m=c.getSelection();this.textarea.value=m,c.state.focused&&vt(this.textarea),s&&f>=9&&(this.hasSelection=m)}else a||(this.prevInput=this.textarea.value="",s&&f>=9&&(this.hasSelection=null))}},yr.prototype.getField=function(){return this.textarea},yr.prototype.supportsTouch=function(){return!1},yr.prototype.focus=function(){if(this.cm.options.readOnly!="nocursor"&&(!A||rt()!=this.textarea))try{this.textarea.focus()}catch{}},yr.prototype.blur=function(){this.textarea.blur()},yr.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},yr.prototype.receivedFocus=function(){this.slowPoll()},yr.prototype.slowPoll=function(){var a=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){a.poll(),a.cm.state.focused&&a.slowPoll()})},yr.prototype.fastPoll=function(){var a=!1,c=this;c.pollingFast=!0;function m(){var g=c.poll();!g&&!a?(a=!0,c.polling.set(60,m)):(c.pollingFast=!1,c.slowPoll())}c.polling.set(20,m)},yr.prototype.poll=function(){var a=this,c=this.cm,m=this.textarea,g=this.prevInput;if(this.contextMenuPending||!c.state.focused||ze(m)&&!g&&!this.composing||c.isReadOnly()||c.options.disableInput||c.state.keySeq)return!1;var y=m.value;if(y==g&&!c.somethingSelected())return!1;if(s&&f>=9&&this.hasSelection===y||S&&/[\uf700-\uf7ff]/.test(y))return c.display.input.reset(),!1;if(c.doc.sel==c.display.selForContextMenu){var E=y.charCodeAt(0);if(E==8203&&!g&&(g="​"),E==8666)return this.reset(),this.cm.execCommand("undo")}for(var I=0,V=Math.min(g.length,y.length);I<V&&g.charCodeAt(I)==y.charCodeAt(I);)++I;return dn(c,function(){pc(c,y.slice(I),g.length-I,null,a.composing?"*compose":null),y.length>1e3||y.indexOf(`
`)>-1?m.value=a.prevInput="":a.prevInput=y,a.composing&&(a.composing.range.clear(),a.composing.range=c.markText(a.composing.start,c.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},yr.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},yr.prototype.onKeyPress=function(){s&&f>=9&&(this.hasSelection=null),this.fastPoll()},yr.prototype.onContextMenu=function(a){var c=this,m=c.cm,g=m.display,y=c.textarea;c.contextMenuPending&&c.contextMenuPending();var E=ii(m,a),I=g.scroller.scrollTop;if(!E||h)return;var V=m.options.resetSelectionOnContextMenu;V&&m.doc.sel.contains(E)==-1&&Mr(m,Br)(m.doc,Bo(E),Ot);var K=y.style.cssText,Y=c.wrapper.style.cssText,ft=c.wrapper.offsetParent.getBoundingClientRect();c.wrapper.style.cssText="position: static",y.style.cssText=`position: absolute; width: 30px; height: 30px;
      top: `+(a.clientY-ft.top-5)+"px; left: "+(a.clientX-ft.left-5)+`px;
      z-index: 1000; background: `+(s?"rgba(255, 255, 255, .05)":"transparent")+`;
      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);`;var gt;u&&(gt=window.scrollY),g.input.focus(),u&&window.scrollTo(null,gt),g.input.reset(),m.somethingSelected()||(y.value=c.prevInput=" "),c.contextMenuPending=kt,g.selForContextMenu=m.doc.sel,clearTimeout(g.detectingSelectAll);function It(){if(y.selectionStart!=null){var Qt=m.somethingSelected(),ie="​"+(Qt?y.value:"");y.value="⇚",y.value=ie,c.prevInput=Qt?"":"​",y.selectionStart=1,y.selectionEnd=ie.length,g.selForContextMenu=m.doc.sel}}function kt(){if(c.contextMenuPending==kt&&(c.contextMenuPending=!1,c.wrapper.style.cssText=Y,y.style.cssText=K,s&&f<9&&g.scrollbars.setScrollTop(g.scroller.scrollTop=I),y.selectionStart!=null)){(!s||s&&f<9)&&It();var Qt=0,ie=function(){g.selForContextMenu==m.doc.sel&&y.selectionStart==0&&y.selectionEnd>0&&c.prevInput=="​"?Mr(m,Up)(m):Qt++<10?g.detectingSelectAll=setTimeout(ie,500):(g.selForContextMenu=null,g.input.reset())};g.detectingSelectAll=setTimeout(ie,200)}}if(s&&f>=9&&It(),k){et(a);var Gt=function(){re(window,"mouseup",Gt),setTimeout(kt,20)};Lt(window,"mouseup",Gt)}else setTimeout(kt,50)},yr.prototype.readOnlyChanged=function(a){a||this.reset(),this.textarea.disabled=a=="nocursor",this.textarea.readOnly=!!a},yr.prototype.setUneditable=function(){},yr.prototype.needsContentAttribute=!1;function Hg(a,c){if(c=c?pt(c):{},c.value=a.value,!c.tabindex&&a.tabIndex&&(c.tabindex=a.tabIndex),!c.placeholder&&a.placeholder&&(c.placeholder=a.placeholder),c.autofocus==null){var m=rt();c.autofocus=m==a||a.getAttribute("autofocus")!=null&&m==document.body}function g(){a.value=V.getValue()}var y;if(a.form&&(Lt(a.form,"submit",g),!c.leaveSubmitMethodAlone)){var E=a.form;y=E.submit;try{var I=E.submit=function(){g(),E.submit=y,E.submit(),E.submit=I}}catch{}}c.finishInit=function(K){K.save=g,K.getTextArea=function(){return a},K.toTextArea=function(){K.toTextArea=isNaN,g(),a.parentNode.removeChild(K.getWrapperElement()),a.style.display="",a.form&&(re(a.form,"submit",g),!c.leaveSubmitMethodAlone&&typeof a.form.submit=="function"&&(a.form.submit=y))}},a.style.display="none";var V=fr(function(K){return a.parentNode.insertBefore(K,a.nextSibling)},c);return V}function Fg(a){a.off=re,a.on=Lt,a.wheelEventPixels=Gv,a.Doc=Qr,a.splitLines=Ue,a.countColumn=bt,a.findColumn=Ut,a.isWordChar=it,a.Pass=yt,a.signal=le,a.Line=kr,a.changeEnd=Wo,a.scrollbarModel=mp,a.Pos=Ht,a.cmpPos=U,a.modes=ar,a.mimeModes=De,a.resolveMode=Ye,a.getMode=ye,a.modeExtensions=ur,a.extendMode=Ve,a.copyState=Je,a.startState=rr,a.innerMode=Ge,a.commands=Xa,a.keyMap=mo,a.keyName=nd,a.isModifierKey=ed,a.lookupKey=Wi,a.normalizeKeyMap=hg,a.StringStream=Ie,a.SharedTextMarker=Ga,a.TextMarker=Ko,a.LineWidget=Ka,a.e_preventDefault=ke,a.e_stopPropagation=We,a.e_stop=et,a.addClass=q,a.contains=j,a.rmClass=D,a.keyNames=Go}kg(fr),Ig(fr);var Vg="iter insert remove copy getEditor constructor".split(" ");for(var al in Qr.prototype)Qr.prototype.hasOwnProperty(al)&&lt(Vg,al)<0&&(fr.prototype[al]=(function(a){return function(){return a.apply(this.doc,arguments)}})(Qr.prototype[al]));return Ae(Qr),fr.inputStyles={textarea:yr,contenteditable:tr},fr.defineMode=function(a){!fr.defaults.mode&&a!="null"&&(fr.defaults.mode=a),er.apply(this,arguments)},fr.defineMIME=Re,fr.defineMode("null",function(){return{token:function(a){return a.skipToEnd()}}}),fr.defineMIME("text/plain","null"),fr.defineExtension=function(a,c){fr.prototype[a]=c},fr.defineDocExtension=function(a,c){Qr.prototype[a]=c},fr.fromTextArea=Hg,Fg(fr),fr.version="5.63.0",fr}))}),7389:((i,r,t)=>{(function(e){e(t(4408))})(function(e){e.defineMode("css",function(R,M){var z=M.inline;M.propertyKeywords||(M=e.resolveMode("text/css"));var H=R.indentUnit,$=M.tokenHooks,j=M.documentTypes||{},rt=M.mediaTypes||{},q=M.mediaFeatures||{},st=M.mediaValueKeywords||{},vt=M.propertyKeywords||{},St=M.nonStandardPropertyKeywords||{},pt=M.fontProperties||{},bt=M.counterDescriptors||{},at=M.colorKeywords||{},lt=M.valueKeywords||{},Et=M.allowNested,yt=M.lineComment,Ot=M.supportsAtComponent===!0,zt=R.highlightNonStandardPropertyKeywords!==!1,Bt,Ut;function xt(ut,Dt){return Bt=Dt,ut}function ot(ut,Dt){var At=ut.next();if($[At]){var ee=$[At](ut,Dt);if(ee!==!1)return ee}if(At=="@")return ut.eatWhile(/[\w\\\-]/),xt("def",ut.current());if(At=="="||(At=="~"||At=="|")&&ut.eat("="))return xt(null,"compare");if(At=='"'||At=="'")return Dt.tokenize=Vt(At),Dt.tokenize(ut,Dt);if(At=="#")return ut.eatWhile(/[\w\\\-]/),xt("atom","hash");if(At=="!")return ut.match(/^\s*\w*/),xt("keyword","important");if(/\d/.test(At)||At=="."&&ut.eat(/\d/))return ut.eatWhile(/[\w.%]/),xt("number","unit");if(At==="-"){if(/[\d.]/.test(ut.peek()))return ut.eatWhile(/[\w.%]/),xt("number","unit");if(ut.match(/^-[\w\\\-]*/))return ut.eatWhile(/[\w\\\-]/),ut.match(/^\s*:/,!1)?xt("variable-2","variable-definition"):xt("variable-2","variable");if(ut.match(/^\w+-/))return xt("meta","meta")}else return/[,+>*\/]/.test(At)?xt(null,"select-op"):At=="."&&ut.match(/^-?[_a-z][_a-z0-9-]*/i)?xt("qualifier","qualifier"):/[:;{}\[\]\(\)]/.test(At)?xt(null,At):ut.match(/^[\w-.]+(?=\()/)?(/^(url(-prefix)?|domain|regexp)$/i.test(ut.current())&&(Dt.tokenize=mt),xt("variable callee","variable")):/[\w\\\-]/.test(At)?(ut.eatWhile(/[\w\\\-]/),xt("property","word")):xt(null,null)}function Vt(ut){return function(Dt,At){for(var ee=!1,Ce;(Ce=Dt.next())!=null;){if(Ce==ut&&!ee){ut==")"&&Dt.backUp(1);break}ee=!ee&&Ce=="\\"}return(Ce==ut||!ee&&ut!=")")&&(At.tokenize=null),xt("string","string")}}function mt(ut,Dt){return ut.next(),ut.match(/^\s*[\"\')]/,!1)?Dt.tokenize=null:Dt.tokenize=Vt(")"),xt(null,"(")}function Ft(ut,Dt,At){this.type=ut,this.indent=Dt,this.prev=At}function Kt(ut,Dt,At,ee){return ut.context=new Ft(At,Dt.indentation()+(ee===!1?0:H),ut.context),At}function W(ut){return ut.context.prev&&(ut.context=ut.context.prev),ut.context.type}function Z(ut,Dt,At){return jt[At.context.type](ut,Dt,At)}function it(ut,Dt,At,ee){for(var Ce=ee||1;Ce>0;Ce--)At.context=At.context.prev;return Z(ut,Dt,At)}function Ct(ut){var Dt=ut.current().toLowerCase();lt.hasOwnProperty(Dt)?Ut="atom":at.hasOwnProperty(Dt)?Ut="keyword":Ut="variable"}var jt={};return jt.top=function(ut,Dt,At){if(ut=="{")return Kt(At,Dt,"block");if(ut=="}"&&At.context.prev)return W(At);if(Ot&&/@component/i.test(ut))return Kt(At,Dt,"atComponentBlock");if(/^@(-moz-)?document$/i.test(ut))return Kt(At,Dt,"documentTypes");if(/^@(media|supports|(-moz-)?document|import)$/i.test(ut))return Kt(At,Dt,"atBlock");if(/^@(font-face|counter-style)/i.test(ut))return At.stateArg=ut,"restricted_atBlock_before";if(/^@(-(moz|ms|o|webkit)-)?keyframes$/i.test(ut))return"keyframes";if(ut&&ut.charAt(0)=="@")return Kt(At,Dt,"at");if(ut=="hash")Ut="builtin";else if(ut=="word")Ut="tag";else{if(ut=="variable-definition")return"maybeprop";if(ut=="interpolation")return Kt(At,Dt,"interpolation");if(ut==":")return"pseudo";if(Et&&ut=="(")return Kt(At,Dt,"parens")}return At.context.type},jt.block=function(ut,Dt,At){if(ut=="word"){var ee=Dt.current().toLowerCase();return vt.hasOwnProperty(ee)?(Ut="property","maybeprop"):St.hasOwnProperty(ee)?(Ut=zt?"string-2":"property","maybeprop"):Et?(Ut=Dt.match(/^\s*:(?:\s|$)/,!1)?"property":"tag","block"):(Ut+=" error","maybeprop")}else return ut=="meta"?"block":!Et&&(ut=="hash"||ut=="qualifier")?(Ut="error","block"):jt.top(ut,Dt,At)},jt.maybeprop=function(ut,Dt,At){return ut==":"?Kt(At,Dt,"prop"):Z(ut,Dt,At)},jt.prop=function(ut,Dt,At){if(ut==";")return W(At);if(ut=="{"&&Et)return Kt(At,Dt,"propBlock");if(ut=="}"||ut=="{")return it(ut,Dt,At);if(ut=="(")return Kt(At,Dt,"parens");if(ut=="hash"&&!/^#([0-9a-fA-f]{3,4}|[0-9a-fA-f]{6}|[0-9a-fA-f]{8})$/.test(Dt.current()))Ut+=" error";else if(ut=="word")Ct(Dt);else if(ut=="interpolation")return Kt(At,Dt,"interpolation");return"prop"},jt.propBlock=function(ut,Dt,At){return ut=="}"?W(At):ut=="word"?(Ut="property","maybeprop"):At.context.type},jt.parens=function(ut,Dt,At){return ut=="{"||ut=="}"?it(ut,Dt,At):ut==")"?W(At):ut=="("?Kt(At,Dt,"parens"):ut=="interpolation"?Kt(At,Dt,"interpolation"):(ut=="word"&&Ct(Dt),"parens")},jt.pseudo=function(ut,Dt,At){return ut=="meta"?"pseudo":ut=="word"?(Ut="variable-3",At.context.type):Z(ut,Dt,At)},jt.documentTypes=function(ut,Dt,At){return ut=="word"&&j.hasOwnProperty(Dt.current())?(Ut="tag",At.context.type):jt.atBlock(ut,Dt,At)},jt.atBlock=function(ut,Dt,At){if(ut=="(")return Kt(At,Dt,"atBlock_parens");if(ut=="}"||ut==";")return it(ut,Dt,At);if(ut=="{")return W(At)&&Kt(At,Dt,Et?"block":"top");if(ut=="interpolation")return Kt(At,Dt,"interpolation");if(ut=="word"){var ee=Dt.current().toLowerCase();ee=="only"||ee=="not"||ee=="and"||ee=="or"?Ut="keyword":rt.hasOwnProperty(ee)?Ut="attribute":q.hasOwnProperty(ee)?Ut="property":st.hasOwnProperty(ee)?Ut="keyword":vt.hasOwnProperty(ee)?Ut="property":St.hasOwnProperty(ee)?Ut=zt?"string-2":"property":lt.hasOwnProperty(ee)?Ut="atom":at.hasOwnProperty(ee)?Ut="keyword":Ut="error"}return At.context.type},jt.atComponentBlock=function(ut,Dt,At){return ut=="}"?it(ut,Dt,At):ut=="{"?W(At)&&Kt(At,Dt,Et?"block":"top",!1):(ut=="word"&&(Ut="error"),At.context.type)},jt.atBlock_parens=function(ut,Dt,At){return ut==")"?W(At):ut=="{"||ut=="}"?it(ut,Dt,At,2):jt.atBlock(ut,Dt,At)},jt.restricted_atBlock_before=function(ut,Dt,At){return ut=="{"?Kt(At,Dt,"restricted_atBlock"):ut=="word"&&At.stateArg=="@counter-style"?(Ut="variable","restricted_atBlock_before"):Z(ut,Dt,At)},jt.restricted_atBlock=function(ut,Dt,At){return ut=="}"?(At.stateArg=null,W(At)):ut=="word"?(At.stateArg=="@font-face"&&!pt.hasOwnProperty(Dt.current().toLowerCase())||At.stateArg=="@counter-style"&&!bt.hasOwnProperty(Dt.current().toLowerCase())?Ut="error":Ut="property","maybeprop"):"restricted_atBlock"},jt.keyframes=function(ut,Dt,At){return ut=="word"?(Ut="variable","keyframes"):ut=="{"?Kt(At,Dt,"top"):Z(ut,Dt,At)},jt.at=function(ut,Dt,At){return ut==";"?W(At):ut=="{"||ut=="}"?it(ut,Dt,At):(ut=="word"?Ut="tag":ut=="hash"&&(Ut="builtin"),"at")},jt.interpolation=function(ut,Dt,At){return ut=="}"?W(At):ut=="{"||ut==";"?it(ut,Dt,At):(ut=="word"?Ut="variable":ut!="variable"&&ut!="("&&ut!=")"&&(Ut="error"),"interpolation")},{startState:function(ut){return{tokenize:null,state:z?"block":"top",stateArg:null,context:new Ft(z?"block":"top",ut||0,null)}},token:function(ut,Dt){if(!Dt.tokenize&&ut.eatSpace())return null;var At=(Dt.tokenize||ot)(ut,Dt);return At&&typeof At=="object"&&(Bt=At[1],At=At[0]),Ut=At,Bt!="comment"&&(Dt.state=jt[Dt.state](Bt,ut,Dt)),Ut},indent:function(ut,Dt){var At=ut.context,ee=Dt&&Dt.charAt(0),Ce=At.indent;return At.type=="prop"&&(ee=="}"||ee==")")&&(At=At.prev),At.prev&&(ee=="}"&&(At.type=="block"||At.type=="top"||At.type=="interpolation"||At.type=="restricted_atBlock")?(At=At.prev,Ce=At.indent):(ee==")"&&(At.type=="parens"||At.type=="atBlock_parens")||ee=="{"&&(At.type=="at"||At.type=="atBlock"))&&(Ce=Math.max(0,At.indent-H))),Ce},electricChars:"}",blockCommentStart:"/*",blockCommentEnd:"*/",blockCommentContinue:" * ",lineComment:yt,fold:"brace"}});function n(R){for(var M={},z=0;z<R.length;++z)M[R[z].toLowerCase()]=!0;return M}var o=["domain","regexp","url","url-prefix"],l=n(o),s=["all","aural","braille","handheld","print","projection","screen","tty","tv","embossed"],f=n(s),u=["width","min-width","max-width","height","min-height","max-height","device-width","min-device-width","max-device-width","device-height","min-device-height","max-device-height","aspect-ratio","min-aspect-ratio","max-aspect-ratio","device-aspect-ratio","min-device-aspect-ratio","max-device-aspect-ratio","color","min-color","max-color","color-index","min-color-index","max-color-index","monochrome","min-monochrome","max-monochrome","resolution","min-resolution","max-resolution","scan","grid","orientation","device-pixel-ratio","min-device-pixel-ratio","max-device-pixel-ratio","pointer","any-pointer","hover","any-hover","prefers-color-scheme"],p=n(u),d=["landscape","portrait","none","coarse","fine","on-demand","hover","interlace","progressive","dark","light"],h=n(d),v=["align-content","align-items","align-self","alignment-adjust","alignment-baseline","all","anchor-point","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","appearance","azimuth","backdrop-filter","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","baseline-shift","binding","bleed","block-size","bookmark-label","bookmark-level","bookmark-state","bookmark-target","border","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","color","color-profile","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","content","counter-increment","counter-reset","crop","cue","cue-after","cue-before","cursor","direction","display","dominant-baseline","drop-initial-after-adjust","drop-initial-after-align","drop-initial-before-adjust","drop-initial-before-align","drop-initial-size","drop-initial-value","elevation","empty-cells","fit","fit-content","fit-position","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","float-offset","flow-from","flow-into","font","font-family","font-feature-settings","font-kerning","font-language-override","font-optical-sizing","font-size","font-size-adjust","font-stretch","font-style","font-synthesis","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","gap","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-gap","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-gap","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","inline-box-align","inset","inset-block","inset-block-end","inset-block-start","inset-inline","inset-inline-end","inset-inline-start","isolation","justify-content","justify-items","justify-self","left","letter-spacing","line-break","line-height","line-height-step","line-stacking","line-stacking-ruby","line-stacking-shift","line-stacking-strategy","list-style","list-style-image","list-style-position","list-style-type","margin","margin-bottom","margin-left","margin-right","margin-top","marks","marquee-direction","marquee-loop","marquee-play-count","marquee-speed","marquee-style","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","move-to","nav-down","nav-index","nav-left","nav-right","nav-up","object-fit","object-position","offset","offset-anchor","offset-distance","offset-path","offset-position","offset-rotate","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-style","overflow-wrap","overflow-x","overflow-y","padding","padding-bottom","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","page-policy","pause","pause-after","pause-before","perspective","perspective-origin","pitch","pitch-range","place-content","place-items","place-self","play-during","position","presentation-level","punctuation-trim","quotes","region-break-after","region-break-before","region-break-inside","region-fragment","rendering-intent","resize","rest","rest-after","rest-before","richness","right","rotate","rotation","rotation-point","row-gap","ruby-align","ruby-overhang","ruby-position","ruby-span","scale","scroll-behavior","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-type","shape-image-threshold","shape-inside","shape-margin","shape-outside","size","speak","speak-as","speak-header","speak-numeral","speak-punctuation","speech-rate","stress","string-set","tab-size","table-layout","target","target-name","target-new","target-position","text-align","text-align-last","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-skip-ink","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-height","text-indent","text-justify","text-orientation","text-outline","text-overflow","text-rendering","text-shadow","text-size-adjust","text-space-collapse","text-transform","text-underline-position","text-wrap","top","touch-action","transform","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","translate","unicode-bidi","user-select","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","volume","white-space","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","z-index","clip-path","clip-rule","mask","enable-background","filter","flood-color","flood-opacity","lighting-color","stop-color","stop-opacity","pointer-events","color-interpolation","color-interpolation-filters","color-rendering","fill","fill-opacity","fill-rule","image-rendering","marker","marker-end","marker-mid","marker-start","paint-order","shape-rendering","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-rendering","baseline-shift","dominant-baseline","glyph-orientation-horizontal","glyph-orientation-vertical","text-anchor","writing-mode"],_=n(v),T=["accent-color","aspect-ratio","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","content-visibility","margin-block","margin-block-end","margin-block-start","margin-inline","margin-inline-end","margin-inline-start","overflow-anchor","overscroll-behavior","padding-block","padding-block-end","padding-block-start","padding-inline","padding-inline-end","padding-inline-start","scroll-snap-stop","scrollbar-3d-light-color","scrollbar-arrow-color","scrollbar-base-color","scrollbar-dark-shadow-color","scrollbar-face-color","scrollbar-highlight-color","scrollbar-shadow-color","scrollbar-track-color","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","shape-inside","zoom"],w=n(T),C=["font-display","font-family","src","unicode-range","font-variant","font-feature-settings","font-stretch","font-weight","font-style"],A=n(C),S=["additive-symbols","fallback","negative","pad","prefix","range","speak-as","suffix","symbols","system"],x=n(S),N=["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"],b=n(N),L=["above","absolute","activeborder","additive","activecaption","afar","after-white-space","ahead","alias","all","all-scroll","alphabetic","alternate","always","amharic","amharic-abegede","antialiased","appworkspace","arabic-indic","armenian","asterisks","attr","auto","auto-flow","avoid","avoid-column","avoid-page","avoid-region","axis-pan","background","backwards","baseline","below","bidi-override","binary","bengali","blink","block","block-axis","blur","bold","bolder","border","border-box","both","bottom","break","break-all","break-word","brightness","bullets","button","button-bevel","buttonface","buttonhighlight","buttonshadow","buttontext","calc","cambodian","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-decimal","cjk-earthly-branch","cjk-heavenly-stem","cjk-ideographic","clear","clip","close-quote","col-resize","collapse","color","color-burn","color-dodge","column","column-reverse","compact","condensed","contain","content","contents","content-box","context-menu","continuous","contrast","copy","counter","counters","cover","crop","cross","crosshair","cubic-bezier","currentcolor","cursive","cyclic","darken","dashed","decimal","decimal-leading-zero","default","default-button","dense","destination-atop","destination-in","destination-out","destination-over","devanagari","difference","disc","discard","disclosure-closed","disclosure-open","document","dot-dash","dot-dot-dash","dotted","double","down","drop-shadow","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipse","ellipsis","embed","end","ethiopic","ethiopic-abegede","ethiopic-abegede-am-et","ethiopic-abegede-gez","ethiopic-abegede-ti-er","ethiopic-abegede-ti-et","ethiopic-halehame-aa-er","ethiopic-halehame-aa-et","ethiopic-halehame-am-et","ethiopic-halehame-gez","ethiopic-halehame-om-et","ethiopic-halehame-sid-et","ethiopic-halehame-so-et","ethiopic-halehame-ti-er","ethiopic-halehame-ti-et","ethiopic-halehame-tig","ethiopic-numeric","ew-resize","exclusion","expanded","extends","extra-condensed","extra-expanded","fantasy","fast","fill","fill-box","fixed","flat","flex","flex-end","flex-start","footnotes","forwards","from","geometricPrecision","georgian","grayscale","graytext","grid","groove","gujarati","gurmukhi","hand","hangul","hangul-consonant","hard-light","hebrew","help","hidden","hide","higher","highlight","highlighttext","hiragana","hiragana-iroha","horizontal","hsl","hsla","hue","hue-rotate","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-flex","inline-grid","inline-table","inset","inside","intrinsic","invert","italic","japanese-formal","japanese-informal","justify","kannada","katakana","katakana-iroha","keep-all","khmer","korean-hangul-formal","korean-hanja-formal","korean-hanja-informal","landscape","lao","large","larger","left","level","lighter","lighten","line-through","linear","linear-gradient","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-alpha","lower-armenian","lower-greek","lower-hexadecimal","lower-latin","lower-norwegian","lower-roman","lowercase","ltr","luminosity","malayalam","manipulation","match","matrix","matrix3d","media-controls-background","media-current-time-display","media-fullscreen-button","media-mute-button","media-play-button","media-return-to-realtime-button","media-rewind-button","media-seek-back-button","media-seek-forward-button","media-slider","media-sliderthumb","media-time-remaining-display","media-volume-slider","media-volume-slider-container","media-volume-sliderthumb","medium","menu","menulist","menulist-button","menulist-text","menulist-textfield","menutext","message-box","middle","min-intrinsic","mix","mongolian","monospace","move","multiple","multiple_mask_images","multiply","myanmar","n-resize","narrower","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","numbers","numeric","nw-resize","nwse-resize","oblique","octal","opacity","open-quote","optimizeLegibility","optimizeSpeed","oriya","oromo","outset","outside","outside-shape","overlay","overline","padding","padding-box","painted","page","paused","persian","perspective","pinch-zoom","plus-darker","plus-lighter","pointer","polygon","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radial-gradient","radio","read-only","read-write","read-write-plaintext-only","rectangle","region","relative","repeat","repeating-linear-gradient","repeating-radial-gradient","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","rotate","rotate3d","rotateX","rotateY","rotateZ","round","row","row-resize","row-reverse","rtl","run-in","running","s-resize","sans-serif","saturate","saturation","scale","scale3d","scaleX","scaleY","scaleZ","screen","scroll","scrollbar","scroll-position","se-resize","searchfield","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","self-start","self-end","semi-condensed","semi-expanded","separate","sepia","serif","show","sidama","simp-chinese-formal","simp-chinese-informal","single","skew","skewX","skewY","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","soft-light","solid","somali","source-atop","source-in","source-out","source-over","space","space-around","space-between","space-evenly","spell-out","square","square-button","start","static","status-bar","stretch","stroke","stroke-box","sub","subpixel-antialiased","svg_masks","super","sw-resize","symbolic","symbols","system-ui","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","tamil","telugu","text","text-bottom","text-top","textarea","textfield","thai","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","tibetan","tigre","tigrinya-er","tigrinya-er-abegede","tigrinya-et","tigrinya-et-abegede","to","top","trad-chinese-formal","trad-chinese-informal","transform","translate","translate3d","translateX","translateY","translateZ","transparent","ultra-condensed","ultra-expanded","underline","unidirectional-pan","unset","up","upper-alpha","upper-armenian","upper-greek","upper-hexadecimal","upper-latin","upper-norwegian","upper-roman","uppercase","urdu","url","var","vertical","vertical-text","view-box","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","wider","window","windowframe","windowtext","words","wrap","wrap-reverse","x-large","x-small","xor","xx-large","xx-small"],k=n(L),P=o.concat(s).concat(u).concat(d).concat(v).concat(T).concat(N).concat(L);e.registerHelper("hintWords","css",P);function D(R,M){for(var z=!1,H;(H=R.next())!=null;){if(z&&H=="/"){M.tokenize=null;break}z=H=="*"}return["comment","comment"]}e.defineMIME("text/css",{documentTypes:l,mediaTypes:f,mediaFeatures:p,mediaValueKeywords:h,propertyKeywords:_,nonStandardPropertyKeywords:w,fontProperties:A,counterDescriptors:x,colorKeywords:b,valueKeywords:k,tokenHooks:{"/":function(R,M){return R.eat("*")?(M.tokenize=D,D(R,M)):!1}},name:"css"}),e.defineMIME("text/x-scss",{mediaTypes:f,mediaFeatures:p,mediaValueKeywords:h,propertyKeywords:_,nonStandardPropertyKeywords:w,colorKeywords:b,valueKeywords:k,fontProperties:A,allowNested:!0,lineComment:"//",tokenHooks:{"/":function(R,M){return R.eat("/")?(R.skipToEnd(),["comment","comment"]):R.eat("*")?(M.tokenize=D,D(R,M)):["operator","operator"]},":":function(R){return R.match(/^\s*\{/,!1)?[null,null]:!1},$:function(R){return R.match(/^[\w-]+/),R.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"]},"#":function(R){return R.eat("{")?[null,"interpolation"]:!1}},name:"css",helperType:"scss"}),e.defineMIME("text/x-less",{mediaTypes:f,mediaFeatures:p,mediaValueKeywords:h,propertyKeywords:_,nonStandardPropertyKeywords:w,colorKeywords:b,valueKeywords:k,fontProperties:A,allowNested:!0,lineComment:"//",tokenHooks:{"/":function(R,M){return R.eat("/")?(R.skipToEnd(),["comment","comment"]):R.eat("*")?(M.tokenize=D,D(R,M)):["operator","operator"]},"@":function(R){return R.eat("{")?[null,"interpolation"]:R.match(/^(charset|document|font-face|import|(-(moz|ms|o|webkit)-)?keyframes|media|namespace|page|supports)\b/i,!1)?!1:(R.eatWhile(/[\w\\\-]/),R.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"])},"&":function(){return["atom","atom"]}},name:"css",helperType:"less"}),e.defineMIME("text/x-gss",{documentTypes:l,mediaTypes:f,mediaFeatures:p,propertyKeywords:_,nonStandardPropertyKeywords:w,fontProperties:A,counterDescriptors:x,colorKeywords:b,valueKeywords:k,supportsAtComponent:!0,tokenHooks:{"/":function(R,M){return R.eat("*")?(M.tokenize=D,D(R,M)):!1}},name:"css",helperType:"gss"})})}),8253:((i,r,t)=>{(function(e){e(t(4408),t(9701),t(6061),t(7389))})(function(e){var n={script:[["lang",/(javascript|babel)/i,"javascript"],["type",/^(?:text|application)\/(?:x-)?(?:java|ecma)script$|^module$|^$/i,"javascript"],["type",/./,"text/plain"],[null,null,"javascript"]],style:[["lang",/^css$/i,"css"],["type",/^(text\/)?(x-)?(stylesheet|css)$/i,"css"],["type",/./,"text/plain"],[null,null,"css"]]};function o(h,v,_){var T=h.current(),w=T.search(v);return w>-1?h.backUp(T.length-w):T.match(/<\/?$/)&&(h.backUp(T.length),h.match(v,!1)||h.match(T)),_}var l={};function s(h){var v=l[h];return v||(l[h]=new RegExp("\\s+"+h+`\\s*=\\s*('|")?([^'"]+)('|")?\\s*`))}function f(h,v){var _=h.match(s(v));return _?/^\s*(.*?)\s*$/.exec(_[2])[1]:""}function u(h,v){return new RegExp((v?"^":"")+"</s*"+h+"s*>","i")}function p(h,v){for(var _ in h)for(var T=v[_]||(v[_]=[]),w=h[_],C=w.length-1;C>=0;C--)T.unshift(w[C])}function d(h,v){for(var _=0;_<h.length;_++){var T=h[_];if(!T[0]||T[1].test(f(v,T[0])))return T[2]}}e.defineMode("htmlmixed",function(h,v){var _=e.getMode(h,{name:"xml",htmlMode:!0,multilineTagIndentFactor:v.multilineTagIndentFactor,multilineTagIndentPastTag:v.multilineTagIndentPastTag,allowMissingTagName:v.allowMissingTagName}),T={},w=v&&v.tags,C=v&&v.scriptTypes;if(p(n,T),w&&p(w,T),C)for(var A=C.length-1;A>=0;A--)T.script.unshift(["type",C[A].matches,C[A].mode]);function S(x,N){var b=_.token(x,N.htmlState),L=/\btag\b/.test(b),k;if(L&&!/[<>\s\/]/.test(x.current())&&(k=N.htmlState.tagName&&N.htmlState.tagName.toLowerCase())&&T.hasOwnProperty(k))N.inTag=k+" ";else if(N.inTag&&L&&/>$/.test(x.current())){var P=/^([\S]+) (.*)/.exec(N.inTag);N.inTag=null;var D=x.current()==">"&&d(T[P[1]],P[2]),R=e.getMode(h,D),M=u(P[1],!0),z=u(P[1],!1);N.token=function(H,$){return H.match(M,!1)?($.token=S,$.localState=$.localMode=null,null):o(H,z,$.localMode.token(H,$.localState))},N.localMode=R,N.localState=e.startState(R,_.indent(N.htmlState,"",""))}else N.inTag&&(N.inTag+=x.current(),x.eol()&&(N.inTag+=" "));return b}return{startState:function(){var x=e.startState(_);return{token:S,inTag:null,localMode:null,localState:null,htmlState:x}},copyState:function(x){var N;return x.localState&&(N=e.copyState(x.localMode,x.localState)),{token:x.token,inTag:x.inTag,localMode:x.localMode,localState:N,htmlState:e.copyState(_,x.htmlState)}},token:function(x,N){return N.token(x,N)},indent:function(x,N,b){return!x.localMode||/^\s*<\//.test(N)?_.indent(x.htmlState,N,b):x.localMode.indent?x.localMode.indent(x.localState,N,b):e.Pass},innerMode:function(x){return{state:x.localState||x.htmlState,mode:x.localMode||_}}}},"xml","javascript","css"),e.defineMIME("text/html","htmlmixed")})}),6061:((i,r,t)=>{(function(e){e(t(4408))})(function(e){e.defineMode("javascript",function(n,o){var l=n.indentUnit,s=o.statementIndent,f=o.jsonld,u=o.json||f,p=o.trackScope!==!1,d=o.typescript,h=o.wordCharacters||/[\w$\xa1-\uffff]/,v=(function(){function Q(sr){return{type:sr,style:"keyword"}}var dt=Q("keyword a"),Wt=Q("keyword b"),Jt=Q("keyword c"),te=Q("keyword d"),Pe=Q("operator"),je={type:"atom",style:"atom"};return{if:Q("if"),while:dt,with:dt,else:Wt,do:Wt,try:Wt,finally:Wt,return:te,break:te,continue:te,new:Q("new"),delete:Jt,void:Jt,throw:Jt,debugger:Q("debugger"),var:Q("var"),const:Q("var"),let:Q("var"),function:Q("function"),catch:Q("catch"),for:Q("for"),switch:Q("switch"),case:Q("case"),default:Q("default"),in:Pe,typeof:Pe,instanceof:Pe,true:je,false:je,null:je,undefined:je,NaN:je,Infinity:je,this:Q("this"),class:Q("class"),super:Q("atom"),yield:Jt,export:Q("export"),import:Q("import"),extends:Jt,await:Jt}})(),_=/[+\-*&%=<>!?|~^@]/,T=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/;function w(Q){for(var dt=!1,Wt,Jt=!1;(Wt=Q.next())!=null;){if(!dt){if(Wt=="/"&&!Jt)return;Wt=="["?Jt=!0:Jt&&Wt=="]"&&(Jt=!1)}dt=!dt&&Wt=="\\"}}var C,A;function S(Q,dt,Wt){return C=Q,A=Wt,dt}function x(Q,dt){var Wt=Q.next();if(Wt=='"'||Wt=="'")return dt.tokenize=N(Wt),dt.tokenize(Q,dt);if(Wt=="."&&Q.match(/^\d[\d_]*(?:[eE][+\-]?[\d_]+)?/))return S("number","number");if(Wt=="."&&Q.match(".."))return S("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(Wt))return S(Wt);if(Wt=="="&&Q.eat(">"))return S("=>","operator");if(Wt=="0"&&Q.match(/^(?:x[\dA-Fa-f_]+|o[0-7_]+|b[01_]+)n?/))return S("number","number");if(/\d/.test(Wt))return Q.match(/^[\d_]*(?:n|(?:\.[\d_]*)?(?:[eE][+\-]?[\d_]+)?)?/),S("number","number");if(Wt=="/")return Q.eat("*")?(dt.tokenize=b,b(Q,dt)):Q.eat("/")?(Q.skipToEnd(),S("comment","comment")):Oe(Q,dt,1)?(w(Q),Q.match(/^\b(([gimyus])(?![gimyus]*\2))+\b/),S("regexp","string-2")):(Q.eat("="),S("operator","operator",Q.current()));if(Wt=="`")return dt.tokenize=L,L(Q,dt);if(Wt=="#"&&Q.peek()=="!")return Q.skipToEnd(),S("meta","meta");if(Wt=="#"&&Q.eatWhile(h))return S("variable","property");if(Wt=="<"&&Q.match("!--")||Wt=="-"&&Q.match("->")&&!/\S/.test(Q.string.slice(0,Q.start)))return Q.skipToEnd(),S("comment","comment");if(_.test(Wt))return(Wt!=">"||!dt.lexical||dt.lexical.type!=">")&&(Q.eat("=")?(Wt=="!"||Wt=="=")&&Q.eat("="):/[<>*+\-|&?]/.test(Wt)&&(Q.eat(Wt),Wt==">"&&Q.eat(Wt))),Wt=="?"&&Q.eat(".")?S("."):S("operator","operator",Q.current());if(h.test(Wt)){Q.eatWhile(h);var Jt=Q.current();if(dt.lastType!="."){if(v.propertyIsEnumerable(Jt)){var te=v[Jt];return S(te.type,te.style,Jt)}if(Jt=="async"&&Q.match(/^(\s|\/\*([^*]|\*(?!\/))*?\*\/)*[\[\(\w]/,!1))return S("async","keyword",Jt)}return S("variable","variable",Jt)}}function N(Q){return function(dt,Wt){var Jt=!1,te;if(f&&dt.peek()=="@"&&dt.match(T))return Wt.tokenize=x,S("jsonld-keyword","meta");for(;(te=dt.next())!=null&&!(te==Q&&!Jt);)Jt=!Jt&&te=="\\";return Jt||(Wt.tokenize=x),S("string","string")}}function b(Q,dt){for(var Wt=!1,Jt;Jt=Q.next();){if(Jt=="/"&&Wt){dt.tokenize=x;break}Wt=Jt=="*"}return S("comment","comment")}function L(Q,dt){for(var Wt=!1,Jt;(Jt=Q.next())!=null;){if(!Wt&&(Jt=="`"||Jt=="$"&&Q.eat("{"))){dt.tokenize=x;break}Wt=!Wt&&Jt=="\\"}return S("quasi","string-2",Q.current())}var k="([{}])";function P(Q,dt){dt.fatArrowAt&&(dt.fatArrowAt=null);var Wt=Q.string.indexOf("=>",Q.start);if(!(Wt<0)){if(d){var Jt=/:\s*(?:\w+(?:<[^>]*>|\[\])?|\{[^}]*\})\s*$/.exec(Q.string.slice(Q.start,Wt));Jt&&(Wt=Jt.index)}for(var te=0,Pe=!1,je=Wt-1;je>=0;--je){var sr=Q.string.charAt(je),Ze=k.indexOf(sr);if(Ze>=0&&Ze<3){if(!te){++je;break}if(--te==0){sr=="("&&(Pe=!0);break}}else if(Ze>=3&&Ze<6)++te;else if(h.test(sr))Pe=!0;else if(/["'\/`]/.test(sr))for(;;--je){if(je==0)return;var cn=Q.string.charAt(je-1);if(cn==sr&&Q.string.charAt(je-2)!="\\"){je--;break}}else if(Pe&&!te){++je;break}}Pe&&!te&&(dt.fatArrowAt=je)}}var D={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,this:!0,import:!0,"jsonld-keyword":!0};function R(Q,dt,Wt,Jt,te,Pe){this.indented=Q,this.column=dt,this.type=Wt,this.prev=te,this.info=Pe,Jt!=null&&(this.align=Jt)}function M(Q,dt){if(!p)return!1;for(var Wt=Q.localVars;Wt;Wt=Wt.next)if(Wt.name==dt)return!0;for(var Jt=Q.context;Jt;Jt=Jt.prev)for(var Wt=Jt.vars;Wt;Wt=Wt.next)if(Wt.name==dt)return!0}function z(Q,dt,Wt,Jt,te){var Pe=Q.cc;for(H.state=Q,H.stream=te,H.marked=null,H.cc=Pe,H.style=dt,Q.lexical.hasOwnProperty("align")||(Q.lexical.align=!0);;){var je=Pe.length?Pe.pop():u?xt:Bt;if(je(Wt,Jt)){for(;Pe.length&&Pe[Pe.length-1].lex;)Pe.pop()();return H.marked?H.marked:Wt=="variable"&&M(Q,Jt)?"variable-2":dt}}}var H={state:null,marked:null,cc:null};function $(){for(var Q=arguments.length-1;Q>=0;Q--)H.cc.push(arguments[Q])}function j(){return $.apply(null,arguments),!0}function rt(Q,dt){for(var Wt=dt;Wt;Wt=Wt.next)if(Wt.name==Q)return!0;return!1}function q(Q){var dt=H.state;if(H.marked="def",!!p){if(dt.context){if(dt.lexical.info=="var"&&dt.context&&dt.context.block){var Wt=st(Q,dt.context);if(Wt!=null){dt.context=Wt;return}}else if(!rt(Q,dt.localVars)){dt.localVars=new pt(Q,dt.localVars);return}}o.globalVars&&!rt(Q,dt.globalVars)&&(dt.globalVars=new pt(Q,dt.globalVars))}}function st(Q,dt){if(dt)if(dt.block){var Wt=st(Q,dt.prev);return Wt?Wt==dt.prev?dt:new St(Wt,dt.vars,!0):null}else return rt(Q,dt.vars)?dt:new St(dt.prev,new pt(Q,dt.vars),!1);else return null}function vt(Q){return Q=="public"||Q=="private"||Q=="protected"||Q=="abstract"||Q=="readonly"}function St(Q,dt,Wt){this.prev=Q,this.vars=dt,this.block=Wt}function pt(Q,dt){this.name=Q,this.next=dt}var bt=new pt("this",new pt("arguments",null));function at(){H.state.context=new St(H.state.context,H.state.localVars,!1),H.state.localVars=bt}function lt(){H.state.context=new St(H.state.context,H.state.localVars,!0),H.state.localVars=null}function Et(){H.state.localVars=H.state.context.vars,H.state.context=H.state.context.prev}Et.lex=!0;function yt(Q,dt){var Wt=function(){var Jt=H.state,te=Jt.indented;if(Jt.lexical.type=="stat")te=Jt.lexical.indented;else for(var Pe=Jt.lexical;Pe&&Pe.type==")"&&Pe.align;Pe=Pe.prev)te=Pe.indented;Jt.lexical=new R(te,H.stream.column(),Q,null,Jt.lexical,dt)};return Wt.lex=!0,Wt}function Ot(){var Q=H.state;Q.lexical.prev&&(Q.lexical.type==")"&&(Q.indented=Q.lexical.indented),Q.lexical=Q.lexical.prev)}Ot.lex=!0;function zt(Q){function dt(Wt){return Wt==Q?j():Q==";"||Wt=="}"||Wt==")"||Wt=="]"?$():j(dt)}return dt}function Bt(Q,dt){return Q=="var"?j(yt("vardef",dt),me,zt(";"),Ot):Q=="keyword a"?j(yt("form"),Vt,Bt,Ot):Q=="keyword b"?j(yt("form"),Bt,Ot):Q=="keyword d"?H.stream.match(/^\s*$/,!1)?j():j(yt("stat"),Ft,zt(";"),Ot):Q=="debugger"?j(zt(";")):Q=="{"?j(yt("}"),lt,Lt,Ot,Et):Q==";"?j():Q=="if"?(H.state.lexical.info=="else"&&H.state.cc[H.state.cc.length-1]==Ot&&H.state.cc.pop()(),j(yt("form"),Vt,Bt,Ot,Fe)):Q=="function"?j(er):Q=="for"?j(yt("form"),lt,hr,Bt,Et,Ot):Q=="class"||d&&dt=="interface"?(H.marked="keyword",j(yt("form",Q=="class"?Q:dt),Ve,Ot)):Q=="variable"?d&&dt=="declare"?(H.marked="keyword",j(Bt)):d&&(dt=="module"||dt=="enum"||dt=="type")&&H.stream.match(/^\s*\w/,!1)?(H.marked="keyword",dt=="enum"?j(Ne):dt=="type"?j(Ye,zt("operator"),ve,zt(";")):j(yt("form"),we,zt("{"),yt("}"),Lt,Ot,Ot)):d&&dt=="namespace"?(H.marked="keyword",j(yt("form"),xt,Bt,Ot)):d&&dt=="abstract"?(H.marked="keyword",j(Bt)):j(yt("stat"),ee):Q=="switch"?j(yt("form"),Vt,zt("{"),yt("}","switch"),lt,Lt,Ot,Ot,Et):Q=="case"?j(xt,zt(":")):Q=="default"?j(zt(":")):Q=="catch"?j(yt("form"),at,Ut,Bt,Ot,Et):Q=="export"?j(yt("stat"),Ie,Ot):Q=="import"?j(yt("stat"),B,Ot):Q=="async"?j(Bt):dt=="@"?j(xt,Bt):$(yt("stat"),xt,zt(";"),Ot)}function Ut(Q){if(Q=="(")return j(ye,zt(")"))}function xt(Q,dt){return mt(Q,dt,!1)}function ot(Q,dt){return mt(Q,dt,!0)}function Vt(Q){return Q!="("?$():j(yt(")"),Ft,zt(")"),Ot)}function mt(Q,dt,Wt){if(H.state.fatArrowAt==H.stream.start){var Jt=Wt?jt:Ct;if(Q=="(")return j(at,yt(")"),J(ye,")"),Ot,zt("=>"),Jt,Et);if(Q=="variable")return $(at,we,zt("=>"),Jt,Et)}var te=Wt?W:Kt;return D.hasOwnProperty(Q)?j(te):Q=="function"?j(er,te):Q=="class"||d&&dt=="interface"?(H.marked="keyword",j(yt("form"),ur,Ot)):Q=="keyword c"||Q=="async"?j(Wt?ot:xt):Q=="("?j(yt(")"),Ft,zt(")"),Ot,te):Q=="operator"||Q=="spread"?j(Wt?ot:xt):Q=="["?j(yt("]"),$e,Ot,te):Q=="{"?Xt(de,"}",null,te):Q=="quasi"?$(Z,te):Q=="new"?j(ut(Wt)):j()}function Ft(Q){return Q.match(/[;\}\)\],]/)?$():$(xt)}function Kt(Q,dt){return Q==","?j(Ft):W(Q,dt,!1)}function W(Q,dt,Wt){var Jt=Wt==!1?Kt:W,te=Wt==!1?xt:ot;if(Q=="=>")return j(at,Wt?jt:Ct,Et);if(Q=="operator")return/\+\+|--/.test(dt)||d&&dt=="!"?j(Jt):d&&dt=="<"&&H.stream.match(/^([^<>]|<[^<>]*>)*>\s*\(/,!1)?j(yt(">"),J(ve,">"),Ot,Jt):dt=="?"?j(xt,zt(":"),te):j(te);if(Q=="quasi")return $(Z,Jt);if(Q!=";"){if(Q=="(")return Xt(ot,")","call",Jt);if(Q==".")return j(Ce,Jt);if(Q=="[")return j(yt("]"),Ft,zt("]"),Ot,Jt);if(d&&dt=="as")return H.marked="keyword",j(ve,Jt);if(Q=="regexp")return H.state.lastType=H.marked="operator",H.stream.backUp(H.stream.pos-H.stream.start-1),j(te)}}function Z(Q,dt){return Q!="quasi"?$():dt.slice(dt.length-2)!="${"?j(Z):j(Ft,it)}function it(Q){if(Q=="}")return H.marked="string-2",H.state.tokenize=L,j(Z)}function Ct(Q){return P(H.stream,H.state),$(Q=="{"?Bt:xt)}function jt(Q){return P(H.stream,H.state),$(Q=="{"?Bt:ot)}function ut(Q){return function(dt){return dt=="."?j(Q?At:Dt):dt=="variable"&&d?j(Pt,Q?W:Kt):$(Q?ot:xt)}}function Dt(Q,dt){if(dt=="target")return H.marked="keyword",j(Kt)}function At(Q,dt){if(dt=="target")return H.marked="keyword",j(W)}function ee(Q){return Q==":"?j(Ot,Bt):$(Kt,zt(";"),Ot)}function Ce(Q){if(Q=="variable")return H.marked="property",j()}function de(Q,dt){if(Q=="async")return H.marked="property",j(de);if(Q=="variable"||H.style=="keyword"){if(H.marked="property",dt=="get"||dt=="set")return j(nt);var Wt;return d&&H.state.fatArrowAt==H.stream.start&&(Wt=H.stream.match(/^\s*:\s*/,!1))&&(H.state.fatArrowAt=H.stream.pos+Wt[0].length),j(wt)}else{if(Q=="number"||Q=="string")return H.marked=f?"property":H.style+" property",j(wt);if(Q=="jsonld-keyword")return j(wt);if(d&&vt(dt))return H.marked="keyword",j(de);if(Q=="[")return j(xt,Zt,zt("]"),wt);if(Q=="spread")return j(ot,wt);if(dt=="*")return H.marked="keyword",j(de);if(Q==":")return $(wt)}}function nt(Q){return Q!="variable"?$(wt):(H.marked="property",j(er))}function wt(Q){if(Q==":")return j(ot);if(Q=="(")return $(er)}function J(Q,dt,Wt){function Jt(te,Pe){if(Wt?Wt.indexOf(te)>-1:te==","){var je=H.state.lexical;return je.info=="call"&&(je.pos=(je.pos||0)+1),j(function(sr,Ze){return sr==dt||Ze==dt?$():$(Q)},Jt)}return te==dt||Pe==dt?j():Wt&&Wt.indexOf(";")>-1?$(Q):j(zt(dt))}return function(te,Pe){return te==dt||Pe==dt?j():$(Q,Jt)}}function Xt(Q,dt,Wt){for(var Jt=3;Jt<arguments.length;Jt++)H.cc.push(arguments[Jt]);return j(yt(dt,Wt),J(Q,dt),Ot)}function Lt(Q){return Q=="}"?j():$(Bt,Lt)}function Zt(Q,dt){if(d){if(Q==":")return j(ve);if(dt=="?")return j(Zt)}}function re(Q,dt){if(d&&(Q==":"||dt=="in"))return j(ve)}function le(Q){if(d&&Q==":")return H.stream.match(/^\s*\w+\s+is\b/,!1)?j(xt,oe,ve):j(ve)}function oe(Q,dt){if(dt=="is")return H.marked="keyword",j()}function ve(Q,dt){if(dt=="keyof"||dt=="typeof"||dt=="infer"||dt=="readonly")return H.marked="keyword",j(dt=="typeof"?ot:ve);if(Q=="variable"||dt=="void")return H.marked="type",j(_t);if(dt=="|"||dt=="&")return j(ve);if(Q=="string"||Q=="number"||Q=="atom")return j(_t);if(Q=="[")return j(yt("]"),J(ve,"]",","),Ot,_t);if(Q=="{")return j(yt("}"),Ae,Ot,_t);if(Q=="(")return j(J(et,")"),xe,_t);if(Q=="<")return j(J(ve,">"),ve);if(Q=="quasi")return $(We,_t)}function xe(Q){if(Q=="=>")return j(ve)}function Ae(Q){return Q.match(/[\}\)\]]/)?j():Q==","||Q==";"?j(Ae):$(ke,Ae)}function ke(Q,dt){if(Q=="variable"||H.style=="keyword")return H.marked="property",j(ke);if(dt=="?"||Q=="number"||Q=="string")return j(ke);if(Q==":")return j(ve);if(Q=="[")return j(zt("variable"),re,zt("]"),ke);if(Q=="(")return $(Re,ke);if(!Q.match(/[;\}\)\],]/))return j()}function We(Q,dt){return Q!="quasi"?$():dt.slice(dt.length-2)!="${"?j(We):j(ve,ir)}function ir(Q){if(Q=="}")return H.marked="string-2",H.state.tokenize=L,j(We)}function et(Q,dt){return Q=="variable"&&H.stream.match(/^\s*[?:]/,!1)||dt=="?"?j(et):Q==":"?j(ve):Q=="spread"?j(et):$(ve)}function _t(Q,dt){if(dt=="<")return j(yt(">"),J(ve,">"),Ot,_t);if(dt=="|"||Q=="."||dt=="&")return j(ve);if(Q=="[")return j(ve,zt("]"),_t);if(dt=="extends"||dt=="implements")return H.marked="keyword",j(ve);if(dt=="?")return j(ve,zt(":"),ve)}function Pt(Q,dt){if(dt=="<")return j(yt(">"),J(ve,">"),Ot,_t)}function Yt(){return $(ve,ne)}function ne(Q,dt){if(dt=="=")return j(ve)}function me(Q,dt){return dt=="enum"?(H.marked="keyword",j(Ne)):$(we,Zt,ze,Pr)}function we(Q,dt){if(d&&vt(dt))return H.marked="keyword",j(we);if(Q=="variable")return q(dt),j();if(Q=="spread")return j(we);if(Q=="[")return Xt(Ue,"]");if(Q=="{")return Xt(Me,"}")}function Me(Q,dt){return Q=="variable"&&!H.stream.match(/^\s*:/,!1)?(q(dt),j(ze)):(Q=="variable"&&(H.marked="property"),Q=="spread"?j(we):Q=="}"?$():Q=="["?j(xt,zt("]"),zt(":"),Me):j(zt(":"),we,ze))}function Ue(){return $(we,ze)}function ze(Q,dt){if(dt=="=")return j(ot)}function Pr(Q){if(Q==",")return j(me)}function Fe(Q,dt){if(Q=="keyword b"&&dt=="else")return j(yt("form","else"),Bt,Ot)}function hr(Q,dt){if(dt=="await")return j(hr);if(Q=="(")return j(yt(")"),ar,Ot)}function ar(Q){return Q=="var"?j(me,De):Q=="variable"?j(De):$(De)}function De(Q,dt){return Q==")"?j():Q==";"?j(De):dt=="in"||dt=="of"?(H.marked="keyword",j(xt,De)):$(xt,De)}function er(Q,dt){if(dt=="*")return H.marked="keyword",j(er);if(Q=="variable")return q(dt),j(er);if(Q=="(")return j(at,yt(")"),J(ye,")"),Ot,le,Bt,Et);if(d&&dt=="<")return j(yt(">"),J(Yt,">"),Ot,er)}function Re(Q,dt){if(dt=="*")return H.marked="keyword",j(Re);if(Q=="variable")return q(dt),j(Re);if(Q=="(")return j(at,yt(")"),J(ye,")"),Ot,le,Et);if(d&&dt=="<")return j(yt(">"),J(Yt,">"),Ot,Re)}function Ye(Q,dt){if(Q=="keyword"||Q=="variable")return H.marked="type",j(Ye);if(dt=="<")return j(yt(">"),J(Yt,">"),Ot)}function ye(Q,dt){return dt=="@"&&j(xt,ye),Q=="spread"?j(ye):d&&vt(dt)?(H.marked="keyword",j(ye)):d&&Q=="this"?j(Zt,ze):$(we,Zt,ze)}function ur(Q,dt){return Q=="variable"?Ve(Q,dt):Je(Q,dt)}function Ve(Q,dt){if(Q=="variable")return q(dt),j(Je)}function Je(Q,dt){if(dt=="<")return j(yt(">"),J(Yt,">"),Ot,Je);if(dt=="extends"||dt=="implements"||d&&Q==",")return dt=="implements"&&(H.marked="keyword"),j(d?ve:xt,Je);if(Q=="{")return j(yt("}"),Ge,Ot)}function Ge(Q,dt){if(Q=="async"||Q=="variable"&&(dt=="static"||dt=="get"||dt=="set"||d&&vt(dt))&&H.stream.match(/^\s+[\w$\xa1-\uffff]/,!1))return H.marked="keyword",j(Ge);if(Q=="variable"||H.style=="keyword")return H.marked="property",j(rr,Ge);if(Q=="number"||Q=="string")return j(rr,Ge);if(Q=="[")return j(xt,Zt,zt("]"),rr,Ge);if(dt=="*")return H.marked="keyword",j(Ge);if(d&&Q=="(")return $(Re,Ge);if(Q==";"||Q==",")return j(Ge);if(Q=="}")return j();if(dt=="@")return j(xt,Ge)}function rr(Q,dt){if(dt=="!"||dt=="?")return j(rr);if(Q==":")return j(ve,ze);if(dt=="=")return j(ot);var Wt=H.state.lexical.prev,Jt=Wt&&Wt.info=="interface";return $(Jt?Re:er)}function Ie(Q,dt){return dt=="*"?(H.marked="keyword",j(ce,zt(";"))):dt=="default"?(H.marked="keyword",j(xt,zt(";"))):Q=="{"?j(J(O,"}"),ce,zt(";")):$(Bt)}function O(Q,dt){if(dt=="as")return H.marked="keyword",j(zt("variable"));if(Q=="variable")return $(ot,O)}function B(Q){return Q=="string"?j():Q=="("?$(xt):Q=="."?$(Kt):$(F,ct,ce)}function F(Q,dt){return Q=="{"?Xt(F,"}"):(Q=="variable"&&q(dt),dt=="*"&&(H.marked="keyword"),j(Mt))}function ct(Q){if(Q==",")return j(F,ct)}function Mt(Q,dt){if(dt=="as")return H.marked="keyword",j(F)}function ce(Q,dt){if(dt=="from")return H.marked="keyword",j(xt)}function $e(Q){return Q=="]"?j():$(J(ot,"]"))}function Ne(){return $(yt("form"),we,zt("{"),yt("}"),J(Ht,"}"),Ot,Ot)}function Ht(){return $(we,ze)}function U(Q,dt){return Q.lastType=="operator"||Q.lastType==","||_.test(dt.charAt(0))||/[,.]/.test(dt.charAt(0))}function Oe(Q,dt,Wt){return dt.tokenize==x&&/^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\[{}\(,;:]|=>)$/.test(dt.lastType)||dt.lastType=="quasi"&&/\{\s*$/.test(Q.string.slice(0,Q.pos-(Wt||0)))}return{startState:function(Q){var dt={tokenize:x,lastType:"sof",cc:[],lexical:new R((Q||0)-l,0,"block",!1),localVars:o.localVars,context:o.localVars&&new St(null,null,!1),indented:Q||0};return o.globalVars&&typeof o.globalVars=="object"&&(dt.globalVars=o.globalVars),dt},token:function(Q,dt){if(Q.sol()&&(dt.lexical.hasOwnProperty("align")||(dt.lexical.align=!1),dt.indented=Q.indentation(),P(Q,dt)),dt.tokenize!=b&&Q.eatSpace())return null;var Wt=dt.tokenize(Q,dt);return C=="comment"?Wt:(dt.lastType=C=="operator"&&(A=="++"||A=="--")?"incdec":C,z(dt,Wt,C,A,Q))},indent:function(Q,dt){if(Q.tokenize==b||Q.tokenize==L)return e.Pass;if(Q.tokenize!=x)return 0;var Wt=dt&&dt.charAt(0),Jt=Q.lexical,te;if(!/^\s*else\b/.test(dt))for(var Pe=Q.cc.length-1;Pe>=0;--Pe){var je=Q.cc[Pe];if(je==Ot)Jt=Jt.prev;else if(je!=Fe&&je!=Et)break}for(;(Jt.type=="stat"||Jt.type=="form")&&(Wt=="}"||(te=Q.cc[Q.cc.length-1])&&(te==Kt||te==W)&&!/^[,\.=+\-*:?[\(]/.test(dt));)Jt=Jt.prev;s&&Jt.type==")"&&Jt.prev.type=="stat"&&(Jt=Jt.prev);var sr=Jt.type,Ze=Wt==sr;return sr=="vardef"?Jt.indented+(Q.lastType=="operator"||Q.lastType==","?Jt.info.length+1:0):sr=="form"&&Wt=="{"?Jt.indented:sr=="form"?Jt.indented+l:sr=="stat"?Jt.indented+(U(Q,dt)?s||l:0):Jt.info=="switch"&&!Ze&&o.doubleIndentSwitch!=!1?Jt.indented+(/^(?:case|default)\b/.test(dt)?l:2*l):Jt.align?Jt.column+(Ze?0:1):Jt.indented+(Ze?0:l)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:u?null:"/*",blockCommentEnd:u?null:"*/",blockCommentContinue:u?null:" * ",lineComment:u?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:u?"json":"javascript",jsonldMode:f,jsonMode:u,expressionAllowed:Oe,skipExpression:function(Q){z(Q,"atom","atom","true",new e.StringStream("",2,null))}}}),e.registerHelper("wordChars","javascript",/[\w$]/),e.defineMIME("text/javascript","javascript"),e.defineMIME("text/ecmascript","javascript"),e.defineMIME("application/javascript","javascript"),e.defineMIME("application/x-javascript","javascript"),e.defineMIME("application/ecmascript","javascript"),e.defineMIME("application/json",{name:"javascript",json:!0}),e.defineMIME("application/x-json",{name:"javascript",json:!0}),e.defineMIME("application/manifest+json",{name:"javascript",json:!0}),e.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),e.defineMIME("text/typescript",{name:"javascript",typescript:!0}),e.defineMIME("application/typescript",{name:"javascript",typescript:!0})})}),9701:((i,r,t)=>{(function(e){e(t(4408))})(function(e){var n={autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,caseFold:!0},o={autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,allowMissingTagName:!1,caseFold:!1};e.defineMode("xml",function(l,s){var f=l.indentUnit,u={},p=s.htmlMode?n:o;for(var d in p)u[d]=p[d];for(var d in s)u[d]=s[d];var h,v;function _(j,rt){function q(St){return rt.tokenize=St,St(j,rt)}var st=j.next();if(st=="<")return j.eat("!")?j.eat("[")?j.match("CDATA[")?q(C("atom","]]>")):null:j.match("--")?q(C("comment","-->")):j.match("DOCTYPE",!0,!0)?(j.eatWhile(/[\w\._\-]/),q(A(1))):null:j.eat("?")?(j.eatWhile(/[\w\._\-]/),rt.tokenize=C("meta","?>"),"meta"):(h=j.eat("/")?"closeTag":"openTag",rt.tokenize=T,"tag bracket");if(st=="&"){var vt;return j.eat("#")?j.eat("x")?vt=j.eatWhile(/[a-fA-F\d]/)&&j.eat(";"):vt=j.eatWhile(/[\d]/)&&j.eat(";"):vt=j.eatWhile(/[\w\.\-:]/)&&j.eat(";"),vt?"atom":"error"}else return j.eatWhile(/[^&<]/),null}_.isInText=!0;function T(j,rt){var q=j.next();if(q==">"||q=="/"&&j.eat(">"))return rt.tokenize=_,h=q==">"?"endTag":"selfcloseTag","tag bracket";if(q=="=")return h="equals",null;if(q=="<"){rt.tokenize=_,rt.state=L,rt.tagName=rt.tagStart=null;var st=rt.tokenize(j,rt);return st?st+" tag error":"tag error"}else return/[\'\"]/.test(q)?(rt.tokenize=w(q),rt.stringStartCol=j.column(),rt.tokenize(j,rt)):(j.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/),"word")}function w(j){var rt=function(q,st){for(;!q.eol();)if(q.next()==j){st.tokenize=T;break}return"string"};return rt.isInAttribute=!0,rt}function C(j,rt){return function(q,st){for(;!q.eol();){if(q.match(rt)){st.tokenize=_;break}q.next()}return j}}function A(j){return function(rt,q){for(var st;(st=rt.next())!=null;){if(st=="<")return q.tokenize=A(j+1),q.tokenize(rt,q);if(st==">")if(j==1){q.tokenize=_;break}else return q.tokenize=A(j-1),q.tokenize(rt,q)}return"meta"}}function S(j){return j&&j.toLowerCase()}function x(j,rt,q){this.prev=j.context,this.tagName=rt||"",this.indent=j.indented,this.startOfLine=q,(u.doNotIndent.hasOwnProperty(rt)||j.context&&j.context.noIndent)&&(this.noIndent=!0)}function N(j){j.context&&(j.context=j.context.prev)}function b(j,rt){for(var q;;){if(!j.context||(q=j.context.tagName,!u.contextGrabbers.hasOwnProperty(S(q))||!u.contextGrabbers[S(q)].hasOwnProperty(S(rt))))return;N(j)}}function L(j,rt,q){return j=="openTag"?(q.tagStart=rt.column(),k):j=="closeTag"?P:L}function k(j,rt,q){return j=="word"?(q.tagName=rt.current(),v="tag",M):u.allowMissingTagName&&j=="endTag"?(v="tag bracket",M(j,rt,q)):(v="error",k)}function P(j,rt,q){if(j=="word"){var st=rt.current();return q.context&&q.context.tagName!=st&&u.implicitlyClosed.hasOwnProperty(S(q.context.tagName))&&N(q),q.context&&q.context.tagName==st||u.matchClosing===!1?(v="tag",D):(v="tag error",R)}else return u.allowMissingTagName&&j=="endTag"?(v="tag bracket",D(j,rt,q)):(v="error",R)}function D(j,rt,q){return j!="endTag"?(v="error",D):(N(q),L)}function R(j,rt,q){return v="error",D(j,rt,q)}function M(j,rt,q){if(j=="word")return v="attribute",z;if(j=="endTag"||j=="selfcloseTag"){var st=q.tagName,vt=q.tagStart;return q.tagName=q.tagStart=null,j=="selfcloseTag"||u.autoSelfClosers.hasOwnProperty(S(st))?b(q,st):(b(q,st),q.context=new x(q,st,vt==q.indented)),L}return v="error",M}function z(j,rt,q){return j=="equals"?H:(u.allowMissing||(v="error"),M(j,rt,q))}function H(j,rt,q){return j=="string"?$:j=="word"&&u.allowUnquoted?(v="string",M):(v="error",M(j,rt,q))}function $(j,rt,q){return j=="string"?$:M(j,rt,q)}return{startState:function(j){var rt={tokenize:_,state:L,indented:j||0,tagName:null,tagStart:null,context:null};return j!=null&&(rt.baseIndent=j),rt},token:function(j,rt){if(!rt.tagName&&j.sol()&&(rt.indented=j.indentation()),j.eatSpace())return null;h=null;var q=rt.tokenize(j,rt);return(q||h)&&q!="comment"&&(v=null,rt.state=rt.state(h||q,j,rt),v&&(q=v=="error"?q+" error":v)),q},indent:function(j,rt,q){var st=j.context;if(j.tokenize.isInAttribute)return j.tagStart==j.indented?j.stringStartCol+1:j.indented+f;if(st&&st.noIndent)return e.Pass;if(j.tokenize!=T&&j.tokenize!=_)return q?q.match(/^(\s*)/)[0].length:0;if(j.tagName)return u.multilineTagIndentPastTag!==!1?j.tagStart+j.tagName.length+2:j.tagStart+f*(u.multilineTagIndentFactor||1);if(u.alignCDATA&&/<!\[CDATA\[/.test(rt))return 0;var vt=rt&&/^<(\/)?([\w_:\.-]*)/.exec(rt);if(vt&&vt[1])for(;st;)if(st.tagName==vt[2]){st=st.prev;break}else if(u.implicitlyClosed.hasOwnProperty(S(st.tagName)))st=st.prev;else break;else if(vt)for(;st;){var St=u.contextGrabbers[S(st.tagName)];if(St&&St.hasOwnProperty(S(vt[2])))st=st.prev;else break}for(;st&&st.prev&&!st.startOfLine;)st=st.prev;return st?st.indent+f:j.baseIndent||0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"<!--",blockCommentEnd:"-->",configuration:u.htmlMode?"html":"xml",helperType:u.htmlMode?"html":"xml",skipAttribute:function(j){j.state==H&&(j.state=M)},xmlCurrentTag:function(j){return j.tagName?{name:j.tagName,close:j.type=="closeTag"}:null},xmlCurrentContext:function(j){for(var rt=[],q=j.context;q;q=q.prev)rt.push(q.tagName);return rt.reverse()}}}),e.defineMIME("text/xml","xml"),e.defineMIME("application/xml","xml"),e.mimeModes.hasOwnProperty("text/html")||e.defineMIME("text/html",{name:"xml",htmlMode:!0})})}),7058:((i,r,t)=>{t.d(r,{A:()=>l});var e=t(9156),n=(function(){var s=function(f,u){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,d){p.__proto__=d}||function(p,d){for(var h in d)Object.prototype.hasOwnProperty.call(d,h)&&(p[h]=d[h])},s(f,u)};return function(f,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");s(f,u);function p(){this.constructor=f}f.prototype=u===null?Object.create(u):(p.prototype=u.prototype,new p)}})(),o=(function(s){n(f,s);function f(u,p,d){var h=s.call(this,p,d)||this;return h._module=u,h}return Object.defineProperty(f.prototype,"module",{get:function(){return this._module},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"config",{get:function(){return this._module.config},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"em",{get:function(){return this._module.em},enumerable:!1,configurable:!0}),f})(e.Kx);const l=o}),179:((i,r,t)=>{t.d(r,{A:()=>s,F:()=>o});var e=t(7058),n=(function(){var f=function(u,p){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,h){d.__proto__=h}||function(d,h){for(var v in h)Object.prototype.hasOwnProperty.call(h,v)&&(d[v]=h[v])},f(u,p)};return function(u,p){if(typeof p!="function"&&p!==null)throw new TypeError("Class extends value "+String(p)+" is not a constructor or null");f(u,p);function d(){this.constructor=u}u.prototype=p===null?Object.create(p):(d.prototype=p.prototype,new d)}})(),o;(function(f){f.Select="select",f.Hover="hover",f.Spacing="spacing",f.Target="target",f.Resize="resize"})(o||(o={}));var l=(function(f){n(u,f);function u(){return f!==null&&f.apply(this,arguments)||this}return u.prototype.defaults=function(){return{id:"",type:""}},Object.defineProperty(u.prototype,"type",{get:function(){return this.get("type")||""},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"component",{get:function(){var p,d=this.get("component");return d||((p=this.get("componentView"))===null||p===void 0?void 0:p.model)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"componentView",{get:function(){var p,d=this.get("componentView");return d||((p=this.get("component"))===null||p===void 0?void 0:p.getView())},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"el",{get:function(){var p;return(p=this.componentView)===null||p===void 0?void 0:p.el},enumerable:!1,configurable:!0}),u.prototype.getBoxRect=function(p){var d=this,h=d.el,v=d.em,_=v.Canvas.getCanvasView(),T=this.get("boxRect");return T||(h&&_?_.getElBoxRect(h,p):{x:0,y:0,width:0,height:0})},u.prototype.getStyle=function(p){p===void 0&&(p={});var d=p.boxRect||this.getBoxRect(p),h=d.width,v=d.height,_=d.x,T=d.y;return{width:"".concat(h,"px"),height:"".concat(v,"px"),top:"0",left:"0",position:"absolute",translate:"".concat(_,"px ").concat(T,"px")}},u.prototype.isType=function(p){return this.type===p},u})(e.A);const s=l}),1738:((i,r,t)=>{t.d(r,{A:()=>n});var e;(function(o){o.run="command:run",o.runCommand="command:run:",o.runBeforeCommand="command:run:before:",o.abort="command:abort:",o.stop="command:stop",o.stopCommand="command:stop:",o.stopBeforeCommand="command:stop:before:",o.call="command:call",o.callCommand="command:call:"})(e||(e={}));const n=e}),9484:((i,r,t)=>{t.r(r),t.d(r,{default:()=>e});const e={run:function(n){n.Components.clear(),n.Css.clear()}}}),9516:((i,r,t)=>{t.r(r),t.d(r,{default:()=>l});var e=t(5706),n=t(9966),o=t(6294);const l={run:function(s){(0,e.bindAll)(this,"onKeyUp","enableDragger","disableDragger"),this.editor=s,this.canvasModel=this.canvas.getCanvasView().model,this.toggleMove(1)},stop:function(s){this.toggleMove(),this.disableDragger()},onKeyUp:function(s){(0,o.Ch)(s)===" "&&this.editor.stopCommand(this.id)},enableDragger:function(s){this.toggleDragger(1,s)},disableDragger:function(s){this.toggleDragger(0,s)},toggleDragger:function(s,f){var u=this,p=u.canvasModel,d=u.em,h=this.dragger,v=s?"add":"remove";this.getCanvas().classList[v]("".concat(this.ppfx,"is__grabbing")),h||(h=new n.A({getPosition:function(){return{x:p.get("x"),y:p.get("y")}},setPosition:function(_){var T=_.x,w=_.y;p.set({x:T,y:w})},onStart:function(_,T){d.trigger("canvas:move:start",T)},onDrag:function(_,T){d.trigger("canvas:move",T)},onEnd:function(_,T){d.trigger("canvas:move:end",T)}}),this.dragger=h),s?h.start(f):h.stop()},toggleMove:function(s){var f=this.ppfx,u=s?"add":"remove",p=s?"on":"off",d={on:o.on,off:o.AU},h=this.getCanvas(),v=["".concat(f,"is__grab")];!s&&v.push("".concat(f,"is__grabbing")),v.forEach(function(_){return h.classList[u](_)}),d[p](document,"keyup",this.onKeyUp),d[p](h,"mousedown",this.enableDragger),d[p](document,"mouseup",this.disableDragger)}}}),9946:((i,r,t)=>{t.r(r),t.d(r,{default:()=>u,defineCommand:()=>s});var e=t(9156),n=t(1738),o=(function(){var p=function(d,h){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,_){v.__proto__=_}||function(v,_){for(var T in _)Object.prototype.hasOwnProperty.call(_,T)&&(v[T]=_[T])},p(d,h)};return function(d,h){if(typeof h!="function"&&h!==null)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");p(d,h);function v(){this.constructor=d}d.prototype=h===null?Object.create(h):(v.prototype=h.prototype,new v)}})(),l=function(){return l=Object.assign||function(p){for(var d,h=1,v=arguments.length;h<v;h++){d=arguments[h];for(var _ in d)Object.prototype.hasOwnProperty.call(d,_)&&(p[_]=d[_])}return p},l.apply(this,arguments)};function s(p){return p}var f=(function(p){o(d,p);function d(h){var v=p.call(this,0)||this;v.config=h||{},v.em=v.config.em||{};var _=v.config.stylePrefix;return v.pfx=_,v.ppfx=v.config.pStylePrefix,v.hoverClass="".concat(_,"hover"),v.badgeClass="".concat(_,"badge"),v.plhClass="".concat(_,"placeholder"),v.freezClass="".concat(v.ppfx,"freezed"),v.canvas=v.em.Canvas,v.init(v.config),v}return d.prototype.onFrameScroll=function(h){},d.prototype.getCanvas=function(){return this.canvas.getElement()},d.prototype.getCanvasBody=function(){return this.canvas.getBody()},d.prototype.getCanvasTools=function(){return this.canvas.getToolsEl()},d.prototype.offset=function(h){var v=h.getBoundingClientRect();return{top:v.top+h.ownerDocument.body.scrollTop,left:v.left+h.ownerDocument.body.scrollLeft}},d.prototype.init=function(h){},d.prototype.callRun=function(h,v){v===void 0&&(v={});var _=this.id;if(h.trigger("".concat(n.A.runBeforeCommand).concat(_),{options:v}),v.abort){h.trigger("".concat(n.A.abort).concat(_),{options:v});return}var T=v.sender||h,w=this.run(h,T,v),C={id:_,result:w,options:v},A=l(l({},C),{type:"run"});return this.noStop||(h.Commands.active[_]=w),h.trigger("".concat(n.A.runCommand).concat(_),C),h.trigger("".concat(n.A.callCommand).concat(_),A),h.trigger(n.A.run,C),h.trigger(n.A.call,A),w},d.prototype.callStop=function(h,v){v===void 0&&(v={});var _=this.id,T=v.sender||h;h.trigger("".concat(n.A.stopBeforeCommand).concat(_),{options:v});var w=this.stop(h,T,v),C={id:_,result:w,options:v},A=l(l({},C),{type:"stop"});return delete h.Commands.active[_],h.trigger("".concat(n.A.stopCommand).concat(_),C),h.trigger("".concat(n.A.callCommand).concat(_),A),h.trigger(n.A.stop,C),h.trigger(n.A.call,A),w},d.prototype.stopCommand=function(h){this.em.Commands.stop(this.id,h)},d.prototype.run=function(h,v,_){},d.prototype.stop=function(h,v,_){},d})(e.Kx);const u=f}),7801:((i,r,t)=>{t.r(r),t.d(r,{default:()=>l});var e=t(5706),n=function(s,f,u){if(u||arguments.length===2)for(var p=0,d=f.length,h;p<d;p++)(h||!(p in f))&&(h||(h=Array.prototype.slice.call(f,0,p)),h[p]=f[p]);return s.concat(h||Array.prototype.slice.call(f))},o={run:function(s,f,u){var p=this;u===void 0&&(u={});var d=[],h=u.component||s.getSelectedAll();return h=(0,e.isArray)(h)?n([],h,!0):[h],h.filter(Boolean).forEach(function(v){var _,T;if(!v.get("removable"))return p.em.logWarning("The element is not removable",{component:v});d.push(v);var w=((T=(_=v.delegate)===null||_===void 0?void 0:_.remove)===null||T===void 0?void 0:T.call(_,v))||v;w.remove()}),s.selectRemove(d),d}};const l=o}),4864:((i,r,t)=>{t.r(r),t.d(r,{default:()=>f});var e=t(5706),n=t(9966),o=t(1166),l=function(){return l=Object.assign||function(u){for(var p,d=1,h=arguments.length;d<h;d++){p=arguments[d];for(var v in p)Object.prototype.hasOwnProperty.call(p,v)&&(u[v]=p[v])}return u},l.apply(this,arguments)},s="dmode";const f={run:function(u,p,d){var h=this,v,_;if(d===void 0&&(d={}),(0,e.bindAll)(this,"setPosition","onStart","onDrag","onEnd","getPosition","getGuidesStatic","renderGuide","getGuidesTarget"),!d.target)throw new Error("Target option is required");var T=l({doc:(v=d.target.getEl())===null||v===void 0?void 0:v.ownerDocument,onStart:this.onStart,onEnd:this.onEnd,onDrag:this.onDrag,getPosition:this.getPosition,setPosition:this.setPosition,guidesStatic:function(){var C;return(C=h.guidesStatic)!==null&&C!==void 0?C:[]},guidesTarget:function(){var C;return(C=h.guidesTarget)!==null&&C!==void 0?C:[]}},(_=d.dragger)!==null&&_!==void 0?_:{});this.setupGuides(),this.opts=d,this.editor=u,this.em=u.getModel(),this.target=d.target,this.isTran=d.mode=="translate",this.guidesContainer=this.getGuidesContainer(),this.guidesTarget=this.getGuidesTarget(),this.guidesStatic=this.getGuidesStatic();var w=this.dragger;return w?w.setOptions(T):(w=new n.A(T),this.dragger=w),d.event&&w.start(d.event),this.toggleDrag(!0),this.em.trigger("".concat(s,":start"),this.getEventOpts()),w},getEventOpts:function(){var u,p,d=(p=(u=this.guidesTarget)===null||u===void 0?void 0:u.filter(function(h){return h.active}))!==null&&p!==void 0?p:[];return{mode:this.opts.mode,component:this.target,target:this.target,guidesTarget:this.guidesTarget,guidesStatic:this.guidesStatic,guidesMatched:this.getGuidesMatched(d),command:this}},stop:function(){this.toggleDrag()},setupGuides:function(){var u;((u=this.guides)!==null&&u!==void 0?u:[]).forEach(function(p){var d,h=p.guide;(d=h?.parentNode)===null||d===void 0||d.removeChild(h)}),this.guides=[]},getGuidesContainer:function(){var u=this,p,d,h,v,_=this.guidesEl;if(!_){var T=this,w=T.editor,C=T.em,A=T.opts,S=(p=w.getConfig().stylePrefix)!==null&&p!==void 0?p:"",x=document.createElement("div"),N=document.createElement("div"),b='<div class="'.concat(S,"guide-info__line ").concat(S,`danger-bg">
        <div class="`).concat(S,"guide-info__content ").concat(S,`danger-color"></div>
      </div>`);_=document.createElement("div"),_.className="".concat(S,"guides"),x.className="".concat(S,"guide-info ").concat(S,"guide-info__x"),N.className="".concat(S,"guide-info ").concat(S,"guide-info__y"),x.innerHTML=b,N.innerHTML=b,_.appendChild(x),_.appendChild(N),(d=w.Canvas.getGlobalToolsEl())===null||d===void 0||d.appendChild(_),this.guidesEl=_,this.elGuideInfoX=x,this.elGuideInfoY=N,this.elGuideInfoContentX=(h=x.querySelector(".".concat(S,"guide-info__content")))!==null&&h!==void 0?h:void 0,this.elGuideInfoContentY=(v=N.querySelector(".".concat(S,"guide-info__content")))!==null&&v!==void 0?v:void 0,C.on("canvas:update frame:scroll",(0,e.debounce)(function(){var L;u.updateGuides(),A.debug&&((L=u.guides)===null||L===void 0||L.forEach(function(k){return u.renderGuide(k)}))},200))}return _},getGuidesStatic:function(){var u=this,p=[],d=this.target.getEl(),h=d?.parentElement;return h?((0,e.each)(h.children,function(v){return p=p.concat(d!==v?u.getElementGuides(v):[])}),p.concat(this.getElementGuides(h))):[]},getGuidesTarget:function(){return this.getElementGuides(this.target.getEl())},updateGuides:function(u){var p=this,d,h,v,_=(d=u??this.guides)!==null&&d!==void 0?d:[];_.forEach(function(T){var w=T.origin,C=h===w?v:p.getElementPos(w);h=w,v=C,(0,e.each)(p.getGuidePosUpdate(T,C),function(A,S){T[S]=A}),T.originRect=C})},getGuidePosUpdate:function(u,p){var d={},h=p.top,v=p.height,_=p.left,T=p.width;switch(u.type){case"t":d.y=h;break;case"b":d.y=h+v;break;case"l":d.x=_;break;case"r":d.x=_+T;break;case"x":d.x=_+T/2;break;case"y":d.y=h+v/2;break}return d},renderGuide:function(u){var p,d;if(!this.opts.skipGuidesRender){var h=(p=u.guide)!==null&&p!==void 0?p:document.createElement("div"),v="px",_=u.active?2:1;if(h.style.cssText="position: absolute; background-color: ".concat(u.active?"green":"red",";"),!h.children.length){var T=document.createElement("div");T.style.cssText="position: absolute; color: red; padding: 5px; top: 0; left: 0;",h.appendChild(T)}return u.y?(h.style.width="100%",h.style.height="".concat(_).concat(v),h.style.top="".concat(u.y).concat(v),h.style.left="0"):(h.style.width="".concat(_).concat(v),h.style.height="100%",h.style.left="".concat(u.x).concat(v),h.style.top="0".concat(v)),!u.guide&&((d=this.guidesContainer)===null||d===void 0||d.appendChild(h)),h}},getElementPos:function(u){return this.editor.Canvas.getElementPos(u,{noScroll:1})},getElementGuides:function(u){var p=this,d=this.opts,h=u,v=this.getElementPos(u),_=(0,o.getComponentModel)(u),T=(0,o.getComponentView)(u),w=v.top,C=v.height,A=v.left,S=v.width,x=[{type:"t",y:w},{type:"b",y:w+C},{type:"l",x:A},{type:"r",x:A+S},{type:"x",x:A+S/2},{type:"y",y:w+C/2}],N=x.map(function(b){var L=d.debug?p.renderGuide(b):void 0;return l(l({},b),{component:_,componentView:T,componentEl:h,origin:h,componentElRect:v,originRect:v,guideEl:L,guide:L})});return N.forEach(function(b){var L;return(L=p.guides)===null||L===void 0?void 0:L.push(b)}),N},getTranslate:function(u,p){p===void 0&&(p="x");var d=0;return(u||"").split(" ").forEach(function(h){var v=h.trim(),_="translate".concat(p.toUpperCase(),"(");v.indexOf(_)===0&&(d=parseFloat(v.replace(_,"")))}),d},setTranslate:function(u,p,d){var h="translate".concat(p.toUpperCase(),"("),v="".concat(h).concat(d,")"),_=(u||"").split(" ").map(function(T){var w=T.trim();return w.indexOf(h)===0&&(T=v),T}).join(" ");return _.indexOf(h)<0&&(_+=" ".concat(v)),_},getPosition:function(){var u=this,p=u.target,d=u.isTran,h=p.getStyle(),v=h.transform,_=h.left,T=h.top,w=0,C=0;return d&&v?(w=this.getTranslate(v),C=this.getTranslate(v,"y")):(w=parseFloat(_??"0"),C=parseFloat(T??"0")),{x:w,y:C}},setPosition:function(u){var p,d,h=u.x,v=u.y,_=u.end,T=u.position,w=u.width,C=u.height,A=this,S=A.target,x=A.isTran,N=A.em,b=A.opts,L="px",k=!_,P="".concat(parseInt("".concat(h),10)).concat(L),D="".concat(parseInt("".concat(v),10)).concat(L),R={};if(x){var M=(d=(p=S.getStyle())===null||p===void 0?void 0:p.transform)!==null&&d!==void 0?d:"";M=this.setTranslate(M,"x",P),M=this.setTranslate(M,"y",D),R={transform:M,__p:k}}else{var z={position:T,width:w,height:C},H={left:P,top:D,__p:k};(0,e.keys)(z).forEach(function($){var j=z[$];j&&(H[$]=j)}),R=H}b.addStyle?b.addStyle({component:S,styles:R,partial:!_}):S.addStyle(R,{avoidStore:!_}),N.Styles.__emitCmpStyleUpdate(R,{components:N.getSelected()})},_getDragData:function(){var u=this.target;return{target:u,parent:u.parent(),index:u.index()}},onStart:function(u){var p,d=this,h=d.target,v=d.editor,_=d.isTran,T=d.opts,w=v.Canvas,C=h.getStyle(),A="absolute",S=[A,"relative"];if((p=T.onStart)===null||p===void 0||p.call(T,this._getDragData()),!_){if(C.position!==A){var x=w.offset(h.getEl()),N=x.left,b=x.top,L=x.width,k=x.height,P=h.parent(),D=null;do{var R=P?.getStyle(),M=R?.position;M&&(D=S.indexOf(M)>=0?P:null),P=P?.parent()}while(P&&!D);if(T.center){var z=w.getMouseRelativeCanvas(u),H=z.x,$=z.y;N=H,b=$}else if(D){var j=w.offset(D.getEl());N=N-j.left,b=b-j.top}this.setPosition({x:N,y:b,width:"".concat(L,"px"),height:"".concat(k,"px"),position:A})}this.guidesStatic=this.getGuidesStatic()}},onDrag:function(u){var p=this,d,h,v=this,_=v.guidesTarget,T=v.opts;this.updateGuides(_),T.debug&&_?.forEach(function(w){return p.renderGuide(w)}),T.guidesInfo&&this.renderGuideInfo((d=_?.filter(function(w){return w.active}))!==null&&d!==void 0?d:[]),(h=T.onDrag)===null||h===void 0||h.call(T,this._getDragData()),this.opts.event=u,this.em.trigger("".concat(s,":move"),this.getEventOpts())},onEnd:function(u,p,d){var h,v=this,_=v.editor,T=v.opts,w=v.id;(h=T.onEnd)===null||h===void 0||h.call(T,u,d,l(l({event:u},d),this._getDragData())),_.stopCommand("".concat(w)),this.hideGuidesInfo(),this.em.trigger("".concat(s,":end"),this.getEventOpts())},hideGuidesInfo:function(){var u=this;["X","Y"].forEach(function(p){var d=u["elGuideInfo".concat(p)];d&&(d.style.display="none")})},renderGuideInfo:function(u){var p=this;u===void 0&&(u=[]),this.hideGuidesInfo();var d=this.getGuidesMatched(u);d.forEach(function(h){p.opts.skipGuidesRender||p.renderSingleGuideInfo(h),p.em.trigger("".concat(s,":active"),l(l({},p.getEventOpts()),h))})},renderSingleGuideInfo:function(u){var p=u.posFirst,d=u.posSecond,h=u.size,v=u.sizeRaw,_=u.guide,T=u.elGuideInfo,w=u.elGuideInfoCnt,C=(0,e.isUndefined)(_.x)?"y":"x",A=C==="y",S=T.style;S.display="",S[A?"top":"left"]="".concat(p,"px"),S[A?"left":"top"]="".concat(d,"px"),S[A?"width":"height"]="".concat(h,"px"),w.innerHTML="".concat(Math.round(v),"px")},getGuidesMatched:function(u){var p=this;u===void 0&&(u=[]);var d=this.guidesStatic,h=d===void 0?[]:d;return u.map(function(v){var _=v.origin,T=v.x,w=p.getElementPos(_),C=(0,e.isUndefined)(T)?"y":"x",A=C==="y",S=w[A?"left":"top"],x=w.rect[A?"left":"top"],N=A?S+w.width:S+w.height,b=A?x+w.rect.width:x+w.rect.height,L=h.filter(function(Et){var yt,Ot={l:["r","x"],r:["l","x"],x:["l","r"],t:["b","y"],b:["t","y"],y:["t","b"]};return Et.type===v.type||((yt=Ot[v.type])===null||yt===void 0?void 0:yt.includes(Et.type))}).map(function(Et){var yt=Et.originRect,Ot=yt.left,zt=yt.width,Bt=yt.top,Ut=yt.height,xt=A?Ot:Bt,ot=A?Ot+zt:Bt+Ut;return{gap:ot<S?S-ot:xt-N,guide:Et}}).filter(function(Et){return Et.gap>0}).sort(function(Et,yt){return Et.gap-yt.gap}).map(function(Et){return Et.guide}).filter(function(Et){switch(v.type){case"l":case"r":case"x":return Math.abs(Et.x-v.x)<1;case"t":case"b":case"y":return Math.abs(Et.y-v.y)<1;default:return!1}}),k=L[0];if(k){var P=k.originRect,D=P.left,R=P.width,M=P.top,z=P.height,H=P.rect,$=A?D<w.left:M<w.top,j=A?D:M,rt=A?H.left:H.top,q=A?D+R:M+z,st=A?H.left+H.width:H.top+H.height,vt=A?v.y:v.x,St=$?q:N,pt=$?S-q:j-N,bt=$?x-st:rt-b,at=p["elGuideInfo".concat(C.toUpperCase())],lt=p["elGuideInfoContent".concat(C.toUpperCase())];return{guide:v,guidesStatic:h,matched:k,posFirst:vt,posSecond:St,size:pt,sizeRaw:bt,elGuideInfo:at,elGuideInfoCnt:lt}}else return null}).filter(Boolean)},toggleDrag:function(u){var p=this,d=p.ppfx,h=p.editor,v=u?"add":"remove",_=["".concat(d,"is__grabbing")],T=h.Canvas,w=T.getBody();_.forEach(function(C){return w.classList[v](C)}),T[u?"startAutoscroll":"stopAutoscroll"]()},editor:void 0,em:void 0,opts:void 0,target:void 0}}),6134:((i,r,t)=>{t.r(r),t.d(r,{default:()=>e});const e={run:function(n){if(n.Canvas.hasFocus()){var o=[];n.getSelectedAll().forEach(function(l){var s=l.components(),f=s&&s.filter(function(u){return u.get("selectable")})[0];f&&o.push(f)}),o.length&&n.select(o)}}}}),914:((i,r,t)=>{t.r(r),t.d(r,{default:()=>e});const e={run:function(n,o,l){if(l===void 0&&(l={}),!(!n.Canvas.hasFocus()&&!l.force)){var s=[];n.getSelectedAll().forEach(function(f){for(var u=f.parent();u&&!u.get("selectable");)u=u.parent();u&&s.push(u)}),s.length&&n.select(s)}}}}),5547:((i,r,t)=>{t.r(r),t.d(r,{default:()=>e});const e={run:function(n){if(n.Canvas.hasFocus()){var o=[];n.getSelectedAll().forEach(function(l){var s=l.parent();if(s){var f=s.components().length,u=0,p=0,d;do u++,p=l.index()+u,d=p<=f?s.getChildAt(p):null;while(d&&!d.get("selectable"));o.push(d||l)}}),o.length&&n.select(o)}}}}),8655:((i,r,t)=>{t.r(r),t.d(r,{default:()=>e});const e={run:function(n){if(n.Canvas.hasFocus()){var o=[];n.getSelectedAll().forEach(function(l){var s=l.parent();if(s){var f=0,u=0,p;do f++,u=l.index()-f,p=u>=0?s.getChildAt(u):null;while(p&&!p.get("selectable"));o.push(p||l)}}),o.length&&n.select(o)}}}}),7640:((i,r,t)=>{t.r(r),t.d(r,{default:()=>n});var e=t(5706);const n={run:function(o,l,s){s===void 0&&(s={});var f=s.target,u=[];if(!f.get("styles"))return u;var p=f.get("type"),d=o.Pages.getAllWrappers(),h=(0,e.flatten)(d.map(function(_){return _.findType(p)})).length;if(!h){var v=o.CssComposer.getAll();u=v.filter(function(_){return _.get("group")==="cmp:".concat(p)}),v.remove(u)}return u}}}),5837:((i,r,t)=>{t.r(r),t.d(r,{default:()=>n});var e=function(o,l,s){if(s||arguments.length===2)for(var f=0,u=l.length,p;f<u;f++)(p||!(f in l))&&(p||(p=Array.prototype.slice.call(l,0,f)),p[f]=l[f]);return o.concat(p||Array.prototype.slice.call(l))};const n={run:function(o){var l=o.getModel(),s=e([],o.getSelectedAll(),!0).map(function(f){var u,p;return((p=(u=f.delegate)===null||u===void 0?void 0:u.copy)===null||p===void 0?void 0:p.call(u,f))||f}).filter(Boolean);s.length&&l.set("clipboard",s)}}}),6477:((i,r,t)=>{t.r(r),t.d(r,{default:()=>n});var e=t(6294);const n={run:function(o,l,s){var f=this;s===void 0&&(s={}),l&&l.set&&l.set("active",0);var u=o.getConfig(),p=o.Modal,d=u.stylePrefix;if(this.cm=o.CodeManager||null,!this.editors){var h=this.buildEditor("htmlmixed","hopscotch","HTML"),v=this.buildEditor("css","hopscotch","CSS");this.htmlEditor=h.model,this.cssEditor=v.model;var _=(0,e.a_)("div",{class:"".concat(d,"export-dl")});_.appendChild(h.el),_.appendChild(v.el),this.editors=_}p.open({title:u.textViewCode,content:this.editors}).getModel().once("change:open",function(){return o.stopCommand("".concat(f.id))}),this.htmlEditor.setContent(o.getHtml(s.optsHtml)),this.cssEditor.setContent(o.getCss(s.optsCss))},stop:function(o){var l=o.Modal;l&&l.close()},buildEditor:function(o,l,s){var f=this.em.CodeManager,u=f.createViewer({label:s,codeName:o,theme:l}),p=new f.EditorView({model:u,config:f.getConfig()}).render().el;return{model:u,el:p}}}}),1772:((i,r,t)=>{t.r(r),t.d(r,{default:()=>n});var e=t(5706);const n={isEnabled:function(){var o=document;return!!(o.fullscreenElement||o.webkitFullscreenElement||o.mozFullScreenElement)},enable:function(o){var l="";return o.requestFullscreen?o.requestFullscreen():o.webkitRequestFullscreen?(l="webkit",o.webkitRequestFullscreen()):o.mozRequestFullScreen?(l="moz",o.mozRequestFullScreen()):o.msRequestFullscreen&&o.msRequestFullscreen(),l},disable:function(){var o=document;this.isEnabled()&&(o.exitFullscreen?o.exitFullscreen():o.webkitExitFullscreen?o.webkitExitFullscreen():o.mozCancelFullScreen?o.mozCancelFullScreen():o.msExitFullscreen&&o.msExitFullscreen())},fsChanged:function(o){this.isEnabled()||(this.stopCommand({sender:this.sender}),document.removeEventListener("".concat(o||"","fullscreenchange"),this.fsChanged))},run:function(o,l,s){s===void 0&&(s={}),this.sender=l;var f=s.target,u=(0,e.isElement)(f)?f:document.querySelector(f),p=this.enable(u||o.getContainer());this.fsChanged=this.fsChanged.bind(this,p),document.addEventListener(p+"fullscreenchange",this.fsChanged)},stop:function(o,l){l&&l.set&&l.set("active",!1),this.disable()}}}),741:((i,r,t)=>{t.r(r),t.d(r,{default:()=>f});var e=t(5706),n=t(7774),o=t(6294),l=t(9317),s=t(1406);const f=(0,e.extend)({},s.default,l.default,{init:function(u){l.default.init.apply(this,arguments),(0,e.bindAll)(this,"initSorter","rollback","onEndMove"),this.opt=u,this.hoverClass=this.ppfx+"highlighter-warning",this.badgeClass=this.ppfx+"badge-warning",this.noSelClass=this.ppfx+"no-select"},enable:function(){for(var u=[],p=0;p<arguments.length;p++)u[p]=arguments[p];l.default.enable.apply(this,u),this.getBadgeEl().addClass(this.badgeClass),this.getHighlighterEl().addClass(this.hoverClass);var d=this.$wrapper;d.css("cursor","move"),d.on("mousedown",this.initSorter),d.addClass(this.noSelClass)},toggleClipboard:function(){},initSorter:function(u){var p=(0,n.default)(u.target).data("model"),d=p.get("draggable");d&&(this.cacheEl=null,this.startSelectPosition(u.target,this.frameEl.contentDocument),this.sorter.draggable=d,this.sorter.eventHandlers.legacyOnEndMove=this.onEndMove.bind(this),this.stopSelectComponent(),this.$wrapper.off("mousedown",this.initSorter),(0,o.on)(this.getContentWindow(),"keydown",this.rollback))},initSorterFromModel:function(u){var p=u.get("draggable");if(p){this.cacheEl=null;var d=u.view.el;this.startSelectPosition(d,this.frameEl.contentDocument),this.sorter.draggable=p,this.sorter.eventHandlers.legacyOnEndMove=this.onEndMoveFromModel.bind(this),this.stopSelectComponent(),(0,o.on)(this.getContentWindow(),"keydown",this.rollback)}},initSorterFromModels:function(u){this.cacheEl=null;var p=u[u.length-1],d=this.em.getCurrentFrame(),h=p.getEl(d?.model),v=h.ownerDocument,_=u.map(function(T){var w;return(w=T?.view)===null||w===void 0?void 0:w.el});this.startSelectPosition(_,v,{onStart:this.onStart}),this.sorter.eventHandlers.legacyOnMoveClb=this.onDrag,this.sorter.eventHandlers.legacyOnEndMove=this.onEndMoveFromModel.bind(this),this.stopSelectComponent(),(0,o.on)(this.getContentWindow(),"keydown",this.rollback)},onEndMoveFromModel:function(){(0,o.AU)(this.getContentWindow(),"keydown",this.rollback)},onEndMove:function(){this.enable(),(0,o.AU)(this.getContentWindow(),"keydown",this.rollback)},onSelect:function(u,p){},rollback:function(u,p){var d=u.which||u.keyCode;(d==27||p)&&this.sorter.cancelDrag()},getBadgeEl:function(){return this.$badge||(this.$badge=(0,n.default)(this.getBadge())),this.$badge},getHighlighterEl:function(){return this.$hl||(this.$hl=(0,n.default)(this.canvas.getHighlighter())),this.$hl},stop:function(){for(var u=[],p=0;p<arguments.length;p++)u[p]=arguments[p];l.default.stop.apply(this,u),this.getBadgeEl().removeClass(this.badgeClass),this.getHighlighterEl().removeClass(this.hoverClass);var d=this.$wrapper;d.css("cursor","").unbind().removeClass(this.noSelClass)}})}),2924:((i,r,t)=>{t.r(r),t.d(r,{default:()=>o});var e=t(5706),n=t(6294);const o={open:function(l){var s=this,f=this,u=f.editor,p=f.title,d=f.config,h=f.am,v=d.custom;if((0,e.isFunction)(v.open))return v.open(h.__customData());var _=u.Modal;_.open({title:p,content:l}).onceClose(function(){return u.stopCommand(s.id)})},close:function(){var l=this.config.custom;if((0,e.isFunction)(l.close))return l.close(this.am.__customData());var s=this.editor.Modal;s&&s.close()},run:function(l,s,f){f===void 0&&(f={});var u=l.AssetManager,p=u.getConfig(),d=f.types,h=d===void 0?[]:d,v=f.accept,_=f.select;if(this.title=f.modalTitle||l.t("assetManager.modalTitle")||"",this.editor=l,this.config=p,this.am=u,u.setTarget(f.target),u.onClick(f.onClick),u.onDblClick(f.onDblClick),u.onSelect(f.onSelect),u.__behaviour({select:_,types:h,options:f}),p.custom)this.rendered=this.rendered||(0,n.a_)("div"),this.rendered.className="".concat(p.stylePrefix,"custom-wrp"),u.__behaviour({container:this.rendered}),u.__trgCustom();else{if(!this.rendered||h){var T=u.getAll().filter(function(C){return C});h&&h.length&&(T=T.filter(function(C){return h.indexOf(C.get("type"))!==-1})),u.render(T),this.rendered=u.getContainer()}if(v){var w=this.rendered.querySelector("input#".concat(p.stylePrefix,"uploadFile"));w&&w.setAttribute("accept",v)}}return this.open(this.rendered),this},stop:function(l){this.editor=l,this.close(this.rendered)}}}),3963:((i,r,t)=>{t.r(r),t.d(r,{default:()=>o});var e=t(5706),n=t(6294);const o={open:function(){var l=this,s=l.container,f=l.editor,u=l.bm,p=l.config,d=p.custom,h=p.appendTo;if((0,e.isFunction)(d.open))return d.open(u.__customData());if(this.firstRender&&!h){var v="views-container",_=f.Panels,T=_.getPanel(v)||_.addPanel({id:v});T.set("appendContent",s).trigger("change:appendContent"),d||s.appendChild(u.render())}s&&(s.style.display="block")},close:function(){var l=this,s=l.container,f=l.config,u=f.custom;if((0,e.isFunction)(u.close))return u.close(this.bm.__customData());s&&(s.style.display="none")},run:function(l){var s=l.Blocks;this.config=s.getConfig(),this.firstRender=!this.container,this.container=this.container||(0,n.a_)("div"),this.editor=l,this.bm=s;var f=this.container;s.__behaviour({container:f}),this.config.custom&&s.__trgCustom(),this.open()},stop:function(){this.close()}}}),1479:((i,r,t)=>{t.r(r),t.d(r,{default:()=>e});const e={run:function(n){var o=n.LayerManager,l=n.Panels,s=o.getConfig();if(!s.appendTo){if(!this.layers){var f="views-container",u=document.createElement("div"),p=l.getPanel(f)||l.addPanel({id:f});s.custom?o.__trgCustom({container:u}):u.appendChild(o.render()),p.set("appendContent",u).trigger("change:appendContent"),this.layers=u}this.layers.style.display="block"}},stop:function(){var n=this.layers;n&&(n.style.display="none")}}}),3473:((i,r,t)=>{t.r(r),t.d(r,{default:()=>n});var e=t(7774);const n={run:function(o,l){if(this.sender=l,!this.$cnt){var s=o.getConfig(),f=o.Panels,u=o.DeviceManager,p=o.SelectorManager,d=o.StyleManager,h="change:appendContent",v=(0,e.default)("<div></div>"),_=(0,e.default)("<div></div>"),T=(0,e.default)("<div></div>"),w=(0,e.default)("<div></div>");if(this.$cnt=v,this.$cntInner=_,_.append(T),_.append(w),v.append(_),u&&s.showDevices){var C=f.addPanel({id:"devices-c"}),A=u.render();C.set("appendContent",A).trigger(h)}var S=p.getConfig();S.custom?p.__trgCustom({container:T.get(0)}):S.appendTo||T.append(p.render([])),this.sm=d;var x=d.getConfig(),N=x.stylePrefix;this.$header=(0,e.default)('<div class="'.concat(N,'header">').concat(o.t("styleManager.empty"),"</div>")),v.append(this.$header),x.custom?d.__trgCustom({container:w.get(0)}):x.appendTo||w.append(d.render());var b="views-container",L=f.getPanel(b)||f.addPanel({id:b});L.set("appendContent",v).trigger(h);var k=o.getModel();this.listenTo(k,d.events.target,this.toggleSm)}this.toggleSm()},toggleSm:function(){var o=this,l=o.sender,s=o.sm,f=o.$cntInner,u=o.$header;l&&l.get&&!l.get("active")||!s||(s.getSelected()?(f?.show(),u?.hide()):(f?.hide(),u?.show()))},stop:function(){var o,l;(o=this.$cntInner)===null||o===void 0||o.hide(),(l=this.$header)===null||l===void 0||l.hide()}}}),5054:((i,r,t)=>{t.r(r),t.d(r,{default:()=>n});var e=t(7774);const n={run:function(o,l){this.sender=l;var s=o.getModel(),f=o.Config,u=f.stylePrefix,p=o.TraitManager,d=p.getConfig(),h;if(!d.appendTo){if(!this.$cn){this.$cn=(0,e.default)("<div></div>"),this.$cn2=(0,e.default)("<div></div>"),this.$cn.append(this.$cn2),this.$header=(0,e.default)("<div>").append('<div class="'.concat(d.stylePrefix,'header">').concat(s.t("traitManager.empty"),"</div>")),this.$cn.append(this.$header),d.custom?p.__trgCustom({container:this.$cn2.get(0)}):(this.$cn2.append('<div class="'.concat(u,'traits-label">').concat(s.t("traitManager.label"),"</div>")),this.$cn2.append(p.render()));var v=o.Panels;v.getPanel("views-container")?h=v.getPanel("views-container"):h=v.addPanel({id:"views-container"}),h?.set("appendContent",this.$cn.get(0)).trigger("change:appendContent"),this.target=o.getModel(),this.listenTo(this.target,"component:toggled",this.toggleTm)}this.toggleTm()}},toggleTm:function(){var o=this.sender;o&&o.get&&!o.get("active")||(this.target.getSelectedAll().length===1?(this.$cn2.show(),this.$header.hide()):(this.$cn2.hide(),this.$header.show()))},stop:function(){this.$cn2&&this.$cn2.hide(),this.$header&&this.$header.hide()}}}),6979:((i,r,t)=>{t.r(r),t.d(r,{default:()=>n});var e=t(5706);const n={run:function(l,s,f){f===void 0&&(f={});var u=l.getModel(),p=u.get("clipboard"),d=l.getSelected();p?.length&&d&&(l.getSelectedAll().forEach(function(h){var v,_,T,w=((_=(v=h.delegate)===null||v===void 0?void 0:v.copy)===null||_===void 0?void 0:_.call(v,h))||h,C=w.collection,A;if(C){var S=w.index()+1,x={at:S,action:f.action||"paste-component"};(0,e.contains)(p,w)&&w.get("copyable")?A=C.add(w.clone(),x):A=o(l,p,w.parent(),x)}else{var N=(T=u.Pages.getSelected())===null||T===void 0?void 0:T.getMainComponent(),x={at:N?.components().length||0,action:f.action||"paste-component"};A=o(l,p,N,x)}A=(0,e.isArray)(A)?A:[A],A.forEach(function(b){return l.trigger("component:paste",b)})}),d.emitUpdate())}};function o(l,s,f,u){var p=s.filter(function(h){return h.get("copyable")}),d=p.filter(function(h){return l.Components.canMove(f,h).result});return f.components().add(d.map(function(h){return h.clone()}),u)}}),4457:((i,r,t)=>{t.r(r),t.d(r,{default:()=>l});var e=t(5706),n=function(s,f,u){if(u||arguments.length===2)for(var p=0,d=f.length,h;p<d;p++)(h||!(p in f))&&(h||(h=Array.prototype.slice.call(f,0,p)),h[p]=f[p]);return s.concat(h||Array.prototype.slice.call(f))},o="core:component-outline";const l={getPanels:function(s){return this.panels||(this.panels=s.Panels.getPanels()),this.panels},preventDrag:function(s){s.abort=1},tglEffects:function(s){var f=this.em,u=s?"on":"off";if(f){var p=f.Canvas,d=p.getBody(),h=p.getToolbarEl();h&&(h.style.display=s?"none":"");var v=d.querySelectorAll(".".concat(this.ppfx,"no-pointer"));(0,e.each)(v,function(_){return _.style.pointerEvents=s?"all":""}),f[u]("run:tlb-move:before",this.preventDrag)}},run:function(s,f){var u=this;this.sender=f,this.selected=n([],s.getSelectedAll(),!0),s.select(),this.shouldRunSwVisibility||(this.shouldRunSwVisibility=s.Commands.isActive(o)),this.shouldRunSwVisibility&&s.stopCommand(o),s.getModel().stopDefault();var p=this.getPanels(s),d=s.Canvas.getElement(),h=s.getEl(),v=s.Config.stylePrefix;if(!this.helper){var _=document.createElement("span");_.className="".concat(v,"off-prv fa fa-eye-slash"),h.appendChild(_),_.onclick=function(){return u.stopCommand()},this.helper=_}this.helper.style.display="inline-block",p.forEach(function(w){return w.set("visible",!1)});var T=d.style;T.width="100%",T.height="100%",T.top="0",T.left="0",T.padding="0",T.margin="0",s.refresh(),this.tglEffects(1)},stop:function(s){var f=this,u=f.sender,p=u===void 0?{}:u,d=f.selected;p.set&&p.set("active",0);var h=this.getPanels(s);this.shouldRunSwVisibility&&(s.runCommand(o),this.shouldRunSwVisibility=!1),s.getModel().runDefault(),h.forEach(function(_){return _.set("visible",!0)});var v=s.Canvas.getElement();v.setAttribute("style",""),d&&s.select(d),delete this.selected,this.helper&&(this.helper.style.display="none"),s.refresh(),this.tglEffects()}}}),5493:((i,r,t)=>{t.r(r),t.d(r,{ConvertUnitsToPx:()=>s,default:()=>f});var e=t(2225),n=t(1166),o=function(){return o=Object.assign||function(u){for(var p,d=1,h=arguments.length;d<h;d++){p=arguments[d];for(var v in p)Object.prototype.hasOwnProperty.call(p,v)&&(u[v]=p[v])}return u},o.apply(this,arguments)},l=function(u,p){var d={};for(var h in u)Object.prototype.hasOwnProperty.call(u,h)&&p.indexOf(h)<0&&(d[h]=u[h]);if(u!=null&&typeof Object.getOwnPropertySymbols=="function")for(var v=0,h=Object.getOwnPropertySymbols(u);v<h.length;v++)p.indexOf(h[v])<0&&Object.prototype.propertyIsEnumerable.call(u,h[v])&&(d[h[v]]=u[h[v]]);return d},s;(function(u){u.pt="pt",u.pc="pc",u.in="in",u.cm="cm",u.mm="mm",u.vw="vw",u.vh="vh",u.vmin="vmin",u.vmax="vmax",u.svw="svw",u.lvw="lvw",u.dvw="dvw",u.svh="svh",u.lvh="lvh",u.dvh="dvh",u.perc="%"})(s||(s={}));const f={run:function(u,p,d){var h=this,v=u.Canvas,_=u.Utils,T=u.em,w=v.getCanvasView(),C=T.config.stylePrefix||"",A="".concat(C,"resizing"),S=d.onStart,x=S===void 0?function(){}:S,N=d.onMove,b=N===void 0?function(){}:N,L=d.onEnd,k=L===void 0?function(){}:L,P=d.updateTarget,D=P===void 0?function(){}:P,R=d.el,M=d.componentView,z=d.component,H=d.skipPositionUpdate,$=l(d,["onStart","onMove","onEnd","updateTarget","el","componentView","component","skipPositionUpdate"]),j=R||M?.el||z.getEl(),rt={component:z,el:j},q,st,vt=function(bt,at,lt){var Et=lt.docs;Et&&Et.forEach(function(yt){var Ot=yt.body,zt=Ot.className||"";Ot.className=(bt=="add"?"".concat(zt," ").concat(A):zt.replace(A,"")).trim()})},St=o(o({appendTo:v.getResizerEl(),prefix:u.getConfig().stylePrefix,posFetcher:w.getElementPos.bind(w),mousePosFetcher:v.getMouseRelativePos.bind(v),docs:[document],updateOnMove:!0,skipUnitAdjustments:!0,onStart:function(bt,at){var lt;x(bt,at);var Et=at.el,yt=at.config,Ot=at.resizer,zt=yt.keyHeight,Bt=yt.keyWidth,Ut=yt.currentUnit,xt=yt.keepAutoHeight,ot=yt.keepAutoWidth;vt("add",bt,at),q=T.Styles.getModelToStyle(z),st=getComputedStyle(Et);var Vt=q.getStyle(),mt=o({},Ot.startDim),Ft=Vt[Bt];yt.autoWidth=ot&&Ft==="auto",isNaN(parseFloat(Ft))&&(Ft=st[Bt]);var Kt=Vt[zt];yt.autoHeight=xt&&Kt==="auto",isNaN(parseFloat(Kt))&&(Kt=st[zt]);var W=parseFloat(Ft),Z=parseFloat(Kt),it=(0,n.getUnitFromValue)(Ft),Ct=(0,n.getUnitFromValue)(Kt);Ut&&(yt.unitWidth=it,yt.unitHeight=Ct);var jt=o(o({},rt),{event:bt,rect:mt,model:q,modelWidth:{value:Ft,property:Bt,number:W,unit:it},modelHeight:{value:Kt,property:zt,number:Z,unit:Ct}});u.trigger(e.I.resizeStart,jt),u.trigger(e.I.resize,o(o({},jt),{type:"start"})),(lt=d.afterStart)===null||lt===void 0||lt.call(d)},onMove:function(bt,at){b(bt,at);var lt=at.resizer,Et=o(o({},rt),{event:bt,delta:lt.delta,pointer:lt.currentPos,rect:lt.rectDim});u.trigger(e.I.resizeStart,Et),u.trigger(e.I.resize,o(o({},Et),{type:"move"}))},onEnd:function(bt,at){var lt;k(bt,at),vt("remove",bt,at);var Et=at.resizer,yt=o(o({},rt),{event:bt,rect:Et.rectDim,moved:Et.moved});u.trigger(e.I.resizeEnd,yt),u.trigger(e.I.resize,o(o({},rt),{type:"end"})),(lt=d.afterEnd)===null||lt===void 0||lt.call(d)},updateTarget:function(bt,at,lt){var Et;if(D(bt,at,lt),!!q){var yt=lt.store,Ot=lt.selectedHandler,zt=lt.config,Bt=lt.resizer,Ut=lt.event,xt=zt.keyHeight,ot=zt.keyWidth,Vt=zt.autoHeight,mt=zt.autoWidth,Ft=zt.unitWidth,Kt=zt.unitHeight,W=["tc","bc"].indexOf(Ot)>=0,Z=["cl","cr"].indexOf(Ot)>=0,it=!yt,Ct={};if(!W){var jt=((Et=v.getBody())===null||Et===void 0?void 0:Et.offsetWidth)||0,ut=at.w<jt?at.w:jt;Ct[ot]=mt?"auto":h.convertPxToUnit({el:j,elComputedStyle:st,valuePx:ut,unit:Ft})}Z||(Ct[xt]=Vt?"auto":h.convertPxToUnit({el:j,elComputedStyle:st,valuePx:at.h,unit:Kt,isHeight:!0})),!H&&T.getDragMode(z)&&(Ct.top="".concat(at.t,"px"),Ct.left="".concat(at.l,"px"));var Dt=!1,At=function(Ce){Dt=!0;var de=o(o({},Ce||Ct),{__p:it});q.addStyle(de,{avoidStore:it}),T.Styles.__emitCmpStyleUpdate(de,{components:z})},ee=o(o({},rt),{rect:at,partial:it,event:Ut,style:Ct,updateStyle:At,convertPxToUnit:function(Ce){return h.convertPxToUnit(o({el:j,elComputedStyle:st},Ce))},delta:Bt.delta,pointer:Bt.currentPos});u.trigger(e.I.resizeUpdate,ee),!Dt&&At()}}},$),d.options),pt=this.canvasResizer;return pt||(this.canvasResizer=new _.Resizer(St),pt=this.canvasResizer),pt.setOptions(St,!0),pt.blur(),pt.focus(j),pt},stop:function(){var u;(u=this.canvasResizer)===null||u===void 0||u.blur()},convertPxToUnit:function(u){var p=u.el,d=u.valuePx,h=u.unit,v=u.dpi,_=v===void 0?96:v,T=u.roundDecimals,w=T===void 0?3:T,C=u.isHeight,A=u.elComputedStyle,S=p.ownerDocument.defaultView,x=S?.innerWidth||1,N=window.innerHeight||1,b=d,L=h;switch(h){case s.pt:b=d*(72/_);break;case s.pc:b=d*(6/_);break;case s.in:b=d/_;break;case s.cm:b=d/(_/2.54);break;case s.mm:b=d/(_/25.4);break;case s.vw:b=d/x*100;break;case s.vh:b=d/N*100;break;case s.vmin:{var k=Math.min(x,N);b=d/k*100;break}case s.vmax:{var P=Math.max(x,N);b=d/P*100;break}case s.perc:{var D=p.parentElement,R=p.offsetParent,M=A?.position==="absolute"?R:D,z=M?.offsetWidth||1,H=M?.offsetHeight||1,$=C?H:z;b=d/$*100;break}case s.svw:case s.lvw:case s.dvw:b=d/x*100;break;case s.svh:case s.lvh:case s.dvh:b=d/N*100;break;default:L="px"}return"".concat(+b.toFixed(w)).concat(L)}}}),9317:((i,r,t)=>{t.r(r),t.d(r,{default:()=>P});var e=t(5706),n=t(179),o=t(9156),l=(function(){var D=function(R,M){return D=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(z,H){z.__proto__=H}||function(z,H){for(var $ in H)Object.prototype.hasOwnProperty.call(H,$)&&(z[$]=H[$])},D(R,M)};return function(R,M){if(typeof M!="function"&&M!==null)throw new TypeError("Class extends value "+String(M)+" is not a constructor or null");D(R,M);function z(){this.constructor=R}R.prototype=M===null?Object.create(M):(z.prototype=M.prototype,new z)}})(),s=(function(D){l(R,D);function R(){return D!==null&&D.apply(this,arguments)||this}return R.prototype.defaults=function(){return{command:"",attributes:{}}},R})(o.Kx);const f=s;var u=(function(){var D=function(R,M){return D=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(z,H){z.__proto__=H}||function(z,H){for(var $ in H)Object.prototype.hasOwnProperty.call(H,$)&&(z[$]=H[$])},D(R,M)};return function(R,M){if(typeof M!="function"&&M!==null)throw new TypeError("Class extends value "+String(M)+" is not a constructor or null");D(R,M);function z(){this.constructor=R}R.prototype=M===null?Object.create(M):(z.prototype=M.prototype,new z)}})(),p=(function(D){u(R,D);function R(){return D!==null&&D.apply(this,arguments)||this}return R})(o.pM);const d=p;p.prototype.model=f;var h=t(2225),v=t(8242),_=(function(){var D=function(R,M){return D=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(z,H){z.__proto__=H}||function(z,H){for(var $ in H)Object.prototype.hasOwnProperty.call(H,$)&&(z[$]=H[$])},D(R,M)};return function(R,M){if(typeof M!="function"&&M!==null)throw new TypeError("Class extends value "+String(M)+" is not a constructor or null");D(R,M);function z(){this.constructor=R}R.prototype=M===null?Object.create(M):(z.prototype=M.prototype,new z)}})(),T=function(){return T=Object.assign||function(D){for(var R,M=1,z=arguments.length;M<z;M++){R=arguments[M];for(var H in R)Object.prototype.hasOwnProperty.call(R,H)&&(D[H]=R[H])}return D},T.apply(this,arguments)},w=(function(D){_(R,D);function R(M){var z=D.call(this,M)||this;return z.em=M.config.em,z}return R.prototype.events=function(){return this.model.get("events")||{mousedown:"handleClick"}},R.prototype.attributes=function(){return this.model.get("attributes")},R.prototype.handleClick=function(M){M.preventDefault(),M.stopPropagation();var z=this.em,H=z.Canvas.getFrameEl().getBoundingClientRect(),$=H.left,j=H.top,rt=T(T({},M),{clientX:M.clientX-$,clientY:M.clientY-j});z.trigger("toolbar:run:before",{event:rt}),this.execCommand(rt)},R.prototype.execCommand=function(M){var z=this,H=z.em,$=z.model,j={event:M},rt=$.get("command"),q=H.Editor;(0,e.isFunction)(rt)&&rt(q,null,j),(0,e.isString)(rt)&&q.runCommand(rt,j)},R.prototype.render=function(){var M=this,z=M.em,H=M.$el,$=M.model,j=$.get("id"),rt=$.get("label"),q=z.getConfig().stylePrefix;return H.addClass("".concat(q,"toolbar-item")),j&&H.addClass("".concat(q,"toolbar-item__").concat(j)),rt&&H.append(rt),this},R})(o.Ss);const C=w;var A=(function(){var D=function(R,M){return D=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(z,H){z.__proto__=H}||function(z,H){for(var $ in H)Object.prototype.hasOwnProperty.call(H,$)&&(z[$]=H[$])},D(R,M)};return function(R,M){if(typeof M!="function"&&M!==null)throw new TypeError("Class extends value "+String(M)+" is not a constructor or null");D(R,M);function z(){this.constructor=R}R.prototype=M===null?Object.create(M):(z.prototype=M.prototype,new z)}})(),S=(function(D){A(R,D);function R(M){var z=D.call(this,M)||this,H=M.em;return z.em=H,z.config={em:H},z.listenTo(z.collection,"reset",z.render),z}return R.prototype.onRender=function(){var M=this.em.config.stylePrefix;this.el.className="".concat(M,"toolbar-items")},R})(v.A);const x=S;S.prototype.itemView=C;var N=t(6294),b=t(1166),L=function(){return L=Object.assign||function(D){for(var R,M=1,z=arguments.length;M<z;M++){R=arguments[M];for(var H in R)Object.prototype.hasOwnProperty.call(R,H)&&(D[H]=R[H])}return D},L.apply(this,arguments)},k;const P={activeResizer:!1,init:function(){this.onSelect=(0,e.debounce)(this.onSelect,0),(0,e.bindAll)(this,"onHover","onOut","onClick","onCanvasScroll","onFrameScroll","onFrameResize","onFrameUpdated","onContainerChange")},enable:function(){this.frameOff=this.canvasOff=this.adjScroll=null,this.startSelectComponent(),k=!0},startSelectComponent:function(){this.toggleSelectComponent(1),this.em.getSelected()&&this.onSelect()},stopSelectComponent:function(){this.toggleSelectComponent()},toggleSelectComponent:function(D){var R=this,M=this,z=M.em,H=M.canvas,$=H.getCanvasView().el,j=z.getConfig().listenToEl,rt=z.getContainer().parentNode,q=D?"on":"off",st={on:N.on,off:N.AU},vt=h.I.update;!j.length&&rt&&j.push(rt);var St=function(pt,bt,at){st[q](at,"scroll",R.onCanvasScroll,!0),st[q](bt,"mouseover",R.onHover),st[q](bt,"mouseleave",R.onOut),st[q](bt,"click",R.onClick),st[q](pt,"scroll",R.onFrameScroll,!0),st[q](pt,"resize",R.onFrameResize)};st[q](window,"resize",this.onFrameUpdated),st[q](j,"scroll",this.onContainerChange),z[q]("component:toggled ".concat(vt," undo redo"),this.onSelect,this),z[q]("change:componentHovered",this.onHovered,this),z[q]("".concat(h.I.resize," styleable:change ").concat(h.I.input),this.updateGlobalPos,this),z[q]("".concat(vt,":toolbar"),this._upToolbar,this),z[q]("frame:updated",this.onFrameUpdated,this),z[q]("canvas:updateTools",this.onFrameUpdated,this),z[q](z.Canvas.events.refresh,this.updateAttached,this),z.Canvas.getFrames().forEach(function(pt){var bt=pt.view,at=bt?.getWindow();at&&St(at,bt?.getBody(),$)})},onHover:function(D){D.stopPropagation();var R=this.em,M=D.target,z=(0,b.getComponentView)(M),H=z?.frameView,$=z?.model;if(!$)for(var j=M.parentNode;!$&&j&&!(0,N.ZQ)(j);)$=(0,b.getComponentModel)(j),j=j.parentNode;this.currentDoc=M.ownerDocument,R.setHovered($,{useValid:!0}),H&&R.setCurrentFrame(H)},onFrameUpdated:function(){this.updateLocalPos(),this.updateGlobalPos()},onHovered:function(D,R){var M=this,z,H={};R?(z=R.views)===null||z===void 0||z.forEach(function($){var j=$.el,rt=M.getElementPos(j);H={el:j,pos:rt,component:R,view:$},j.ownerDocument===M.currentDoc&&(M.elHovered=H),M.updateToolsLocal(H)}):(this.currentDoc=null,this.elHovered=0,this.updateToolsLocal(),this.canvas.getFrames().forEach(function($){var j=$.view,rt=j&&j.getToolsEl();rt&&M.toggleToolsEl(0,0,{el:rt})}))},onSelect:function(){var D=this.em,R=D.getSelected(),M=D.getCurrentFrame(),z=R&&R.getView(M?.model),H=z?.el,$={};if(H&&(0,N.zN)(H)){var j=this.getElementPos(H);$={el:H,pos:j,component:R,view:z}}this.elSelected=$,this.updateToolsGlobal(),this.updateLocalPos($),this.initResize(R)},updateGlobalPos:function(){var D=this.getElSelected();D.el&&(D.pos=this.getElementPos(D.el),this.updateToolsGlobal())},updateLocalPos:function(D){var R=this.getElHovered();R.el&&(R.pos=this.getElementPos(R.el),this.updateToolsLocal(D))},getElHovered:function(){return this.elHovered||{}},getElSelected:function(){return this.elSelected||{}},onOut:function(){this.em.setHovered()},toggleToolsEl:function(D,R,M){M===void 0&&(M={});var z=M.el||this.canvas.getToolsEl(R);return z&&(z.style.display=D?"":"none"),z||{}},showElementOffset:function(D,R,M){M===void 0&&(M={}),k&&this.editor.runCommand("show-offset",{el:D,elPos:R,view:M.view,force:1,top:0,left:0})},hideElementOffset:function(D){this.editor.stopCommand("show-offset",{view:D})},showFixedElementOffset:function(D,R){this.editor.runCommand("show-offset",{el:D,elPos:R,state:"Fixed"})},hideFixedElementOffset:function(){this.editor&&this.editor.stopCommand("show-offset",{state:"Fixed"})},hideHighlighter:function(D){this.canvas.getHighlighter(D).style.opacity=0},onClick:function(D){D.stopPropagation(),D.preventDefault();var R=this.em;if(R.get("_cmpDrag"))return R.set("_cmpDrag");var M=D.target,z=(0,b.getComponentModel)(M);if(!z)for(var H=M.parentNode;!z&&H&&!(0,N.ZQ)(H);)z=(0,b.getComponentModel)(H),H=H.parentNode;if(z){if(R.isEditing()&&(!z.get("textable")&&z.isChildOf("text")||R.getEditing()!==z))return;this.select(z,D)}},select:function(D,R){if(D){var M=this.em;M.setSelected(D,{event:R,useValid:!0}),this.initResize(M.getSelected())}},updateBadge:function(D,R,M){M===void 0&&(M={});var z=this.canvas,H=(0,b.getComponentModel)(D),$=this.getBadge(M),j=$.style;if(!H||!H.get("badgable")){j.display="none";return}if(!M.posOnly){var rt=this.canvas.getConfig(),q=H.getIcon(),st=rt.pStylePrefix||"",vt="".concat(st,"badge"),St=rt.customBadgeLabel,pt="".concat(q?'<div class="'.concat(vt,'__icon">').concat(q,"</div>"):"",`
        <div class="`).concat(vt,'__name">').concat(H.getName(),"</div>");$.innerHTML=St?St(H):pt}var bt="px";j.display="block";var at=z.getTargetToElementFixed(D,$,{pos:R}),lt=at.top,Et=M.leftOff<0?-M.leftOff:0;j.top=lt+bt,j.left=Et+bt},showHighlighter:function(D){this.canvas.getHighlighter(D).style.opacity=""},initResize:function(D){var R=this,M,z=this,H=z.em,$=z.canvas,j=H.Editor,rt=!(0,e.isElement)(D)&&(0,N.GW)(D)?D:H.getSelected(),q=(M=rt?.get)===null||M===void 0?void 0:M.call(rt,"resizable"),st=n.F.Resize,vt=$.hasCustomSpot(st);$.removeSpots({type:st});var St={component:rt,hasCustomResize:vt,resizable:q};rt&&H.trigger(h.I.resizeInit,St);var pt=St.resizable;if(rt&&pt){$.addSpot({type:st,component:rt});var bt=(0,e.isElement)(D)?D:rt.getEl(),at=(0,b.isObject)(pt)?pt:{};if(vt||!bt||this.activeResizer)return;this.resizer=j.runCommand("resize",L(L({},at),{el:bt,component:rt,force:!0,afterStart:function(){k=!1,R.activeResizer=!0},afterEnd:function(){k=!0,R.activeResizer=!1}}))}else{if(vt)return;j.stopCommand("resize"),this.resizer=null}},updateToolbar:function(D){var R=this.canvas,M=this.config.em,z=D===M?M.getSelected():D,H=R.getToolbarEl(),$=H.style,j=z.get("toolbar"),rt=M.config.showToolbar,q=!R.hasCustomSpot(n.F.Select);if(z&&rt&&j&&j.length&&q){if($.display="",!this.toolbar){H.innerHTML="",this.toolbar=new d(j);var st=new x({collection:this.toolbar,em:M});H.appendChild(st.render().el)}this.toolbar.reset(j),$.top="-100px",$.left="0"}else $.display="none"},updateToolbarPos:function(D){var R="px",M=this.canvas.getToolbarEl().style;M.top="".concat(D.top).concat(R),M.left="".concat(D.left).concat(R),M.opacity=""},getCanvasPosition:function(){return this.canvas.getCanvasView().getPosition()},getBadge:function(D){return D===void 0&&(D={}),this.canvas.getBadgeEl(D.view)},onCanvasScroll:function(D){this.onFrameScroll(D),this.onContainerChange()},onFrameScroll:function(){this.updateTools(),this.canvas.refreshSpots()},onFrameResize:function(){this.canvas.refresh({all:!0})},updateTools:function(){this.updateLocalPos(),this.updateGlobalPos()},isCompSelected:function(D){return D&&D.get("status")==="selected"},updateToolsLocal:function(D){var R=this.em.getConfig(),M=D||this.getElHovered(),z=M.el,H=M.pos,$=M.view,j=M.component;if(!z){this.lastHovered=0;return}var rt=j.get("hoverable"),q=this.lastHovered!==z,st=q?{}:{posOnly:1},vt=this.canvas.hasCustomSpot(n.F.Hover);q&&rt&&(this.lastHovered=z,vt?this.hideHighlighter($):this.showHighlighter($),this.showElementOffset(z,H,{view:$})),this.isCompSelected(j)&&(this.hideHighlighter($),!R.showOffsetsSelected&&this.hideElementOffset($));var St="px",pt=this.toggleToolsEl(1,$),bt=pt.style,at=this.canvas.canvasRectOffset(z,H),lt=at.top,Et=at.left;!vt&&this.updateBadge(z,H,L(L({},st),{view:$,topOff:lt,leftOff:Et})),bt.top=lt+St,bt.left=Et+St,bt.width=H.width+St,bt.height=H.height+St,this._trgToolUp("local",{component:j,el:pt,top:lt,left:Et,width:H.width,height:H.height})},_upToolbar:(0,e.debounce)(function(){this.updateToolsGlobal({force:1})},0),_trgToolUp:function(D,R){R===void 0&&(R={}),this.em.trigger("canvas:tools:update",L({type:D},R))},updateToolsGlobal:function(D){D===void 0&&(D={});var R=this.getElSelected(),M=R.el,z=R.pos,H=R.component;if(!M){this.toggleToolsEl(),this.lastSelected=0;return}var $=this.canvas,j=this.lastSelected!==M;(j||D.force)&&(this.lastSelected=M,this.updateToolbar(H));var rt="px",q=this.toggleToolsEl(1),st=q.style,vt=$.getTargetToElementFixed(M,$.getToolbarEl(),{pos:z}),St=vt.canvasOffsetTop,pt=vt.canvasOffsetLeft;st.top=St+rt,st.left=pt+rt,st.width=z.width+rt,st.height=z.height+rt,this.updateToolbarPos({top:vt.top,left:vt.left}),this._trgToolUp("global",{component:H,el:q,top:St,left:pt,width:z.width,height:z.height})},updateAttached:(0,e.debounce)(function(){this.updateGlobalPos()},0),onContainerChange:(0,e.debounce)(function(){this.em.refreshCanvas()},150),getElementPos:function(D){return this.canvas.getCanvasView().getElementPos(D,{noScroll:!0})},hideBadge:function(){this.getBadge().style.display="none"},cleanPrevious:function(D){D&&D.set({status:"",state:""})},getContentWindow:function(){return this.canvas.getWindow()},run:function(D){(0,b.hasWin)()&&(this.editor=D&&D.get("Editor"),this.enable())},stop:function(D,R,M){if(M===void 0&&(M={}),!!(0,b.hasWin)()){var z=this,H=z.em,$=z.editor;this.onHovered(),this.stopSelectComponent(),!M.preserveSelected&&H.setSelected(),this.toggleToolsEl(),this.updateAttached.cancel(),$&&$.stopCommand("resize")}}}}),1406:((i,r,t)=>{t.r(r),t.d(r,{default:()=>l});var e=t(7774),n=t(1447),o=t(8433);const l={startSelectPosition:function(s,f,u){u===void 0&&(u={}),this.isPointed=!1;var p=this.em.Utils,d=s[0].ownerDocument.body;p&&(this.sorter=new p.ComponentSorter({em:this.em,treeClass:n.A,containerContext:{container:d,containerSel:"*",itemSel:"*",pfx:this.ppfx,document:f,placeholderElement:this.canvas.getPlacerEl()},positionOptions:{windowMargin:1,canvasRelative:!0},dragBehavior:{dragDirection:o.A.BothDirections,nested:!0}})),u.onStart&&(this.sorter.eventHandlers.legacyOnStartSort=u.onStart),s&&s.length>0&&this.sorter.startSort(s.map(function(h){return{element:h}}))},getOffsetDim:function(){var s=this.offset(this.canvas.getFrameEl()),f=this.offset(this.canvas.getElement()),u=s.top-f.top,p=s.left-f.left;return{top:u,left:p}},stopSelectPosition:function(){this.posTargetCollection=null,this.posIndex=this.posMethod=="after"&&this.cDim.length!==0?this.posIndex+1:this.posIndex,this.sorter&&this.sorter.cancelDrag(),this.cDim&&(this.posIsLastEl=this.cDim.length!==0&&this.posMethod=="after"&&this.posIndex==this.cDim.length,this.posTargetEl=this.cDim.length===0?(0,e.default)(this.outsideElem):!this.posIsLastEl&&this.cDim[this.posIndex]?(0,e.default)(this.cDim[this.posIndex][5]).parent():(0,e.default)(this.outsideElem),this.posTargetModel=this.posTargetEl.data("model"),this.posTargetCollection=this.posTargetEl.data("model-comp"))},enable:function(){this.startSelectPosition()},nearFloat:function(s,f,u){var p=s||0,d=f||"before",h=u.length,v=h!==0&&d=="after"&&p==h;return h!==0&&(!v&&!u[p][4]||u[p-1]&&!u[p-1][4]||v&&!u[p-1][4])?1:0},run:function(){this.enable()},stop:function(){this.stopSelectPosition(),this.$wrapper.css("cursor",""),this.$wrapper.unbind()}}}),9395:((i,r,t)=>{t.r(r),t.d(r,{default:()=>s});var e=t(5706),n=t(179),o=t(7774),l=function(){return l=Object.assign||function(f){for(var u,p=1,d=arguments.length;p<d;p++){u=arguments[p];for(var h in u)Object.prototype.hasOwnProperty.call(u,h)&&(f[h]=u[h])}return f},l.apply(this,arguments)};const s={getOffsetMethod:function(f){var u=f||"";return"get"+u+"OffsetViewerEl"},run:function(f,u,p){var d=this.canvas,h=p||{},v=h.state||"",_=f.getConfig(),T=this.em.getZoomDecimal(),w=h.el;if(!_.showOffsets||!(w instanceof HTMLElement)||!_.showOffsetsSelected&&v=="Fixed"){f.stopCommand("".concat(this.id),p);return}if(!d.hasCustomSpot(n.F.Spacing)){var C=l({},h.elPos||d.getElementPos(w));(0,e.isUndefined)(h.top)||(C.top=h.top),(0,e.isUndefined)(h.left)||(C.left=h.left);var A=window.getComputedStyle(w),S=this.ppfx,x=v+"State",N=this.getOffsetMethod(v),b=d[N](p.view);b.style.opacity="";var L=this["marginT"+v],k=this["marginB"+v],P=this["marginL"+v],D=this["marginR"+v],R=this["padT"+v],M=this["padB"+v],z=this["padL"+v],H=this["padR"+v];if(b.childNodes.length&&(this[x]="1",L=b.querySelector("[data-offset-m-t]"),k=b.querySelector("[data-offset-m-b]"),P=b.querySelector("[data-offset-m-l]"),D=b.querySelector("[data-offset-m-r]"),R=b.querySelector("[data-offset-p-t]"),M=b.querySelector("[data-offset-p-b]"),z=b.querySelector("[data-offset-p-l]"),H=b.querySelector("[data-offset-p-r]")),!this[x]){var $=v.toLowerCase(),j=$+"margin-v",rt=$+"padding-v",q=(0,o.default)('<div class="'.concat(S,'marginName">')).get(0),st=(0,o.default)('<div class="'.concat(S,'paddingName">')).get(0),vt=S+j+"-el",St=S+rt+"-el",pt="".concat(vt," ").concat(S+j),bt="".concat(St," ").concat(S+rt);L=(0,o.default)('<div class="'.concat(pt,'-top"></div>')).get(0),k=(0,o.default)('<div class="'.concat(pt,'-bottom"></div>')).get(0),P=(0,o.default)('<div class="'.concat(pt,'-left"></div>')).get(0),D=(0,o.default)('<div class="'.concat(pt,'-right"></div>')).get(0),R=(0,o.default)('<div class="'.concat(bt,'-top"></div>')).get(0),M=(0,o.default)('<div class="'.concat(bt,'-bottom"></div>')).get(0),z=(0,o.default)('<div class="'.concat(bt,'-left"></div>')).get(0),H=(0,o.default)('<div class="'.concat(bt,'-right"></div>')).get(0),this["marginT"+v]=L,this["marginB"+v]=k,this["marginL"+v]=P,this["marginR"+v]=D,this["padT"+v]=R,this["padB"+v]=M,this["padL"+v]=z,this["padR"+v]=H,q.appendChild(L),q.appendChild(k),q.appendChild(P),q.appendChild(D),st.appendChild(R),st.appendChild(M),st.appendChild(z),st.appendChild(H),b.appendChild(q),b.appendChild(st),this[x]="1"}var at="px",lt=parseFloat(A.marginLeft.replace(at,""))*T,Et=parseFloat(A.marginRight.replace(at,""))*T,yt=parseFloat(A.marginTop.replace(at,""))*T,Ot=parseFloat(A.marginBottom.replace(at,""))*T,zt=L.style,Bt=k.style,Ut=P.style,xt=D.style,ot=R.style,Vt=M.style,mt=z.style,Ft=H.style,Kt=parseFloat(C.left),W=parseFloat(A.width)*T+at;zt.height=yt+at,zt.width=W,zt.top=C.top-yt+at,zt.left=Kt+at,Bt.height=Ot+at,Bt.width=W,Bt.top=C.top+C.height+at,Bt.left=Kt+at;var Z=C.height+yt+Ot+at,it=C.top-yt+at;Ut.height=Z,Ut.width=lt+at,Ut.top=it,Ut.left=Kt-lt+at,xt.height=Z,xt.width=Et+at,xt.top=it,xt.left=Kt+C.width+at;var Ct=parseFloat(A.paddingTop)*T;ot.height=Ct+at;var jt=parseFloat(A.paddingBottom)*T;Vt.height=jt+at;var ut=C.height-jt-Ct+at,Dt=C.top+Ct+at;mt.height=ut,mt.width=parseFloat(A.paddingLeft)*T+at,mt.top=Dt;var At=parseFloat(A.paddingRight)*T;Ft.height=ut,Ft.width=At+at,Ft.top=Dt}},stop:function(f,u,p){p===void 0&&(p={});var d=p||{},h=d.state||"",v=this.getOffsetMethod(h),_=p.view,T=this.canvas,w=T[v](_);w.style.opacity=0}}}),7285:((i,r,t)=>{t.r(r),t.d(r,{default:()=>o});var e=t(5706),n=t(1166);const o={init:function(){(0,e.bindAll)(this,"_onFramesChange")},run:function(l){this.toggleVis(l,!0)},stop:function(l){this.toggleVis(l,!1)},toggleVis:function(l,s){if(s===void 0&&(s=!0),!l.Commands.isActive("preview")){var f=l.Canvas,u=s?"on":"off",p=f.getModel();p[u]("change:frames",this._onFramesChange),this.handleFrames(f.getFrames(),s)}},handleFrames:function(l,s){var f=this;l.forEach(function(u){var p;!((p=u.view)===null||p===void 0)&&p.loaded&&f._upFrame(u,s),u.__ol||(u.on("loaded",function(){return f._upFrame(u)}),u.__ol=!0)})},_onFramesChange:function(l,s){this.handleFrames(s)},_upFrame:function(l,s){var f,u=this,p=u.ppfx,d=u.em,h=u.id,v=(0,n.isDef)(s)?s:d.Commands.isActive(h),_=v?"add":"remove",T="".concat(p,"dashed");(f=l.view)===null||f===void 0||f.getBody().classList[_](T)}}}),9156:((i,r,t)=>{t.d(r,{Kx:()=>f,Ss:()=>p,e2:()=>s,lK:()=>h,pM:()=>u,x2:()=>d});var e=t(4193),n=t.n(e),o=(function(){var v=function(_,T){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(w,C){w.__proto__=C}||function(w,C){for(var A in C)Object.prototype.hasOwnProperty.call(C,A)&&(w[A]=C[A])},v(_,T)};return function(_,T){if(typeof T!="function"&&T!==null)throw new TypeError("Class extends value "+String(T)+" is not a constructor or null");v(_,T);function w(){this.constructor=_}_.prototype=T===null?Object.create(T):(w.prototype=T.prototype,new w)}})(),l=function(){return l=Object.assign||function(v){for(var _,T=1,w=arguments.length;T<w;T++){_=arguments[T];for(var C in _)Object.prototype.hasOwnProperty.call(_,C)&&(v[C]=_[C])}return v},l.apply(this,arguments)},s="add remove reset change",f=(function(v){o(_,v);function _(){return v!==null&&v.apply(this,arguments)||this}return _})(n().Model),u=(function(v){o(_,v);function _(){return v!==null&&v.apply(this,arguments)||this}return _})(n().Collection),p=(function(v){o(_,v);function _(){return v!==null&&v.apply(this,arguments)||this}return _})(n().View),d;(function(v){v.Screen="screen",v.World="world"})(d||(d={}));var h={x:0,y:0};l(l({},h),{width:0,height:0})}),2225:((i,r,t)=>{t.d(r,{I:()=>n,t:()=>e});var e;(function(o){o.remove="component:remove",o.add="component:add",o.move="component:move"})(e||(e={}));var n;(function(o){o.add="component:add",o.remove="component:remove",o.removeBefore="component:remove:before",o.removed="component:removed",o.create="component:create",o.update="component:update",o.updateInside="component:update-inside",o.styleUpdate="component:styleUpdate",o.styleUpdateProperty="component:styleUpdate:",o.select="component:select",o.selectBefore="component:select:before",o.mount="component:mount",o.scriptMount="component:script:mount",o.scriptMountBefore="component:script:mount:before",o.scriptUnmount="component:script:unmount",o.render="component:render",o.input="component:input",o.resize="component:resize",o.resizeStart="component:resize:start",o.resizeMove="component:resize:move",o.resizeEnd="component:resize:end",o.resizeUpdate="component:resize:update",o.resizeInit="component:resize:init",o.symbolMainAdd="symbol:main:add",o.symbolMainUpdate="symbol:main:update",o.symbolMainUpdateDeep="symbol:main:update-deep",o.symbolMainRemove="symbol:main:remove",o.symbolMain="symbol:main",o.symbolInstanceAdd="symbol:instance:add",o.symbolInstanceRemove="symbol:instance:remove",o.symbolInstance="symbol:instance",o.symbol="symbol"})(n||(n={}))}),8242:((i,r,t)=>{t.d(r,{A:()=>s});var e=t(5706),n=t(9156),o=(function(){var f=function(u,p){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,h){d.__proto__=h}||function(d,h){for(var v in h)Object.prototype.hasOwnProperty.call(h,v)&&(d[v]=h[v])},f(u,p)};return function(u,p){if(typeof p!="function"&&p!==null)throw new TypeError("Class extends value "+String(p)+" is not a constructor or null");f(u,p);function d(){this.constructor=u}u.prototype=p===null?Object.create(p):(d.prototype=p.prototype,new d)}})(),l=(function(f){o(u,f);function u(p,d,h){p===void 0&&(p={}),h===void 0&&(h=!1);var v=f.call(this,p)||this;return v.itemsView="",v.itemType="type",v.reuseView=!1,v.config=d||p.config||{},h&&v.listenTo(v.collection,"add",v.addTo),v.items=[],v}return u.prototype.addTo=function(p){this.add(p)},u.prototype.itemViewNotFound=function(p){var d=this,h=d.config,v=d.ns,_=h.em,T="".concat(v?"[".concat(v,"]: "):"","'").concat(p,"' type not found");_&&_.logWarning(T)},u.prototype.add=function(p,d){var h=this,v=h.config,_=h.reuseView,T=h.items,w=this.itemsView||{},C=["button","checkbox","color","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"],A=d||null,S=this.itemView,x=p.get(this.itemType),N;w[x]?S=w[x]:x&&!w[x]&&!(0,e.includes)(C,x)&&this.itemViewNotFound(x),p.view&&_?N=p.view:N=new S({model:p,config:v},v),T&&T.push(N);var b=N.render().el;A?A.appendChild(b):this.$el.append(b)},u.prototype.render=function(){var p=document.createDocumentFragment();return this.clearItems(),this.$el.empty(),this.collection.length&&this.collection.each(function(d){this.add(d,p)},this),this.$el.append(p),this.onRender(),this},u.prototype.onRender=function(){},u.prototype.onRemoveBefore=function(p,d){},u.prototype.onRemove=function(p,d){},u.prototype.remove=function(p){p===void 0&&(p={});var d=this.items;return this.onRemoveBefore(d,p),this.clearItems(),f.prototype.remove.call(this),this.onRemove(d,p),this},u.prototype.clearItems=function(){this.items},u})(n.Ss);const s=l;l.prototype.itemView=""}),9966:((i,r,t)=>{t.d(r,{A:()=>u});var e=t(5706),n=t(6294),o=function(){return o=Object.assign||function(p){for(var d,h=1,v=arguments.length;h<v;h++){d=arguments[h];for(var _ in d)Object.prototype.hasOwnProperty.call(d,_)&&(p[_]=d[_])}return p},o.apply(this,arguments)},l=function(){return{x:0,y:0}},s=["x","y"],f=(function(){function p(d){return d===void 0&&(d={}),this.opts={snapGuides:{x:5,y:5},snapOffset:5,scale:1},(0,e.bindAll)(this,"drag","stop","keyHandle","handleScroll"),this.setOptions(d),this.delta=l(),this.lastScroll=l(),this.lastScrollDiff=l(),this.startPointer=l(),this.startPosition=l(),this.globScrollDiff=l(),this.currentPointer=l(),this.position=l(),this.guidesStatic=[],this.guidesTarget=[],this.docs=[],this}return p.prototype.setOptions=function(d){d===void 0&&(d={}),this.opts=o(o({},this.opts),d)},p.prototype.toggleDrag=function(d){var h=this.getDocumentEl(),v=this.getContainerEl(),_=this.getWindowEl(),T=d?"on":"off",w={on:n.on,off:n.AU};w[T](v,"mousemove dragover",this.drag),w[T](h,"mouseup dragend touchend",this.stop),w[T](h,"keydown",this.keyHandle),w[T](_,"scroll",this.handleScroll)},p.prototype.handleScroll=function(){var d=this,h=d.lastScroll,v=d.delta,_=this.getScrollInfo(),T={x:_.x-h.x,y:_.y-h.y};this.move(v.x+T.x,v.y+T.y),this.lastScrollDiff=T},p.prototype.start=function(d){var h=this.opts,v=h.onStart;this.toggleDrag(!0),this.startPointer=this.getPointerPos(d),this.guidesStatic=(0,e.result)(h,"guidesStatic")||[],this.guidesTarget=(0,e.result)(h,"guidesTarget")||[],(0,e.isFunction)(v)&&v(d,this),this.startPosition=this.getStartPosition(),this.lastScrollDiff=l(),this.globScrollDiff=l(),this.drag(d)},p.prototype.drag=function(d){var h=this,v=this,_=v.opts,T=v.lastScrollDiff,w=v.globScrollDiff,C=_.onDrag,A=this.startPointer,S=this.getPointerPos(d),x={x:w.x+T.x,y:w.y+T.y};this.globScrollDiff=x;var N={x:S.x-A.x+x.x,y:S.y-A.y+x.y};this.lastScrollDiff=l();var b=function(M){s.forEach(function(z){return M[z]=M[z]*(0,e.result)(_,"scale")}),h.delta=M,h.move(M.x,M.y),(0,e.isFunction)(C)&&C(d,h)},L=o({},N);if(this.currentPointer=S,this.lastScroll=this.getScrollInfo(),b(N),this.guidesTarget.length){var k=this.snapGuides(L),P=k.newDelta,D=k.trgX,R=k.trgY;(D||R)&&b(P)}d.which===0&&this.stop(d)},p.prototype.snapGuides=function(d){var h=this,v=o({},d),_=this,T=_.trgX,w=_.trgY;return this.guidesTarget.forEach(function(C){C.x&&h.trgX||C.y&&h.trgY||(C.active=!1,h.guidesStatic.forEach(function(A){if(!(C.y&&A.x||C.x&&A.y)){var S=C.y&&A.y,x=S?"y":"x",N=C[x],b=A[x],L=d[x],k=S?w:T;if(h.isPointIn(N,b,{axis:x})&&(0,e.isUndefined)(k)){var P=L-(N-b);h.setGuideLock(C,P)}}}))}),T=this.trgX,w=this.trgY,s.forEach(function(C){var A=C.toUpperCase(),S=h["trg".concat(A)];S&&!h.isPointIn(d[C],S.lock,{axis:C})&&(h.setGuideLock(S,null),S=null),S&&!(0,e.isUndefined)(S.lock)&&(v[C]=S.lock)}),{newDelta:v,trgX:this.trgX,trgY:this.trgY}},p.prototype.isPointIn=function(d,h,v){var _,T=v===void 0?{}:v,w=T.offset,C=T.axis,A=this.opts,S=A.snapGuides,x=S===void 0?{}:S,N=A.snapOffset,b=N===void 0?0:N,L=C==="x"?x.x:C==="y"?x.y:void 0,k=L===0?0:(_=w??L)!==null&&_!==void 0?_:b;return k===0?!1:d>=h&&d<=h+k||d<=h&&d>=h-k},p.prototype.setGuideLock=function(d,h){var v=(0,e.isUndefined)(d.x)?"Y":"X",_="trg".concat(v);return h!==null?(d.active=!0,d.lock=h,this[_]=d):(delete d.active,delete d.lock,delete this[_]),d},p.prototype.stop=function(d,h){h===void 0&&(h={});var v=this.delta,_=!!h.cancel,T=_?0:v.x,w=_?0:v.y;this.toggleDrag(),this.move(T,w,!0);var C=this.opts.onEnd;(0,e.isFunction)(C)&&C(d,this,{cancelled:_})},p.prototype.keyHandle=function(d){(0,n.v$)(d)&&this.stop(d,{cancel:!0})},p.prototype.move=function(d,h,v){var _=this,T=_.el,w=_.opts,C=this.startPosition;if(C){var A=w.setPosition,S=C.x+d,x=C.y+h;this.position={x:S,y:x,end:v},(0,e.isFunction)(A)&&A(this.position),T&&(T.style.left="".concat(S,"px"),T.style.top="".concat(x,"px"))}},p.prototype.getContainerEl=function(){var d=this.opts.container;return d?[d]:this.getDocumentEl()},p.prototype.getWindowEl=function(){var d=this.getContainerEl();return d.map(function(h){var v=h.ownerDocument||h;return v.defaultView||v.parentWindow})},p.prototype.getDocumentEl=function(d){var h=this.opts.doc;if(d=d||this.el,!this.docs.length){var v=[document];d&&v.push(d.ownerDocument),h&&v.push(h),this.docs=v}return this.docs},p.prototype.getPointerPos=function(d){var h=this.opts.getPointerPosition,v=(0,n.G2)(d);return h?h(d):{x:v.clientX,y:v.clientY}},p.prototype.getStartPosition=function(){var d=this,h=d.el,v=d.opts,_=v.getPosition,T=l();return(0,e.isFunction)(_)?T=_():h&&(T={x:parseFloat(h.style.left),y:parseFloat(h.style.top)}),T},p.prototype.getScrollInfo=function(){var d=this.opts.doc,h=d&&d.body;return{y:h?h.scrollTop:0,x:h?h.scrollLeft:0}},p.prototype.detectAxisLock=function(d,h){var v=d,_=h,T=Math.abs(v),w=Math.abs(_);if(_>=T||_<=-T)return"x";if(v>w||v<-w)return"y"},p})();const u=f}),7774:((i,r,t)=>{t.r(r),t.d(r,{default:()=>ir});var e=typeof document<"u"?document:null,n=typeof window<"u"?window:null,o=Array.prototype,l=o.filter,s=o.indexOf,f=o.map,u=o.push,p=o.reverse,d=o.slice,h=o.splice,v=/^#[\w-]*$/,_=/^\.[\w-]*$/,T=/<.+>/,w=/^\w+$/;function C(et,_t){return _t===void 0&&(_t=e),_.test(et)?_t.getElementsByClassName(et.slice(1)):w.test(et)?_t.getElementsByTagName(et):_t.querySelectorAll(et)}function A(et,_t){if(_t===void 0&&(_t=e),!!et){if(et.__cash)return et;var Pt=et;if(z(et)){if(_t.__cash&&(_t=_t[0]),Pt=v.test(et)?_t.getElementById(et.slice(1)):T.test(et)?xe(et):C(et,_t),!Pt)return}else if(M(et))return this.ready(et);(Pt.nodeType||Pt===n)&&(Pt=[Pt]),this.length=Pt.length;for(var Yt=0,ne=this.length;Yt<ne;Yt++)this[Yt]=Pt[Yt]}}function S(et,_t){return new A(et,_t)}var x=S.fn=S.prototype=A.prototype={constructor:S,__cash:!0,length:0,splice:h};x.get=function(et){return et===void 0?d.call(this):this[et<0?et+this.length:et]},x.eq=function(et){return S(this.get(et))},x.first=function(){return this.eq(0)},x.last=function(){return this.eq(-1)},x.map=function(et){return S(f.call(this,function(_t,Pt){return et.call(_t,Pt,_t)}))},x.slice=function(){return S(d.apply(this,arguments))};var N=/(?:^\w|[A-Z]|\b\w)/g,b=/[\s-_]+/g;function L(et){return et.replace(N,function(_t,Pt){return _t[Pt?"toUpperCase":"toLowerCase"]()}).replace(b,"")}S.camelCase=L;function k(et,_t){for(var Pt=0,Yt=et.length;Pt<Yt&&_t.call(et[Pt],et[Pt],Pt,et)!==!1;Pt++);}S.each=k,x.each=function(et){return k(this,function(_t,Pt){return et.call(_t,Pt,_t)}),this},x.removeProp=function(et){return this.each(function(_t,Pt){delete Pt[et]})};function P(et){et===void 0&&(et=this);for(var _t=arguments,Pt=_t.length,Yt=Pt<2?0:1;Yt<Pt;Yt++)for(var ne in _t[Yt])et[ne]=_t[Yt][ne];return et}S.extend=x.extend=P;var D=1;S.guid=D;function R(et,_t){var Pt=et&&(et.matches||et.webkitMatchesSelector||et.mozMatchesSelector||et.msMatchesSelector||et.oMatchesSelector);return!!Pt&&Pt.call(et,_t)}S.matches=R;function M(et){return typeof et=="function"}S.isFunction=M;function z(et){return typeof et=="string"}S.isString=z;function H(et){return!isNaN(parseFloat(et))&&isFinite(et)}S.isNumeric=H;var $=Array.isArray;S.isArray=$,x.prop=function(et,_t){if(et){if(z(et))return arguments.length<2?this[0]&&this[0][et]:this.each(function(Yt,ne){ne[et]=_t});for(var Pt in et)this.prop(Pt,et[Pt]);return this}};function j(et){return z(et)?function(_t,Pt){return R(Pt,et)}:et.__cash?function(_t,Pt){return et.is(Pt)}:function(_t,Pt,Yt){return Pt===Yt}}x.filter=function(et){if(!et)return S();var _t=M(et)?et:j(et);return S(l.call(this,function(Pt,Yt){return _t.call(Pt,Yt,Pt,et)}))};var rt=/\S+/g;function q(et){return z(et)?et.match(rt)||[]:[]}x.hasClass=function(et){var _t=q(et),Pt=!1;return _t.length&&this.each(function(Yt,ne){return Pt=ne.classList.contains(_t[0]),!Pt}),Pt},x.removeAttr=function(et){var _t=q(et);return _t.length?this.each(function(Pt,Yt){k(_t,function(ne){Yt.removeAttribute(ne)})}):this},x.attr=function(et,_t){if(et){if(z(et)){if(arguments.length<2){if(!this[0])return;var Pt=this[0].getAttribute(et);return Pt===null?void 0:Pt}return _t===null?this.removeAttr(et):this.each(function(ne,me){me.setAttribute(et,_t)})}for(var Yt in et)this.attr(Yt,et[Yt]);return this}},x.toggleClass=function(et,_t){var Pt=q(et),Yt=_t!==void 0;return Pt.length?this.each(function(ne,me){k(Pt,function(we){Yt?_t?me.classList.add(we):me.classList.remove(we):me.classList.toggle(we)})}):this},x.addClass=function(et){return this.toggleClass(et,!0)},x.removeClass=function(et){return arguments.length?this.toggleClass(et,!1):this.attr("class","")};function st(et){return et.filter(function(_t,Pt,Yt){return Yt.indexOf(_t)===Pt})}S.unique=st,x.add=function(et,_t){return S(st(this.get().concat(S(et,_t).get())))};function vt(et,_t,Pt){if(et.nodeType===1){var Yt=n.getComputedStyle(et,null);return _t?Pt?Yt.getPropertyValue(_t):Yt[_t]:Yt}}function St(et,_t){return parseInt(vt(et,_t),10)||0}var pt=/^--/;function bt(et){return pt.test(et)}var at={},lt=e&&e.createElement("div"),Et=lt?lt.style:{},yt=["webkit","moz","ms","o"];function Ot(et,_t){if(_t===void 0&&(_t=bt(et)),_t)return et;if(!at[et]){var Pt=L(et),Yt=""+Pt.charAt(0).toUpperCase()+Pt.slice(1),ne=(Pt+" "+yt.join(Yt+" ")+Yt).split(" ");k(ne,function(me){if(me in Et)return at[et]=me,!1})}return at[et]}S.prefixedProp=Ot;var zt={animationIterationCount:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0};function Bt(et,_t,Pt){return Pt===void 0&&(Pt=bt(et)),!Pt&&!zt[et]&&H(_t)?_t+"px":_t}x.css=function(et,_t){if(z(et)){var Pt=bt(et);return et=Ot(et,Pt),arguments.length<2?this[0]&&vt(this[0],et,Pt):et?(_t=Bt(et,_t,Pt),this.each(function(ne,me){me.nodeType===1&&(Pt?me.style.setProperty(et,_t):me.style[et]=_t)})):this}for(var Yt in et)this.css(Yt,et[Yt]);return this};var Ut="__cashData",xt=/^data-(.*)/;S.hasData=function(et){return Ut in et};function ot(et){return et[Ut]=et[Ut]||{}}function Vt(et,_t){var Pt=ot(et);if(_t){if(!(_t in Pt)){var Yt=et.dataset?et.dataset[_t]||et.dataset[L(_t)]:S(et).attr("data-"+_t);if(Yt!==void 0){try{Yt=JSON.parse(Yt)}catch{}Pt[_t]=Yt}}return Pt[_t]}return Pt}function mt(et,_t){_t===void 0?delete et[Ut]:delete ot(et)[_t]}function Ft(et,_t,Pt){ot(et)[_t]=Pt}x.data=function(et,_t){var Pt=this;if(!et)return this[0]?(k(this[0].attributes,function(ne){var me=ne.name.match(xt);me&&Pt.data(me[1])}),Vt(this[0])):void 0;if(z(et))return _t===void 0?this[0]&&Vt(this[0],et):this.each(function(ne,me){return Ft(me,et,_t)});for(var Yt in et)this.data(Yt,et[Yt]);return this},x.removeData=function(et){return this.each(function(_t,Pt){return mt(Pt,et)})};function Kt(et,_t){return St(et,"border"+(_t?"Left":"Top")+"Width")+St(et,"padding"+(_t?"Left":"Top"))+St(et,"padding"+(_t?"Right":"Bottom"))+St(et,"border"+(_t?"Right":"Bottom")+"Width")}k(["Width","Height"],function(et){x["inner"+et]=function(){if(this[0])return this[0]===n?n["inner"+et]:this[0]["client"+et]}}),k(["width","height"],function(et,_t){x[et]=function(Pt){return this[0]?arguments.length?(Pt=parseInt(Pt,10),this.each(function(Yt,ne){if(ne.nodeType===1){var me=vt(ne,"boxSizing");ne.style[et]=Bt(et,Pt+(me==="border-box"?Kt(ne,!_t):0))}})):this[0]===n?this[0][L("outer-"+et)]:this[0].getBoundingClientRect()[et]-Kt(this[0],!_t):Pt===void 0?void 0:this}}),k(["Width","Height"],function(et,_t){x["outer"+et]=function(Pt){if(this[0])return this[0]===n?n["outer"+et]:this[0]["offset"+et]+(Pt?St(this[0],"margin"+(_t?"Top":"Left"))+St(this[0],"margin"+(_t?"Bottom":"Right")):0)}});function W(et,_t){for(var Pt=0,Yt=_t.length;Pt<Yt;Pt++)if(et.indexOf(_t[Pt])<0)return!1;return!0}function Z(et,_t,Pt){k(et[Pt],function(Yt){Yt[0];var ne=Yt[1];_t.removeEventListener(Pt,ne)}),delete et[Pt]}var it="__cashEvents",Ct=".";function jt(et){return et[it]=et[it]||{}}function ut(et,_t,Pt,Yt){Yt.guid=Yt.guid||D++;var ne=jt(et);ne[_t]=ne[_t]||[],ne[_t].push([Pt,Yt]),et.addEventListener(_t,Yt)}function Dt(et){var _t=et.split(Ct);return[_t[0],_t.slice(1).sort()]}function At(et,_t,Pt,Yt){var ne=jt(et);if(_t){var me=ne[_t];if(!me)return;Yt&&(Yt.guid=Yt.guid||D++),ne[_t]=me.filter(function(we){var Me=we[0],Ue=we[1];if(Yt&&Ue.guid!==Yt.guid||!W(Me,Pt))return!0;et.removeEventListener(_t,Ue)})}else if(!Pt||!Pt.length)for(_t in ne)Z(ne,et,_t);else for(_t in ne)At(et,_t,Pt,Yt)}x.off=function(et,_t){var Pt=this;return et===void 0?this.each(function(Yt,ne){return At(ne)}):k(q(et),function(Yt){var ne=Dt(Yt),me=ne[0],we=ne[1];Pt.each(function(Me,Ue){return At(Ue,me,we,_t)})}),this},x.on=function(et,_t,Pt,Yt){var ne=this;if(!z(et)){for(var me in et)this.on(me,_t,et[me]);return this}return M(_t)&&(Pt=_t,_t=!1),k(q(et),function(we){var Me=Dt(we),Ue=Me[0],ze=Me[1];ne.each(function(Pr,Fe){var hr=function ar(De){if(!(De.namespace&&!W(ze,De.namespace.split(Ct)))){var er=Fe;if(_t){for(var Re=De.target;!R(Re,_t);)if(Re===Fe||(Re=Re.parentNode,!Re))return;er=Re}De.namespace=De.namespace||"";var Ye=Pt.call(er,De,De.data);Yt&&At(Fe,Ue,ze,ar),Ye===!1&&(De.preventDefault(),De.stopPropagation())}};hr.guid=Pt.guid=Pt.guid||D++,ut(Fe,Ue,ze,hr)})}),this},x.one=function(et,_t,Pt){return this.on(et,_t,Pt,!0)},x.ready=function(et){var _t=function(){return et(S)};return e.readyState!=="loading"?setTimeout(_t):e.addEventListener("DOMContentLoaded",_t),this},x.trigger=function(et,_t){var Pt=et;if(z(et)){var Yt=Dt(et),ne=Yt[0],me=Yt[1];Pt=e.createEvent("HTMLEvents"),Pt.initEvent(ne,!0,!0),Pt.namespace=me.join(Ct)}return Pt.data=_t,this.each(function(we,Me){Me.dispatchEvent(Pt)})};function ee(et){var _t=[];return k(et.options,function(Pt){Pt.selected&&!Pt.disabled&&!Pt.parentNode.disabled&&_t.push(Pt.value)}),_t}function Ce(et){return et.selectedIndex<0?null:et.options[et.selectedIndex].value}var de=/select-one/i,nt=/select-multiple/i;function wt(et){var _t=et.type;return de.test(_t)?Ce(et):nt.test(_t)?ee(et):et.value}var J=/%20/g;function Xt(et,_t){return"&"+encodeURIComponent(et)+"="+encodeURIComponent(_t).replace(J,"+")}var Lt=/file|reset|submit|button|image/i,Zt=/radio|checkbox/i;x.serialize=function(){var et="";return this.each(function(_t,Pt){k(Pt.elements||[Pt],function(Yt){if(!(Yt.disabled||!Yt.name||Yt.tagName==="FIELDSET")&&!Lt.test(Yt.type)&&!(Zt.test(Yt.type)&&!Yt.checked)){var ne=wt(Yt);if(ne!==void 0){var me=$(ne)?ne:[ne];k(me,function(we){et+=Xt(Yt.name,we)})}}})}),et.substr(1)},x.val=function(et){return et===void 0?this[0]&&wt(this[0]):this.each(function(_t,Pt){var Yt=nt.test(Pt.type),ne=et===null?Yt?[]:"":et;Yt&&$(ne)?k(Pt.options,function(me){me.selected=ne.indexOf(me.value)>=0}):Pt.value=ne})},x.clone=function(){return this.map(function(et,_t){return _t.cloneNode(!0)})},x.detach=function(){return this.each(function(et,_t){_t.parentNode&&_t.parentNode.removeChild(_t)})};var re=/^\s*<(\w+)[^>]*>/,le=/^\s*<(\w+)\s*\/?>(?:<\/\1>)?\s*$/,oe;function ve(){if(!oe){var et=e.createElement("table"),_t=e.createElement("tr");oe={"*":e.createElement("div"),tr:e.createElement("tbody"),td:_t,th:_t,thead:et,tbody:et,tfoot:et}}}function xe(et){if(ve(),!z(et))return[];if(le.test(et))return[e.createElement(RegExp.$1)];var _t=re.test(et)&&RegExp.$1,Pt=oe[_t]||oe["*"];return Pt.innerHTML=et,S(Pt.childNodes).detach().get()}S.parseHTML=xe,x.empty=function(){var et=this[0];if(et)for(;et.firstChild;)et.removeChild(et.firstChild);return this};function Ae(et,_t,Pt){Pt?et.insertBefore(_t,et.childNodes[0]):et.appendChild(_t)}function ke(et,_t,Pt){if(_t!==void 0){var Yt=z(_t);!Yt&&_t.length?k(_t,function(ne){return ke(et,ne,Pt)}):k(et,Yt?function(ne){ne.insertAdjacentHTML(Pt?"afterbegin":"beforeend",_t)}:function(ne,me){return Ae(ne,me?_t.cloneNode(!0):_t,Pt)})}}x.append=function(){var et=this;return k(arguments,function(_t){ke(et,_t)}),this},x.appendTo=function(et){return ke(S(et),this),this},x.html=function(et){if(et===void 0)return this[0]&&this[0].innerHTML;var _t=et.nodeType?et[0].outerHTML:et;return this.each(function(Pt,Yt){Yt.innerHTML=_t})},x.insertAfter=function(et){var _t=this;return S(et).each(function(Pt,Yt){var ne=Yt.parentNode;_t.each(function(me,we){ne.insertBefore(Pt?we.cloneNode(!0):we,Yt.nextSibling)})}),this},x.after=function(){var et=this;return k(p.apply(arguments),function(_t){p.apply(S(_t).slice()).insertAfter(et)}),this},x.insertBefore=function(et){var _t=this;return S(et).each(function(Pt,Yt){var ne=Yt.parentNode;_t.each(function(me,we){ne.insertBefore(Pt?we.cloneNode(!0):we,Yt)})}),this},x.before=function(){var et=this;return k(arguments,function(_t){S(_t).insertBefore(et)}),this},x.prepend=function(){var et=this;return k(arguments,function(_t){ke(et,_t,!0)}),this},x.prependTo=function(et){return ke(S(et),p.apply(this.slice()),!0),this},x.remove=function(){return this.detach().off()},x.replaceWith=function(et){var _t=this;return this.each(function(Pt,Yt){var ne=Yt.parentNode;if(ne){var me=Pt?S(et).clone():S(et);if(!me[0])return _t.remove(),!1;ne.replaceChild(me[0],Yt),S(me[0]).after(me.slice(1))}})},x.replaceAll=function(et){return S(et).replaceWith(this),this},x.text=function(et){return et===void 0?this[0]?this[0].textContent:"":this.each(function(_t,Pt){Pt.textContent=et})};var We=e&&e.documentElement;x.offset=function(){var et=this[0];if(et){var _t=et.getBoundingClientRect();return{top:_t.top+n.pageYOffset-We.clientTop,left:_t.left+n.pageXOffset-We.clientLeft}}},x.offsetParent=function(){return S(this[0]&&this[0].offsetParent)},x.position=function(){var et=this[0];if(et)return{left:et.offsetLeft,top:et.offsetTop}},x.children=function(et){var _t=[];return this.each(function(Pt,Yt){u.apply(_t,Yt.children)}),_t=S(st(_t)),et?_t.filter(function(Pt,Yt){return R(Yt,et)}):_t},x.contents=function(){var et=[];return this.each(function(_t,Pt){u.apply(et,Pt.tagName==="IFRAME"?[Pt.contentDocument]:Pt.childNodes)}),S(et.length&&st(et))},x.find=function(et){for(var _t=[],Pt=0,Yt=this.length;Pt<Yt;Pt++){var ne=C(et,this[Pt]);ne.length&&u.apply(_t,ne)}return S(_t.length&&st(_t))},x.has=function(et){var _t=z(et)?function(Pt,Yt){return!!C(et,Yt).length}:function(Pt,Yt){return Yt.contains(et)};return this.filter(_t)},x.is=function(et){if(!et||!this[0])return!1;var _t=j(et),Pt=!1;return this.each(function(Yt,ne){return Pt=_t(Yt,ne,et),!Pt}),Pt},x.next=function(){return S(this[0]&&this[0].nextElementSibling)},x.not=function(et){if(!et||!this[0])return this;var _t=j(et);return this.filter(function(Pt,Yt){return!_t(Pt,Yt,et)})},x.parent=function(){var et=[];return this.each(function(_t,Pt){Pt&&Pt.parentNode&&et.push(Pt.parentNode)}),S(st(et))},x.index=function(et){var _t=et?S(et)[0]:this[0],Pt=et?this:S(_t).parent().children();return s.call(Pt,_t)},x.closest=function(et){return!et||!this[0]?S():this.is(et)?this.filter(et):this.parent().closest(et)},x.parents=function(et){var _t=[],Pt;return this.each(function(Yt,ne){for(Pt=ne;Pt&&Pt.parentNode&&Pt!==e.body.parentNode;)Pt=Pt.parentNode,(!et||et&&R(Pt,et))&&_t.push(Pt)}),S(st(_t))},x.prev=function(){return S(this[0]&&this[0].previousElementSibling)},x.siblings=function(){var et=this[0];return this.parent().children().filter(function(_t,Pt){return Pt!==et})};const ir=S}),6294:((i,r,t)=>{t.d(r,{AU:()=>vt,BC:()=>w,C8:()=>k,Ch:()=>R,Ci:()=>H,D8:()=>s,G2:()=>M,GW:()=>L,GZ:()=>A,I6:()=>d,LJ:()=>rt,Sc:()=>T,X6:()=>h,Xy:()=>P,YZ:()=>u,ZQ:()=>f,_I:()=>St,a_:()=>C,af:()=>x,bG:()=>_,cx:()=>p,ir:()=>N,kk:()=>q,on:()=>st,rp:()=>j,v$:()=>z,yL:()=>S,zN:()=>v});var e=t(5706),n=function(pt,bt,at){if(at||arguments.length===2)for(var lt=0,Et=bt.length,yt;lt<Et;lt++)(yt||!(lt in bt))&&(yt||(yt=Array.prototype.slice.call(bt,0,lt)),yt[lt]=bt[lt]);return pt.concat(yt||Array.prototype.slice.call(bt))},o="tag",l="attributes",s="transitionend oTransitionEnd transitionend webkitTransitionEnd",f=function(pt){return pt?.nodeType===Node.DOCUMENT_NODE},u=function(pt){var bt=pt&&pt.parentNode;bt&&bt.removeChild(pt)};function p(){for(var pt=[],bt=0;bt<arguments.length;bt++)pt[bt]=arguments[bt];var at=Array.isArray(pt[0])?pt[0]:n([],pt,!0);return at.filter(Boolean).join(" ")}var d=function(pt,bt){return pt.querySelectorAll(bt)},h=function(pt,bt){return bt===void 0&&(bt={}),pt&&pt.setAttribute&&(0,e.each)(bt,function(at,lt){return pt.setAttribute(lt,at)})},v=function(pt){var bt;return pt&&!!(pt.offsetWidth||pt.offsetHeight||!((bt=pt.getClientRects)===null||bt===void 0)&&bt.call(pt).length)},_=function(pt,bt){var at;(at=pt.parentNode)===null||at===void 0||at.replaceChild(bt,pt)},T=function(pt,bt,at){var lt=pt.childNodes,Et=lt.length,yt=(0,e.isUndefined)(at)?Et:at;(0,e.isString)(bt)&&(pt.insertAdjacentHTML("beforeEnd",bt),bt=pt.lastChild,pt.removeChild(bt)),yt>=Et?pt.appendChild(bt):pt.insertBefore(bt,lt[yt])},w=function(pt,bt){return T(pt,bt)},C=function(pt,bt,at){bt===void 0&&(bt={});var lt=document.createElement(pt);return bt&&(0,e.each)(bt,function(Et,yt){return lt.setAttribute(yt,Et)}),at&&((0,e.isString)(at)?lt.innerHTML=at:lt.appendChild(at)),lt},A=function(pt){return document.createTextNode(pt)},S=function(pt,bt){var at,lt=pt.type;try{at=new window[bt](lt,pt)}catch{at=document.createEvent(bt),at.initEvent(lt,!0,!0)}return at._parentEvent=pt,lt.indexOf("key")===0&&(at.keyCodeVal=pt.keyCode,["keyCode","which"].forEach(function(Et){Object.defineProperty(at,Et,{get:function(){return this.keyCodeVal}})})),at},x=function(pt,bt){bt===void 0&&(bt=[]);var at=Array.isArray(bt)?bt:[bt];at.forEach(function(lt){var Et=lt[o]||"div",yt=lt[l]||{},Ot=document.createElement(Et);(0,e.each)(yt,function(zt,Bt){Ot.setAttribute(Bt,zt)}),pt.appendChild(Ot)})},N=function(pt){return pt?.nodeType===Node.TEXT_NODE},b=function(pt){return pt?.nodeType===Node.COMMENT_NODE},L=function(pt){return pt&&!N(pt)&&!b(pt)},k=function(pt){var bt={top:0,left:0,width:0,height:0};if(!pt)return bt;var at;if(N(pt)){var lt=document.createRange();lt.selectNode(pt),at=lt.getBoundingClientRect(),lt.detach()}return at||(pt.getBoundingClientRect?pt.getBoundingClientRect():bt)},P=function(pt){var bt=pt?.ownerDocument||document,at=bt.documentElement,lt=bt.defaultView||window;return{x:(lt.pageXOffset||at.scrollLeft||0)-(at.clientLeft||0),y:(lt.pageYOffset||at.scrollTop||0)-(at.clientTop||0)}},D=function(pt){return pt.which||pt.keyCode},R=function(pt){return String.fromCharCode(D(pt))},M=function(pt){return pt.touches&&pt.touches[0]?pt.touches[0]:pt},z=function(pt){return D(pt)===27},H=function(pt){return D(pt)===13},$=function(pt){return pt.ctrlKey},j=function(pt){return $(pt)||pt.metaKey},rt=function(pt){if(!pt)return"";var bt=pt.name,at=pt.publicId,lt=pt.systemId,Et=at?' PUBLIC "'.concat(at,'"'):"",yt=!at&&lt?' SYSTEM "'.concat(lt,'"'):"";return"<!DOCTYPE ".concat(bt).concat(Et).concat(yt,">")},q=function(pt){pt===void 0&&(pt={});var bt=[];return(0,e.each)(pt,function(at,lt){return bt.push("".concat(lt,'="').concat(at,'"'))}),bt.join(" ")},st=function(pt,bt,at,lt){var Et=bt.split(/\s+/),yt=(0,e.isArray)(pt)?pt:[pt];Et.forEach(function(Ot){yt.forEach(function(zt){return zt?.addEventListener(Ot,at,lt)})})},vt=function(pt,bt,at,lt){var Et=bt.split(/\s+/),yt=(0,e.isArray)(pt)?pt:[pt];Et.forEach(function(Ot){yt.forEach(function(zt){return zt?.removeEventListener(Ot,at,lt)})})},St=function(pt){var bt=pt.replace(/-([a-zA-Z0-9])/g,function(at,lt){return lt.toUpperCase()});return bt}}),1166:((i,r,t)=>{t.r(r),t.d(r,{appendStyles:()=>P,buildBase64UrlFromSvg:()=>Vt,camelCase:()=>z,capitalize:()=>Et,createId:()=>ot,deepMerge:()=>pt,escape:()=>q,escapeAltQuoteAttrValue:()=>St,escapeAttrValue:()=>vt,escapeNodeContent:()=>st,find:()=>rt,get:()=>h,getComponentModel:()=>Ut,getComponentView:()=>Bt,getElement:()=>j,getGlobal:()=>x,getModel:()=>bt,getUiClass:()=>k,getUnitFromValue:()=>R,getViewEl:()=>Ot,hasDnd:()=>$,hasWin:()=>S,isBultInMethod:()=>T,isComponent:()=>zt,isDef:()=>A,isEmptyObj:()=>lt,isObject:()=>at,isRule:()=>yt,matches:()=>L,normalizeFloat:()=>H,normalizeKey:()=>w,serialize:()=>_,set:()=>v,setViewEl:()=>xt,shallowDiff:()=>D,stringToPath:()=>p,toLowerCase:()=>N,upFirst:()=>M,wait:()=>C});var e=t(5706),n=t(6294),o=function(){return o=Object.assign||function(mt){for(var Ft,Kt=1,W=arguments.length;Kt<W;Kt++){Ft=arguments[Kt];for(var Z in Ft)Object.prototype.hasOwnProperty.call(Ft,Z)&&(mt[Z]=Ft[Z])}return mt},o.apply(this,arguments)},l=function(mt,Ft,Kt){if(Kt||arguments.length===2)for(var W=0,Z=Ft.length,it;W<Z;W++)(it||!(W in Ft))&&(it||(it=Array.prototype.slice.call(Ft,0,W)),it[W]=Ft[W]);return mt.concat(it||Array.prototype.slice.call(Ft))},s={},f=/\\(\\)?/g,u=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,p=function(mt){var Ft=[];return mt.charCodeAt(0)===46&&Ft.push(""),mt.replace(u,function(Kt,W,Z,it){return Ft.push(Z?it.replace(f,"$1"):W||Kt),""}),Ft};function d(mt,Ft){return(0,e.isArray)(mt)?mt:Ft.hasOwnProperty(mt)?[mt]:p(mt)}var h=function(mt,Ft,Kt){for(var W,Z=d(Ft,mt),it=Z.length,Ct=0;mt!=null&&Ct<it;)mt=mt["".concat(Z[Ct++])];return(W=Ct&&Ct==it?mt:void 0)!==null&&W!==void 0?W:Kt},v=function(mt,Ft,Kt){if(!at(mt))return!1;var W=d(Ft,mt),Z=W.length;if(Z===0)return!1;if(Z===1)return mt[W[0]]=Kt,!0;var it=W.slice(0,-1),Ct=W[Z-1],jt=h(mt,it);if(jt){if(Array.isArray(jt)){var ut=+Ct;if(!isNaN(ut))return jt[ut]=Kt,!0}else if(at(jt))return jt[Ct]=Kt,!0}return!1},_=function(mt){return JSON.parse(JSON.stringify(mt))},T=function(mt){return(0,e.isFunction)(s[mt])},w=function(mt){return T(mt)?"_".concat(mt):mt},C=function(mt){return mt===void 0&&(mt=0),new Promise(function(Ft){return setTimeout(Ft,mt)})},A=function(mt){return typeof mt<"u"},S=function(){return typeof window<"u"},x=function(){return typeof globalThis<"u"?globalThis:typeof window<"u"?window:t.g},N=function(mt){return(mt||"").toLowerCase()},b=S()?window.Element.prototype:{},L=b.matches||b.webkitMatchesSelector||b.mozMatchesSelector||b.msMatchesSelector,k=function(mt,Ft){var Kt=mt.getConfig(),W=Kt.stylePrefix,Z=Kt.customUI;return[Z&&"".concat(W,"cui"),Ft].filter(function(it){return it}).join(" ")},P=function(mt,Ft){Ft===void 0&&(Ft={});var Kt=(0,e.isArray)(mt)?l([],mt,!0):[mt];if(Kt.length){var W=Kt.shift();if(W&&(!Ft.unique||!document.querySelector('link[href="'.concat(W,'"]')))){var Z=document.head,it=document.createElement("link");it.href=W,it.rel="stylesheet",Ft.prepand?Z.insertBefore(it,Z.firstChild):Z.appendChild(it)}P(Kt)}},D=function(mt,Ft){var Kt={},W=(0,e.keys)(Ft);for(var Z in mt)if(mt.hasOwnProperty(Z)){var it=mt[Z],Ct=Ft[Z];W.indexOf(Z)>=0?it!==Ct&&(Kt[Z]=Ct):Kt[Z]=null}for(var Z in Ft)Ft.hasOwnProperty(Z)&&(0,e.isUndefined)(mt[Z])&&(Kt[Z]=Ft[Z]);return Kt},R=function(mt){return mt.replace(parseFloat(mt),"")},M=function(mt){return mt[0].toUpperCase()+mt.toLowerCase().slice(1)},z=function(mt){return mt.replace(/-./g,function(Ft){return Ft[1].toUpperCase()})},H=function(mt,Ft,Kt){Ft===void 0&&(Ft=1),Kt===void 0&&(Kt=0);var W=0;if(isNaN(mt))return Kt;if(mt=parseFloat(mt),Math.floor(mt)!==mt){var Z=Ft.toString().split(".")[1];W=Z?Z.length:0}return W?parseFloat(mt.toFixed(W)):mt},$=function(mt){return"draggable"in document.createElement("i")&&(mt?mt.config.nativeDnD:!0)},j=function(mt){if((0,e.isElement)(mt)||(0,n.ir)(mt))return mt;if(mt&&mt.getEl)return mt.getEl()},rt=function(mt,Ft){var Kt=null;return mt.some(function(W,Z){return Ft(W,Z,mt)?(Kt=W,1):0}),Kt},q=function(mt){return mt===void 0&&(mt=""),"".concat(mt).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;").replace(/`/g,"&#96;")},st=function(mt){return mt===void 0&&(mt=""),"".concat(mt).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},vt=function(mt){return mt===void 0&&(mt=""),"".concat(mt).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},St=function(mt){return mt===void 0&&(mt=""),"".concat(mt).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&apos;")},pt=function(){for(var mt=[],Ft=0;Ft<arguments.length;Ft++)mt[Ft]=arguments[Ft];for(var Kt=o({},mt[0]),W=1;W<mt.length;W++){var Z=o({},mt[W]);for(var it in Z){var Ct=Kt[it],jt=Z[it];at(Ct)&&at(jt)?Kt[it]=pt(Ct,jt):Kt[it]=jt}}return Kt},bt=function(mt,Ft){var Kt;return!Ft&&mt&&mt.__cashData?Kt=mt.__cashData.model:Ft&&(0,e.isElement)(mt)&&(Kt=Ft(mt).data("model")),Kt},at=function(mt){return mt&&!Array.isArray(mt)&&typeof mt=="object"},lt=function(mt){return Object.keys(mt).length<=0},Et=function(mt){return mt===void 0&&(mt=""),mt&&mt.charAt(0).toUpperCase()+mt.substring(1)},yt=function(mt){return mt&&mt.toCSS},Ot=function(mt){return mt?.__gjsv},zt=function(mt){return!!mt?.toHTML},Bt=function(mt){return Ot(mt)},Ut=function(mt){var Ft;return(Ft=Bt(mt))===null||Ft===void 0?void 0:Ft.model},xt=function(mt,Ft){mt.__gjsv=Ft},ot=function(mt){mt===void 0&&(mt=16);for(var Ft="",Kt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",W=Kt.length,Z=0;Z<mt;Z++)Ft+=Kt.charAt(Math.floor(Math.random()*W));return Ft},Vt=function(mt){if(mt&&mt.substr(0,4)==="<svg"){var Ft="";return S()?Ft=window.btoa(mt):typeof Buffer<"u"&&(Ft=Buffer.from(mt,"utf8").toString("base64")),Ft?"data:image/svg+xml;base64,".concat(Ft):mt}return mt}}),6756:((i,r,t)=>{t.d(r,{h:()=>o});var e=t(3178),n=(function(){var s=function(f,u){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,d){p.__proto__=d}||function(p,d){for(var h in d)Object.prototype.hasOwnProperty.call(d,h)&&(p[h]=d[h])},s(f,u)};return function(f,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");s(f,u);function p(){this.constructor=f}f.prototype=u===null?Object.create(u):(p.prototype=u.prototype,new p)}})(),o=(function(s){n(f,s);function f(){var u=s!==null&&s.apply(this,arguments)||this;return u.displayCache=new Map,u}return f.prototype.getChildren=function(){return this.getDisplayedChildren()},f.prototype.getDisplayedChildren=function(){var u=this,p=this.model.components(),d=p.filter(function(h){return u.isChildDisplayed(h)});return d.map(function(h){return new u.constructor(h)})},f.prototype.isChildDisplayed=function(u){if(this.displayCache.has(u))return this.displayCache.get(u);var p=u.getEl(),d=l(p);return this.displayCache.set(u,d),d},f.prototype.getParent=function(){var u=this.model.parent();return u?new this.constructor(u):null},f.prototype.addChildAt=function(u,p,d){var h,v,_,T,w,C,A,S;d===void 0&&(d={action:"add-component"});var x=((v=(h=this.model)===null||h===void 0?void 0:h.isInstanceOf)===null||v===void 0?void 0:v.call(h,"text"))&&((T=(_=u?.model)===null||_===void 0?void 0:_.get)===null||T===void 0?void 0:T.call(_,"textable"));if(x)return(S=(A=(C=(w=this.model)===null||w===void 0?void 0:w.getView)===null||C===void 0?void 0:C.call(w))===null||A===void 0?void 0:A.insertComponent)===null||S===void 0?void 0:S.call(A,u?.model,{action:d.action});var N=this.model.components().add(u.model,{at:this.getRealIndex(p),action:d.action});return new this.constructor(N)},f.prototype.removeChildAt=function(u,p){p===void 0&&(p={temporary:!1});var d=this.model.components().at(this.getRealIndex(u));d&&this.model.components().remove(d,p)},f.prototype.indexOfChild=function(u){return this.getDisplayIndex(u)},f.prototype.getDisplayIndex=function(u){var p=this.getDisplayedChildren();return p?p.findIndex(function(d){return d.model===u.model}):-1},f.prototype.getRealIndex=function(u){if(u===-1)return-1;for(var p=0,d=this.model.components(),h=0;h<d.length;h++){var v=d.at(h),_=this.isChildDisplayed(v);if(_&&p++,p===u+1)return h}return-1},f.prototype.canMove=function(u,p){return this.model.em.Components.canMove(this.model,u.model,this.getRealIndex(p)).result},f.prototype.equals=function(u){return!!u?._model&&this._model.getId()===u._model.getId()},f.prototype.restNodeState=function(){this.clearState();var u=this.model;this.setContentEditable(!1),u.em.getEditing()===u&&this.disableEditing()},f.prototype.setContentEditable=function(u){this.element&&this.isTextNode()&&(this.element.contentEditable=u?"true":"false")},f.prototype.disableEditing=function(){var u,p;(p=(u=this.view)===null||u===void 0?void 0:u.disableEditing)===null||p===void 0||p.call(u)},f.prototype.clearState=function(){var u,p;(p=(u=this.model).set)===null||p===void 0||p.call(u,"status","")},f.prototype.setSelectedParentState=function(){var u,p;(p=(u=this.model).set)===null||p===void 0||p.call(u,"status","selected-parent")},f.prototype.isTextNode=function(){var u,p;return(p=(u=this.model).isInstanceOf)===null||p===void 0?void 0:p.call(u,"text")},f.prototype.isTextable=function(){var u,p;return(p=(u=this.model).get)===null||p===void 0?void 0:p.call(u,"textable")},f})(e.$);function l(s){return s?typeof s=="object"&&s.nodeType===Node.ELEMENT_NODE&&window.getComputedStyle(s).display!=="none"&&s.offsetWidth>0&&s.offsetHeight>0:!1}}),1447:((i,r,t)=>{t.d(r,{A:()=>l});var e=t(6756),n=(function(){var s=function(f,u){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,d){p.__proto__=d}||function(p,d){for(var h in d)Object.prototype.hasOwnProperty.call(d,h)&&(p[h]=d[h])},s(f,u)};return function(f,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");s(f,u);function p(){this.constructor=f}f.prototype=u===null?Object.create(u):(p.prototype=u.prototype,new p)}})(),o=(function(s){n(f,s);function f(){var u=s!==null&&s.apply(this,arguments)||this;return u._dropAreaConfig={ratio:.8,minUndroppableDimension:1,maxUndroppableDimension:15},u}return Object.defineProperty(f.prototype,"view",{get:function(){var u,p;return(p=(u=this.model).getView)===null||p===void 0?void 0:p.call(u)},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"element",{get:function(){var u,p;return(p=(u=this.model).getEl)===null||p===void 0?void 0:p.call(u)},enumerable:!1,configurable:!0}),f})(e.h);const l=o}),3178:((i,r,t)=>{t.d(r,{$:()=>e});var e=(function(){function n(o,l){l===void 0&&(l={}),this._dropAreaConfig={ratio:1,minUndroppableDimension:0,maxUndroppableDimension:0},this._model=o,this._dragSource=l}return Object.defineProperty(n.prototype,"model",{get:function(){return this._model},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"dragSource",{get:function(){return this._dragSource},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"dropArea",{get:function(){var o,l;return this.getParent()?(l=this.nodeDimensions)===null||l===void 0?void 0:l.getDropArea(this._dropAreaConfig):(o=this.nodeDimensions)===null||o===void 0?void 0:o.clone()},enumerable:!1,configurable:!0}),n.prototype.isWithinDropBounds=function(o,l){return!!this.dropArea&&this.dropArea.isWithinBounds(o,l)},n.prototype.equals=function(o){return!!o?._model&&this._model===o._model},n.prototype.adjustDimensions=function(o){var l,s;o.topDifference===0&&o.leftDifference===0||((l=this.nodeDimensions)===null||l===void 0||l.adjustDimensions(o),(s=this.childrenDimensions)===null||s===void 0||s.forEach(function(f){return f.adjustDimensions(o)}))},n})()}),8433:((i,r,t)=>{t.d(r,{A:()=>e});var e;(function(n){n.Vertical="Vertical",n.Horizontal="Horizontal",n.BothDirections="BothDirections"})(e||(e={}))}),585:((i,r,t)=>{var e={"./CanvasClear":9484,"./CanvasClear.ts":9484,"./CanvasMove":9516,"./CanvasMove.ts":9516,"./CommandAbstract":9946,"./CommandAbstract.ts":9946,"./ComponentDelete":7801,"./ComponentDelete.ts":7801,"./ComponentDrag":4864,"./ComponentDrag.ts":4864,"./ComponentEnter":6134,"./ComponentEnter.ts":6134,"./ComponentExit":914,"./ComponentExit.ts":914,"./ComponentNext":5547,"./ComponentNext.ts":5547,"./ComponentPrev":8655,"./ComponentPrev.ts":8655,"./ComponentStyleClear":7640,"./ComponentStyleClear.ts":7640,"./CopyComponent":5837,"./CopyComponent.ts":5837,"./ExportTemplate":6477,"./ExportTemplate.ts":6477,"./Fullscreen":1772,"./Fullscreen.ts":1772,"./MoveComponent":741,"./MoveComponent.ts":741,"./OpenAssets":2924,"./OpenAssets.ts":2924,"./OpenBlocks":3963,"./OpenBlocks.ts":3963,"./OpenLayers":1479,"./OpenLayers.ts":1479,"./OpenStyleManager":3473,"./OpenStyleManager.ts":3473,"./OpenTraitManager":5054,"./OpenTraitManager.ts":5054,"./PasteComponent":6979,"./PasteComponent.ts":6979,"./Preview":4457,"./Preview.ts":4457,"./Resize":5493,"./Resize.ts":5493,"./SelectComponent":9317,"./SelectComponent.ts":9317,"./SelectPosition":1406,"./SelectPosition.ts":1406,"./ShowOffset":9395,"./ShowOffset.ts":9395,"./SwitchVisibility":7285,"./SwitchVisibility.ts":7285};function n(l){var s=o(l);return t(s)}function o(l){if(!t.o(e,l)){var s=new Error("Cannot find module '"+l+"'");throw s.code="MODULE_NOT_FOUND",s}return e[l]}n.keys=function(){return Object.keys(e)},n.resolve=o,i.exports=n,n.id=585}),5706:((i,r,t)=>{t.r(r),t.d(r,{VERSION:()=>n,after:()=>En,all:()=>ho,allKeys:()=>oe,any:()=>No,assign:()=>hr,before:()=>xn,bind:()=>ko,bindAll:()=>ei,chain:()=>Po,chunk:()=>jn,clone:()=>Ye,collect:()=>Kr,compact:()=>Ls,compose:()=>co,constant:()=>Kt,contains:()=>kr,countBy:()=>Ms,create:()=>Re,debounce:()=>Oi,default:()=>go,defaults:()=>ar,defer:()=>zr,delay:()=>zn,detect:()=>Ee,difference:()=>Pa,drop:()=>ro,each:()=>Tr,escape:()=>Jt,every:()=>ho,extend:()=>Fe,extendOwn:()=>hr,filter:()=>fn,find:()=>Ee,findIndex:()=>In,findKey:()=>Mo,findLastIndex:()=>po,findWhere:()=>cr,first:()=>Io,flatten:()=>Aa,foldl:()=>Xr,foldr:()=>$r,forEach:()=>Tr,functions:()=>ze,get:()=>Ge,groupBy:()=>ks,has:()=>rr,head:()=>Io,identity:()=>Ie,include:()=>kr,includes:()=>kr,indexBy:()=>Ea,indexOf:()=>_e,initial:()=>vr,inject:()=>Xr,intersection:()=>Ds,invert:()=>Ue,invoke:()=>xs,isArguments:()=>Vt,isArray:()=>Ut,isArrayBuffer:()=>St,isBoolean:()=>M,isDataView:()=>Bt,isDate:()=>rt,isElement:()=>z,isEmpty:()=>nt,isEqual:()=>le,isError:()=>st,isFinite:()=>mt,isFunction:()=>at,isMap:()=>Pt,isMatch:()=>wt,isNaN:()=>Ft,isNull:()=>D,isNumber:()=>j,isObject:()=>P,isRegExp:()=>q,isSet:()=>ne,isString:()=>$,isSymbol:()=>vt,isTypedArray:()=>Dt,isUndefined:()=>R,isWeakMap:()=>Yt,isWeakSet:()=>me,iteratee:()=>Mt,keys:()=>de,last:()=>Do,lastIndexOf:()=>Ke,map:()=>Kr,mapObject:()=>$e,matcher:()=>O,matches:()=>O,max:()=>wa,memoize:()=>wn,methods:()=>ze,min:()=>Sa,mixin:()=>ni,negate:()=>Sn,noop:()=>Ne,now:()=>Q,object:()=>Rs,omit:()=>Lo,once:()=>ri,pairs:()=>Me,partial:()=>Wn,partition:()=>xa,pick:()=>Oa,pluck:()=>Ai,property:()=>B,propertyOf:()=>Ht,random:()=>Oe,range:()=>Ho,reduce:()=>Xr,reduceRight:()=>$r,reject:()=>Rn,rest:()=>ro,restArguments:()=>k,result:()=>lo,sample:()=>Pi,select:()=>fn,shuffle:()=>As,size:()=>Ns,some:()=>No,sortBy:()=>Ps,sortedIndex:()=>Gn,tail:()=>ro,take:()=>Io,tap:()=>ye,template:()=>so,templateSettings:()=>je,throttle:()=>xr,times:()=>U,toArray:()=>vo,toPath:()=>ur,transpose:()=>jo,unescape:()=>Pe,union:()=>Is,uniq:()=>Ro,unique:()=>Ro,uniqueId:()=>Ao,unzip:()=>jo,values:()=>we,where:()=>Os,without:()=>Ni,wrap:()=>Kn,zip:()=>ka});var e={};t.r(e),t.d(e,{VERSION:()=>n,after:()=>En,all:()=>ho,allKeys:()=>oe,any:()=>No,assign:()=>hr,before:()=>xn,bind:()=>ko,bindAll:()=>ei,chain:()=>Po,chunk:()=>jn,clone:()=>Ye,collect:()=>Kr,compact:()=>Ls,compose:()=>co,constant:()=>Kt,contains:()=>kr,countBy:()=>Ms,create:()=>Re,debounce:()=>Oi,default:()=>js,defaults:()=>ar,defer:()=>zr,delay:()=>zn,detect:()=>Ee,difference:()=>Pa,drop:()=>ro,each:()=>Tr,escape:()=>Jt,every:()=>ho,extend:()=>Fe,extendOwn:()=>hr,filter:()=>fn,find:()=>Ee,findIndex:()=>In,findKey:()=>Mo,findLastIndex:()=>po,findWhere:()=>cr,first:()=>Io,flatten:()=>Aa,foldl:()=>Xr,foldr:()=>$r,forEach:()=>Tr,functions:()=>ze,get:()=>Ge,groupBy:()=>ks,has:()=>rr,head:()=>Io,identity:()=>Ie,include:()=>kr,includes:()=>kr,indexBy:()=>Ea,indexOf:()=>_e,initial:()=>vr,inject:()=>Xr,intersection:()=>Ds,invert:()=>Ue,invoke:()=>xs,isArguments:()=>Vt,isArray:()=>Ut,isArrayBuffer:()=>St,isBoolean:()=>M,isDataView:()=>Bt,isDate:()=>rt,isElement:()=>z,isEmpty:()=>nt,isEqual:()=>le,isError:()=>st,isFinite:()=>mt,isFunction:()=>at,isMap:()=>Pt,isMatch:()=>wt,isNaN:()=>Ft,isNull:()=>D,isNumber:()=>j,isObject:()=>P,isRegExp:()=>q,isSet:()=>ne,isString:()=>$,isSymbol:()=>vt,isTypedArray:()=>Dt,isUndefined:()=>R,isWeakMap:()=>Yt,isWeakSet:()=>me,iteratee:()=>Mt,keys:()=>de,last:()=>Do,lastIndexOf:()=>Ke,map:()=>Kr,mapObject:()=>$e,matcher:()=>O,matches:()=>O,max:()=>wa,memoize:()=>wn,methods:()=>ze,min:()=>Sa,mixin:()=>ni,negate:()=>Sn,noop:()=>Ne,now:()=>Q,object:()=>Rs,omit:()=>Lo,once:()=>ri,pairs:()=>Me,partial:()=>Wn,partition:()=>xa,pick:()=>Oa,pluck:()=>Ai,property:()=>B,propertyOf:()=>Ht,random:()=>Oe,range:()=>Ho,reduce:()=>Xr,reduceRight:()=>$r,reject:()=>Rn,rest:()=>ro,restArguments:()=>k,result:()=>lo,sample:()=>Pi,select:()=>fn,shuffle:()=>As,size:()=>Ns,some:()=>No,sortBy:()=>Ps,sortedIndex:()=>Gn,tail:()=>ro,take:()=>Io,tap:()=>ye,template:()=>so,templateSettings:()=>je,throttle:()=>xr,times:()=>U,toArray:()=>vo,toPath:()=>ur,transpose:()=>jo,unescape:()=>Pe,union:()=>Is,uniq:()=>Ro,unique:()=>Ro,uniqueId:()=>Ao,unzip:()=>jo,values:()=>we,where:()=>Os,without:()=>Ni,wrap:()=>Kn,zip:()=>ka});var n="1.13.1",o=typeof self=="object"&&self.self===self&&self||typeof global=="object"&&global.global===global&&global||Function("return this")()||{},l=Array.prototype,s=Object.prototype,f=typeof Symbol<"u"?Symbol.prototype:null,u=l.push,p=l.slice,d=s.toString,h=s.hasOwnProperty,v=typeof ArrayBuffer<"u",_=typeof DataView<"u",T=Array.isArray,w=Object.keys,C=Object.create,A=v&&ArrayBuffer.isView,S=isNaN,x=isFinite,N=!{toString:null}.propertyIsEnumerable("toString"),b=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],L=Math.pow(2,53)-1;function k(G,tt){return tt=tt==null?G.length-1:+tt,function(){for(var ht=Math.max(arguments.length-tt,0),Tt=Array(ht),Rt=0;Rt<ht;Rt++)Tt[Rt]=arguments[Rt+tt];switch(tt){case 0:return G.call(this,Tt);case 1:return G.call(this,arguments[0],Tt);case 2:return G.call(this,arguments[0],arguments[1],Tt)}var Nt=Array(tt+1);for(Rt=0;Rt<tt;Rt++)Nt[Rt]=arguments[Rt];return Nt[tt]=Tt,G.apply(this,Nt)}}function P(G){var tt=typeof G;return tt==="function"||tt==="object"&&!!G}function D(G){return G===null}function R(G){return G===void 0}function M(G){return G===!0||G===!1||d.call(G)==="[object Boolean]"}function z(G){return!!(G&&G.nodeType===1)}function H(G){var tt="[object "+G+"]";return function(ht){return d.call(ht)===tt}}const $=H("String"),j=H("Number"),rt=H("Date"),q=H("RegExp"),st=H("Error"),vt=H("Symbol"),St=H("ArrayBuffer");var pt=H("Function"),bt=o.document&&o.document.childNodes;typeof Int8Array!="object"&&typeof bt!="function"&&(pt=function(G){return typeof G=="function"||!1});const at=pt,lt=H("Object");var Et=_&&lt(new DataView(new ArrayBuffer(8))),yt=typeof Map<"u"&&lt(new Map),Ot=H("DataView");function zt(G){return G!=null&&at(G.getInt8)&&St(G.buffer)}const Bt=Et?zt:Ot,Ut=T||H("Array");function xt(G,tt){return G!=null&&h.call(G,tt)}var ot=H("Arguments");(function(){ot(arguments)||(ot=function(G){return xt(G,"callee")})})();const Vt=ot;function mt(G){return!vt(G)&&x(G)&&!isNaN(parseFloat(G))}function Ft(G){return j(G)&&S(G)}function Kt(G){return function(){return G}}function W(G){return function(tt){var ht=G(tt);return typeof ht=="number"&&ht>=0&&ht<=L}}function Z(G){return function(tt){return tt?.[G]}}const it=Z("byteLength"),Ct=W(it);var jt=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/;function ut(G){return A?A(G)&&!Bt(G):Ct(G)&&jt.test(d.call(G))}const Dt=v?ut:Kt(!1),At=Z("length");function ee(G){for(var tt={},ht=G.length,Tt=0;Tt<ht;++Tt)tt[G[Tt]]=!0;return{contains:function(Rt){return tt[Rt]},push:function(Rt){return tt[Rt]=!0,G.push(Rt)}}}function Ce(G,tt){tt=ee(tt);var ht=b.length,Tt=G.constructor,Rt=at(Tt)&&Tt.prototype||s,Nt="constructor";for(xt(G,Nt)&&!tt.contains(Nt)&&tt.push(Nt);ht--;)Nt=b[ht],Nt in G&&G[Nt]!==Rt[Nt]&&!tt.contains(Nt)&&tt.push(Nt)}function de(G){if(!P(G))return[];if(w)return w(G);var tt=[];for(var ht in G)xt(G,ht)&&tt.push(ht);return N&&Ce(G,tt),tt}function nt(G){if(G==null)return!0;var tt=At(G);return typeof tt=="number"&&(Ut(G)||$(G)||Vt(G))?tt===0:At(de(G))===0}function wt(G,tt){var ht=de(tt),Tt=ht.length;if(G==null)return!Tt;for(var Rt=Object(G),Nt=0;Nt<Tt;Nt++){var $t=ht[Nt];if(tt[$t]!==Rt[$t]||!($t in Rt))return!1}return!0}function J(G){if(G instanceof J)return G;if(!(this instanceof J))return new J(G);this._wrapped=G}J.VERSION=n,J.prototype.value=function(){return this._wrapped},J.prototype.valueOf=J.prototype.toJSON=J.prototype.value,J.prototype.toString=function(){return String(this._wrapped)};function Xt(G){return new Uint8Array(G.buffer||G,G.byteOffset||0,it(G))}var Lt="[object DataView]";function Zt(G,tt,ht,Tt){if(G===tt)return G!==0||1/G===1/tt;if(G==null||tt==null)return!1;if(G!==G)return tt!==tt;var Rt=typeof G;return Rt!=="function"&&Rt!=="object"&&typeof tt!="object"?!1:re(G,tt,ht,Tt)}function re(G,tt,ht,Tt){G instanceof J&&(G=G._wrapped),tt instanceof J&&(tt=tt._wrapped);var Rt=d.call(G);if(Rt!==d.call(tt))return!1;if(Et&&Rt=="[object Object]"&&Bt(G)){if(!Bt(tt))return!1;Rt=Lt}switch(Rt){case"[object RegExp]":case"[object String]":return""+G==""+tt;case"[object Number]":return+G!=+G?+tt!=+tt:+G==0?1/+G===1/tt:+G==+tt;case"[object Date]":case"[object Boolean]":return+G==+tt;case"[object Symbol]":return f.valueOf.call(G)===f.valueOf.call(tt);case"[object ArrayBuffer]":case Lt:return re(Xt(G),Xt(tt),ht,Tt)}var Nt=Rt==="[object Array]";if(!Nt&&Dt(G)){var $t=it(G);if($t!==it(tt))return!1;if(G.buffer===tt.buffer&&G.byteOffset===tt.byteOffset)return!0;Nt=!0}if(!Nt){if(typeof G!="object"||typeof tt!="object")return!1;var se=G.constructor,He=tt.constructor;if(se!==He&&!(at(se)&&se instanceof se&&at(He)&&He instanceof He)&&"constructor"in G&&"constructor"in tt)return!1}ht=ht||[],Tt=Tt||[];for(var Le=ht.length;Le--;)if(ht[Le]===G)return Tt[Le]===tt;if(ht.push(G),Tt.push(tt),Nt){if(Le=G.length,Le!==tt.length)return!1;for(;Le--;)if(!Zt(G[Le],tt[Le],ht,Tt))return!1}else{var Or=de(G),Ur;if(Le=Or.length,de(tt).length!==Le)return!1;for(;Le--;)if(Ur=Or[Le],!(xt(tt,Ur)&&Zt(G[Ur],tt[Ur],ht,Tt)))return!1}return ht.pop(),Tt.pop(),!0}function le(G,tt){return Zt(G,tt)}function oe(G){if(!P(G))return[];var tt=[];for(var ht in G)tt.push(ht);return N&&Ce(G,tt),tt}function ve(G){var tt=At(G);return function(ht){if(ht==null)return!1;var Tt=oe(ht);if(At(Tt))return!1;for(var Rt=0;Rt<tt;Rt++)if(!at(ht[G[Rt]]))return!1;return G!==et||!at(ht[xe])}}var xe="forEach",Ae="has",ke=["clear","delete"],We=["get",Ae,"set"],ir=ke.concat(xe,We),et=ke.concat(We),_t=["add"].concat(ke,xe,Ae);const Pt=yt?ve(ir):H("Map"),Yt=yt?ve(et):H("WeakMap"),ne=yt?ve(_t):H("Set"),me=H("WeakSet");function we(G){for(var tt=de(G),ht=tt.length,Tt=Array(ht),Rt=0;Rt<ht;Rt++)Tt[Rt]=G[tt[Rt]];return Tt}function Me(G){for(var tt=de(G),ht=tt.length,Tt=Array(ht),Rt=0;Rt<ht;Rt++)Tt[Rt]=[tt[Rt],G[tt[Rt]]];return Tt}function Ue(G){for(var tt={},ht=de(G),Tt=0,Rt=ht.length;Tt<Rt;Tt++)tt[G[ht[Tt]]]=ht[Tt];return tt}function ze(G){var tt=[];for(var ht in G)at(G[ht])&&tt.push(ht);return tt.sort()}function Pr(G,tt){return function(ht){var Tt=arguments.length;if(tt&&(ht=Object(ht)),Tt<2||ht==null)return ht;for(var Rt=1;Rt<Tt;Rt++)for(var Nt=arguments[Rt],$t=G(Nt),se=$t.length,He=0;He<se;He++){var Le=$t[He];(!tt||ht[Le]===void 0)&&(ht[Le]=Nt[Le])}return ht}}const Fe=Pr(oe),hr=Pr(de),ar=Pr(oe,!0);function De(){return function(){}}function er(G){if(!P(G))return{};if(C)return C(G);var tt=De();tt.prototype=G;var ht=new tt;return tt.prototype=null,ht}function Re(G,tt){var ht=er(G);return tt&&hr(ht,tt),ht}function Ye(G){return P(G)?Ut(G)?G.slice():Fe({},G):G}function ye(G,tt){return tt(G),G}function ur(G){return Ut(G)?G:[G]}J.toPath=ur;function Ve(G){return J.toPath(G)}function Je(G,tt){for(var ht=tt.length,Tt=0;Tt<ht;Tt++){if(G==null)return;G=G[tt[Tt]]}return ht?G:void 0}function Ge(G,tt,ht){var Tt=Je(G,Ve(tt));return R(Tt)?ht:Tt}function rr(G,tt){tt=Ve(tt);for(var ht=tt.length,Tt=0;Tt<ht;Tt++){var Rt=tt[Tt];if(!xt(G,Rt))return!1;G=G[Rt]}return!!ht}function Ie(G){return G}function O(G){return G=hr({},G),function(tt){return wt(tt,G)}}function B(G){return G=Ve(G),function(tt){return Je(tt,G)}}function F(G,tt,ht){if(tt===void 0)return G;switch(ht??3){case 1:return function(Tt){return G.call(tt,Tt)};case 3:return function(Tt,Rt,Nt){return G.call(tt,Tt,Rt,Nt)};case 4:return function(Tt,Rt,Nt,$t){return G.call(tt,Tt,Rt,Nt,$t)}}return function(){return G.apply(tt,arguments)}}function ct(G,tt,ht){return G==null?Ie:at(G)?F(G,tt,ht):P(G)&&!Ut(G)?O(G):B(G)}function Mt(G,tt){return ct(G,tt,1/0)}J.iteratee=Mt;function ce(G,tt,ht){return J.iteratee!==Mt?J.iteratee(G,tt):ct(G,tt,ht)}function $e(G,tt,ht){tt=ce(tt,ht);for(var Tt=de(G),Rt=Tt.length,Nt={},$t=0;$t<Rt;$t++){var se=Tt[$t];Nt[se]=tt(G[se],se,G)}return Nt}function Ne(){}function Ht(G){return G==null?Ne:function(tt){return Ge(G,tt)}}function U(G,tt,ht){var Tt=Array(Math.max(0,G));tt=F(tt,ht,1);for(var Rt=0;Rt<G;Rt++)Tt[Rt]=tt(Rt);return Tt}function Oe(G,tt){return tt==null&&(tt=G,G=0),G+Math.floor(Math.random()*(tt-G+1))}const Q=Date.now||function(){return new Date().getTime()};function dt(G){var tt=function(Nt){return G[Nt]},ht="(?:"+de(G).join("|")+")",Tt=RegExp(ht),Rt=RegExp(ht,"g");return function(Nt){return Nt=Nt==null?"":""+Nt,Tt.test(Nt)?Nt.replace(Rt,tt):Nt}}const Wt={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},Jt=dt(Wt),te=Ue(Wt),Pe=dt(te),je=J.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var sr=/(.)^/,Ze={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},cn=/\\|'|\r|\n|\u2028|\u2029/g;function Oo(G){return"\\"+Ze[G]}var ao=/^\s*(\w|\$)+\s*$/;function so(G,tt,ht){!tt&&ht&&(tt=ht),tt=ar({},tt,J.templateSettings);var Tt=RegExp([(tt.escape||sr).source,(tt.interpolate||sr).source,(tt.evaluate||sr).source].join("|")+"|$","g"),Rt=0,Nt="__p+='";G.replace(Tt,function(Le,Or,Ur,Hs,Ma){return Nt+=G.slice(Rt,Ma).replace(cn,Oo),Rt=Ma+Le.length,Or?Nt+=`'+
((__t=(`+Or+`))==null?'':_.escape(__t))+
'`:Ur?Nt+=`'+
((__t=(`+Ur+`))==null?'':__t)+
'`:Hs&&(Nt+=`';
`+Hs+`
__p+='`),Le}),Nt+=`';
`;var $t=tt.variable;if($t){if(!ao.test($t))throw new Error("variable is not a bare identifier: "+$t)}else Nt=`with(obj||{}){
`+Nt+`}
`,$t="obj";Nt=`var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};
`+Nt+`return __p;
`;var se;try{se=new Function($t,"_",Nt)}catch(Le){throw Le.source=Nt,Le}var He=function(Le){return se.call(this,Le,J)};return He.source="function("+$t+`){
`+Nt+"}",He}function lo(G,tt,ht){tt=Ve(tt);var Tt=tt.length;if(!Tt)return at(ht)?ht.call(G):ht;for(var Rt=0;Rt<Tt;Rt++){var Nt=G?.[tt[Rt]];Nt===void 0&&(Nt=ht,Rt=Tt),G=at(Nt)?Nt.call(G):Nt}return G}var ti=0;function Ao(G){var tt=++ti+"";return G?G+tt:tt}function Po(G){var tt=J(G);return tt._chain=!0,tt}function uo(G,tt,ht,Tt,Rt){if(!(Tt instanceof tt))return G.apply(ht,Rt);var Nt=er(G.prototype),$t=G.apply(Nt,Rt);return P($t)?$t:Nt}var eo=k(function(G,tt){var ht=eo.placeholder,Tt=function(){for(var Rt=0,Nt=tt.length,$t=Array(Nt),se=0;se<Nt;se++)$t[se]=tt[se]===ht?arguments[Rt++]:tt[se];for(;Rt<arguments.length;)$t.push(arguments[Rt++]);return uo(G,Tt,this,this,$t)};return Tt});eo.placeholder=J;const Wn=eo,ko=k(function(G,tt,ht){if(!at(G))throw new TypeError("Bind must be called on a function");var Tt=k(function(Rt){return uo(G,Tt,tt,this,ht.concat(Rt))});return Tt}),br=W(At);function Er(G,tt,ht,Tt){if(Tt=Tt||[],!tt&&tt!==0)tt=1/0;else if(tt<=0)return Tt.concat(G);for(var Rt=Tt.length,Nt=0,$t=At(G);Nt<$t;Nt++){var se=G[Nt];if(br(se)&&(Ut(se)||Vt(se)))if(tt>1)Er(se,tt-1,ht,Tt),Rt=Tt.length;else for(var He=0,Le=se.length;He<Le;)Tt[Rt++]=se[He++];else ht||(Tt[Rt++]=se)}return Tt}const ei=k(function(G,tt){tt=Er(tt,!1,!1);var ht=tt.length;if(ht<1)throw new Error("bindAll must be passed function names");for(;ht--;){var Tt=tt[ht];G[Tt]=ko(G[Tt],G)}return G});function wn(G,tt){var ht=function(Tt){var Rt=ht.cache,Nt=""+(tt?tt.apply(this,arguments):Tt);return xt(Rt,Nt)||(Rt[Nt]=G.apply(this,arguments)),Rt[Nt]};return ht.cache={},ht}const zn=k(function(G,tt,ht){return setTimeout(function(){return G.apply(null,ht)},tt)}),zr=Wn(zn,J,1);function xr(G,tt,ht){var Tt,Rt,Nt,$t,se=0;ht||(ht={});var He=function(){se=ht.leading===!1?0:Q(),Tt=null,$t=G.apply(Rt,Nt),Tt||(Rt=Nt=null)},Le=function(){var Or=Q();!se&&ht.leading===!1&&(se=Or);var Ur=tt-(Or-se);return Rt=this,Nt=arguments,Ur<=0||Ur>tt?(Tt&&(clearTimeout(Tt),Tt=null),se=Or,$t=G.apply(Rt,Nt),Tt||(Rt=Nt=null)):!Tt&&ht.trailing!==!1&&(Tt=setTimeout(He,Ur)),$t};return Le.cancel=function(){clearTimeout(Tt),se=0,Tt=Rt=Nt=null},Le}function Oi(G,tt,ht){var Tt,Rt,Nt,$t,se,He=function(){var Or=Q()-Rt;tt>Or?Tt=setTimeout(He,tt-Or):(Tt=null,ht||($t=G.apply(se,Nt)),Tt||(Nt=se=null))},Le=k(function(Or){return se=this,Nt=Or,Rt=Q(),Tt||(Tt=setTimeout(He,tt),ht&&($t=G.apply(se,Nt))),$t});return Le.cancel=function(){clearTimeout(Tt),Tt=Nt=se=null},Le}function Kn(G,tt){return Wn(tt,G)}function Sn(G){return function(){return!G.apply(this,arguments)}}function co(){var G=arguments,tt=G.length-1;return function(){for(var ht=tt,Tt=G[tt].apply(this,arguments);ht--;)Tt=G[ht].call(this,Tt);return Tt}}function En(G,tt){return function(){if(--G<1)return tt.apply(this,arguments)}}function xn(G,tt){var ht;return function(){return--G>0&&(ht=tt.apply(this,arguments)),G<=1&&(tt=null),ht}}const ri=Wn(xn,2);function Mo(G,tt,ht){tt=ce(tt,ht);for(var Tt=de(G),Rt,Nt=0,$t=Tt.length;Nt<$t;Nt++)if(Rt=Tt[Nt],tt(G[Rt],Rt,G))return Rt}function fo(G){return function(tt,ht,Tt){ht=ce(ht,Tt);for(var Rt=At(tt),Nt=G>0?0:Rt-1;Nt>=0&&Nt<Rt;Nt+=G)if(ht(tt[Nt],Nt,tt))return Nt;return-1}}const In=fo(1),po=fo(-1);function Gn(G,tt,ht,Tt){ht=ce(ht,Tt,1);for(var Rt=ht(tt),Nt=0,$t=At(G);Nt<$t;){var se=Math.floor((Nt+$t)/2);ht(G[se])<Rt?Nt=se+1:$t=se}return Nt}function be(G,tt,ht){return function(Tt,Rt,Nt){var $t=0,se=At(Tt);if(typeof Nt=="number")G>0?$t=Nt>=0?Nt:Math.max(Nt+se,$t):se=Nt>=0?Math.min(Nt+1,se):Nt+se+1;else if(ht&&Nt&&se)return Nt=ht(Tt,Rt),Tt[Nt]===Rt?Nt:-1;if(Rt!==Rt)return Nt=tt(p.call(Tt,$t,se),Ft),Nt>=0?Nt+$t:-1;for(Nt=G>0?$t:se-1;Nt>=0&&Nt<se;Nt+=G)if(Tt[Nt]===Rt)return Nt;return-1}}const _e=be(1,In,Gn),Ke=be(-1,po);function Ee(G,tt,ht){var Tt=br(G)?In:Mo,Rt=Tt(G,tt,ht);if(Rt!==void 0&&Rt!==-1)return G[Rt]}function cr(G,tt){return Ee(G,O(tt))}function Tr(G,tt,ht){tt=F(tt,ht);var Tt,Rt;if(br(G))for(Tt=0,Rt=G.length;Tt<Rt;Tt++)tt(G[Tt],Tt,G);else{var Nt=de(G);for(Tt=0,Rt=Nt.length;Tt<Rt;Tt++)tt(G[Nt[Tt]],Nt[Tt],G)}return G}function Kr(G,tt,ht){tt=ce(tt,ht);for(var Tt=!br(G)&&de(G),Rt=(Tt||G).length,Nt=Array(Rt),$t=0;$t<Rt;$t++){var se=Tt?Tt[$t]:$t;Nt[$t]=tt(G[se],se,G)}return Nt}function Dn(G){var tt=function(ht,Tt,Rt,Nt){var $t=!br(ht)&&de(ht),se=($t||ht).length,He=G>0?0:se-1;for(Nt||(Rt=ht[$t?$t[He]:He],He+=G);He>=0&&He<se;He+=G){var Le=$t?$t[He]:He;Rt=Tt(Rt,ht[Le],Le,ht)}return Rt};return function(ht,Tt,Rt,Nt){var $t=arguments.length>=3;return tt(ht,F(Tt,Nt,4),Rt,$t)}}const Xr=Dn(1),$r=Dn(-1);function fn(G,tt,ht){var Tt=[];return tt=ce(tt,ht),Tr(G,function(Rt,Nt,$t){tt(Rt,Nt,$t)&&Tt.push(Rt)}),Tt}function Rn(G,tt,ht){return fn(G,Sn(ce(tt)),ht)}function ho(G,tt,ht){tt=ce(tt,ht);for(var Tt=!br(G)&&de(G),Rt=(Tt||G).length,Nt=0;Nt<Rt;Nt++){var $t=Tt?Tt[Nt]:Nt;if(!tt(G[$t],$t,G))return!1}return!0}function No(G,tt,ht){tt=ce(tt,ht);for(var Tt=!br(G)&&de(G),Rt=(Tt||G).length,Nt=0;Nt<Rt;Nt++){var $t=Tt?Tt[Nt]:Nt;if(tt(G[$t],$t,G))return!0}return!1}function kr(G,tt,ht,Tt){return br(G)||(G=we(G)),(typeof ht!="number"||Tt)&&(ht=0),_e(G,tt,ht)>=0}const xs=k(function(G,tt,ht){var Tt,Rt;return at(tt)?Rt=tt:(tt=Ve(tt),Tt=tt.slice(0,-1),tt=tt[tt.length-1]),Kr(G,function(Nt){var $t=Rt;if(!$t){if(Tt&&Tt.length&&(Nt=Je(Nt,Tt)),Nt==null)return;$t=Nt[tt]}return $t==null?$t:$t.apply(Nt,ht)})});function Ai(G,tt){return Kr(G,B(tt))}function Os(G,tt){return fn(G,O(tt))}function wa(G,tt,ht){var Tt=-1/0,Rt=-1/0,Nt,$t;if(tt==null||typeof tt=="number"&&typeof G[0]!="object"&&G!=null){G=br(G)?G:we(G);for(var se=0,He=G.length;se<He;se++)Nt=G[se],Nt!=null&&Nt>Tt&&(Tt=Nt)}else tt=ce(tt,ht),Tr(G,function(Le,Or,Ur){$t=tt(Le,Or,Ur),($t>Rt||$t===-1/0&&Tt===-1/0)&&(Tt=Le,Rt=$t)});return Tt}function Sa(G,tt,ht){var Tt=1/0,Rt=1/0,Nt,$t;if(tt==null||typeof tt=="number"&&typeof G[0]!="object"&&G!=null){G=br(G)?G:we(G);for(var se=0,He=G.length;se<He;se++)Nt=G[se],Nt!=null&&Nt<Tt&&(Tt=Nt)}else tt=ce(tt,ht),Tr(G,function(Le,Or,Ur){$t=tt(Le,Or,Ur),($t<Rt||$t===1/0&&Tt===1/0)&&(Tt=Le,Rt=$t)});return Tt}function Pi(G,tt,ht){if(tt==null||ht)return br(G)||(G=we(G)),G[Oe(G.length-1)];var Tt=br(G)?Ye(G):we(G),Rt=At(Tt);tt=Math.max(Math.min(tt,Rt),0);for(var Nt=Rt-1,$t=0;$t<tt;$t++){var se=Oe($t,Nt),He=Tt[$t];Tt[$t]=Tt[se],Tt[se]=He}return Tt.slice(0,tt)}function As(G){return Pi(G,1/0)}function Ps(G,tt,ht){var Tt=0;return tt=ce(tt,ht),Ai(Kr(G,function(Rt,Nt,$t){return{value:Rt,index:Tt++,criteria:tt(Rt,Nt,$t)}}).sort(function(Rt,Nt){var $t=Rt.criteria,se=Nt.criteria;if($t!==se){if($t>se||$t===void 0)return 1;if($t<se||se===void 0)return-1}return Rt.index-Nt.index}),"value")}function ki(G,tt){return function(ht,Tt,Rt){var Nt=tt?[[],[]]:{};return Tt=ce(Tt,Rt),Tr(ht,function($t,se){var He=Tt($t,se,ht);G(Nt,$t,He)}),Nt}}const ks=ki(function(G,tt,ht){xt(G,ht)?G[ht].push(tt):G[ht]=[tt]}),Ea=ki(function(G,tt,ht){G[ht]=tt}),Ms=ki(function(G,tt,ht){xt(G,ht)?G[ht]++:G[ht]=1}),xa=ki(function(G,tt,ht){G[ht?0:1].push(tt)},!0);var Mi=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;function vo(G){return G?Ut(G)?p.call(G):$(G)?G.match(Mi):br(G)?Kr(G,Ie):we(G):[]}function Ns(G){return G==null?0:br(G)?G.length:de(G).length}function Du(G,tt,ht){return tt in ht}const Oa=k(function(G,tt){var ht={},Tt=tt[0];if(G==null)return ht;at(Tt)?(tt.length>1&&(Tt=F(Tt,tt[1])),tt=oe(G)):(Tt=Du,tt=Er(tt,!1,!1),G=Object(G));for(var Rt=0,Nt=tt.length;Rt<Nt;Rt++){var $t=tt[Rt],se=G[$t];Tt(se,$t,G)&&(ht[$t]=se)}return ht}),Lo=k(function(G,tt){var ht=tt[0],Tt;return at(ht)?(ht=Sn(ht),tt.length>1&&(Tt=tt[1])):(tt=Kr(Er(tt,!1,!1),String),ht=function(Rt,Nt){return!kr(tt,Nt)}),Oa(G,ht,Tt)});function vr(G,tt,ht){return p.call(G,0,Math.max(0,G.length-(tt==null||ht?1:tt)))}function Io(G,tt,ht){return G==null||G.length<1?tt==null||ht?void 0:[]:tt==null||ht?G[0]:vr(G,G.length-tt)}function ro(G,tt,ht){return p.call(G,tt==null||ht?1:tt)}function Do(G,tt,ht){return G==null||G.length<1?tt==null||ht?void 0:[]:tt==null||ht?G[G.length-1]:ro(G,Math.max(0,G.length-tt))}function Ls(G){return fn(G,Boolean)}function Aa(G,tt){return Er(G,tt,!1)}const Pa=k(function(G,tt){return tt=Er(tt,!0,!0),fn(G,function(ht){return!kr(tt,ht)})}),Ni=k(function(G,tt){return Pa(G,tt)});function Ro(G,tt,ht,Tt){M(tt)||(Tt=ht,ht=tt,tt=!1),ht!=null&&(ht=ce(ht,Tt));for(var Rt=[],Nt=[],$t=0,se=At(G);$t<se;$t++){var He=G[$t],Le=ht?ht(He,$t,G):He;tt&&!ht?((!$t||Nt!==Le)&&Rt.push(He),Nt=Le):ht?kr(Nt,Le)||(Nt.push(Le),Rt.push(He)):kr(Rt,He)||Rt.push(He)}return Rt}const Is=k(function(G){return Ro(Er(G,!0,!0))});function Ds(G){for(var tt=[],ht=arguments.length,Tt=0,Rt=At(G);Tt<Rt;Tt++){var Nt=G[Tt];if(!kr(tt,Nt)){var $t;for($t=1;$t<ht&&kr(arguments[$t],Nt);$t++);$t===ht&&tt.push(Nt)}}return tt}function jo(G){for(var tt=G&&wa(G,At).length||0,ht=Array(tt),Tt=0;Tt<tt;Tt++)ht[Tt]=Ai(G,Tt);return ht}const ka=k(jo);function Rs(G,tt){for(var ht={},Tt=0,Rt=At(G);Tt<Rt;Tt++)tt?ht[G[Tt]]=tt[Tt]:ht[G[Tt][0]]=G[Tt][1];return ht}function Ho(G,tt,ht){tt==null&&(tt=G||0,G=0),ht||(ht=tt<G?-1:1);for(var Tt=Math.max(Math.ceil((tt-G)/ht),0),Rt=Array(Tt),Nt=0;Nt<Tt;Nt++,G+=ht)Rt[Nt]=G;return Rt}function jn(G,tt){if(tt==null||tt<1)return[];for(var ht=[],Tt=0,Rt=G.length;Tt<Rt;)ht.push(p.call(G,Tt,Tt+=tt));return ht}function Fo(G,tt){return G._chain?J(tt).chain():tt}function ni(G){return Tr(ze(G),function(tt){var ht=J[tt]=G[tt];J.prototype[tt]=function(){var Tt=[this._wrapped];return u.apply(Tt,arguments),Fo(this,ht.apply(J,Tt))}}),J}Tr(["pop","push","reverse","shift","sort","splice","unshift"],function(G){var tt=l[G];J.prototype[G]=function(){var ht=this._wrapped;return ht!=null&&(tt.apply(ht,arguments),(G==="shift"||G==="splice")&&ht.length===0&&delete ht[0]),Fo(this,ht)}}),Tr(["concat","join","slice"],function(G){var tt=l[G];J.prototype[G]=function(){var ht=this._wrapped;return ht!=null&&(ht=tt.apply(ht,arguments)),Fo(this,ht)}});const js=J;var pn=ni(e);pn._=pn;const go=pn})},Sd={};function qe(i){var r=Sd[i];if(r!==void 0)return r.exports;var t=Sd[i]={exports:{}};return Bg[i].call(t.exports,t,t.exports,qe),t.exports}qe.n=i=>{var r=i&&i.__esModule?()=>i.default:()=>i;return qe.d(r,{a:r}),r};qe.d=(i,r)=>{for(var t in r)qe.o(r,t)&&!qe.o(i,t)&&Object.defineProperty(i,t,{enumerable:!0,get:r[t]})};qe.g=(function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}})();qe.o=(i,r)=>Object.prototype.hasOwnProperty.call(i,r);qe.r=i=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})};var Mu={};qe.d(Mu,{Ay:()=>pE,I0:()=>wv,nu:()=>Cv});var X=qe(5706),qt=qe(1166);function _n(i){for(var r=[],t=1;t<arguments.length;t++)r[t-1]=arguments[t];var e=i.raw;return e.reduce(function(n,o,l){var s=r[l-1],f=e[l-1];return Array.isArray(s)?s=s.join(""):f&&f.slice(-1)==="$"?n=n.slice(0,-1):s=(0,qt.escape)(s),n+s+o})}var Wg=function(){return{stylePrefix:"gjs-",components:"",style:"",fromElement:!1,projectData:void 0,noticeOnUnload:!0,showOffsets:!1,showOffsetsSelected:!1,forceClass:!0,height:"900px",width:"100%",log:["warning","error"],baseCss:"",protectedCss:"* { box-sizing: border-box; } body {margin: 0;}",canvasCss:"",defaultCommand:"select-comp",showToolbar:!0,showDevices:!0,devicePreviewMode:!1,mediaCondition:"max-width",tagVarStart:"{[ ",tagVarEnd:" ]}",jsInHtml:!0,nativeDnD:!0,multipleSelection:!0,optsHtml:{},optsCss:{},avoidInlineStyle:!0,avoidDefaults:!0,clearStyles:!1,listenToEl:[],cssIcons:"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css",icons:{close:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"></path></svg>',move:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M13,6V11H18V7.75L22.25,12L18,16.25V13H13V18H16.25L12,22.25L7.75,18H11V13H6V16.25L1.75,12L6,7.75V11H11V6H7.75L12,1.75L16.25,6H13Z"/></svg>',plus:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z" /></svg>',caret:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M7,10L12,15L17,10H7Z" /></svg>',delete:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z" /></svg>',copy:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z" /></svg>',arrowUp:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M13,20H11V8L5.5,13.5L4.08,12.08L12,4.16L19.92,12.08L18.5,13.5L13,8V20Z" /></svg>',chevron:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M7.41,15.41L12,10.83L16.59,15.41L18,14L12,8L6,14L7.41,15.41Z" /></svg>',eye:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M12,9A3,3 0 0,0 9,12A3,3 0 0,0 12,15A3,3 0 0,0 15,12A3,3 0 0,0 12,9M12,17A5,5 0 0,1 7,12A5,5 0 0,1 12,7A5,5 0 0,1 17,12A5,5 0 0,1 12,17M12,4.5C7,4.5 2.73,7.61 1,12C2.73,16.39 7,19.5 12,19.5C17,19.5 21.27,16.39 23,12C21.27,7.61 17,4.5 12,4.5Z" /></svg>',eyeOff:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M11.83,9L15,12.16C15,12.11 15,12.05 15,12A3,3 0 0,0 12,9C11.94,9 11.89,9 11.83,9M7.53,9.8L9.08,11.35C9.03,11.56 9,11.77 9,12A3,3 0 0,0 12,15C12.22,15 12.44,14.97 12.65,14.92L14.2,16.47C13.53,16.8 12.79,17 12,17A5,5 0 0,1 7,12C7,11.21 7.2,10.47 7.53,9.8M2,4.27L4.28,6.55L4.73,7C3.08,8.3 1.78,10 1,12C2.73,16.39 7,19.5 12,19.5C13.55,19.5 15.03,19.2 16.38,18.66L16.81,19.08L19.73,22L21,20.73L3.27,3M12,7A5,5 0 0,1 17,12C17,12.64 16.87,13.26 16.64,13.82L19.57,16.75C21.07,15.5 22.27,13.86 23,12C21.27,7.61 17,4.5 12,4.5C10.6,4.5 9.26,4.75 8,5.2L10.17,7.35C10.74,7.13 11.35,7 12,7Z" /></svg>'},i18n:{},undoManager:{},assetManager:{},canvas:{},layerManager:{},storageManager:{},richTextEditor:{},domComponents:{},modal:{},codeManager:{},panels:{},commands:{},cssComposer:{},selectorManager:{},deviceManager:{},styleManager:{},blockManager:{},traitManager:{},textViewCode:"Code",keepUnusedStyles:!1,customUI:!1,telemetry:!0}};const zg=Wg;var Uf=qe(4193),Kg=qe.n(Uf),Rr=qe(7774);const Gg=(function(i){var r=i.$;if(r&&r.prototype&&r.prototype.constructor.name!=="jQuery"){var t=r.fn;t.hide=function(){return this.css("display","none")},t.show=function(){return this.css("display","block")},t.focus=function(){var o=this.get(0);return o&&o.focus(),this},t.bind=function(o,l){return this.on(o,l)},t.unbind=function(o,l){if((0,X.isObject)(o)){for(var s in o)o.hasOwnProperty(s)&&this.off(s,o[s]);return this}else return this.off(o,l)},t.click=function(o){return o?this.on("click",o):this.trigger("click")},t.change=function(o){return o?this.on("change",o):this.trigger("change")},t.keydown=function(o){return o?this.on("keydown",o):this.trigger("keydown")},t.delegate=function(o,l,s,f){return f||(f=s),this.on(l,o,function(u){u.data=s,f(u)})},t.scrollLeft=function(){var o=this.get(0);o=o.nodeType==9?o.defaultView:o;var l=o instanceof Window?o:null;return l?l.pageXOffset:o.scrollLeft||0},t.scrollTop=function(){var o=this.get(0);o=o.nodeType==9?o.defaultView:o;var l=o instanceof Window?o:null;return l?l.pageYOffset:o.scrollTop||0};var e=r.prototype.offset;t.offset=function(o){var l,s;return o&&(l=o.top,s=o.left),typeof l<"u"&&this.css("top","".concat(l,"px")),typeof s<"u"&&this.css("left","".concat(s,"px")),e.call(this)},r.map=function(o,l){for(var s=[],f=0;f<o.length;f++)s.push(l(o[f],f));return s};var n=Array.prototype.indexOf;r.inArray=function(o,l,s){return l==null?-1:n.call(l,o,s)},r.Event=function(o,l){if(!(this instanceof r.Event))return new r.Event(o,l);this.type=o,this.isDefaultPrevented=function(){return!1}}}});var ae=qe(9156),Kh=(function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}})(),qg=(function(i){Kh(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r})(ae.Kx),Yg=(function(i){Kh(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getByComponent=function(t){var e=this;return this.filter(function(n){return e.getComponent(n)===t})[0]},r.prototype.addComponent=function(t,e){var n=this,o=((0,X.isArray)(t)?t:[t]).filter(function(l){return!n.hasComponent(l)}).map(function(l){return new qg({component:l})})[0];return this.push(o,e)},r.prototype.getComponent=function(t){return t.get("component")},r.prototype.hasComponent=function(t){var e=this.getByComponent(t);return e&&this.contains(e)},r.prototype.lastComponent=function(){var t=this.last();return t?this.getComponent(t):void 0},r.prototype.allComponents=function(){var t=this;return this.map(function(e){return t.getComponent(e)}).filter(function(e){return e})},r.prototype.removeComponent=function(t,e){var n=this,o=((0,X.isArray)(t)?t:[t]).map(function(l){return n.getByComponent(l)});return this.remove(o,e)},r})(ae.pM);const Xg=Yg;var $g=(function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}})(),Jc=function(){return Jc=Object.assign||function(i){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])}return i},Jc.apply(this,arguments)},Zg=function(i,r,t){if(t||arguments.length===2)for(var e=0,n=r.length,o;e<n;e++)(o||!(e in r))&&(o||(o=Array.prototype.slice.call(r,0,e)),o[e]=r[e]);return i.concat(o||Array.prototype.slice.call(r))},Gh=(function(){function i(r,t,e){this.debounced=[],this.collections=[],this.cls=[],this.events={},this._em=r,this._name=t;var n=this.name.charAt(0).toLowerCase()+this.name.slice(1),o=(0,X.isUndefined)(r.config[n])?r.config[this.name]:r.config[n],l=o===!0?{}:o||{};l.pStylePrefix=r.config.pStylePrefix||"",!(0,X.isUndefined)(o)&&!o&&(l._disable=1),l.em=r,this._config=(0,qt.deepMerge)(e||{},l)}return Object.defineProperty(i.prototype,"em",{get:function(){return this._em},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"config",{get:function(){return this._config},enumerable:!1,configurable:!0}),i.prototype.render=function(r){},i.prototype.postLoad=function(r){},i.prototype.onInit=function(){},Object.defineProperty(i.prototype,"name",{get:function(){return this._name},enumerable:!1,configurable:!0}),i.prototype.getConfig=function(r){return r?this.config[r]:this.config},i.prototype.__logWarn=function(r,t){t===void 0&&(t={}),this.em.logWarning("[".concat(this.name,"]: ").concat(r),t)},i.prototype.destroy=function(){this.__destroy()},i.prototype.__destroy=function(){var r,t,e;(r=this.view)===null||r===void 0||r.remove(),(t=this.state)===null||t===void 0||t.stopListening(),(e=this.state)===null||e===void 0||e.clear(),this.debounced.forEach(function(n){return n.cancel()}),this.collections.forEach(function(n){n.stopListening(),n.reset()})},i.prototype.__appendTo=function(){var r=this.getConfig().appendTo;if(r){var t=(0,X.isElement)(r)?r:document.querySelector(r);if(!t)return this.__logWarn('"appendTo" element not found');t.appendChild(this.render())}},i})();const Cn=Gh;var xo=(function(i){$g(r,i);function r(t,e,n,o,l,s){s===void 0&&(s={});var f=i.call(this,t,e,l)||this;return f.cls=[],f._itemCache=new Map,f.private=!1,f.all=n,o&&(f.events=o),!s.skipListen&&f.__initListen(),f}return r.prototype.postLoad=function(t){},r.prototype.render=function(t){},r.prototype.getProjectData=function(t){var e={},n=this.storageKey;return n&&(e[n]=t||this.getAll()),e},r.prototype.loadProjectData=function(t,e){t===void 0&&(t={}),e===void 0&&(e={});var n=e.all,o=e.onResult,l=e.reset,s=this.storageKey,f={action:"load"},u=n||this.all,p=t[s];if(typeof p=="string")try{p=JSON.parse(p)}catch{this.__logWarn("Data parsing failed",{input:p})}return l&&p&&u.reset(void 0,f),o?p&&o(p,f):p&&(0,qt.isDef)(p.length)&&u.reset(p,f),p},r.prototype.clear=function(t){t===void 0&&(t={});var e=this.all;return e&&e.reset(void 0,t),this},r.prototype.getAll=function(){return Zg([],this.all.models,!0)},r.prototype.getAllMap=function(){return this.getAll().reduce(function(t,e){return t[e.get(e.idAttribute)]=e,t},{})},r.prototype._makeCacheKey=function(t){return""},r.prototype._cacheItem=function(t){var e=this._makeCacheKey(t);e&&this._itemCache.set(e,t)},r.prototype._uncacheItem=function(t){var e=this._makeCacheKey(t);e&&this._itemCache.delete(e)},r.prototype._clearItemCache=function(){this._itemCache.clear()},r.prototype._onItemsResetCache=function(t){var e=this;this._clearItemCache(),t.each(function(n){return e._cacheItem(n)})},r.prototype._onItemKeyChange=function(t){for(var e,n=0,o=this._itemCache.entries();n<o.length;n++){var l=o[n],s=l[0],f=l[1];if(f===t){e=s;break}}e&&this._itemCache.delete(e),this._cacheItem(t)},r.prototype._setupCacheListeners=function(){this.em.listenTo(this.all,"add",this._cacheItem.bind(this)),this.em.listenTo(this.all,"remove",this._uncacheItem.bind(this)),this.em.listenTo(this.all,"reset",this._onItemsResetCache.bind(this))},r.prototype.__initListen=function(t){t===void 0&&(t={});var e=this,n=e.all,o=e.em,l=e.events;n&&o&&n.on("add",function(s,f,u){return o.trigger(l.add,s,u)}).on("remove",function(s,f,u){return o.trigger(l.remove,s,u)}).on("change",function(s,f){return o.trigger(l.update,s,s.changedAttributes(),f)}).on("all",this.__catchAllEvent,this),this.cls=[n].concat(t.collections||[]),(t.propagate||[]).forEach(function(s){var f=s.entity,u=s.event;f.on("all",function(p,d,h,v){var _=v||h,T=Jc({event:p},_);[o,n].map(function(w){return w.trigger(u,d,T)})})})},r.prototype.__remove=function(t,e){var n=this;e===void 0&&(e={});var o=this.em,l=(0,X.isString)(t)?this.get(t):t,s=function(){return l&&n.all.remove(l,e),l};return!e.silent&&o?.trigger(this.events.removeBefore,l,s,e),!e.abort&&s()},r.prototype.__catchAllEvent=function(t,e,n,o){var l=this,s=l.em,f=l.events,u=o||n;s&&f.all&&s.trigger(f.all,{event:t,model:e,options:u}),this.__onAllEvent()},r.prototype.__appendTo=function(t){var e=this.config.appendTo;if(e){var n=(0,X.isElement)(e)?e:document.querySelector(e);if(!n)return this.__logWarn('"appendTo" element not found');n.appendChild(this.render(t))}},r.prototype.__onAllEvent=function(){},r.prototype._createId=function(t){t===void 0&&(t=16);var e=this.getAll(),n=e.length+t,o=this.getAllMap(),l;do l=(0,qt.createId)(n);while(o[l]);return l},r.prototype.__listenAdd=function(t,e){var n=this;t.on("add",function(o,l,s){return n.em.trigger(e,o,s)})},r.prototype.__listenRemove=function(t,e){var n=this;t.on("remove",function(o,l,s){return n.em.trigger(e,o,s)})},r.prototype.__listenUpdate=function(t,e){var n=this;t.on("change",function(o,l){return n.em.trigger(e,o,o.changedAttributes(),l)})},r.prototype.__destroy=function(){var t;this.cls.forEach(function(e){e.stopListening(),e.reset()}),(t=this.view)===null||t===void 0||t.remove(),this.view=void 0},r})(Gh),Qg=function(){return{stylePrefix:"cv-",scripts:[],styles:[],customBadgeLabel:void 0,autoscrollLimit:50,extHl:!1,frameContent:"<!DOCTYPE html>",frameStyle:`
    body { background-color: #fff }
    * ::-webkit-scrollbar-track { background: rgba(0, 0, 0, 0.1) }
    * ::-webkit-scrollbar-thumb { background: rgba(255, 255, 255, 0.2) }
    * ::-webkit-scrollbar { width: 10px }
  `,notTextable:["button","a","input[type=checkbox]","input[type=radio]"],allowExternalDrop:!0}};const Jg=Qg;var Jo=qe(7058),tf;(function(i){i.add="device:add",i.addBefore="device:add:before",i.remove="device:remove",i.removeBefore="device:remove:before",i.select="device:select",i.selectBefore="device:select:before",i.update="device:update",i.all="device"})(tf||(tf={}));const qh=tf;var ef;(function(i){i.add="page:add",i.addBefore="page:add:before",i.remove="page:remove",i.removeBefore="page:remove:before",i.select="page:select",i.selectBefore="page:select:before",i.update="page:update",i.all="page"})(ef||(ef={}));const rf=ef;var tm=(function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}})(),em=(function(i){tm(r,i);function r(t,e,n){return i.call(this,e,{module:t,modelConstructor:n})||this}return r.prototype.add=function(t,e){var n=this,o,l=(0,X.isArray)(t)?t:(0,X.isUndefined)(t)?void 0:[t];return l=(o=l?.map(function(s){return s instanceof n.newModel?s:new n.newModel(n.module,s)}))!==null&&o!==void 0?o:[void 0],i.prototype.add.call(this,(0,X.isArray)(t)?l:l[0],e)},r.prototype.preinitialize=function(t,e){this.newModel=e.modelConstructor,this.module=e.module},r})(ae.pM);const Nu=em;var Sl;(function(i){i.dragEnter="canvas:dragenter",i.dragOver="canvas:dragover",i.dragEnd="canvas:dragend",i.dragData="canvas:dragdata",i.drop="canvas:drop",i.spot="canvas:spot",i.spotAdd="canvas:spot:add",i.spotUpdate="canvas:spot:update",i.spotRemove="canvas:spot:remove",i.coords="canvas:coords",i.zoom="canvas:zoom",i.pointer="canvas:pointer",i.refresh="canvas:refresh",i.frameLoad="canvas:frame:load",i.frameLoadHead="canvas:frame:load:head",i.frameLoadBody="canvas:frame:load:body",i.frameUnload="canvas:frame:unload"})(Sl||(Sl={}));const ls=Sl;var rm=(function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}})(),nf=function(){return nf=Object.assign||function(i){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])}return i},nf.apply(this,arguments)},Ed=function(i,r,t){if(t||arguments.length===2)for(var e=0,n=r.length,o;e<n;e++)(o||!(e in r))&&(o||(o=Array.prototype.slice.call(r,0,e)),o[e]=r[e]);return i.concat(o||Array.prototype.slice.call(r))},xd="__aw",Od="__ah",Ad=function(i,r){var t,e=i.get(r),n=(t=i.view)===null||t===void 0?void 0:t.el[r==="width"?"offsetWidth":"offsetHeight"];return(0,X.isNumber)(e)?e:(0,X.isString)(e)&&e.endsWith("px")?parseFloat(e):n||0},nm=(function(i){rm(r,i);function r(t,e){var n=i.call(this,t,e)||this,o=n.em,l=n.attributes,s=l.styles,f=l.component,u=o.Components,p=u.getConfig(),d=o.Css.getAll(),h={},v={em:o,config:p,frame:n,idMap:h};if(!(0,qt.isComponent)(f)){var _=(0,qt.isObject)(f)?f:{components:f};!_.type&&(_.type="wrapper");var T=u.getType("wrapper").model;n.set("component",new T(_,v))}if(!s)n.set("styles",d);else if(!(0,qt.isObject)(s)){var w=s;(0,X.keys)(h).length&&(w=(0,X.isString)(w)?o.Parser.parseCss(w):w,o.Css.checkId(w,{idMap:h})),d.add(w),n.set("styles",d)}return!e.width&&n.set(xd,1),!e.height&&n.set(Od,1),!n.id&&n.set("id",(0,qt.createId)()),n}return r.prototype.defaults=function(){return{x:0,y:0,changesCount:0,attributes:{},width:null,height:null,head:[],component:"",styles:"",refFrame:null,_undo:!0,_undoexc:["changesCount"]}},Object.defineProperty(r.prototype,"width",{get:function(){return Ad(this,"width")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"height",{get:function(){return Ad(this,"height")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"head",{get:function(){return this.get("head")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"refFrame",{get:function(){return this.get("refFrame")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"root",{get:function(){var t=this.refFrame;return t?.getComponent()||this.getComponent()},enumerable:!1,configurable:!0}),r.prototype.initRefs=function(){var t=this.refFrame;if((0,X.isString)(t)){var e=this.module.framesById[t];e&&this.set({refFrame:e},{silent:!0})}},r.prototype.getBoxRect=function(){var t=this.attributes,e=t.x,n=t.y,o=this,l=o.width,s=o.height;return{x:e,y:n,width:l,height:s}},r.prototype.onRemove=function(){!this.refFrame&&this.getComponent().remove({root:1})},r.prototype.changesUp=function(t){t===void 0&&(t={}),!(t.temporary||t.noCount||t.avoidStore)&&this.set("changesCount",this.get("changesCount")+1)},r.prototype.getComponent=function(){return this.get("component")},r.prototype.getStyles=function(){return this.get("styles")},r.prototype.disable=function(){this.trigger("disable")},r.prototype.remove=function(){var t;(t=this.view)===null||t===void 0||t.remove(),this.view=void 0;var e=this.collection;return e&&e.remove(this)},r.prototype.getHead=function(){return Ed([],this.head,!0)},r.prototype.setHead=function(t){return this.set("head",Ed([],t,!0))},r.prototype.addHeadItem=function(t){this.head.push(t)},r.prototype.getHeadByAttr=function(t,e,n){return this.head.filter(function(o){return o.attributes&&o.attributes[t]==e&&(!n||n===o.tag)})[0]},r.prototype.removeHeadByAttr=function(t,e,n){var o=this.getHeadByAttr(t,e,n),l=this.head.indexOf(o);l>=0&&this.head.splice(l,1)},r.prototype.addLink=function(t){var e="link";!this.getHeadByAttr("href",t,e)&&this.addHeadItem({tag:e,attributes:{href:t,rel:"stylesheet"}})},r.prototype.removeLink=function(t){this.removeHeadByAttr("href",t,"link")},r.prototype.addScript=function(t){var e="script";!this.getHeadByAttr("src",t,e)&&this.addHeadItem({tag:e,attributes:{src:t}})},r.prototype.removeScript=function(t){this.removeHeadByAttr("src",t,"script")},r.prototype.getPage=function(){var t;return(t=this.collection)===null||t===void 0?void 0:t.page},r.prototype._emitUpdated=function(t){t===void 0&&(t={}),this.em.trigger("frame:updated",nf({frame:this},t))},r.prototype._emitUnload=function(){this._emitWithEditor(ls.frameUnload,{frame:this})},r.prototype._emitWithEditor=function(t,e){[this.em,this].forEach(function(n){return n?.trigger(t,e)})},r.prototype.hasAutoHeight=function(){var t=this.attributes.height;return!!(t==="auto"||this.config.infiniteCanvas)},r.prototype.toJSON=function(t){t===void 0&&(t={});var e=Jo.A.prototype.toJSON.call(this,t),n=(0,X.result)(this,"defaults");return t.fromUndo&&delete e.component,delete e.styles,delete e.changesCount,e[xd]&&delete e.width,e[Od]&&delete e.height,e.refFrame&&(e.refFrame=e.refFrame.id,delete e.component),(0,X.forEach)(e,function(o,l){l.indexOf("_")===0&&delete e[l]}),(0,X.forEach)(n,function(o,l){e[l]===o&&delete e[l]}),(0,X.forEach)(["attributes","head"],function(o){(0,X.isEmpty)(e[o])&&delete e[o]}),e},r})(Jo.A);const Yh=nm;var om=(function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}})(),im=(function(i){om(r,i);function r(t,e){e===void 0&&(e=[]);var n=i.call(this,t,e,Yh)||this;return n.loadedItems=0,n.itemsToLoad=0,(0,X.bindAll)(n,"itemLoaded"),n.on("add",n.onAdd),n.on("reset",n.onReset),n.on("remove",n.onRemove),n.forEach(function(o){return n.onAdd(o)}),n}return r.prototype.onAdd=function(t){this.module.framesById[t.id]=t},r.prototype.onReset=function(t,e){var n=this,o=e?.previousModels||[];o.map(function(l){return n.onRemove(l)})},r.prototype.onRemove=function(t){t.onRemove(),delete this.module.framesById[t.id]},r.prototype.initRefs=function(){this.forEach(function(t){return t.initRefs()})},r.prototype.itemLoaded=function(){this.loadedItems++,this.loadedItems>=this.itemsToLoad&&(this.trigger("loaded:all"),this.listenToLoadItems(!1))},r.prototype.listenToLoad=function(){this.loadedItems=0,this.itemsToLoad=this.length,this.listenToLoadItems(!0)},r.prototype.listenToLoadItems=function(t){var e=this;this.forEach(function(n){return n[t?"on":"off"]("loaded",e.itemLoaded)})},r})(Nu);const Xh=im;var am=(function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}})(),sm=(function(i){am(r,i);function r(t){var e=this,n=t.em,o=t.config,l=o.scripts,s=o.styles;return e=i.call(this,t,{scripts:l,styles:s})||this,e.set("frames",new Xh(t)),e.on("change:zoom",e.onZoomChange),e.on("change:x change:y",e.onCoordsChange),e.on("change:pointer change:pointerScreen",e.onPointerChange),e.listenTo(n,"change:device ".concat(qh.update),e.updateDevice),e.listenTo(n,rf.select,e._pageUpdated),e}return r.prototype.defaults=function(){return{frame:"",frames:[],rulers:!1,zoom:100,x:0,y:0,scripts:[],styles:[],pointer:ae.lK,pointerScreen:ae.lK}},Object.defineProperty(r.prototype,"frames",{get:function(){return this.get("frames")},enumerable:!1,configurable:!0}),r.prototype.init=function(){var t=this.em,e=t.Pages._initPage();this.set("frames",e.getFrames()),this.updateDevice({frame:e.getMainFrame()})},r.prototype._pageUpdated=function(t,e){var n=this.em;n.setSelected(),n.get("readyCanvas")&&n.stopDefault(),e?.getFrames().map(function(o){o.disable(),o._emitUnload()}),this.set("frames",t.getFrames()),this.updateDevice({frame:t.getMainFrame()})},r.prototype.updateDevice=function(t){t===void 0&&(t={});var e=this.em,n=e.getDeviceModel(),o=t.frame||e.getCurrentFrameModel();if(o&&n){var l=n.attributes,s=l.width,f=l.height,u=l.minHeight;o.set({width:s,height:f,minHeight:u},{noUndo:1})}},r.prototype.onZoomChange=function(t,e,n){var o=this,l=o.em,s=o.module,f=this.get("zoom");f<1&&this.set("zoom",1),l.trigger(s.events.zoom,{options:n})},r.prototype.onCoordsChange=function(){var t=this,e=t.em,n=t.module;e.trigger(n.events.coords)},r.prototype.onPointerChange=function(){var t=this,e=t.em,n=t.module;e.trigger(n.events.pointer)},r.prototype.getPointerCoords=function(t){t===void 0&&(t=ae.x2.World);var e=this.attributes,n=e.pointer,o=e.pointerScreen;return t===ae.x2.World?n:o},r})(Jo.A);const lm=sm;var Vn=qe(179),Xe=qe(2225),um=(function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}})(),cm=(function(i){um(r,i);function r(t,e){e===void 0&&(e=[]);var n=i.call(this,t,e,Vn.A)||this;n.on("add",n.onAdd),n.on("change",n.onChange),n.on("remove",n.onRemove);var o=n.em;n.refreshDbn=(0,X.debounce)(function(){return n.refresh()},0);var l="".concat(Xe.I.resize," styleable:change ").concat(Xe.I.input," ").concat(Xe.I.update," frame:updated undo redo");return n.listenTo(o,l,function(){return n.refreshDbn()}),n}return Object.defineProperty(r.prototype,"em",{get:function(){return this.module.em},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"events",{get:function(){return this.module.events},enumerable:!1,configurable:!0}),r.prototype.refresh=function(){var t=this,e=t.em,n=t.events;e.trigger(n.spot)},r.prototype.onAdd=function(t){this.__trgEvent(this.events.spotAdd,{spot:t})},r.prototype.onChange=function(t){this.__trgEvent(this.events.spotUpdate,{spot:t})},r.prototype.onRemove=function(t){this.__trgEvent(this.events.spotRemove,{spot:t})},r.prototype.__trgEvent=function(t,e){var n=this.module,o=n.em;o.trigger(t,e),this.refreshDbn()},r})(Nu);const fm=cm;var pm=(function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}})(),dm=(function(i){pm(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return Object.defineProperty(r.prototype,"pfx",{get:function(){return this.ppfx+this.config.stylePrefix||""},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"ppfx",{get:function(){return this.em.config.stylePrefix||""},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"module",{get:function(){var t,e;return(e=(t=this.model)===null||t===void 0?void 0:t.module)!==null&&e!==void 0?e:this.collection.module},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"em",{get:function(){return this.module.em},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"config",{get:function(){return this.module.config},enumerable:!1,configurable:!0}),r.prototype.preinitialize=function(t){this.className=""},r})(ae.Ss);const Bn=dm;var ue=qe(6294),hm=(function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}})(),vm=(function(i){hm(r,i);function r(t,e){t===void 0&&(t={}),e===void 0&&(e=!1);var n=i.call(this,t)||this;return n.itemsView="",n.itemType="type",n.reuseView=!1,n.viewCollection=[],e&&n.listenTo(n.collection,"add",n.addTo),n}return r.prototype.addTo=function(t){this.add(t)},r.prototype.itemViewNotFound=function(t){},r.prototype.add=function(t,e){var n=this,o=n.reuseView,l=n.viewCollection,s=e||null,f=t.get(this.itemType),u;t.view&&o?u=t.view:u=this.renderView(t,f),l.push(u);var p=u.render().el;s?s.appendChild(p):this.$el.append(p)},r.prototype.render=function(){var t=this,e=document.createDocumentFragment();return this.clearItems(),this.$el.empty(),this.collection.length&&this.collection.each(function(n){return t.add(n,e)}),this.$el.append(e),this.onRender(),this},r.prototype.onRender=function(){},r.prototype.onRemoveBefore=function(t,e){},r.prototype.onRemove=function(t,e){},r.prototype.remove=function(t){t===void 0&&(t={});var e=this.viewCollection;return this.onRemoveBefore(e,t),this.clearItems(),ae.Ss.prototype.remove.apply(this,t),this.onRemove(e,t),this},r.prototype.clearItems=function(){this.viewCollection},r})(Bn);const gm=vm;var ya;(function(i){i.mount="css:mount",i.mountBefore="css:mount:before"})(ya||(ya={}));var mm=(function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}})(),ym=(function(i){mm(r,i);function r(t){t===void 0&&(t={});var e=i.call(this,t)||this;e.config=t.config||{};var n=e.model;return e.listenTo(n,"change",e.render),e.listenTo(n,"destroy remove",e.remove),e.listenTo(n.get("selectors"),"change",e.render),n.setView(e),e}return Object.defineProperty(r.prototype,"frameView",{get:function(){return this.config.frameView},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"em",{get:function(){return this.model.em},enumerable:!1,configurable:!0}),r.prototype.remove=function(){return i.prototype.remove.call(this),this.model.removeView(this),this},r.prototype.updateStyles=function(){this.render()},r.prototype.tagName=function(){return"style"},r.prototype.render=function(){var t=this,e=t.model,n=t.el,o=t.em,l=e.get("important"),s=e.toCSS({important:l}),f={rule:e,ruleView:this,css:s};return o?.trigger(ya.mountBefore,f),n.innerHTML=f.css,o?.trigger(ya.mount,f),this},r})(ae.Ss);const Bf=ym;var _m=(function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}})(),bm=(function(i){_m(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype._createElement=function(){return document.createTextNode("")},r.prototype.render=function(){var t=this.model,e=t.get("important");return this.el.textContent=t.getDeclaration({important:e}),this},r})(Bf);const Tm=bm;var Cm=(function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}})(),mc=function(i,r){return"".concat(i).concat(r?"-".concat(parseFloat(r)):"")},wm=(function(i){Cm(r,i);function r(t){var e=i.call(this,t)||this;(0,X.bindAll)(e,"sortRules");var n=t.config||{};e.atRules={},e.config=n,e.em=n.em,e.pfx=n.stylePrefix||"",e.className=e.pfx+"rules";var o=e.collection;return e.listenTo(o,"add",e.addTo),e.listenTo(o,"reset",e.render),e}return r.prototype.addTo=function(t){this.addToCollection(t)},r.prototype.addToCollection=function(t,e){if(this.renderStarted){var n=e||null,o=this.config,l={model:t,config:o},s,f;if(t.get("atRuleType")==="keyframes"){var u=t.getAtRule(),p=this.atRules[u];if(!p){var d=document.createElement("style");p=document.createTextNode(""),d.appendChild(document.createTextNode("".concat(u,"{"))),d.appendChild(p),d.appendChild(document.createTextNode("}")),this.atRules[u]=p,s=d}f=new Tm(l),p.appendData(f.render().el.textContent)}else f=new Bf(l),s=f.render().el;var h=this.className,v=t.get("mediaText"),_=mc(h),T=_;if(v&&(T=mc(h,this.getMediaWidth(v))),s){var w=n||this.el,C=void 0;try{C=w.querySelector("#".concat(T))}catch{}C||(C=w.querySelector("#".concat(_))),C?.appendChild(s)}return s}},r.prototype.getMediaWidth=function(t){return t&&t.replace("(".concat(this.em.getConfig().mediaCondition,": "),"").replace(")","")},r.prototype.sortRules=function(t,e){var n=this.em,o=(n.getConfig().mediaCondition||"").indexOf("min-width")!==-1;if(!o)return 0;var l=o?t:e,s=o?e:t;return l-s},r.prototype.render=function(){var t=this;this.renderStarted=!0,this.atRules={};var e=this,n=e.em,o=e.$el,l=e.collection,s=this.className,f=document.createDocumentFragment();o.empty();var u=n.Devices.getAll().pluck("priority").sort(this.sortRules);return u.every(function(p){return p})&&u.unshift(0),u.forEach(function(p){return f.appendChild((0,ue.a_)("div",{id:mc(s,p)}))}),l.each(function(p){return t.addToCollection(p,f)}),o.append(f),o.attr("class",s),this},r})(ae.Ss);const of=wm;var Sr;(function(i){i.variable="data-variable",i.condition="data-condition",i.conditionTrue="data-condition-true-content",i.conditionFalse="data-condition-false-content",i.collection="data-collection",i.collectionItem="data-collection-item"})(Sr||(Sr={}));var ys;(function(i){i.rootData="__rootData"})(ys||(ys={}));var af;(function(i){i.string="string",i.number="number",i.boolean="boolean",i.date="date",i.json="json",i.relation="relation"})(af||(af={}));var wo;(function(i){i.add="data:add",i.addBefore="data:add:before",i.remove="data:remove",i.removeBefore="data:remove:before",i.update="data:update",i.path="data:path",i.pathSource="data:pathSource:",i.providerLoad="data:provider:load",i.providerLoadBefore="data:provider:load:before",i.providerLoadError="data:provider:load:error",i.providerLoadAll="data:provider:loadAll",i.providerLoadAllBefore="data:provider:loadAll:before",i.all="data"})(wo||(wo={}));var Sm=(function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}})(),El=function(){return El=Object.assign||function(i){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])}return i},El.apply(this,arguments)},Jn=Sr.variable,Em=(function(i){Sm(r,i);function r(t,e){var n=i.call(this,t,e)||this;return n.em=e.em,n.collectionsStateMap=e.collectionsStateMap,n}return r.prototype.defaults=function(){return{type:Jn,defaultValue:"",path:"",collectionId:void 0,variableType:void 0,asPlainText:void 0}},Object.defineProperty(r.prototype,"path",{get:function(){var t;return(t=this.get("path"))!==null&&t!==void 0?t:""},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"defaultValue",{get:function(){var t;return(t=this.get("defaultValue"))!==null&&t!==void 0?t:""},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"collectionId",{get:function(){return this.get("collectionId")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"variableType",{get:function(){return this.get("variableType")},enumerable:!1,configurable:!0}),r.prototype.resolvesFromCollection=function(){return!!this.collectionId},r.prototype.updateCollectionsStateMap=function(t){this.collectionsStateMap=t,this.trigger("change")},r.prototype.getResolverPath=function(){var t;if(this.resolvesFromCollection()){var e=this.resolveCollectionVariable();return ba(e)?(t=e.path)!==null&&t!==void 0?t:"":!1}return this.path},r.prototype.toJSON=function(t){var e=this.defaults(),n=i.prototype.toJSON.call(this,t),o=Object.fromEntries(Object.entries(n).filter(function(l){var s=l[0],f=l[1];return f!==e[s]}));return El(El({},o),{type:Jn})},r.prototype.getDataValue=function(){var t={em:this.em,collectionsStateMap:this.collectionsStateMap};return r.resolveDataResolver({path:this.path,defaultValue:this.defaultValue,collectionId:this.collectionId,variableType:this.variableType},t)},r.resolveDataSourceVariable=function(t,e){var n,o;return e.em.DataSources.getValue((n=t.path)!==null&&n!==void 0?n:"",(o=t.defaultValue)!==null&&o!==void 0?o:"")},r.resolveDataResolver=function(t,e){var n,o,l,s;if(t.collectionId){var f=r.resolveCollectionVariable(t,e);return ba(f)?r.resolveDataSourceVariable({path:(n=f.path)!==null&&n!==void 0?n:"",defaultValue:(o=t.defaultValue)!==null&&o!==void 0?o:""},{em:e.em}):f}return r.resolveDataSourceVariable({path:(l=t.path)!==null&&l!==void 0?l:"",defaultValue:(s=t.defaultValue)!==null&&s!==void 0?s:""},{em:e.em})},r.prototype.resolveCollectionVariable=function(){var t=this,e=t.em,n=t.collectionsStateMap;return r.resolveCollectionVariable(this.attributes,{em:e,collectionsStateMap:n})},r.resolveCollectionVariable=function(t,e){var n,o,l=t.collectionId,s=l===void 0?"":l,f=t.variableType,u=t.path,p=t.defaultValue,d=p===void 0?"":p,h=e.em,v=e.collectionsStateMap;if(!v)return d;var _=v[s];if(!_)return d;if(!f)return h.logError("Missing collection variable type for collection: ".concat(s)),d;if(f==="currentItem")return(n=r.resolveCurrentItem(_,u,s,h))!==null&&n!==void 0?n:d;var T=_;return(o=T[f])!==null&&o!==void 0?o:d},r.resolveCurrentItem=function(t,e,n,o){var l=t.currentItem;if(!l){o.logError("Current item is missing for collection: ".concat(n));return}if(l.type===Jn){var s=l.path?"".concat(l.path,".").concat(e):e;return{type:Jn,path:s}}if(!(e&&!l[e]))return e?l[e]:l},r})(ae.Kx);const Ca=Em;var xm=(function(){function i(r){var t=this;this.listeners=[],this.model=new ae.Kx,this.onChange=function(){var e=t.resolver.getDataValue();t.onUpdate(e)},this.em=r.em,this.resolver=r.resolver,this.onUpdate=r.onUpdate,this.listenToResolver()}return i.prototype.createListener=function(r,t,e){return e===void 0&&(e=this.onChange),{obj:r,event:t,callback:e}},i.prototype.listenToResolver=function(){var r=this,t=r.resolver,e=r.model;this.removeListeners();var n=[],o=t.attributes.type;switch(o){case Jn:n=this.listenToDataVariable(t);break;case _a:n=this.listenToConditionalVariable(t);break}n.forEach(function(l){return e.listenTo(l.obj,l.event,l.callback)}),this.listeners=n},i.prototype.listenToConditionalVariable=function(r){return[{obj:r,event:yl,callback:this.onChange}]},i.prototype.listenToDataVariable=function(r){var t=this,e=this.em,n=[],o=function(){t.listenToResolver(),t.onChange()};n.push(this.createListener(r,"change",o));var l=r.getResolverPath();if(!l)return n;var s=(0,qt.stringToPath)(l||"").join("."),f=e.DataSources.fromPath(l),u=f[0],p=f[1];return u&&n.push(this.createListener(u.records,"add remove reset",o)),p&&n.push(this.createListener(p,"change")),n.push(this.createListener(e.DataSources.all,"add remove reset",o),this.createListener(e,"".concat(wo.path,":").concat(s)),this.createListener(e,wo.path,function(d){var h=d.path;h!==l&&h.startsWith(l)&&t.onChange()})),n},i.prototype.removeListeners=function(){var r=this;this.listeners.forEach(function(t){return r.model.stopListening(t.obj,t.event,t.callback)}),this.listeners=[]},i.prototype.destroy=function(){this.removeListeners()},i})();const Ss=xm;var Pd=(function(){function i(r,t,e){this.operator=r,this.statements=t,this.opts=e}return i.prototype.evaluate=function(){var r=this,t=this.statements.map(function(e){var n=new $h({condition:e},r.opts);return n.evaluate()});return this.operator.evaluate(t)},i})(),Lu=(function(){function i(r,t){this.operationString=r,this.em=t.em}return i.prototype.getOperations=function(){return Gm(this.operationsEnum)},i})(),Om=(function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}})(),_s;(function(i){i.equals="equals",i.isTruthy="isTruthy",i.isFalsy="isFalsy",i.isDefined="isDefined",i.isNull="isNull",i.isUndefined="isUndefined",i.isArray="isArray",i.isObject="isObject",i.isString="isString",i.isNumber="isNumber",i.isBoolean="isBoolean",i.isDefaultValue="isDefaultValue"})(_s||(_s={}));var Am=(function(i){Om(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.operationsEnum=_s,t}return r.prototype.evaluate=function(t,e){var n;switch(this.operationString){case"equals":return t===e;case"isTruthy":return!!t;case"isFalsy":return!t;case"isDefined":return t!=null;case"isNull":return t===null;case"isUndefined":return t===void 0;case"isArray":return Array.isArray(t);case"isObject":return typeof t=="object"&&t!==null;case"isString":return typeof t=="string";case"isNumber":return typeof t=="number";case"isBoolean":return typeof t=="boolean";case"isDefaultValue":return t instanceof Ca&&t.get("defaultValue")===e;default:return(n=this.em)===null||n===void 0||n.logWarning("Unsupported generic operation: ".concat(this.operationString)),!1}},r})(Lu),Pm=(function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}})(),_i;(function(i){i.and="and",i.or="or",i.xor="xor"})(_i||(_i={}));var km=(function(i){Pm(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.operationsEnum=_i,t}return r.prototype.evaluate=function(t){if(!t?.length)return!1;switch(this.operationString){case _i.and:return t.every(Boolean);case _i.or:return t.some(Boolean);case _i.xor:return t.filter(Boolean).length===1;default:return this.em.logWarning("Unsupported boolean operation: ".concat(this.operationString)),!1}},r})(Lu),Mm=(function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}})(),io;(function(i){i.greaterThan=">",i.lessThan="<",i.greaterThanOrEqual=">=",i.lessThanOrEqual="<=",i.equals="=",i.notEquals="!="})(io||(io={}));var Nm=(function(i){Mm(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.operationsEnum=io,t}return r.prototype.evaluate=function(t,e){if(typeof t!="number")return!1;switch(this.operationString){case io.greaterThan:return t>e;case io.lessThan:return t<e;case io.greaterThanOrEqual:return t>=e;case io.lessThanOrEqual:return t<=e;case io.equals:return t===e;case io.notEquals:return t!==e;default:return this.em.logWarning("Unsupported number operation: ".concat(this.operationString)),!1}},r})(Lu),Lm=(function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}})(),Fn;(function(i){i.contains="contains",i.startsWith="startsWith",i.endsWith="endsWith",i.matchesRegex="matchesRegex",i.equalsIgnoreCase="equalsIgnoreCase",i.trimEquals="trimEquals"})(Fn||(Fn={}));var Im=(function(i){Lm(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.operationsEnum=Fn,t}return r.prototype.evaluate=function(t,e){if(typeof t!="string")return!1;switch(this.operationString){case Fn.contains:return t.includes(e);case Fn.startsWith:return t.startsWith(e);case Fn.endsWith:return t.endsWith(e);case Fn.matchesRegex:return e||this.em.logWarning("Regex pattern must be provided."),new RegExp(e??"").test(t);case Fn.equalsIgnoreCase:return t.toLowerCase()===e.toLowerCase();case Fn.trimEquals:return t.trim()===e.trim();default:return this.em.logWarning("Unsupported string operation: ".concat(this.operationString)),!1}},r})(Lu),Dm=(function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}})(),$h=(function(i){Dm(r,i);function r(t,e){var n,o=i.call(this,t)||this;return o.collectionsStateMap={},o.em=e.em,o.collectionsStateMap=(n=e.collectionsStateMap)!==null&&n!==void 0?n:{},o}return r.prototype.evaluate=function(){var t=this.get("condition");if(!t||(0,X.isBoolean)(t))return!!t;var e=this.getOperator();return e?e.evaluate(this.getResolvedLeftValue(),this.getResolvedRightValue()):!1},r.prototype.getDependentDataVariables=function(){var t=this.get("condition");return t?this.extractDataVariables(t):[]},r.prototype.getOperations=function(){var t=this.getOperator();return!t||t instanceof Pd?[]:t.getOperations()},r.prototype.updateCollectionStateMap=function(t){this.collectionsStateMap=t},r.prototype.getOperator=function(){var t={em:this.em,collectionsStateMap:this.collectionsStateMap},e=this.get("condition");if(!(!e||(0,X.isBoolean)(e))){var n;if(this.isLogicGroup(e)){var o=e.logicalOperator,l=e.statements,s=new km(o,t);n=new Pd(s,l,t)}if(this.isExpression(e)){var f=e.left,s=e.operator,u=Ol(f,t);n=this.resolveOperator(u,s)}return n}},r.prototype.resolveOperator=function(t,e){var n=this.em;if(this.isOperatorInEnum(e,_s))return new Am(e,{em:n});if(typeof t=="number")return new Nm(e,{em:n});if(typeof t=="string")return new Im(e,{em:n})},r.prototype.extractDataVariables=function(t){var e=this,n=[];return this.isExpression(t)?(ba(t.left)&&n.push(t.left),ba(t.right)&&n.push(t.right)):this.isLogicGroup(t)&&t.statements.forEach(function(o){return n.push.apply(n,e.extractDataVariables(o))}),n},r.prototype.isLogicGroup=function(t){return t&&typeof t.logicalOperator<"u"&&Array.isArray(t.statements)},r.prototype.isExpression=function(t){return t&&typeof t.left<"u"&&typeof t.operator=="string"},r.prototype.isOperatorInEnum=function(t,e){return Object.values(e).includes(t)},r.prototype.resolveExpressionSide=function(t){var e=this.get("condition"),n=this,o=n.em,l=n.collectionsStateMap;if(!e||typeof e=="boolean")return e;if(e&&typeof e=="object"&&t in e){var s=e[t];return Ol(s,{em:o,collectionsStateMap:l})}},r.prototype.getResolvedLeftValue=function(){return this.resolveExpressionSide("left")},r.prototype.getResolvedRightValue=function(){return this.resolveExpressionSide("right")},r.prototype.toJSON=function(t){var e=this.get("condition");if(typeof e=="object"){var n=JSON.parse(JSON.stringify(e));return n}return e},r})(ae.Kx),Rm=(function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}})(),_a="data-condition",jm="data-condition-evaluation-changed",yl="data-condition-output-changed",Zh=(function(i){Rm(r,i);function r(t,e){var n,o=i.call(this,t,e)||this;o.collectionsStateMap={},o.resolverListeners=[],o._previousEvaluationResult=null,o.em=e.em,o.collectionsStateMap=(n=e.collectionsStateMap)!==null&&n!==void 0?n:{};var l=t.condition,s=l===void 0?{}:l,f=new $h({condition:s},{em:o.em});return o._conditionEvaluator=f,o.listenToDataVariables(),o.listenToPropsChange(),o}return r.prototype.defaults=function(){return{type:_a,condition:{left:"",operator:Fn.equalsIgnoreCase,right:""},ifTrue:{},ifFalse:{}}},r.prototype.getCondition=function(){return this._conditionEvaluator.get("condition")},r.prototype.getIfTrue=function(){return this.get("ifTrue")},r.prototype.getIfFalse=function(){return this.get("ifFalse")},r.prototype.getOperations=function(){return this._conditionEvaluator.getOperations()},r.prototype.setCondition=function(t){this.set("condition",t),this._conditionEvaluator.set("condition",t),this.trigger(yl,this.getDataValue())},r.prototype.setIfTrue=function(t){this.set("ifTrue",t)},r.prototype.setIfFalse=function(t){this.set("ifFalse",t)},r.prototype.isTrue=function(){return this._conditionEvaluator.evaluate()},r.prototype.getDataValue=function(t){t===void 0&&(t=!1);var e=this,n=e.em,o=e.collectionsStateMap,l={em:n,collectionsStateMap:o},s=this.getIfTrue(),f=this.getIfFalse(),u=this.isTrue();return t?u?s:f:Ol(u?s:f,l)},r.prototype.resolvesFromCollection=function(){return!1},r.prototype.updateCollectionsStateMap=function(t){this.collectionsStateMap=t,this._conditionEvaluator.updateCollectionStateMap(t),this.listenToDataVariables(),this.emitConditionEvaluationChange()},r.prototype.listenToPropsChange=function(){var t=this;this.on("change:condition",this.handleConditionChange.bind(this)),this.on("change:condition change:ifTrue change:ifFalse",function(){t.listenToDataVariables()})},r.prototype.handleConditionChange=function(){this.setCondition(this.get("condition"))},r.prototype.listenToDataVariables=function(){this.cleanupListeners(),this.setupConditionDataVariableListeners(),this.setupOutputDataVariableListeners()},r.prototype.setupConditionDataVariableListeners=function(){var t=this;this._conditionEvaluator.getDependentDataVariables().forEach(function(e){t.addListener(e,function(){t.emitConditionEvaluationChange()})})},r.prototype.setupOutputDataVariableListeners=function(){var t=this.isTrue();this.setupOutputVariableListener(this.getIfTrue(),t),this.setupOutputVariableListener(this.getIfFalse(),!t)},r.prototype.setupOutputVariableListener=function(t,e){var n=this;ba(t)&&this.addListener(t,function(){e&&n.trigger(yl,t)})},r.prototype.addListener=function(t,e){var n=new Ss({em:this.em,resolver:new Ca(t,{em:this.em,collectionsStateMap:this.collectionsStateMap}),onUpdate:e});this.resolverListeners.push(n)},r.prototype.emitConditionEvaluationChange=function(){var t=this.isTrue();this._previousEvaluationResult!==t&&(this._previousEvaluationResult=t,this.trigger(jm,t),this.emitOutputValueChange())},r.prototype.emitOutputValueChange=function(){var t=this.getDataValue();this.trigger(yl,t)},r.prototype.cleanupListeners=function(){this.resolverListeners.forEach(function(t){return t.destroy()}),this.resolverListeners=[]},r.prototype.toJSON=function(){var t=this.getIfTrue(),e=this.getIfFalse();return{type:_a,condition:this._conditionEvaluator.toJSON(),ifTrue:t,ifFalse:e}},r})(ae.Kx),os="dataResolver",mn=function(){return mn=Object.assign||function(i){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])}return i},mn.apply(this,arguments)},Qh=function(i,r,t){if(t||arguments.length===2)for(var e=0,n=r.length,o;e<n;e++)(o||!(e in r))&&(o||(o=Array.prototype.slice.call(r,0,e)),o[e]=r[e]);return i.concat(o||Array.prototype.slice.call(r))},bi=function(i){return(0,X.isArray)(i.get(on))},xl=function(i){return!!i.get(yn)},to=function(i){return!!(bi(i)||xl(i))},wi=function(i){var r=i.parent();return to(i)&&(!r||!to(r))},ts=function(i){i.__symbReady||(i.on("change",i.__upSymbProps),i.__symbReady=!0)},Un=function(i){var r=i.get(yn);if(r&&(0,X.isString)(r)){var t=i.__getAllById()[r];t?(r=t,i.set(yn,t)):r=0}return r||void 0},Tn=function(i){var r=i?.get(on);return r&&(0,X.isArray)(r)&&(r.forEach(function(t,e){t&&(0,X.isString)(t)&&(r[e]=i.__getAllById()[t])}),r=r.filter(function(t){return t&&!(0,X.isString)(t)})),r||void 0},bs=function(i,r){r===void 0&&(r="");var t=i?.get(Ti),e=r.split(":")[0],n=r!==e?[r,e]:[r];return t===!0||(0,X.isArray)(t)&&n.some(function(o){return t.indexOf(o)>=0})},Co=function(i,r){r===void 0&&(r={});var t=[],e=r.changed;if(r.fromInstance||r.noPropagate||r.fromUndo||e&&bs(i,e))return t;var n=Tn(i)||[],o=Un(i),l=o?Qh([o],Tn(o)||[],!0):n;return t=l.filter(function(s){return s!==i}).filter(function(s){return!(e&&bs(s,e))}),t},Ts=function(i,r){for(var t=i,e=i.parent(r);e&&to(e);)t=e,e=e.parent(r);return t},Iu=function(i,r){r===void 0&&(r={});var t=Un(i),e=t&&Tn(t);!r.skipRefs&&e&&t.set(on,e.filter(function(n){return n!==i})),i.set(yn,0),i.components().forEach(function(n){return Iu(n,r)})},us=function(i,r,t,e){e===void 0&&(e={});var n=Un(i),o=Tn(i);!n&&!o||i.em.log(r,{model:i,toUp:t,context:"symbols",opts:e})},Hm=function(i,r){r===void 0&&(r={});var t=i.changedAttributes();if(t){var e=i.dataResolverWatchers.getProps(t);if(Fm(e),!(0,qt.isEmptyObj)(e)){var n=Co(i,r);e=kd(e,i),us(i,"props",n,{opts:r,changed:e}),n.forEach(function(o){var l=kd(e,o);o.set(l,mn({fromInstance:i},r))})}}},Fm=function(i){var r,t,e=["status","open",on,yn,Ti];e.forEach(function(n){return delete i[n]}),(r=i.attributes)===null||r===void 0||delete r.id,(0,qt.isEmptyObj)((t=i.attributes)!==null&&t!==void 0?t:{})&&delete i.attributes},kd=function(i,r){var t=mn({},i);return(0,X.keys)(i).forEach(function(e){Bm(i,e,r)||delete t[e]}),t},Vm=function(i){return i?Object.values(i).some(function(r){return!!r?.collectionId}):!1},Um=function(i,r){var t;switch(r){case"attributes":case"style":return Vm(i[r]);default:return!!(!((t=i[r])===null||t===void 0)&&t.collectionId)}},Bm=function(i,r,t){var e=Um(i,r);return!bs(t,r)||e},Wm=function(i,r){r===void 0&&(r={});var t=Co(i,r);us(i,"classes",t,{opts:r}),t.forEach(function(e){e.set("classes",i.get("classes"),{fromInstance:i})}),i.__changesUp(r)},Jh=function(i,r,t,e){var n=e||t||{},o=n.fromInstance,l=n.fromUndo,s={fromInstance:o,fromUndo:l},f=r.opt.temporary;if(e)if(e.add){var v=[],_=!!Tn(i),p=Co(i,mn(mn({},s),{changed:"components:add"}));if(p.length){var T=Un(r);v=Tn(T||r)||[],v=Qh([],v,!0),v.push(T||r)}!f&&us(i,"add",p,{opts:e,addedInstances:v.map(function(k){return k.cid}),added:r.cid}),p.forEach(function(k){var P=Ts(k),D=v.filter(function(M){var z=Ts(M,{prev:1});return P&&z&&z===P})[0],R=D||r.clone({symbol:!0,symbolInv:_});k.append(R,mn({fromInstance:i},e))})}else{var w=Un(r);if(w&&!e.temporary&&w.set(on,Tn(w).filter(function(L){return L!==r})),!wi(r)&&!e.skipRefsUp){var C="components:remove",A=e.index,S=r.parent(),x=mn({fromInstance:r},e),N=wi(r),b=function(k){var P=k.parent();P&&!bs(P,C)&&k.remove(x)},p=bs(S,C)?[]:Co(r,s);N&&(p=S&&Co(S,mn(mn({},s),{changed:C})),b=function(k){var P=k.components().at(A);P&&P.remove(mn({fromInstance:S},x))}),!f&&us(i,"remove",p,{opts:e,removed:r.cid,isSymbNested:N}),p.forEach(b)}}else{var u=r,p=Co(i,mn(mn({},s),{changed:"components:reset"})),d=u.models,h=new Set;us(i,"reset",p,{components:d}),p.forEach(function(L){var k=L.components(),P=d.map(function(D,R){return i.get(os)?D.clone({symbol:to(D)}):!to(D)||h.has(D)?(h.add(D),D.clone({symbol:!0})):k.at(R)});k.reset(P,mn({fromInstance:i},t))})}i.__changesUp(n)},zm="id";function sf(i){return typeof i=="object"&&[Jn,_a].includes(i?.type)}function ba(i){return i?.type===Jn}function Ol(i,r){return sf(i)?(ba(i)&&Ca.resolveDataResolver(i,r),e1(i,r)):i}function t1(i,r){var t,e=i.type,n;switch(e){case Jn:n=new Ca(i,r);break;case _a:{n=new Zh(i,r);break}default:(t=r.em)===null||t===void 0||t.logWarning("Unsupported resolver type: ".concat(e));return}return n}function e1(i,r){var t=t1(i,r);return t?.getDataValue()}var Km=function(i){return!!i&&[Sr.collectionItem,Sr.conditionTrue,Sr.conditionFalse].includes(i)};function Gm(i){return Object.keys(i).filter(function(r){return isNaN(Number(r))}).map(function(r){return i[r]})}function qm(i){var r=i.collectionsStateMap;if(!r)return!1;var t=Object.keys(r);if(!t.length)return!1;var e=Un(i);if(!e||e===i)return!1;var n=e.collectionsStateMap,o=Object.keys(n),l=o.every(function(s){return t.includes(s)});return l}function Ym(i){var r=Un(i);return r?r.getId():""}function Xm(i){var r=qm(i),t=r?Ym(i):null;return{shouldSync:r,itemId:t}}var r1="text/html",$m=r1;const Zm=(function(i,r){r===void 0&&(r={});var t=new DOMParser,e=r.htmlType||$m,n=e===r1,o=n?i:"<div>".concat(i,"</div>"),l=t.parseFromString(o,e),s;if(n){if(r.asDocument)return l;var f=l.head,u=l.body,p=f.querySelectorAll("script");(0,X.each)(p,function(h){return u.appendChild(h)});var d=[];(0,X.each)(f.children,function(h){return d.push(h)}),(0,X.each)(d,function(h,v){return u.insertBefore(h,u.children[v])}),s=u}else s=l.firstChild;return s});var Qo;(function(i){i.html="parse:html",i.htmlRoot="parse:html:root",i.htmlBefore="parse:html:before",i.css="parse:css",i.cssBefore="parse:css:before",i.all="parse"})(Qo||(Qo={}));var Zn=function(){return Zn=Object.assign||function(i){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])}return i},Zn.apply(this,arguments)},Qm="data-gjs-",Jm=function(i,r){return r===void 0&&(r={}),{compTypes:[],modelAttrStart:Qm,getPropAttribute:function(t,e){var n=t.replace(this.modelAttrStart,""),o=e?.length||0,l=e?.substring(0,1),s=e?.substring(o-1),f=e==="true"?!0:e==="false"?!1:e;try{f=l=="{"&&s=="}"||l=="["&&s=="]"?JSON.parse(f):f}catch{}return{name:n,value:f}},splitPropsFromAttr:function(t){var e=this;t===void 0&&(t={});var n={},o={};return(0,X.each)(t,function(l,s){if(s.indexOf(e.modelAttrStart)===0){var f=e.getPropAttribute(s,l);n[f.name]=f.value}else o[s]=l}),{props:n,attrs:o}},parseStyle:function(t){for(var e={};t.indexOf("/*")>=0;){var n=t.indexOf("/*"),o=t.indexOf("*/"),l=o>-1?o+2:void 0;t=t.replace(t.slice(n,l),"")}for(var s=t.split(";"),f=0,u=s.length;f<u;f++){var p=s[f].trim();if(p){var d=p.split(":"),h=d[0].trim(),v=d.slice(1).join(":").trim();e[h]?((0,X.isArray)(e[h])||(e[h]=[e[h]]),e[h].push(v)):e[h]=v}}return e},parseClass:function(t){for(var e=[],n=t.split(" "),o=0,l=n.length;o<l;o++){var s=n[o].trim();s&&e.push(s)}return e},parseNodeAttr:function(t,e){for(var n,o,l=e||{},s=t.attributes||[],f=s.length,u=!!(!((n=r?.optionsHtml)===null||n===void 0)&&n.convertDataGjsAttributesHyphens),p=u&&!!l.type&&(0,X.result)((o=i?.Components.getType(l.type))===null||o===void 0?void 0:o.model.prototype,"defaults")||{},d=0;d<f;d++){var h=s[d].nodeName,v=s[d].nodeValue;if(h=="style")l.style=this.parseStyle(v);else if(h=="class")l.classes=this.parseClass(v);else{if(h=="contenteditable")continue;if(h.indexOf(this.modelAttrStart)===0){var _=this.getPropAttribute(h,v),T=_.name;if(u&&!(T in p)){var w=(0,ue._I)(T);T=w in p?w:T}l[T]=_.value}else v===""&&t[h]===!0&&(v=!0),l.attributes||(l.attributes={}),l.attributes[h]=v}}return l},detectNode:function(t,e){var n;e===void 0&&(e={});var o=this.compTypes,l={};if(o){var s=(n=t.getAttribute)===null||n===void 0?void 0:n.call(t,"".concat(this.modelAttrStart,"type"));if(s)l={type:s};else for(var f=0;f<o.length;f++){var u=o[f],p=u.model.isComponent(t,e);if(p){typeof p!="object"&&(p={type:u.id}),l=p;break}}}return l},parseNode:function(t,e){var n;e===void 0&&(e={});var o=((n=t.content)===null||n===void 0?void 0:n.childNodes)||t.childNodes,l=o.length,s=this.detectNode(t,e);if(!s.tagName){var f=t.tagName||"",u=t.namespaceURI||"";s.tagName=f&&u==="http://www.w3.org/1999/xhtml"?f.toLowerCase():f}if(s=this.parseNodeAttr(t,s),!l&&"".concat(t.outerHTML).slice(-2)==="/>"&&(s.void=!0),l&&!s.components&&!e.skipChildren){var p=o[0];l===1&&p.nodeType===3?(!s.type&&(s.type="text"),s.components={type:"textnode",content:p.nodeValue}):s.components=this.parseNodes(t,Zn(Zn({},e),{inSvg:e.inSvg||s.type==="svg"}))}var d=s.components;if(!s.type&&d?.length){for(var h=r.textTypes,v=h===void 0?[]:h,_=r.textTags,T=_===void 0?[]:_,w=!0,C=!1,A=0;A<d.length;A++){var S=d[A],x=S.type;if(!v.includes(x)&&!T.includes(S.tagName)){w=!1;break}x==="textnode"&&(C=!0)}w&&C&&(s.type="text")}return s},parseNodes:function(t,e){var n;e===void 0&&(e={});for(var o=[],l=((n=t.content)===null||n===void 0?void 0:n.childNodes)||t.childNodes,s=l.length,f=0;f<s;f++){var u=l[f],p=o[o.length-1],d=this.parseNode(u,e);if(d.type==="textnode"){if(p?.type==="textnode"){p.content+=d.content;continue}if(!e.keepEmptyTextNodes){var h=u.nodeValue||"",v=f===0||f===s-1,_=h.includes(`
`);if(h!=" "&&!h.trim()&&(v||_))continue}}!d.tagName&&(0,X.isUndefined)(d.content)||o.push(d)}return o},parse:function(t,e,n){var o,l,s;n===void 0&&(n={});var f=i?.get("Config")||{},u=i?.Parser,p={html:[]},d=Zn(Zn(Zn({},r.optionsHtml),{htmlType:((o=r.optionsHtml)===null||o===void 0?void 0:o.htmlType)||r.htmlType}),n),h=Zn(Zn({},d),{asDocument:this.__checkAsDocument(t,d)}),v=Zn(Zn({},r),h),_=h.preParser,T=h.asDocument,w={input:(0,X.isFunction)(_)?_(t,{editor:i?.getEditor()}):t};u?.__emitEvent(Qo.htmlBefore,w);var C=w.input,A=(0,X.isFunction)(v.parserHtml)?v.parserHtml(C,h):Zm(C,h),S=A,x=A;T&&(S=x.documentElement,p.doctype=(0,ue.LJ)(x.doctype));var N=S.querySelectorAll("script"),b=N.length,L=(0,X.isUndefined)(f.allowScripts)?h.allowScripts:f.allowScripts;if(!L)for(;b--;)(l=N[b].parentNode)===null||l===void 0||l.removeChild(N[b]);if((!h.allowUnsafeAttr||!h.allowUnsafeAttrValue)&&this.__sanitizeNode(S,h),e){for(var k=S.querySelectorAll("style"),P=k.length,D="";P--;)D=k[P].innerHTML+D,(s=k[P].parentNode)===null||s===void 0||s.removeChild(k[P]);D&&(p.css=e.parse(D))}u?.__emitEvent(Qo.htmlRoot,{input:C,root:S});var R=[];if(T)p.head=this.parseNode(x.head,v),p.root=this.parseNodeAttr(S),R=this.parseNode(x.body,v);else{var M=this.parseNodes(S,v);R=M.length===1&&!v.returnArray?M[0]:M}return p.html=R,u?.__emitEvent(Qo.html,{input:C,output:p,options:h}),p},__sanitizeNode:function(t,e){var n=this,o=t.attributes||[],l=t.childNodes||[],s=[];(0,X.each)(o,function(f){var u=f.nodeName||"",p=f.nodeValue||"";!e.allowUnsafeAttr&&u.startsWith("on")&&s.push(u),!e.allowUnsafeAttrValue&&p.startsWith("javascript:")&&s.push(u)}),s.map(function(f){return t.removeAttribute(f)}),(0,X.each)(l,function(f){return n.__sanitizeNode(f,e)})},__checkAsDocument:function(t,e){if((0,qt.isDef)(e.asDocument))return e.asDocument;if((0,X.isFunction)(e.detectDocument))return!!e.detectDocument(t);if(e.detectDocument)return t.toLowerCase().trim().startsWith("<!doctype")}}};const n1=Jm;var Al=function(){return Al=Object.assign||function(i){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])}return i},Al.apply(this,arguments)},yc=(function(){function i(r,t,e){this.model=r,this.updateFn=t,this.resolverListeners={},this.em=e.em}return i.prototype.bindModel=function(r){this.model=r},i.prototype.setDataValues=function(r,t){t===void 0&&(t={});var e=t.skipWatcherUpdates||t.fromDataSource;return e||this.removeListeners(),this.addDataValues(r,t)},i.prototype.addDataValues=function(r,t){if(t===void 0&&(t={}),!r)return{};var e=this.evaluateValues(r),n=t.skipWatcherUpdates||t.fromDataSource;return n||this.updateListeners(r),e},i.prototype.onCollectionsStateMapUpdate=function(){var r=this,t=this.getValuesResolvingFromCollections();if(t.length){var e=this.addDataValues(this.getValuesOrResolver(Object.fromEntries(t.map(function(n){return[n,""]}))));Object.entries(e).forEach(function(n){var o=n[0],l=n[1];return r.updateFn(r.model,o,l)})}},Object.defineProperty(i.prototype,"collectionsStateMap",{get:function(){var r,t=this.model;return(r=t?.collectionsStateMap)!==null&&r!==void 0?r:{}},enumerable:!1,configurable:!0}),i.prototype.updateListeners=function(r){var t=this,e=this,n=e.em,o=e.collectionsStateMap;this.removeListeners(Object.keys(r));for(var l=Object.keys(r),s=function(p){var d=l[p],h=r[d];if(!sf(h))return"continue";var v=t1(h,{em:n,collectionsStateMap:o});f.resolverListeners[d]=new Ss({em:n,resolver:v,onUpdate:function(_){return t.updateFn(t.model,d,_)}})},f=this,u=0;u<l.length;u++)s(u)},i.prototype.evaluateValues=function(r){for(var t=this,e=t.em,n=t.collectionsStateMap,o=Al({},r),l=Object.keys(r),s=0;s<l.length;s++){var f=l[s],u=r[f];sf(u)&&(o[f]=e1(u,{em:e,collectionsStateMap:n}))}return o},i.prototype.removeListeners=function(r){var t=this,e=r||Object.keys(this.resolverListeners);return e.forEach(function(n){var o,l;t.resolverListeners[n]&&((l=(o=t.resolverListeners[n]).destroy)===null||l===void 0||l.call(o),delete t.resolverListeners[n])}),e},i.prototype.getValuesOrResolver=function(r){if(!r)return{};for(var t=Al({},r),e=Object.keys(t),n=0;n<e.length;n++){var o=e[n],l=this.resolverListeners[o];l&&(t[o]=l.resolver.toJSON())}return t},i.prototype.getAllDataResolvers=function(){for(var r={},t=Object.keys(this.resolverListeners),e=0;e<t.length;e++){var n=t[e];r[n]=this.resolverListeners[n].resolver.toJSON()}return r},i.prototype.getValuesResolvingFromCollections=function(){var r=this,t=Object.keys(this.resolverListeners).filter(function(e){return r.resolverListeners[e].resolver.resolvesFromCollection()});return t},i.prototype.destroy=function(){this.removeListeners()},i})(),kn=function(){return kn=Object.assign||function(i){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])}return i},kn.apply(this,arguments)},t0=function(i,r,t){if(t||arguments.length===2)for(var e=0,n=r.length,o;e<n;e++)(o||!(e in r))&&(o||(o=Array.prototype.slice.call(r,0,e)),o[e]=r[e]);return i.concat(o||Array.prototype.slice.call(r))},_l={fromDataSource:!0,avoidStore:!0},Qi="__data_values",e0=(function(){function i(r,t){var e=this;this.model=r,this.options=t,this.onPropertyUpdate=function(n,o,l){n?.set(o,l,_l)},this.onAttributeUpdate=function(n,o,l){var s;e.isComponent(n)&&n?.addAttributes((s={},s[o]=l,s),_l)},this.onStyleUpdate=function(n,o,l){var s;n?.addStyle((s={},s[o]=l,s),kn(kn({},_l),{partial:!0,avoidStore:!0}))},this.propertyWatcher=new yc(r,this.onPropertyUpdate,t),this.attributeWatcher=new yc(r,this.onAttributeUpdate,t),this.styleWatcher=new yc(r,this.onStyleUpdate,t)}return i.prototype.bindModel=function(r){this.model=r,this.watchers.forEach(function(t){return t.bindModel(r)}),this.updateSymbolOverride()},i.prototype.addProps=function(r,t){var e;t===void 0&&(t={});var n=(e=r[Qi])!==null&&e!==void 0?e:{},o=this.filterProps(r),l=kn(kn({},r),this.propertyWatcher.addDataValues(kn(kn({},o),n.props),t));this.shouldProcessProp("attributes",r,n)&&(l.attributes=this.processAttributes(r,n,t)),this.shouldProcessProp("style",r,n)&&(l.style=this.processStyles(r,n,t));var s=t.skipWatcherUpdates||t.fromDataSource;return s||(this.updateSymbolOverride(),l[Qi]={props:this.propertyWatcher.getAllDataResolvers(),style:this.styleWatcher.getAllDataResolvers(),attributes:this.attributeWatcher.getAllDataResolvers()}),l},i.prototype.getProps=function(r){var t=this.getValueOrResolver("props",r),e=kn({},t);return delete e[Qi],(0,X.isEmpty)(r.attributes)||(e.attributes=this.getValueOrResolver("attributes",r.attributes)),(0,X.isObject)(r.style)&&!(0,X.isEmpty)(r.style)&&(e.style=this.getValueOrResolver("styles",r.style)),e},i.prototype.getValueOrResolver=function(r,t){var e;switch(r){case"props":e=this.propertyWatcher;break;case"styles":e=this.styleWatcher;break;case"attributes":e=this.attributeWatcher;break;default:{var n=this.options.em;return n?.logError("Invalid target '".concat(r,"'. Must be 'props', 'styles', or 'attributes'.")),{}}}return t?e.getValuesOrResolver(t):e.getAllDataResolvers()},i.prototype.removeAttributes=function(r){this.attributeWatcher.removeListeners(r),this.updateSymbolOverride()},i.prototype.disableStyles=function(){this.styleWatcher.removeListeners(),this.styleWatcher.destroy()},i.prototype.onCollectionsStateMapUpdate=function(){this.watchers.forEach(function(r){return r.onCollectionsStateMapUpdate()})},i.prototype.destroy=function(){this.watchers.forEach(function(r){return r.destroy()})},Object.defineProperty(i.prototype,"watchers",{get:function(){return[this.propertyWatcher,this.styleWatcher,this.attributeWatcher]},enumerable:!1,configurable:!0}),i.prototype.isComponent=function(r){return r instanceof _r},i.prototype.shouldProcessProp=function(r,t,e){var n=r==="attributes"?this.attributeWatcher:this.styleWatcher,o=e[r],l=!!t[r],s=o&&Object.keys(o).length>0,f=o&&Object.keys(n.getAllDataResolvers()).length>0;return l||s||f},i.prototype.updateSymbolOverride=function(){var r,t=this.model;if(!(!this.isComponent(t)||!to(t))){var e=!!Object.keys((r=t?.collectionsStateMap)!==null&&r!==void 0?r:{}).length;if(e){var n=this.propertyWatcher.getValuesResolvingFromCollections(),o=this.attributeWatcher.getValuesResolvingFromCollections(),l=t0(["locked","layerable",Qi],n,!0),s=Object.keys(o).length;s&&l.push("attributes");var f=Co(t);f.forEach(function(u){u.setSymbolOverride(l,{fromDataSource:!0})}),t.setSymbolOverride(l,{fromDataSource:!0})}}},i.prototype.filterProps=function(r){var t=["components","dataResolver","status","state","open",Ti,Qi],e=Object.fromEntries(Object.entries(r).filter(function(n){var o=n[0];return!t.includes(o)}));return e},i.prototype.processAttributes=function(r,t,e){var n;return e===void 0&&(e={}),this.attributeWatcher.setDataValues(kn(kn({},r.attributes),(n=t.attributes)!==null&&n!==void 0?n:{}),e)},i.prototype.processStyles=function(r,t,e){var n;return e===void 0&&(e={}),typeof r=="string"?(this.styleWatcher.removeListeners(),r):this.styleWatcher.setDataValues(kn(kn({},r.style),(n=t.style)!==null&&n!==void 0?n:{}),e)},i})(),r0=(function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}})(),Hr=function(){return Hr=Object.assign||function(i){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])}return i},Hr.apply(this,arguments)},n0=n1(),lf=function(i){return(0,X.isArray)(i)?i[i.length-1]:i},o0=(function(i){r0(r,i);function r(t,e){e===void 0&&(e={});var n=this,o=e.em,l=new e0(void 0,{em:o});return n=i.call(this,t,Hr(Hr({},e),{dataResolverWatchers:l}))||this,n.views=[],n.collectionsStateMap={},l.bindModel(n),n.dataResolverWatchers=l,n.em=e.em,n.opt=e,n}return r.prototype.get=function(t,e){return e?.skipResolve?this.dataResolverWatchers.getValueOrResolver("props")[t]:i.prototype.get.call(this,t)},r.prototype.set=function(t,e,n){var o,l,s={skipWatcherUpdates:!1,fromDataSource:!1},f,u;typeof t=="object"?(f=t,u=e||s):typeof t=="string"?(f=(o={},o[t]=e,o),u=n||s):(f={},u=s),this.dataResolverWatchers=(l=this.dataResolverWatchers)!==null&&l!==void 0?l:u.dataResolverWatchers;var p=this.dataResolverWatchers.addProps(f,u);return i.prototype.set.call(this,p,u)},r.prototype.parseStyle=function(t){return n0.parseStyle(t)},r.prototype.extendStyle=function(t){return Hr(Hr({},this.getStyle("",{skipResolve:!0})),t)},r.prototype.getStyle=function(t,e){e===void 0&&(e={});var n=this.get("style"),o=(0,X.isString)(n)?this.parseStyle(n):(0,X.isObject)(n)?Hr({},n):{};delete o.__p;var l=!t||t===""||(0,X.isObject)(t);if(!e.skipResolve)return l?o:o[t];var s=this.dataResolverWatchers.getValueOrResolver("styles",o);return l?s:s[t]},r.prototype.setStyle=function(t,e){var n=this;t===void 0&&(t={}),e===void 0&&(e={}),(0,X.isString)(t)&&(t=this.parseStyle(t));var o=this.getStyle("",{skipResolve:!0});e.partial||e.avoidStore?(e.avoidStore=!0,t.__p=!0):delete t.__p;var l=Hr({},t),s=Hr({},l);(0,X.keys)(s).forEach(function(p){if(s[p]===""){delete s[p];return}}),this.set({style:s},e),s=this.attributes.style;var f=Object.keys((0,qt.shallowDiff)(o,l)),u=f.reduce(function(p,d){var h;return Hr(Hr({},p),(h={},h[d]=s[d],h))},{});return delete u.__p,(0,X.keys)(u).forEach(function(p){var d=n.em;e.noEvent||(n.trigger("change:style:".concat(p)),d&&(d.trigger("styleable:change",n,p,e),d.trigger("styleable:change:".concat(p),n,p,e)))}),s},r.prototype.getView=function(t){var e=this,n=e.views,o=e.em,l=t||o?.getCurrentFrameModel();return l?n.find(function(s){return s.frameView===l.view}):n[0]},r.prototype.setView=function(t){var e=this.views;!e.includes(t)&&e.push(t)},r.prototype.removeView=function(t){var e=this.views;e.splice(e.indexOf(t),1)},r.prototype.updateView=function(){this.views.forEach(function(t){return t.updateStyles()})},r.prototype.addStyle=function(t,e,n){var o;e===void 0&&(e=""),n===void 0&&(n={}),typeof t=="string"?t=(o={},o[t]=e,o):n=e||{},n.addStyle=t,t=this.extendStyle(t),this.setStyle(t,n)},r.prototype.removeStyle=function(t){var e=this.getStyle();delete e[t],this.setStyle(e)},r.prototype.styleToString=function(t){t===void 0&&(t={});var e=[],n=t.style||this.getStyle(t),o=t.important,l=function(f){var u=(0,X.isArray)(o)?o.indexOf(f)>=0:o,p=f.substring(0,2),d=p==="__";if(d)return"continue";var h=n[f],v=(0,X.isArray)(h)?h:[h];v.forEach(function(_){var T="".concat(_).concat(u?" !important":"");T&&e.push("".concat(f,":").concat(T,";"))})};for(var s in n)l(s);return e.join("")},r.prototype.getSelectors=function(){return this.get("selectors")||this.get("classes")},r.prototype.getSelectorsString=function(t){return this.selectorsToString?this.selectorsToString(t):this.getSelectors().getFullString()},r.prototype.onCollectionsStateMapUpdate=function(t){this.collectionsStateMap=t,this.dataResolverWatchers.onCollectionsStateMapUpdate()},r.prototype.clone=function(t,e){var n=this.dataResolverWatchers.getProps(this.attributes),o=Hr(Hr({},n),t),l=Hr(Hr({},this.opt),e),s=this.constructor;return new s(o,l)},r.prototype.toJSON=function(t,e){if(t?.fromUndo)return Hr({},i.prototype.toJSON.call(this,t));var n=Hr(Hr({},this.attributes),e),o=this.dataResolverWatchers.getProps(n);return o},r})(ae.Kx);const o1=o0;var i0=(function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}})(),ll=1,_c=2,i1=(function(i){i0(r,i);function r(t,e){e===void 0&&(e={});var n=i.call(this,t,e)||this,o=e.config,l=o===void 0?{}:o,s=n.get("name"),f=n.get("label");s?f||n.set("label",s):n.set("name",f);var u=n.get("name"),p=l.escapeName,d=p?p(u):r.escapeName(u);return n.set("name",d),n.em=e.em,n}return r.prototype.defaults=function(){return{name:"",label:"",type:ll,active:!0,private:!1,protected:!1,_undo:!0}},r.prototype.isId=function(){return this.get("type")===_c},r.prototype.isClass=function(){return this.get("type")===ll},r.prototype.getFullName=function(t){t===void 0&&(t={});var e=t.escape,n=this.get("name"),o="";switch(this.get("type")){case ll:o=".";break;case _c:o="#";break}return o+(e?e(n):n)},r.prototype.toString=function(){return this.getFullName()},r.prototype.getName=function(){return this.get("name")||""},r.prototype.getLabel=function(){return this.get("label")||""},r.prototype.setLabel=function(t){return this.set("label",t)},r.prototype.getActive=function(){return!!this.get("active")},r.prototype.setActive=function(t){return this.set("active",t)},r.prototype.toJSON=function(t){t===void 0&&(t={});var e=this.em,n=ae.Kx.prototype.toJSON.call(this,[t]),o=(0,X.result)(this,"defaults");if(e?.getConfig().avoidDefaults){(0,X.forEach)(o,function(s,f){n[f]===s&&delete n[f]}),n.label===n.name&&delete n.label;var l=(0,X.keys)(n).length;l===1&&n.name&&(n=n.name),l===2&&n.name&&n.type&&(n=this.getFullName())}return n},r.escapeName=function(t){return"".concat(t).trim().replace(/\s+/g,"-")},r.TYPE_CLASS=ll,r.TYPE_ID=_c,r})(ae.Kx);const ln=i1;i1.prototype.idAttribute="name";var a0=(function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}})(),a1=function(i,r){return i.reduce(function(t,e,n){return t.concat(a1(i.slice(n+1),"".concat(r).concat(e)))},[r])},s1=(function(i){a0(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.modelId=function(t){return"".concat(t.name,"_").concat(t.type||ln.TYPE_CLASS)},r.prototype.getStyleable=function(){return(0,X.filter)(this.models,function(t){return t.getActive()&&!t.get("private")})},r.prototype.getValid=function(t){var e=t===void 0?{}:t,n=e.noDisabled;return(0,X.filter)(this.models,function(o){return!o.get("private")}).filter(function(o){return n?o.get("active"):1})},r.prototype.getFullString=function(t,e){e===void 0&&(e={});var n=[],o=t||this;return o.forEach(function(l){return n.push(l.getFullName(e))}),e.sort&&n.sort(),n.join("").trim()},r.prototype.getFullName=function(t){t===void 0&&(t={});var e=t.combination,n=t.array,o=[],l=this.map(function(s){return s.getFullName(t)}).sort();return e?l.forEach(function(s,f){o=o.concat(a1(l.slice(f+1),s))}):o=l,n?o:e?o.join(","):o.join("")},r})(ae.pM);const Zo=s1;s1.prototype.model=ln;var s0=(function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}})(),Md=function(i,r,t){if(t||arguments.length===2)for(var e=0,n=r.length,o;e<n;e++)(o||!(e in r))&&(o||(o=Array.prototype.slice.call(r,0,e)),o[e]=r[e]);return i.concat(o||Array.prototype.slice.call(r))},l0=(function(i){s0(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.defaults=function(){return{id:"",label:"",open:!0,attributes:{}}},r.prototype.getId=function(){return this.get("id")},r.prototype.getLabel=function(){return this.get("label")},r})(ae.Kx);const Es=l0;function l1(i){var r=new Set,t=new Map,e={items:[]};i.forEach(function(o){var l=o.category;if(l){r.add(l);var s=t.get(l);s?s.push(o):t.set(l,[o])}else e.items.push(o)});var n=Array.from(r).map(function(o){return{category:o,items:t.get(o)||[]}});return Md(Md([],n,!0),[e],!1)}var u0=(function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}})(),Nd="category",u1=(function(i){u0(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.initCategory=function(t){var e=t.get(Nd),n=e instanceof Es;if(e&&!n){(0,X.isString)(e)?e={id:e,label:e}:(0,qt.isObject)(e)&&!e.id&&(e.id=e.label);var o=this.getCategories().add(e);return t.set(Nd,o,{silent:!0}),o}else if(n){var o=e;return this.getCategories().add(o),o}},r})(ae.pM),c0=(function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}})(),c1=(function(i){c0(r,i);function r(t,e){e===void 0&&(e={});var n=i.call(this,t,e)||this,o=e.events,l=e.em,s=o?.update;return l&&s&&n.on("change",function(f,u){return l.trigger(s,{category:f,changes:f.changedAttributes(),options:u})}),n}return r.prototype.add=function(t,e){var n=(0,X.isArray)(t)?t:[t];return n.forEach(function(o){return o&&(o.id=(0,qt.normalizeKey)("".concat(o.id)))}),i.prototype.add.call(this,t,e)},r.prototype.get=function(t){return i.prototype.get.call(this,(0,X.isString)(t)?(0,qt.normalizeKey)(t):t)},r})(ae.pM);const Pl=c1;c1.prototype.model=Es;var kl;(function(i){i.select="trait:select",i.value="trait:value",i.categoryUpdate="trait:category:update",i.custom="trait:custom",i.all="trait"})(kl||(kl={}));const uf=kl;var f0=(function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}})(),Ml=function(){return Ml=Object.assign||function(i){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])}return i},Ml.apply(this,arguments)},p0=(function(i){f0(r,i);function r(t,e){var n=i.call(this,t)||this,o=n.attributes,l=o.target,s=o.name;return!n.get("id")&&n.set("id",s),l&&n.setTarget(l),n.em=e,n}return r.prototype.defaults=function(){return{type:"text",label:"",name:"",unit:"",step:1,value:"",default:"",placeholder:"",category:"",changeProp:!1,options:[]}},Object.defineProperty(r.prototype,"parent",{get:function(){return this.collection},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"category",{get:function(){var t=this.get("category");return t instanceof Es?t:void 0},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"component",{get:function(){return this.target},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"changeProp",{get:function(){return!!this.get("changeProp")},enumerable:!1,configurable:!0}),r.prototype.setTarget=function(t){if(t){var e=this.attributes,n=e.name,o=e.changeProp,l=e.value,s=e.getValue;this.target=t,this.unset("target");var f=o?"change:".concat(n):"change:attributes:".concat(n);this.listenTo(t,f,this.targetUpdated);var u=l||(s?void 0:this.getValue());!(0,X.isUndefined)(u)&&this.set({value:u},{silent:!0})}},r.prototype.getId=function(){return this.get("id")},r.prototype.getType=function(){return this.get("type")},r.prototype.getName=function(){return this.get("name")},r.prototype.getLabel=function(t){var e;t===void 0&&(t={});var n=t.locale,o=n===void 0?!0:n,l=this.getId(),s=this.get("label")||this.getName();return o&&((e=this.em)===null||e===void 0?void 0:e.t("traitManager.traits.labels.".concat(l)))||s},r.prototype.getValue=function(t){return this.getTargetValue(t)},r.prototype.setValue=function(t,e){var n=this;e===void 0&&(e={});var o=this,l=o.component,s=o.em,f=e.partial,u={},p=this.attributes.setValue;if(p){p({value:t,component:l,editor:s?.getEditor(),trait:this,partial:!!f,options:e,emitUpdate:function(){return n.targetUpdated()}});return}f&&(u.avoidStore=!0),this.setTargetValue(t,u)},r.prototype.getDefault=function(){return this.get("default")},r.prototype.getOptions=function(){return this.get("options")||[]},r.prototype.getOption=function(t){var e=this,n=(0,qt.isDef)(t)?t:this.getValue();return this.getOptions().filter(function(o){return e.getOptionId(o)===n})[0]},r.prototype.getOptionId=function(t){return t.id||t.value},r.prototype.getOptionLabel=function(t,e){var n;e===void 0&&(e={});var o=e.locale,l=o===void 0?!0:o,s=(0,X.isString)(t)?this.getOption(t):t,f=this.getOptionId(s),u=s.label||s.name||f,p=this.getName();return l&&((n=this.em)===null||n===void 0?void 0:n.t("traitManager.traits.options.".concat(p,".").concat(f)))||u},r.prototype.getCategoryLabel=function(t){t===void 0&&(t={});var e=this,n=e.em,o=e.category,l=t.locale,s=l===void 0?!0:l,f=o?.getId(),u=o?.getLabel();return s&&n?.t("traitManager.categories.".concat(f))||u||""},r.prototype.runCommand=function(){var t=this.em,e=this.attributes.command;if(e&&t)return(0,X.isString)(e)?t.Commands.run(e):e(t.Editor,this)},r.prototype.props=function(){return this.attributes},r.prototype.targetUpdated=function(){var t=this,e=t.component,n=t.em,o=this.getTargetValue({useType:!0});this.set({value:o},{fromTarget:1});var l={trait:this,component:e,value:o};e.trigger(uf.value,l),n?.trigger(uf.value,l),n?.trigger("trait:update",l)},r.prototype.getTargetValue=function(t){var e;t===void 0&&(t={});var n=this,o=n.component,l=n.em,s=this.getName(),f=this.get("getValue"),u,p=t.skipResolve;if(f?u=f({editor:l?.getEditor(),trait:this,component:o}):this.changeProp?(u=o.get(s),p&&(u=o.dataResolverWatchers.getValueOrResolver("props",(e={},e[s]=u,e))[s])):u=o.getAttributes({skipResolve:p})[s],t.useType){var d=this.getType();if(d==="checkbox"){var h=this.attributes,v=h.valueTrue,_=h.valueFalse;!(0,X.isUndefined)(v)&&v===u?u=!0:!(0,X.isUndefined)(_)&&_===u&&(u=!1)}}return(0,X.isUndefined)(u)?"":u},r.prototype.setTargetValue=function(t,e){var n;e===void 0&&(e={});var o=this,l=o.component,s=o.attributes,f=this.getName();if(!(0,X.isUndefined)(t)){var u=t;if(t==="false"?u=!1:t==="true"&&(u=!0),this.getType()==="checkbox"){var p=s.valueTrue,d=s.valueFalse;u&&!(0,X.isUndefined)(p)&&(u=p),!u&&!(0,X.isUndefined)(d)&&(u=d)}var h=(n={},n[f]=u,n);h.__p=e.avoidStore?null:void 0,this.changeProp?l.set(h,e):l.addAttributes(h,e)}},r.prototype.setValueFromInput=function(t,e,n){e===void 0&&(e=!0),n===void 0&&(n={});var o={value:t};this.set(o,Ml(Ml({},n),{avoidStore:1})),e&&(this.set("value","",n),this.set(o,n))},r.prototype.getInitValue=function(){var t=this.component,e=this.getName(),n;if(t){var o=t.get("attributes");n=this.changeProp?t.get(e):o[e]}return n||this.get("value")||this.get("default")},r})(ae.Kx);const Nl=p0;var d0=(function(){function i(r){r===void 0&&(r={}),this.config=r}return i.prototype.build=function(r,t){return(0,X.isString)(r)?this.buildFromString(r,t):new Nl(r,t)},i.prototype.buildFromString=function(r,t){var e={name:r,type:"text"};switch(r){case"target":e.type="select",e.default=!1,e.options=this.config.optionsTarget;break}return new Nl(e,t)},i})();const h0=d0;var v0=(function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}})(),g0=(function(i){v0(r,i);function r(t,e){var n=i.call(this,t)||this;n.categories=new Pl;var o=e.em;n.em=o,n.categories=new Pl([],{em:o,events:{update:uf.categoryUpdate}}),n.on("add",n.handleAdd),n.on("reset",n.handleReset);var l=n.module,s=l?.getConfig();return n.tf=new h0(s),n}return Object.defineProperty(r.prototype,"module",{get:function(){return this.em.Traits},enumerable:!1,configurable:!0}),r.prototype.getCategories=function(){return this.categories},r.prototype.handleReset=function(t,e){var n=e===void 0?{}:e,o=n.previousModels,l=o===void 0?[]:o;l.forEach(function(s){return s.trigger("remove")})},r.prototype.handleAdd=function(t){t.em=this.em;var e=this.target;e&&(t.target=e),this.initCategory(t)},r.prototype.setTarget=function(t){this.target=t,this.models.forEach(function(e){return e.setTarget(t)})},r.prototype.add=function(t,e){if(t!=null){var n=this,o=n.target,l=n.em;if((0,X.isArray)(t)){for(var s=[],f=0,u=t.length;f<u;f++){var p=t[f];s[f]=p instanceof Nl?p:this.tf.build(p,l),s[f].setTarget(o)}return i.prototype.add.call(this,s,e)}var d=t instanceof Nl?t:this.tf.build(t,l);return d.setTarget(o),i.prototype.add.call(this,d,e)}},r})(u1);const Ll=g0;var m0=(function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}})(),Yr=function(){return Yr=Object.assign||function(i){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])}return i},Yr.apply(this,arguments)},bl=function(i,r){var t={};for(var e in i)Object.prototype.hasOwnProperty.call(i,e)&&r.indexOf(e)<0&&(t[e]=i[e]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,e=Object.getOwnPropertySymbols(i);n<e.length;n++)r.indexOf(e[n])<0&&Object.prototype.propertyIsEnumerable.call(i,e[n])&&(t[e[n]]=i[e[n]]);return t},bc=function(i,r,t){if(t||arguments.length===2)for(var e=0,n=r.length,o;e<n;e++)(o||!(e in r))&&(o||(o=Array.prototype.slice.call(r,0,e)),o[e]=r[e]);return i.concat(o||Array.prototype.slice.call(r))},ta=function(i,r){if(r===void 0&&(r=[]),!i)return[];var t=(0,X.isArray)(i)||(0,X.isFunction)(i.map)?i:[i];return t.map(function(e){r.push(e.getId()),ta(e.components().models,r)}),r},f1=function(i,r,t){r===void 0&&(r={}),t===void 0&&(t={}),t.visitedCmps=t.visitedCmps||{};var e=t.visitedCmps,n=t.updateOptions||{},o=(0,X.isArray)(i)?i:[i];return o.map(function(l){var s=l.attributes,f=s===void 0?{}:s,u=l.components,p=l.tagName,d=l.style,h=f.id;f.draggable;var v=bl(f,["id","draggable"]),_=l;if(h){if(e[h])e[h].push(_),h=_r.getNewId(r),_.attributes.id=h;else if(e[h]=[],r[h]){_=r[h];var T=n.onAttributes,w=n.onStyle,C=_;p&&C.set({tagName:p},Yr(Yr({},t),{silent:!0})),T?T({item:l,component:C,attributes:v,options:t}):(0,X.keys)(v).length&&C.addAttributes(v,Yr({},t)),w?w({item:l,component:C,style:d,options:t}):(0,X.keys)(d).length&&C.addStyle(d,t)}}var A=(0,X.isFunction)(_.components)?_:null;if(u){var S=f1(u,r,t);A?A.components().reset(S,t):_.components=S}else A&&A.components().reset([],t);return _})},y0=(function(i){m0(r,i);function r(t,e){var n=i.call(this,t,e)||this;n.opt=e,n.listenTo(n,"add",n.onAdd),n.listenTo(n,"remove",n.removeChildren),n.listenTo(n,"reset",n.resetChildren);var o=e.em,l=e.config;return n.config=l,n.em=o,n.domc=e.domc||o?.Components,n}return Object.defineProperty(r.prototype,"events",{get:function(){var t;return(t=this.domc)===null||t===void 0?void 0:t.events},enumerable:!1,configurable:!0}),r.prototype.resetChildren=function(t,e){var n=this;e===void 0&&(e={});var o=this,l=e.previousModels||[],s=l.filter(function(p){return!t.get(p.cid)}),f=ta(t),u=ta(l).filter(function(p){return f.indexOf(p)>=0});e.keepIds=(e.keepIds||[]).concat(u),s.forEach(function(p){return n.removeChildren(p,o,e)}),t.each(function(p){return n.onAdd(p)})},r.prototype.resetFromString=function(t,e){var n,o;t===void 0&&(t=""),e===void 0&&(e={}),e.keepIds=ta(this);var l=this,s=l.domc,f=l.em,u=l.parent,p=s?.allById()||{},d=this.parseString(t,Yr(Yr({},e),{cloneRules:!0})),h=Yr({skipViewUpdate:!0},e),v=f1(d,p,h);r.cloneCssRules(f,h.visitedCmps),this.reset(v,e),f?.trigger("component:content",u,e,t),(o=(n=u).__checkInnerChilds)===null||o===void 0||o.call(n)},r.prototype.removeChildren=function(t,e,n){var o=this;if(n===void 0&&(n={}),!!t){var l=this,s=l.domc,f=l.em,u=n.temporary||n.fromUndo;if(t.prevColl=this,!u){var p=t.getId(),d=f.Selectors.getAll(),h=f.Css.getAll(),v=(n.keepIds||[]).indexOf(p)<0,_=s?s.allById():{};delete _[p];var T=v?h.remove(h.filter(function(S){return S.getSelectors().getFullString()==="#".concat(p)}),n):[];d.remove(T.map(function(S){return S.getSelectors().at(0)})),t.opt.temporary||(f.Commands.run("core:component-style-clear",{target:t}),t.views.forEach(function(S){S.scriptContainer&&t.emitWithEditor(Xe.I.scriptUnmount,{component:t,view:S,el:S.el})}),t.removed(),t.trigger("removed"),f.trigger(Xe.I.remove,t),s&&xl(t)&&wi(t)&&s.symbols.__trgEvent(s.events.symbolInstanceRemove,{component:t},!0));var w=t.components();w.forEach(function(S){Jh(S,S,w,Yr(Yr({},n),{skipRefsUp:!0})),o.removeChildren(S,e,n)})}var C=t.components();if(f.stopListening(C),f.stopListening(t),f.stopListening(t.get("classes")),t.__postRemove(),!t.opt.temporary){var A=function(S){S.emitWithEditor(Xe.I.removed,S,{removeOptions:n}),S.components().forEach(function(x){return A(x)})};A(t)}}},r.prototype.model=function(t,e){var n=e.collection.opt,o=n.em,l,s=o.Components.componentTypes;e.em=o,e.config=n.config,e.componentTypes=s,e.domc=n.domc;for(var f=0;f<s.length;f++){var u=s[f].id;if(u==t.type){l=s[f].model;break}}return l||(l=s[s.length-1].model,o&&t.type&&o.logWarning("Component type '".concat(t.type,"' not found"),{attrs:t,options:e})),new l(t,e)},r.prototype.parseString=function(t,e){e===void 0&&(e={});var n=this,o=n.em,l=n.domc,s=n.parent,f=s?.is("wrapper"),u=e.asDocument&&f,p=o.Css,d=o.Parser.parseHtml(t,Yr({asDocument:u},e.parserOptions)),h=d.html;if(f&&d.doctype){var v=s,_=d.html||{},T=_.components,w=T===void 0?[]:T,C=bl(_,["components"]),A=d.head||{},S=A.components,x=bl(A,["components"]);h=w,v.set(C,e),v.head.set(x,e),v.head.components(S,e),v.docEl.set(d.root,e),v.set({doctype:d.doctype})}var N=_r.checkId(h,d.css,l.componentsById,e);if(e.cloneRules&&r.cloneCssRules(o,N.updatedIds),d.css&&p&&!e.temporary){e.at;var b=bl(e,["at"]);p.addCollection(d.css,Yr(Yr({},b),{extend:1}))}return h},r.prototype.add=function(t,e){var n=this;if(e===void 0&&(e={}),t!=null){e.keepIds=bc(bc([],e.keepIds||[],!0),ta(e.previousModels),!0),(0,X.isString)(t)?t=this.parseString(t,e):(0,X.isArray)(t)&&(t=bc([],t,!0),t.forEach(function(l,s){if((0,X.isString)(l)){var f=n.parseString(l,e);t[s]=(0,X.isArray)(f)&&!f.length?null:f}}));var o=((0,X.isArray)(t)?t:[t]).filter(Boolean).map(function(l){return n.processDef(l)});return t=(0,X.isArray)(t)?(0,X.flatten)(o,1):o[0],i.prototype.add.call(this,t,e)}},r.prototype.processDef=function(t){if(t.cid&&t.ccid)return t;var e=this,n=e.em,o=e.config,l=o===void 0?{}:o,s=l.processor,f=t;if(s){f=Yr({},f);var u=s(f);u&&((0,X.each)(f,function(w,C){return delete f[C]}),(0,X.extend)(f,u))}if(f.$$typeof&&typeof f.props=="object"){f=Yr({},f),f.props=Yr({},f.props);var p=n.Components,d=n.Parser,h=d.parserHtml;(0,X.each)(f,function(w,C){(0,X.includes)(["props","type"],C)||delete f[C]});var v=f.props,_=v.children;delete v.children,delete f.props;var T=h.splitPropsFromAttr(v);f.attributes=T.attrs,_&&(f.components=_),f.type?p.getType(f.type)||(f.tagName=f.type,delete f.type):f.type="textnode",(0,X.extend)(f,T.props)}return f},r.prototype.onAdd=function(t,e,n){n===void 0&&(n={});var o=this,l=o.domc,s=o.em,f=s.config.avoidInlineStyle;if(l&&l.Component.ensureInList(t),!f&&s.config.forceClass&&!n.temporary){var u=t.getStyle();if(!(0,X.isEmpty)(u)){var p=t.cid;s.Css.setClassRule(p,u),t.setStyle({}),t.addClass(p)}}if(t.__postAdd({recursive:!0}),s&&!n.temporary){var d=function(h){s.trigger(Xe.I.add,h,n),h.components().forEach(function(v){return d(v)})};d(t),l&&xl(t)&&wi(t)&&l.symbols.__trgEvent(l.events.symbolInstanceAdd,{component:t},!0)}},r.cloneCssRules=function(t,e){e===void 0&&(e={});var n=t.Css;Object.keys(e).forEach(function(o){var l=e[o];if(l.length){var s=(n.getRules("#".concat(o))||[]).filter(function(u){return!(0,X.isEmpty)(u.attributes.style)});if(s.length){var f=n.getAll();l.forEach(function(u){s.forEach(function(p){var d=p.clone();d.set("selectors",["#".concat(u.attributes.id)]),f.add(d)})})}}})},r})(ae.pM);const Cs=y0;var _0=(function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}})(),nr=function(){return nr=Object.assign||function(i){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])}return i},nr.apply(this,arguments)},b0=function(i,r){var t={};for(var e in i)Object.prototype.hasOwnProperty.call(i,e)&&r.indexOf(e)<0&&(t[e]=i[e]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,e=Object.getOwnPropertySymbols(i);n<e.length;n++)r.indexOf(e[n])<0&&Object.prototype.propertyIsEnumerable.call(i,e[n])&&(t[e[n]]=i[e[n]]);return t},Pn=function(i,r,t){if(t||arguments.length===2)for(var e=0,n=r.length,o;e<n;e++)(o||!(e in r))&&(o||(o=Array.prototype.slice.call(r,0,e)),o[e]=r[e]);return i.concat(o||Array.prototype.slice.call(r))},Ld=function(i){return i.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&")},hi=function(i){return!!i?.getConfig().avoidInlineStyle},Wf="component:drag",on="__symbols",yn="__symbol",Ti="__symbol_ovrd",Tl=Xe.I.update,cf=Xe.I.updateInside,T0=(function(i){_0(r,i);function r(t,e){t===void 0&&(t={});var n=this,o=e.em;n=i.call(this,t,e)||this,(0,X.bindAll)(n,"__upSymbProps","__upSymbCls","__upSymbComps","syncOnComponentChange");var l=n.parent(),s=l?.attributes,f=n.get("propagate");if(f&&n.set("propagate",(0,X.isArray)(f)?f:[f]),s&&s.propagate&&!f){var u={},p=s.propagate;p.forEach(function(C){return u[C]=l.get(C)}),u.propagate=p,n.set(nr(nr({},u),t))}e&&e.config&&e.config.voidElements.indexOf(n.get("tagName"))>=0&&n.set("void",!0),e.em=o,n.opt=e,n.em=o,n.config=e.config||{};var d=nr(nr({},(0,X.result)(n,"defaults").attributes||{}),n.get("attributes")||{}),h=n.dataResolverWatchers.getValueOrResolver("attributes",d);if(n.setAttributes(h),n.ccid=r.createId(n,e),n.preInit(),n.initClasses(),n.initComponents(),n.initTraits(),n.initToolbar(),n.initScriptProps(),n.listenTo(n,"change:script",n.scriptUpdated),n.listenTo(n,"change:tagName",n.tagUpdated),n.listenTo(n,"change:attributes",n.attrUpdated),n.listenTo(n,"change:attributes:id",n._idUpdated),n.on("change:toolbar",n.__emitUpdateTlb),n.on("change",n.__onChange),n.on(cf,n.__propToParent),n.set("status",""),n.views=[],["classes","traits","components"].forEach(function(C){var A="add remove reset ".concat(C!=="components"?"change":"");n.listenTo(n.get(C),A.trim(),function(){for(var S=[],x=0;x<arguments.length;x++)S[x]=arguments[x];return n.emitUpdate.apply(n,Pn([C],S,!1))})}),!e.temporary){var v=o&&o.Css,_=n.attributes,T=_.styles,w=_.type;T&&v&&v.addCollection(T,{avoidUpdateStyle:!0},{group:"cmp:".concat(w)}),n._moveInlineStyleToRule(),n.__postAdd(),n.init(),to(n)&&ts(n),o?.trigger(Xe.I.create,n,e)}return hi(o)&&n.dataResolverWatchers.disableStyles(),n}return Object.defineProperty(r.prototype,"defaults",{get:function(){var t;return t={tagName:"div",type:"",name:"",removable:!0,draggable:!0,droppable:!0,badgable:!0,stylable:!0,"stylable-require":"","style-signature":"",unstylable:"",highlightable:!0,copyable:!0,resizable:!1,editable:!1,layerable:!0,selectable:!0,hoverable:!0,void:!1,state:"",status:"",content:"",icon:"",style:"",styles:"",classes:"",script:"","script-props":"","script-export":"",attributes:{},traits:["id","title"],propagate:"",dmode:"",toolbar:null,delegate:null},t[yn]=0,t[on]=0,t[Ti]=0,t._undo=!0,t._undoexc=["status","open"],t},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"tagName",{get:function(){return this.get("tagName")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"classes",{get:function(){return this.get("classes")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"traits",{get:function(){return this.get("traits")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"content",{get:function(){var t;return(t=this.get("content"))!==null&&t!==void 0?t:""},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"toolbar",{get:function(){return this.get("toolbar")||[]},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"resizable",{get:function(){return this.get("resizable")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"delegate",{get:function(){return this.get("delegate")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"locked",{get:function(){return this.get("locked")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"frame",{get:function(){return this.opt.frame},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"page",{get:function(){var t;return(t=this.frame)===null||t===void 0?void 0:t.getPage()},enumerable:!1,configurable:!0}),r.prototype.getType=function(){return this.get("type")||"default"},r.prototype.preInit=function(){},r.prototype.init=function(){},r.prototype.updated=function(t,e,n){},r.prototype.removed=function(){},r.prototype.onCollectionsStateMapUpdate=function(t){var e;i.prototype.onCollectionsStateMapUpdate.call(this,t),(e=this._getStyleRule())===null||e===void 0||e.onCollectionsStateMapUpdate(t);var n=this.components();n.forEach(function(o){return o.onCollectionsStateMapUpdate(t)})},r.prototype.syncComponentsCollectionState=function(){this.stopListening(this.components(),"add remove reset",this.syncOnComponentChange),this.listenTo(this.components(),"add remove reset",this.syncOnComponentChange),this.components().forEach(function(t){return t.syncComponentsCollectionState()})},r.prototype.stopSyncComponentCollectionState=function(){this.stopListening(this.components(),"add remove reset",this.syncOnComponentChange),this.collectionsStateMap={},this.components().forEach(function(t){return t.stopSyncComponentCollectionState()})},r.prototype.syncOnComponentChange=function(t,e,n){var o=this;if(!(!this.collectionsStateMap||!Object.keys(this.collectionsStateMap).length)){var l=n||e||{};if(n)if(l.add){var f=t;f.syncComponentsCollectionState(),f.onCollectionsStateMapUpdate(this.collectionsStateMap)}else{var u=t;u.stopSyncComponentCollectionState()}else{var s=l.previousModels||[];s.forEach(function(p){return p.stopSyncComponentCollectionState()}),this.components().forEach(function(p){p.syncComponentsCollectionState(),p.onCollectionsStateMapUpdate(o.collectionsStateMap)})}}},r.prototype.__postAdd=function(t){t===void 0&&(t={});var e=this.em,n=e?.UndoManager,o=this.components();n&&!this.__hasUm&&(n.add(o),n.add(this.getSelectors()),this.__hasUm=!0),t.recursive&&o.map(function(l){return l.__postAdd(t)})},r.prototype.__postRemove=function(){var t=this.em,e=t?.UndoManager;e&&(e.remove(this.components()),e.remove(this.getSelectors()),delete this.__hasUm)},r.prototype.__onChange=function(t,e){var n=this,o=this.changedAttributes()||{};(0,X.keys)(o).forEach(function(l){return n.emitUpdate(l)}),["status","open","toolbar","traits"].forEach(function(l){return delete o[l]}),(0,qt.isEmptyObj)(o)||(this.__changesUp(e,{changed:o}),this.__propSelfToParent({component:this,changed:o,options:e}))},r.prototype.__onStyleChange=function(t,e){var n=this,o=this,l=o.collectionsStateMap,s=o.em;if(!(!s||e?.noEvent)){var f=(0,X.keys)(t),u={style:t};this.emitWithEditor(Xe.I.styleUpdate,this,u),f.forEach(function(v){return n.emitWithEditor("".concat(Xe.I.styleUpdateProperty).concat(v),n,u)});var p=Object.keys(l).filter(function(v){return v!==ys.rootData});if(p.length!==0){var d=p.every(function(v){var _=l[v];return _.currentIndex===_.startIndex});if(d){var h=Co(this);h.forEach(function(v){var _=v.collectionsStateMap,T=Object.keys(_),w=T.every(function(C){return p.includes(C)});w&&v.addStyle(nr({},t),{noEvent:!0})})}}}},r.prototype.__changesUp=function(t,e){var n=this;e===void 0&&(e={});var o=this,l=o.em,s=o.frame;[s,l].forEach(function(f){f?.changesUp(t,nr({component:n,options:t},e))})},r.prototype.__propSelfToParent=function(t){this.trigger(Tl,t),this.__propToParent(t)},r.prototype.__propToParent=function(t){var e=this.parent();e&&e.trigger(cf,t)},r.prototype.__emitUpdateTlb=function(){this.emitUpdate("toolbar")},r.prototype.__getAllById=function(){var t=this.em;return t?t.Components.allById():{}},r.prototype.__upSymbProps=function(t,e){e===void 0&&(e={}),Hm(this,e)},r.prototype.__upSymbCls=function(t,e,n){n===void 0&&(n={}),Wm(this,n)},r.prototype.__upSymbComps=function(t,e,n){Jh(this,t,e,n)},r.prototype.__onDestroy=function(){},r.prototype.is=function(t){return this.get("type")==t},r.prototype.props=function(){return this.attributes},r.prototype.index=function(){var t=this.collection;return t?t.indexOf(this):0},r.prototype.setDragMode=function(t){return this.set("dmode",t)},r.prototype.getDragMode=function(){return this.get("dmode")||""},r.prototype.setSymbolOverride=function(t,e){var n,o;e===void 0&&(e={}),this.set((n={},n[Ti]=(o=(0,X.isString)(t)?[t]:t)!==null&&o!==void 0?o:0,n),e)},r.prototype.getSymbolOverride=function(){return this.get(Ti)},r.prototype.find=function(t){var e,n=[],o=(e=this.view)===null||e===void 0?void 0:e.$el.find(t);return o?.each(function(l){var s=o.eq(l),f=s.data("model");f&&n.push(f)}),n},r.prototype.findType=function(t){var e=[],n=function(o){return o.forEach(function(l){l.is(t)&&e.push(l),n(l.components())})};return n(this.components()),e},r.prototype.findFirstType=function(t){return this.findType(t).at(0)},r.prototype.closest=function(t){var e,n=(e=this.view)===null||e===void 0?void 0:e.$el.closest(t);return n?.length?n.data("model"):void 0},r.prototype.closestType=function(t){for(var e=this.parent();e&&!e.is(t);)e=e.parent();return e},r.prototype.contains=function(t){var e=!1;if(!t)return e;var n=function(o){!e&&o.forEach(function(l){l===t&&(e=!0),!e&&n(l.components())})};return n(this.components()),e},r.prototype.tagUpdated=function(){this.trigger("rerender")},r.prototype.replaceWith=function(t,e){e===void 0&&(e={});var n=this.collection,o=n.indexOf(this);n.remove(this);var l=n.add(t,nr(nr({},e),{at:o}));return(0,X.isArray)(l)?l:[l]},r.prototype.attrUpdated=function(t,e,n){var o=this;n===void 0&&(n={});var l=this.get("attributes"),s=l.class;s&&this.setClass(s),delete l.class;var f=l.style;f&&this.setStyle(f,n),delete l.style;var u=nr({},this.previous("attributes")),p=(0,qt.shallowDiff)(u,this.get("attributes"));(0,X.keys)(p).forEach(function(d){var h,v="attributes:".concat(d);o.trigger("change:".concat(v),o,p[d],n),(h=o.em)===null||h===void 0||h.trigger("".concat(Tl,":").concat(v),o,p[d],n)})},r.prototype.setAttributes=function(t,e){return e===void 0&&(e={skipWatcherUpdates:!1,fromDataSource:!1}),this.set("attributes",nr({},t),e),this},r.prototype.addAttributes=function(t,e){e===void 0&&(e={});var n=this.dataResolverWatchers.getValueOrResolver("attributes",this.getAttributes({noClass:!0,noStyle:!0}));return this.setAttributes(nr(nr({},n),t),e)},r.prototype.removeAttributes=function(t,e){t===void 0&&(t=[]),e===void 0&&(e={});var n=Array.isArray(t)?t:[t],o=this.getAttributes();return n.map(function(l){return delete o[l]}),this.setAttributes(o,e)},r.prototype.getStyle=function(t,e){var n=this.em,o=(0,X.isString)(t),l=o?t:"",s=o?e:t,f=!!s?.skipResolve;if(hi(n)&&!s?.inline){var u=n.get("state"),p=n.Css,d=p.getIdRule(this.getId(),nr({state:u},s));return this.rule=d,d?d.getStyle(l,{skipResolve:f}):{}}return i.prototype.getStyle.call(this,l,{skipResolve:f})},r.prototype.setStyle=function(t,e){var n=this;t===void 0&&(t={}),e===void 0&&(e={});var o=this,l=o.opt,s=o.em;if(hi(s)&&!l.temporary&&!e.inline){var f=this.get("style")||{};t=(0,X.isString)(t)?this.parseStyle(t):t,t=nr(nr({},f),t);var u=s.get("state"),p=s.Css,d=this.getStyle(nr(nr({},e),{skipResolve:!0}));this.rule=p.setIdRule(this.getId(),t,nr({state:u},e));var h=(0,qt.shallowDiff)(d,t);this.set("style","",{silent:!0}),(0,X.keys)(h).forEach(function(v){return n.trigger("change:style:".concat(v))})}else t=i.prototype.setStyle.apply(this,arguments);return l.temporary||this.__onStyleChange(e.addStyle||t,e),t},r.prototype.getAttributes=function(t){t===void 0&&(t={});var e=this.em,n=[],o=nr({},this.get("attributes")),l=t?.skipResolve?this.dataResolverWatchers.getValueOrResolver("attributes",o):o,s=e?.Selectors,f=this.getId();if(t.noClass?delete l.class:(this.classes.forEach(function(d){return n.push((0,X.isString)(d)?d:d.getName())}),n.length&&(l.class=n.join(" "))),!t.noStyle){var u=this.getStyle({inline:!0});(0,qt.isObject)(u)&&!(0,qt.isEmptyObj)(u)&&(l.style=this.styleToString({inline:!0}))}if(!(0,X.has)(l,"id")){var p=!1;(hi(e)||!(0,X.isEmpty)(this.getStyle()))&&(p=!!s?.get(f,s.Selector.TYPE_ID)),(to(this)||this.get("script-export")||this.get("script"))&&(p=!0),p&&(l.id=f)}return l},r.prototype.addClass=function(t){var e=this.em.Selectors.addClass(t);return this.classes.add(e)},r.prototype.setClass=function(t){return this.classes.reset(),this.addClass(t)},r.prototype.removeClass=function(t){var e=[];t=(0,X.isArray)(t)?t:[t];var n=this.classes,o=ln.TYPE_CLASS;return t.forEach(function(l){var s=l.split(" ");s.forEach(function(f){var u=n.where({name:f,type:o})[0];u&&e.push(n.remove(u))})}),e},r.prototype.getClasses=function(){var t=this.getAttributes(),e=t.class;return e?e.split(" "):[]},r.prototype.initClasses=function(t,e,n){n===void 0&&(n={});var o="change:classes",l=this.get("attributes")||{},s=l.class,f=b0(l,["class"]),u=[this,o,this.initClasses],p=this.get("classes")||s||[],d=(0,X.isString)(p)?p.split(" "):p;this.stopListening.apply(this,u);var h=this.normalizeClasses(d),v=new Zo([]);return this.set("classes",v,n),v.add(h),v.on("add remove reset",this.__upSymbCls),s&&h.length&&this.set("attributes",f),this.listenTo.apply(this,u),this},r.prototype.initComponents=function(){var t="change:components",e=[this,t,this.initComponents];this.stopListening.apply(this,e);var n=new Cs([],this.opt);n.parent=this;var o=this.get("components"),l=!this.opt.avoidChildren;return this.set("components",n),l&&o&&n.add((0,X.isFunction)(o)?o(this):o,this.opt),n.on("add remove reset",this.__upSymbComps),this.listenTo.apply(this,e),this},r.prototype.initTraits=function(t){var e=this,n=this.em,o="change:traits";this.off(o,this.initTraits),this.__loadTraits();var l=nr({},this.get("attributes")),s=this.traits;s.each(function(u){var p=u.getName(),d=u.getInitValue();u.changeProp?(0,X.isUndefined)(e.get(p))&&e.set(p,d):p&&d&&(l[p]=d)});var f=this.dataResolverWatchers.getValueOrResolver("attributes",l);return s.length&&this.setAttributes(f),this.on(o,this.initTraits),t&&n&&n.trigger("component:toggled"),this},r.prototype.initScriptProps=function(){if(!this.opt.temporary){var t="script-props",e=["change:".concat(t),this.initScriptProps];this.off.apply(this,e);var n=this.previous(t)||[],o=this.get(t)||[],l=n.map(function(f){return"change:".concat(f)}).join(" "),s=o.map(function(f){return"change:".concat(f)}).join(" ");l&&this.off(l,this.__scriptPropsChange),s&&this.on(s,this.__scriptPropsChange),this.on.apply(this,e)}},r.prototype.__scriptPropsChange=function(t,e,n){n===void 0&&(n={}),!n.avoidStore&&this.trigger("rerender")},r.prototype.append=function(t,e){e===void 0&&(e={});var n=(0,X.isArray)(t)?Pn([],t,!0):[t],o=n.map(function(s){return(0,X.isString)(s)||s.collection&&s.collection.remove(s,{temporary:!0}),s}),l=this.components().add(o,nr({action:Xe.t.add},e));return l},r.prototype.components=function(t,e){e===void 0&&(e={});var n=this.get("components");return(0,X.isUndefined)(t)?n:(n.reset(void 0,e),t?this.append(t,e):[])},r.prototype.getChildAt=function(t){return this.components().at(t||0)||void 0},r.prototype.getLastChild=function(){var t=this.components();return t.at(t.length-1)||null},r.prototype.empty=function(t){return t===void 0&&(t={}),this.components().reset(void 0,t),this},r.prototype.parent=function(t){t===void 0&&(t={});var e=this.collection||t.prev&&this.prevColl;return e?e.parent:void 0},r.prototype.parents=function(){var t=this.parent();return t?[t].concat(t.parents()):[]},r.prototype.scriptUpdated=function(){this.set("scriptUpdated",1)},r.prototype.initToolbar=function(){var t=this.em,e=this,n=t&&t.getConfig().stylePrefix||"";if(!e.get("toolbar")&&t){var o=[];e.collection&&o.push({label:t.getIcon("arrowUp"),command:function(l){return l.runCommand("core:component-exit",{force:1})}}),e.get("draggable")&&o.push({attributes:{class:"".concat(n,"no-touch-actions"),draggable:!0},label:t.getIcon("move"),command:"tlb-move"}),e.get("copyable")&&o.push({label:t.getIcon("copy"),command:"tlb-clone"}),e.get("removable")&&o.push({label:t.getIcon("delete"),command:"tlb-delete"}),e.set("toolbar",o)}},r.prototype.__loadTraits=function(t,e){e===void 0&&(e={});var n=t||this.traits;if(!(n instanceof Ll)){n=(0,X.isFunction)(n)?n(this):n;var o=new Ll([],this.opt);o.setTarget(this),n.length&&o.add(n),this.set({traits:o},e)}return this},r.prototype.getTraits=function(){return this.__loadTraits(),Pn([],this.traits.models,!0)},r.prototype.setTraits=function(t){var e=(0,X.isArray)(t)?t:[t];return this.set({traits:e}),this.getTraits()},r.prototype.getTrait=function(t){return this.getTraits().filter(function(e){return e.get("id")===t||e.get("name")===t})[0]||null},r.prototype.updateTrait=function(t,e){var n,o=this.getTrait(t);return o&&o.set(e),(n=this.em)===null||n===void 0||n.trigger("component:toggled"),this},r.prototype.getTraitIndex=function(t){var e=this.getTrait(t);return e?this.traits.indexOf(e):-1},r.prototype.removeTrait=function(t){var e=this,n,o=(0,X.isArray)(t)?t:[t],l=o.map(function(u){return e.getTrait(u)}),s=this.traits,f=l.length?s.remove(l):[];return(n=this.em)===null||n===void 0||n.trigger("component:toggled"),(0,X.isArray)(f)?f:[f]},r.prototype.addTrait=function(t,e){var n;e===void 0&&(e={}),this.__loadTraits();var o=this.traits.add(t,e);return(n=this.em)===null||n===void 0||n.trigger("component:toggled"),(0,X.isArray)(o)?o:[o]},r.prototype.normalizeClasses=function(t){var e=[],n=this.em,o=n?.Selectors;return o?t.models?Pn([],t.models,!0):(t.forEach(function(l){return e.push(o.add(l))}),e):[]},r.prototype.clone=function(t){var e;t===void 0&&(t={});var n=this.em,o=this.dataResolverWatchers.getProps(this.attributes),l=nr({},this.opt),s=this.getId(),f=n?.Css;o.components=[],o.classes=[],o.traits=[],wi(this)&&(t.symbol=!0),this.get("components").each(function(w,C){o.components[C]=w.clone(nr(nr({},t),{_inner:1}))}),this.get("traits").each(function(w,C){o.traits[C]=w.clone()}),this.get("classes").each(function(w,C){o.classes[C]=w.get("name")}),o.status="",l.collection=null,l.forCloning=!0;var u=new this.constructor(o,l),p="#".concat(u.getId()),d=f?f.getRules("#".concat(s)):[];d.forEach(function(w){var C=w.clone();C.set("selectors",[p]),f.getAll().add(C)}),u.set(on,0);var h=Un(this),v=Tn(this);if(!t.symbol&&(h||v))u.set(yn,0),u.set(on,0);else if(h){var _=(e=Tn(h))!==null&&e!==void 0?e:[];h.set(on,Pn(Pn([],_,!0),[u],!1)),ts(u)}else t.symbol&&(bi(this)?(this.set(on,Pn(Pn([],v,!0),[u],!1)),u.set(yn,this),ts(u)):t.symbolInv?(this.set(on,[u]),u.set(yn,this),[this,u].map(function(w){return ts(w)})):(u.set(on,[this]),[this,u].map(function(w){return ts(w)}),this.set(yn,u)));var T="component:clone";return n&&n.trigger(T,u),this.trigger(T,u),u},r.prototype.getName=function(t){t===void 0&&(t={});var e=this.em,n=this.attributes,o=n.type,l=n.tagName,s=n.name,f=o||l,u=o?"":l,p="domComponents.names.",d=s&&e?.t("".concat(p).concat(s)),h=u&&e?.t("".concat(p).concat(u)),v=e&&(e.t("".concat(p).concat(o))||e.t("".concat(p).concat(l))),_=this.get("custom-name");return(t.noCustom?"":_)||d||s||h||(0,qt.capitalize)(u)||v||(0,qt.capitalize)(f)},r.prototype.setName=function(t,e){e===void 0&&(e={}),this.set("custom-name",t,e)},r.prototype.getIcon=function(){var t=this.get("icon");return t?t+" ":""},r.prototype.toHTML=function(t){t===void 0&&(t={});var e=t.tag,n=e||this.get("tagName");delete t.tag;var o=this.__attrToString(t),l=o?" ".concat(o):"",s=this.getInnerHTML(t),f=!s&&this.get("void"),u="<".concat(n).concat(l).concat(f?"/":"",">").concat(s);return!f&&(u+="</".concat(n,">")),u},r.prototype.getInnerHTML=function(t){return this.__innerHTML(t)},r.prototype.__innerHTML=function(t){t===void 0&&(t={});var e=this.components();return e.length?e.map(function(n){return n.toHTML(t)}).join(""):this.content},r.prototype.__attrToString=function(t){t===void 0&&(t={});var e=[],n=t.attributes,o=this.getAttrToHTML(t);if(n&&((0,X.isFunction)(n)?o=n(this,o)||{}:(0,qt.isObject)(n)&&(o=n)),t.withProps){var l=this.toJSON();(0,X.forEach)(l,function(d,h){var v=["classes","attributes","components"];h[0]!=="_"&&v.indexOf(h)<0&&(o["data-gjs-".concat(h)]=(0,X.isArray)(d)||(0,qt.isObject)(d)?JSON.stringify(d):(0,X.isBoolean)(d)?"".concat(d):d)})}for(var s in o){var f=o[s];if(!(0,X.isUndefined)(f)&&f!==null)if((0,X.isBoolean)(f))f&&e.push(s);else{var u="";if(t.altQuoteAttr&&(0,X.isString)(f)&&f.indexOf('"')>=0)u="'".concat((0,qt.escapeAltQuoteAttrValue)(f),"'");else{var p=(0,X.isString)(f)?(0,qt.escapeAttrValue)(f):f;u='"'.concat(p,'"')}e.push("".concat(s,"=").concat(u))}}return e.join(" ")},r.prototype.getAttrToHTML=function(t){var e=this.getAttributes();return hi(this.em)&&t?.keepInlineStyle!==!0&&delete e.style,e},r.prototype.toJSON=function(t){t===void 0&&(t={});var e=i.prototype.toJSON.call(this,t,{attributes:this.getAttributes()});if(delete e.dataResolverWatchers,delete e.attributes.class,delete e.toolbar,delete e.traits,delete e.status,delete e.open,delete e._undoexc,delete e.delegate,this.collectionsStateMap&&Object.getOwnPropertyNames(this.collectionsStateMap).length>0&&(delete e[yn],delete e[Ti],delete e[on]),!t.fromUndo){var n=e[yn],o=e[on];o&&(0,X.isArray)(o)&&(e[on]=o.filter(function(l){return l}).map(function(l){return l.getId?l.getId():l})),n&&!(0,X.isString)(n)&&(e[yn]=n.getId())}return this.em.getConfig().avoidDefaults&&this.getChangedProps(e),e},r.prototype.getChangedProps=function(t){var e=t||Uf.Model.prototype.toJSON.apply(this),n=(0,X.result)(this,"defaults");return(0,X.forEach)(n,function(o,l){["type"].indexOf(l)===-1&&e[l]===o&&delete e[l]}),(0,X.isEmpty)(e.type)&&delete e.type,(0,X.forEach)(["attributes","style"],function(o){(0,X.isEmpty)(n[o])&&(0,X.isEmpty)(e[o])&&delete e[o]}),(0,X.forEach)(["classes","components"],function(o){(!e[o]||(0,X.isEmpty)(n[o])&&!e[o].length)&&delete e[o]}),e},r.prototype.getId=function(){var t=this.get("attributes")||{},e=Xm(this),n=e.shouldSync,o=e.itemId;return n&&(t.id=o),t.id||this.ccid||this.cid},r.prototype.setId=function(t,e){return this.addAttributes({id:t},e),this},r.prototype.getEl=function(t){var e=this.getView(t);return e&&e.el},r.prototype.getView=function(t){var e=this,n=e.view,o=e.views,l=e.em,s=t||l?.getCurrentFrameModel();return s&&(n=o.filter(function(f){return f.frameView===s.view})[0]),n},r.prototype.getCurrentView=function(){var t=this.em.getCurrentFrame(),e=t?.model;return this.getView(e)},r.prototype.__getScriptProps=function(){var t=this.props(),e=this.get("script-props")||[];return e.reduce(function(n,o){return n[o]=t[o],n},{})},r.prototype.getScriptString=function(t){var e=this,n=t||this.get("script")||"";if(!n)return n;if(this.get("script-props"))n=n.toString().trim();else{if((0,X.isFunction)(n)){var o=n.toString().trim();o=o.slice(o.indexOf("{")+1,o.lastIndexOf("}")),n=o.trim()}var l=this.em.getConfig(),s=Ld(l.tagVarStart||"{[ "),f=Ld(l.tagVarEnd||" ]}"),u=new RegExp("".concat(s,"([\\w\\d-]*)").concat(f),"g");n=n.replace(u,function(p,d){e.scriptUpdated();var h=e.attributes[d]||"";return(0,X.isArray)(h)||typeof h=="object"?JSON.stringify(h):h})}return n},r.prototype.emitUpdate=function(t){for(var e,n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];var l=this.em,s=Tl+(t?":".concat(t):""),f=t&&this.get(t);t&&this.updated.apply(this,Pn([t,f,t&&this.previous(t)],n,!1)),this.trigger.apply(this,Pn([s],n,!1)),l&&l.trigger.apply(l,Pn([s,this],n,!1)),["components","classes"].indexOf(t)>=0&&this.__propSelfToParent({component:this,changed:(e={},e[t]=f,e),options:n[2]||n[1]||{}})},r.prototype.emitWithEditor=function(t,e,n){[this.em,this].forEach(function(o){return o?.trigger(t,e,n)})},r.prototype.onAll=function(t){return(0,X.isFunction)(t)&&(t(this),this.components().forEach(function(e){return e.onAll(t)})),this},r.prototype.forEachChild=function(t){(0,X.isFunction)(t)&&this.components().forEach(function(e){t(e),e.forEachChild(t)})},r.prototype.remove=function(t){var e=this;t===void 0&&(t={});var n=this.em,o=this.collection,l=function(){o&&o.remove(e,nr({action:Xe.t.remove},t)),o||(e.components("",t),e.components().removeChildren(e,void 0,t))},s=nr({},t);return[this,n].map(function(f){return f.trigger(Xe.I.removeBefore,e,l,s)}),!s.abort&&l(),this},r.prototype.destroy=function(t){return this.stopListening(this.components(),"add remove reset",this.syncOnComponentChange),this.dataResolverWatchers.destroy(),this.__onDestroy(),i.prototype.destroy.call(this,t)},r.prototype.move=function(t,e){if(e===void 0&&(e={}),t){var n=e.at,o=this.index(),l=t===this.parent(),s=o===n||o===n-1;if(!l||!s){l&&n&&n>o&&(e.at=n-1);var f=Xe.t.move;this.remove({action:f,temporary:1}),t.append(this,nr({action:f},e)),this.emitUpdate()}}return this},r.prototype.isInstanceOf=function(t){var e,n,o=(n=(e=this.em)===null||e===void 0?void 0:e.Components.getType(t))===null||n===void 0?void 0:n.model;if(!o)return!1;var l=this.constructor.typeExtends;return this instanceof o||l.has(t)},r.prototype.isChildOf=function(t){for(var e=(0,X.isString)(t),n=this.parent();n;){if(e){if(n.isInstanceOf(t))return!0}else if(n===t)return!0;n=n.parent()}return!1},r.prototype.resetId=function(t){var e=this.em,n=this.getId();if(!n)return this;var o=r.createId(this);this.setId(o);var l=e?.Css.getIdRule(n),s=l?.get("selectors").at(0);return s?.set("name",o),this},r.prototype._getStyleRule=function(t){var e=t===void 0?{}:t,n=e.id,o=this.em,l=n||this.getId();return o?.Css.getIdRule(l)},r.prototype._getStyleSelector=function(t){var e=this._getStyleRule(t);return e?.get("selectors").at(0)},r.prototype._moveInlineStyleToRule=function(){var t=this.get("style"),e=(0,X.isString)(t)&&t.length>0||(0,qt.isObject)(t)&&Object.keys(t).length>0;hi(this.em)&&e&&this.addStyle((0,qt.isObject)(t)?this.dataResolverWatchers.getValueOrResolver("styles",t):t,{avoidStore:!0,noUndo:!0})},r.prototype._idUpdated=function(t,e,n){if(n===void 0&&(n={}),!n.idUpdate){var o=this.ccid,l=(this.get("attributes")||{}).id,s=(this.previous("attributes")||{}).id||o,f=r.getList(this);if(f[l]||!l&&s)return this.setId(s,{idUpdate:!0});delete f[s],f[l]=this,this.ccid=l;var u=this._getStyleSelector({id:s});u&&u.set({name:l,label:l})}},r.getDefaults=function(){return(0,X.result)(this.prototype,"defaults")},r.isComponent=function(t,e){return{tagName:(0,qt.toLowerCase)(t.tagName)}},r.ensureInList=function(t){var e=r.getList(t),n=t.getId(),o=e[n];if(!o)e[n]=t;else if(o!==t){var l=r.getIncrementId(n,e);t.setId(l),e[l]=t}t.components().forEach(function(s){return r.ensureInList(s)})},r.createId=function(t,e){e===void 0&&(e={});var n=r.getList(t),o=e.idMap,l=o===void 0?{}:o,s=t.get("attributes").id,f;return s?(f=r.getIncrementId(s,n,e),t.setId(f),s!==f&&(l[s]=f)):f=r.getNewId(n),n[f]=t,f},r.getNewId=function(t){for(var e=Object.keys(t).length,n=e.toString().length+2,o=(Math.random()+1.1).toString(36).slice(-n),l="i".concat(o);t[l];)l=r.getNewId(t);return l},r.getIncrementId=function(t,e,n){n===void 0&&(n={});var o=n.keepIds,l=o===void 0?[]:o,s=1,f=t;if(l.indexOf(t)<0)for(;e[f];)s++,f="".concat(t,"-").concat(s);return f},r.getList=function(t){var e,n=t.em,o=n?.Components;return(e=o?.componentsById)!==null&&e!==void 0?e:{}},r.checkId=function(t,e,n,o){e===void 0&&(e=[]),n===void 0&&(n={}),o===void 0&&(o={}),o.updatedIds=o.updatedIds||{};var l=(0,X.isArray)(t)?t:[t],s=o.keepIds,f=s===void 0?[]:s,u=o.idMap,p=u===void 0?{}:u,d=o.updatedIds;return l.forEach(function(h){h.attributes;var v=h.attributes,_=v===void 0?{}:v,T=h.components,w=_.id;if(w&&n[w]&&f.indexOf(w)<0){var C=r.getIncrementId(w,n);d[w]=d[w]?Pn(Pn([],d[w],!0),[h],!1):[h],p[w]=C,_.id=C,(0,X.isArray)(e)&&e.forEach(function(A){var S=A.selectors;S.forEach(function(x,N){x==="#".concat(w)&&(S[N]="#".concat(C))})})}T&&r.checkId(T,e,n,o)}),{updatedIds:o.updatedIds}},r.typeExtends=new Set,r})(o1);const _r=T0;var C0=(function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}})(),Il=function(){return Il=Object.assign||function(i){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])}return i},Il.apply(this,arguments)},ga="head",w0=["title","style","base","link","meta","script","noscript"],S0=(function(i){C0(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return Object.defineProperty(r.prototype,"defaults",{get:function(){return Il(Il({},i.prototype.defaults),{type:ga,tagName:ga,draggable:!1,highlightable:!1,droppable:(function(t){var e=t.tagName;return!e||w0.includes((0,qt.toLowerCase)(e))})})},enumerable:!1,configurable:!0}),r.isComponent=function(t){return(0,qt.toLowerCase)(t.tagName)===ga},r})(_r);const E0=S0;var x0=(function(){function i(r,t){r===void 0&&(r=50);var e;this.dragging=!1,this.lastMaxHeight=0,this.zoom=1,this.rectIsInScrollIframe=!1,this.autoscrollLimit=r,this.lastMaxHeight=(e=t?.lastMaxHeight)!==null&&e!==void 0?e:0,this.onScroll=t?.onScroll,this.rectIsInScrollIframe=!!t?.rectIsInScrollIframe,(0,X.bindAll)(this,"start","autoscroll","updateClientY","stop")}return i.prototype.start=function(r,t,e){var n=this;this.eventEl=r,this.scrollEl=t,this.lastMaxHeight=e?.lastMaxHeight||Number.POSITIVE_INFINITY,this.zoom=e?.zoom||1,this.ignoredElement=e?.ignoredElement,setTimeout(function(){n.toggleAutoscrollFx(!0),requestAnimationFrame(n.autoscroll)},0)},i.prototype.autoscroll=function(){var r=this,t,e,n=this.scrollEl;if(!(!this.dragging||!n)){if(this.lastClientY===void 0){setTimeout(function(){requestAnimationFrame(r.autoscroll)},50);return}var o=(t=this.lastClientY)!==null&&t!==void 0?t:0,l=this.autoscrollLimit,s=this.getEventElHeight(),f=s-l,u=0;o<l&&(u+=o-l),o>f&&(u+=o-f);var p=this.getElScrollTop(n);u=Math.min(u,this.lastMaxHeight-p),u=Math.max(u,-p),u!==0&&(n.scrollBy({top:u,behavior:"auto"}),(e=this.onScroll)===null||e===void 0||e.call(this)),requestAnimationFrame(this.autoscroll)}},i.prototype.getEventElHeight=function(){var r=this.eventEl;if(!r)return 0;var t=r.getBoundingClientRect();return t.height},i.prototype.updateClientY=function(r){var t=r.target;if(!(this.ignoredElement&&this.ignoredElement.contains(t))){var e=this.scrollEl;r.preventDefault();var n=this.rectIsInScrollIframe?0:this.getElScrollTop(e);this.lastClientY=(0,ue.G2)(r).clientY*this.zoom-n}},i.prototype.getElScrollTop=function(r){return(r instanceof HTMLElement?r.scrollTop:r?.scrollY)||0},i.prototype.toggleAutoscrollFx=function(r){this.dragging=r;var t=this.eventEl;if(t){var e=r?"on":"off",n={on:ue.on,off:ue.AU};n[e](t,"mousemove dragover",this.updateClientY),n[e](t,"mouseup",this.stop)}},i.prototype.stop=function(){this.toggleAutoscrollFx(!1),this.lastClientY=void 0,this.ignoredElement=void 0},i})();const p1=x0;var O0=qe(1447),A0=(function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}})(),P0=(function(i){A0(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.canMove=function(t,e){var n=this,o=this.getRealIndex(e),l=t._dragSource,s=l.model,f=l.content,u=l.dragDef,p=!s||!this.isSourceSameSymbol(s),d=((0,X.isFunction)(f)?u:f)||t.model;return Array.isArray(d)?p&&d.every(function(h,v){return n.canMoveSingleContent(h,o+v)}):p&&this.canMoveSingleContent(d,o)},r.prototype.canMoveSingleContent=function(t,e){return this.model.em.Components.canMove(this.model,t,e).result},r.prototype.addChildAt=function(t,e){var n=t._dragSource,o=n.content,l=this.isTextNode()&&t.isTextable(),s=(0,X.isFunction)(o)?o():o;return Array.isArray(s)?this.addMultipleChildren(s,e,l):this.addSingleChild(s,e,l)},r.prototype.addSingleChild=function(t,e,n){var o,l,s,f,u;return n?u=(f=(s=(l=(o=this.model)===null||o===void 0?void 0:o.getView)===null||l===void 0?void 0:l.call(o))===null||s===void 0?void 0:s.insertComponent)===null||f===void 0?void 0:f.call(s,t,{action:"add-component"}):u=this.model.components().add(t,{at:this.getRealIndex(e),action:"add-component"}),new this.constructor(u)},r.prototype.addMultipleChildren=function(t,e,n){var o=this,l;return t.forEach(function(s,f){l=o.addSingleChild(s,e+f,n)}),l},r.prototype.isSourceSameSymbol=function(t){if(to(this.model)){var e=Ts(this.model),n=bi(e)?e:Un(e);if(n===t)return!0}return!1},Object.defineProperty(r.prototype,"content",{set:function(t){this._dragSource.content=t},enumerable:!1,configurable:!0}),r})(O0.A);const d1=P0;var Si=qe(8433),ff=function(){return ff=Object.assign||function(i){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])}return i},ff.apply(this,arguments)},k0=(function(){function i(r,t){var e=this;this.em=r,this.canvas=r.Canvas;var n=t||this.canvas.getFrames().map(function(l){return l.getComponent().getEl()}),o=Array.isArray(n)?n:[n];this.el=o[0],this.counter=0,(0,X.bindAll)(this,"handleDragEnter","handleDragOver","handleDrop","handleDragLeave","handleDragEnd"),o.forEach(function(l){return e.toggleEffects(l,!0)})}return i.prototype.toggleEffects=function(r,t){var e={on:ue.on,off:ue.AU},n=t?"on":"off";e[n](r,"dragenter",this.handleDragEnter),e[n](r,"dragover",this.handleDragOver),e[n](r,"drop",this.handleDrop),e[n](r,"dragleave",this.handleDragLeave)},i.prototype.__customTglEff=function(r){var t,e=r?ue.on:ue.AU,n=this.el.ownerDocument,o=(t=n.defaultView)===null||t===void 0?void 0:t.frameElement,l=function(s){return{legacyOnStartSort:function(){(0,ue.on)(o,"pointermove",s.onMove)},legacyOnEnd:function(){(0,ue.AU)(o,"pointermove",s.onMove)},customTarget:function(f){var u=f.event;return n.elementFromPoint(u.clientX,u.clientY)}}};this.getSorterOptions=r?l:void 0,e(o,"pointerenter",this.handleDragEnter),e(o,"pointermove",this.handleDragOver),e(document,"pointerup",this.handleDrop),e(o,"pointerout",this.handleDragLeave)},i.prototype.startCustom=function(){this.__customTglEff(!0)},i.prototype.endCustom=function(r){this.over?this.endDrop(r):this.__customTglEff(!1)},i.prototype.endDrop=function(r,t){var e=this,n=e.em,o=e.dragStop;this.counter=0,o&&o(r||!this.over),this.__customTglEff(!1),n.trigger("canvas:dragend",t)},i.prototype.handleDragLeave=function(r){this.updateCounter(-1,r)},i.prototype.updateCounter=function(r,t){this.counter+=r,this.counter===0&&this.endDrop(!0,t)},i.prototype.handleDragEnter=function(r){var t=this,e,n,o=this,l=o.em,s=o.canvas,f=r.dataTransfer,u=l.get("dragSource");if(!(!u?.content&&!s.getConfig().allowExternalDrop)&&(this.updateCounter(1,r),!this.over)){this.over=!0;var p=l.Utils,d=u?.content||"<br>",h;if(l.stopDefault(),l.inAbsoluteMode()){var v=l.Components.getWrapper(),_=v.append({})[0],T=l.Commands.run("core:component-drag",{event:r,guidesInfo:1,center:1,target:_,onEnd:function(b,L,k){var P=k.cancelled,D;if(!P&&d){D=v.append(d)[0];var R=s.getOffset(),M=_.getStyle(),z=M.top,H=M.left,$=M.position,j=(0,ue.Xy)(b.target),rt=parseInt("".concat(parseFloat(H)+j.x-R.left),10),q=parseInt("".concat(parseFloat(z)+j.y-R.top),10);D.addStyle({left:rt+"px",top:q+"px",position:$})}t.handleDragEnd(D,f),_.remove()}});h=function(b){return T.stop(r,{cancel:b})},this.setAbsoluteDragContent=function(b){return d=b}}else{var w=new p.ComponentSorter({em:l,treeClass:d1,containerContext:{container:this.el,containerSel:"*",itemSel:"*",pfx:"gjs-",placeholderElement:s.getPlacerEl(),document:this.el.ownerDocument},dragBehavior:{dragDirection:Si.A.BothDirections,nested:!0},positionOptions:{windowMargin:1,canvasRelative:!0},eventHandlers:{legacyOnEndMove:this.handleDragEnd}}),C=(e=this.getSorterOptions)===null||e===void 0?void 0:e.call(this,w);C&&(w.eventHandlers.legacyOnStartSort=C.legacyOnStart,w.eventHandlers.legacyOnEnd=C.legacyOnEnd,w.containerContext.customTarget=C.customTarget);var A=l.Components.getShallowWrapper(),S=A?.append(d,{temporary:!0})[0],x=S?.getEl(),N=[{element:x,dragSource:ff({model:S},u)}];w.startSort(N),this.sorter=w,this.draggedNode=(n=w.sourceNodes)===null||n===void 0?void 0:n[0],h=function(b){b?w.cancelDrag():w.endDrag()}}this.dragStop=h,l.trigger("canvas:dragenter",f,d)}},i.prototype.handleDragEnd=function(r,t){var e=this.em;this.over=!1,r&&(e.set("dragResult",r),e.trigger("canvas:drop",t,r)),e.runDefault({preserveSelected:1})},i.prototype.handleDragOver=function(r){r.preventDefault(),this.em.trigger("canvas:dragover",r)},i.prototype.handleDrop=function(r){var t;r.preventDefault();var e=r.dataTransfer,n=this.getContentByData(e).content||"";this.draggedNode&&(this.draggedNode.content=n),(t=this.setAbsoluteDragContent)===null||t===void 0||t.call(this,n),this.endDrop(!n,r)},i.prototype.getContentByData=function(r){var t=this.em,e=r?.types||[],n=r?.files||[],o=t.get("dragSource"),l=r?.getData("text")||"";if(n.length){l=[];for(var s=0;s<n.length;s++){var f=n[s],u=f.type.split("/")[0];u=="image"&&l.push({type:u,file:f,attributes:{alt:f.name}})}}else if(o?.content)l=o.content;else if((0,X.indexOf)(e,"text/html")>=0)l=r&&r.getData("text/html").replace(/<\/?meta[^>]*>/g,"");else if((0,X.indexOf)(e,"text/uri-list")>=0)l={type:"link",attributes:{href:l},content:l};else if((0,X.indexOf)(e,"text/json")>=0){var p=r&&r.getData("text/json");p&&(l=JSON.parse(p))}else e.length===1&&e[0]==="text/plain"&&(l="<div>".concat(l,"</div>"));var d={content:l,setContent:function(h){d.content=h}};return t.trigger("canvas:dragdata",r,d),d},i})();const M0=k0;var N0=(function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}})(),Hn=function(){return Hn=Object.assign||function(i){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])}return i},Hn.apply(this,arguments)},L0=function(i,r,t){if(t||arguments.length===2)for(var e=0,n=r.length,o;e<n;e++)(o||!(e in r))&&(o||(o=Array.prototype.slice.call(r,0,e)),o[e]=r[e]);return i.concat(o||Array.prototype.slice.call(r))},I0=(function(i){N0(r,i);function r(t,e){var n=i.call(this,{model:t})||this;n.dragging=!1,n.loaded=!1,n.lastMaxHeight=0,n.tools={},(0,X.bindAll)(n,"startAutoscroll","stopAutoscroll","_emitUpdate");var o=n.el;n.module._config=Hn(Hn({},n.config||{}),{frameView:n}),n.frameWrapView=e,n.showGlobalTools=(0,X.debounce)(n.showGlobalTools.bind(n),50);var l=n.getCanvasModel();return n.listenTo(t,"change:head",n.updateHead),n.listenTo(l,"change:styles",n.renderStyles),t.view=n,(0,qt.setViewEl)(o,n),n.autoScroller=new p1(n.config.autoscrollLimit,{rectIsInScrollIframe:!0,onScroll:function(){var s=n.getGlobalToolsEl();s.style.opacity="0",n.showGlobalTools(),n.em.Canvas.spots.refreshDbn()}}),n}return Object.defineProperty(r.prototype,"tagName",{get:function(){return"iframe"},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"attributes",{get:function(){return{allowfullscreen:"allowfullscreen"}},enumerable:!1,configurable:!0}),r.prototype.getBoxRect=function(){var t=this,e=t.el,n=t.module,o=n.getCanvasView(),l=n.getCoords(),s=e.getBoundingClientRect(),f=o.getCanvasOffset(),u=o.getViewportDelta(),p=n.getZoomMultiplier(),d=(s.x-f.left-u.x-l.x)*p,h=(s.y-f.top-u.y-l.y)*p,v=s.width*p,_=s.height*p;return{x:d,y:h,width:v,height:_}},r.prototype.updateHead=function(){var t=this.model,e=this.getHead(),n=[],o=[],l=t.head,s=t.previous("head"),f=function(p){return p===void 0&&(p={}),Object.keys(p).sort().map(function(d){return"[".concat(d,'="').concat(p[d],'"]')}).join("")},u=function(p,d,h){p.forEach(function(v){var _=v.tag,T=v.attributes,w=d.some(function(C){return C.tag===_&&f(C.attributes)===f(T)});!w&&h.push(v)})};u(l,s,o),u(s,l,n),n.forEach(function(p){var d,h=e.querySelector("".concat(p.tag).concat(f(p.attributes)));(d=h?.parentNode)===null||d===void 0||d.removeChild(h)}),(0,ue.af)(e,o)},r.prototype.getEl=function(){return this.el},r.prototype.getCanvasModel=function(){var t;return(t=this===null||this===void 0?void 0:this.em.Canvas)===null||t===void 0?void 0:t.getModel()},r.prototype.getWindow=function(){return this.getEl().contentWindow},r.prototype.getDoc=function(){return this.getEl().contentDocument},r.prototype.getHead=function(){return this.getDoc().querySelector("head")},r.prototype.getBody=function(){return this.getDoc().querySelector("body")},r.prototype.getWrapper=function(){return this.getBody().querySelector("[data-gjs-type=wrapper]")},r.prototype.getJsContainer=function(){return this.jsContainer||(this.jsContainer=(0,ue.a_)("div",{class:"".concat(this.ppfx,"js-cont")})),this.jsContainer},r.prototype.getToolsEl=function(){var t;return(t=this.frameWrapView)===null||t===void 0?void 0:t.elTools},r.prototype.getGlobalToolsEl=function(){return this.em.Canvas.getGlobalToolsEl()},r.prototype.getHighlighter=function(){return this._getTool("[data-hl]")},r.prototype.getBadgeEl=function(){return this._getTool("[data-badge]")},r.prototype.getOffsetViewerEl=function(){return this._getTool("[data-offset]")},r.prototype.getRect=function(){return this.rect||(this.rect=this.el.getBoundingClientRect()),this.rect},r.prototype.getOffsetRect=function(){var t=this.el,e=this.getBody(),n=e.scrollTop,o=e.scrollLeft,l=t.offsetHeight,s=t.offsetWidth;return{top:t.offsetTop,left:t.offsetLeft,height:l,width:s,scrollTop:n,scrollLeft:o,scrollBottom:n+l,scrollRight:o+s}},r.prototype._getTool=function(t){var e=this.tools,n=this.getToolsEl();return e[t]||(e[t]=n.querySelector(t)),e[t]},r.prototype.remove=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return this._toggleEffects(!1),this.tools={},(t=this.wrapper)===null||t===void 0||t.remove(),Bn.prototype.remove.apply(this,e),this},r.prototype.startAutoscroll=function(){this.autoScroller.start(this.el,this.getWindow(),{lastMaxHeight:this.getWrapper().offsetHeight-this.el.offsetHeight,zoom:this.em.getZoomDecimal(),ignoredElement:this.em.Canvas.getSpotsEl()})},r.prototype.stopAutoscroll=function(){this.autoScroller.stop()},r.prototype.showGlobalTools=function(){this.getGlobalToolsEl().style.opacity=""},r.prototype.render=function(){var t=this,e=t.$el,n=t.ppfx,o=t.em;return e.attr({class:"".concat(n,"frame")}),this.renderScripts(),o.trigger("frame:render",this),this},r.prototype.renderScripts=function(){var t=this,e=this,n=e.el,o=e.model,l=e.em,s="frame:load",f={el:n,model:o,view:this},u=this.getCanvasModel(),p=function(d){var h;if(d.length>0){var v=d.shift(),_=(0,ue.a_)("script",Hn({type:"text/javascript"},(0,X.isString)(v)?{src:v}:v));(h=n.contentDocument)===null||h===void 0||h.head.appendChild(_),_.hasAttribute("nomodule")&&"noModule"in HTMLScriptElement.prototype?p(d):_.onerror=_.onload=p.bind(null,d)}else l?.trigger(ls.frameLoadHead,f),t.renderBody(),l?.trigger(ls.frameLoadBody,f),l?.trigger(s,f)};n.onload=function(){var d=t.config.frameContent;if(d){var h=t.getDoc();h.open(),h.write(d),h.close()}f.window=t.getWindow(),l?.trigger("".concat(s,":before"),f),l?.trigger(ls.frameLoad,f),t.renderHead(),p(L0([],u.get("scripts"),!0))}},r.prototype.renderStyles=function(t){t===void 0&&(t={});var e=this.getHead(),n=this.getCanvasModel(),o=function(d){return d===void 0&&(d=[]),d.map(function(h){return{tag:"link",attributes:Hn({rel:"stylesheet"},(0,X.isString)(h)?{href:h}:h)}})},l=o(t.prev||n.previous("styles")),s=o(n?.get("styles")),f=[],u=[],p=function(d,h,v){d.forEach(function(_){var T=_.attributes.href,w=h.some(function(C){return C.attributes.href===T});!w&&v.push(_)})};p(s,l,u),p(l,s,f),f.forEach(function(d){var h,v=e.querySelector('link[href="'.concat(d.attributes.href,'"]'));(h=v?.parentNode)===null||h===void 0||h.removeChild(v)}),(0,ue.af)(e,u)},r.prototype.renderHead=function(){var t,e=this,n=e.model,o=e.em,l=n.root,s=(t=o?.Components)===null||t===void 0?void 0:t.getType(ga).view;s&&(this.headView=new s({el:this.getHead(),model:l.head,config:Hn(Hn({},l.config),{frameView:this})}).render())},r.prototype.renderBody=function(){var t=this,e,n=this,o=n.config,l=n.em,s=n.model,f=n.ppfx,u=this.getBody(),p=this.getWindow(),d=s.hasAutoHeight(),h=l.config;p._isEditor=!0,this.renderStyles({prev:[]});var v="#ffca6f";(0,ue.BC)(u,`<style>
      `.concat(h.baseCss||o.frameStyle||"",`

      `).concat(d?"body { overflow: hidden }":"",`

      [data-gjs-type="wrapper"] {
        `).concat(d?"":"min-height: 100vh;",`
        padding-top: 0.001em;
      }

      .`).concat(f,`dashed *[data-gjs-highlightable] {
        outline: 1px dashed rgba(170,170,170,0.7);
        outline-offset: -2px;
      }

      .`).concat(f,`selected {
        outline: 2px solid #3b97e3 !important;
        outline-offset: -2px;
      }

      .`).concat(f,`selected-parent {
        outline: 2px solid `).concat(v,` !important
      }

      .`).concat(f,`no-select {
        user-select: none;
        -webkit-user-select:none;
        -moz-user-select: none;
      }

      .`).concat(f,`freezed {
        opacity: 0.5;
        pointer-events: none;
      }

      .`).concat(f,`no-pointer {
        pointer-events: none;
      }

      .`).concat(f,`pointer-init {
        pointer-events: initial;
      }

      .`).concat(f,`plh-image {
        background: #f5f5f5;
        border: none;
        height: 100px;
        width: 100px;
        display: block;
        outline: 3px solid #ffca6f;
        cursor: pointer;
        outline-offset: -2px
      }

      .`).concat(f,`grabbing {
        cursor: grabbing;
        cursor: -webkit-grabbing;
      }

      .`).concat(f,`is__grabbing {
        overflow-x: hidden;
      }

      .`).concat(f,`is__grabbing,
      .`).concat(f,`is__grabbing * {
        cursor: grabbing !important;
      }

      `).concat(h.canvasCss||"",`
      `).concat(h.protectedCss||"",`
    </style>`));var _=s.root,T=(((e=l?.Components)===null||e===void 0?void 0:e.getType("wrapper"))||{}).view;T&&((0,X.isFunction)(o.customRenderer)?o.customRenderer({editor:l.Editor,frame:s,window:p,frameView:this,onMount:function(w){t.wrapper=w,t._onRootMount(w)}}):(this.wrapper=new T({model:_,config:Hn(Hn({},_.config),{em:l,frameView:this})}).render(),this._onRootMount(this.wrapper)))},r.prototype._onRootMount=function(t){var e=this,n,o=this,l=o.config,s=o.em,f=o.model,u=this.getDoc(),p=u.body;(0,ue.BC)(p,t.el),(0,ue.BC)(p,new of({collection:f.getStyles(),config:Hn(Hn({},s.Css.getConfig()),{frameView:this})}).render().el),(0,ue.BC)(p,this.getJsContainer()),(0,ue.on)(p,"click",function(d){var h;return d&&((h=d.target)===null||h===void 0?void 0:h.tagName)=="A"&&d.preventDefault()}),(0,ue.on)(p,"submit",function(d){return d&&d.preventDefault()}),[{event:"keydown keyup keypress",class:"KeyboardEvent"},{event:"mousedown mousemove mouseup",class:"MouseEvent"},{event:"pointerdown pointermove pointerup",class:"PointerEvent"},{event:"wheel",class:"WheelEvent",opts:{passive:!l.infiniteCanvas}}].forEach(function(d){return d.event.split(" ").forEach(function(h){u.addEventListener(h,function(v){return e.el.dispatchEvent((0,ue.yL)(v,d.class))},d.opts)})}),this._toggleEffects(!0),(0,qt.hasDnd)(s)&&(this.droppable=new M0(s,(n=this.wrapper)===null||n===void 0?void 0:n.el)),this.loaded=!0,f.trigger("loaded")},r.prototype._toggleEffects=function(t){var e=t?ue.on:ue.AU,n=this.getWindow();n&&e(n,"".concat(ue.D8," resize"),this._emitUpdate)},r.prototype._emitUpdate=function(){this.model._emitUpdated()},r})(Bn);const D0=I0;var h1=qe(9966),R0=(function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}})(),ea=function(){return ea=Object.assign||function(i){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])}return i},ea.apply(this,arguments)},j0=(function(i){R0(r,i);function r(t,e){var n=i.call(this,{model:t})||this;return(0,X.bindAll)(n,"onScroll","frameLoaded","updateOffset","remove","startDrag"),ea(ea({},t.config),{frameWrapView:n}),n.cv=e,n.frame=new D0(t,n),n.classAnim="".concat(n.ppfx,"frame-wrapper--anim"),n.updateOffset=(0,X.debounce)(n.updateOffset.bind(n),0),n.updateSize=(0,X.debounce)(n.updateSize.bind(n),0),n.listenTo(t,"loaded",n.frameLoaded),n.listenTo(t,"change:x change:y",n.updatePos),n.listenTo(t,"change:width change:height",n.updateSize),n.listenTo(t,"destroy remove",n.remove),n.updatePos(),n.setupDragger(),n}return r.prototype.events=function(){return{"click [data-action-remove]":"remove","mousedown [data-action-move]":"startDrag"}},r.prototype.setupDragger=function(){var t=this,e=this,n=e.module,o=e.model,l,s,f,u=function(p){n.toggleFramesEvents(p)};this.dragger=new h1.A({onStart:function(){var p=o.attributes,d=p.x,h=p.y;f=t.em.getZoomMultiplier(),l=d,s=h,u(!1)},onEnd:function(){return u(!0)},setPosition:function(p){o.set({x:l+p.x*f,y:s+p.y*f})}})},r.prototype.startDrag=function(t){var e;t&&((e=this.dragger)===null||e===void 0||e.start(t))},r.prototype.__clear=function(t){var e=this.frame;e&&e.remove(t),(0,ue.YZ)(this.elTools)},r.prototype.remove=function(t){var e=this,n;return(n=this.sizeObserver)===null||n===void 0||n.disconnect(),this.__clear(t),Bn.prototype.remove.apply(this,t),["frame","dragger","cv","elTools"].forEach(function(o){return e[o]=0}),this},r.prototype.updateOffset=function(){var t,e=this,n=e.em,o=e.$el,l=e.frame;!n||n.destroyed||(n.runDefault({preserveSelected:1}),o.removeClass(this.classAnim),(t=l?.model)===null||t===void 0||t._emitUpdated())},r.prototype.updatePos=function(t){var e=this,n=e.model,o=e.el,l=n.attributes,s=l.x,f=l.y,u=o.style;this.frame.rect=void 0,u.left=isNaN(s)?s:"".concat(s,"px"),u.top=isNaN(f)?f:"".concat(f,"px"),t&&this.updateOffset()},r.prototype.updateSize=function(){this.updateDim()},r.prototype.updateDim=function(){var t=this,e=t.em,n=t.el,o=t.$el,l=t.model,s=t.classAnim,f=t.frame;if(f){f.rect=void 0,o.addClass(s);var u=this.__handleSize(),p=u.noChanges,d=u.width,h=u.height;((0,X.isNull)(d)||(0,X.isNull)(h))&&l.set(ea(ea({},d?{}:{width:n.offsetWidth}),h?{}:{height:n.offsetHeight}),{silent:1}),e.stopDefault({preserveSelected:1}),p?this.updateOffset():setTimeout(this.updateOffset,350)}},r.prototype.onScroll=function(){var t=this,e=t.frame,n=t.em;n.trigger("frame:scroll",{frame:e,body:e.getBody(),target:e.getWindow()})},r.prototype.frameLoaded=function(){var t=this,e=t.frame;t.config,e.getWindow().onscroll=this.onScroll,this.updateDim()},r.prototype.__handleSize=function(){var t,e="px",n=this,o=n.model,l=n.el,s=l.style,f=o.attributes,u=f.width,p=f.height,d=s.width||"",h=s.height||"",v=u||"",_=p||"",T=d==v&&h==_,w=(0,X.isNumber)(v)?"".concat(v).concat(e):v,C=(0,X.isNumber)(_)?"".concat(_).concat(e):_;if(s.width=w,(t=this.sizeObserver)===null||t===void 0||t.disconnect(),o.hasAutoHeight()){var A=this.frame.el,S=A.contentDocument;if(S){var x=new ResizeObserver(function(){requestAnimationFrame(function(){var N=parseFloat(o.get("minHeight"))||0,b=Math.max(S.body.scrollHeight,N);s.height="".concat(b,"px")})});x.observe(S.body),this.sizeObserver=x}}else s.height=C,delete this.sizeObserver;return{noChanges:T,width:u,height:p,newW:v,newH:_}},r.prototype.render=function(){var t=this,e=t.frame,n=t.$el,o=t.ppfx,l=t.cv,s=t.model,f=t.el,u=s.attributes.onRender;this.__clear(),this.__handleSize(),e.render(),n.empty().attr({class:"".concat(o,"frame-wrapper")}).append(`
      <div class="`.concat(o,`frame-wrapper__top gjs-two-color" data-frame-top>
        <div class="`).concat(o,`frame-wrapper__name" data-action-move>
          `).concat(s.get("name")||"",`
        </div>
        <div class="`).concat(o,`frame-wrapper__top-r">
          <div class="`).concat(o,`frame-wrapper__icon" data-action-remove style="display: none">
            <svg viewBox="0 0 24 24"><path d="M19 4h-3.5l-1-1h-5l-1 1H5v2h14M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12z"></path></svg>
          </div>
        </div>
      </div>
      <div class="`).concat(o,`frame-wrapper__right" data-frame-right></div>
      <div class="`).concat(o,`frame-wrapper__left" data-frame-left></div>
      <div class="`).concat(o,`frame-wrapper__bottom" data-frame-bottom></div>
      `)).append(e.el);var p=(0,ue.a_)("div",{class:"".concat(o,"tools"),style:"pointer-events:none; display: none"},`
      <div class="`.concat(o,`highlighter" data-hl></div>
      <div class="`).concat(o,`badge" data-badge></div>
      <div class="`).concat(o,`placeholder">
        <div class="`).concat(o,`placeholder-int"></div>
      </div>
      <div class="`).concat(o,`ghost"></div>
      <div class="`).concat(o,`toolbar" style="pointer-events:all"></div>
      <div class="`).concat(o,`resizer"></div>
      <div class="`).concat(o,`offset-v" data-offset>
        <div class="gjs-marginName" data-offset-m>
          <div class="gjs-margin-v-el gjs-margin-v-top" data-offset-m-t></div>
          <div class="gjs-margin-v-el gjs-margin-v-bottom" data-offset-m-b></div>
          <div class="gjs-margin-v-el gjs-margin-v-left" data-offset-m-l></div>
          <div class="gjs-margin-v-el gjs-margin-v-right" data-offset-m-r></div>
        </div>
        <div class="gjs-paddingName" data-offset-m>
          <div class="gjs-padding-v-el gjs-padding-v-top" data-offset-p-t></div>
          <div class="gjs-padding-v-el gjs-padding-v-bottom" data-offset-p-b></div>
          <div class="gjs-padding-v-el gjs-padding-v-left" data-offset-p-l></div>
          <div class="gjs-padding-v-el gjs-padding-v-right" data-offset-p-r></div>
        </div>
      </div>
      <div class="`).concat(o,`offset-fixed-v"></div>
    `));this.elTools=p;var d=l?.toolsWrapper;return d&&d.appendChild(p),u&&u({el:f,elTop:f.querySelector("[data-frame-top]"),elRight:f.querySelector("[data-frame-right]"),elBottom:f.querySelector("[data-frame-bottom]"),elLeft:f.querySelector("[data-frame-left]"),frame:s,frameWrapperView:this,remove:this.remove,startDrag:this.startDrag}),this},r})(Bn);const H0=j0;var F0=(function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}})(),V0=(function(i){F0(r,i);function r(t,e){t===void 0&&(t={});var n=i.call(this,t,!0)||this;return n.listenTo(n.collection,"reset",n.render),n.canvasView=e.canvasView,n._module=e.module,n}return r.prototype.onRemoveBefore=function(t,e){e===void 0&&(e={}),t.forEach(function(n){return n.remove(e)})},r.prototype.onRender=function(){var t=this,e=t.$el,n=t.ppfx;e.attr({class:"".concat(n,"frames")})},r.prototype.clearItems=function(){var t=this.viewCollection||[];t.forEach(function(e){return e.remove()}),this.viewCollection=[]},r.prototype.renderView=function(t,e){return new H0(t,this.canvasView)},r})(gm);const U0=V0;var B0=(function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}})(),Dl=function(){return Dl=Object.assign||function(i){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])}return i},Dl.apply(this,arguments)},W0=(function(i){B0(r,i);function r(t){var e=i.call(this,{model:t})||this;e.ready=!1,(0,X.bindAll)(e,"clearOff","onKeyPress","onWheel","onPointer");var n=e,o=n.em,l=n.pfx,s=n.ppfx,f=e.module.events;return e.className="".concat(l,"canvas ").concat(s,"no-touch-actions").concat(o.config.customUI?"":" ".concat(l,"canvas-bg")),e.clsUnscale="".concat(l,"unscale"),e._initFrames(),e.listenTo(o,f.refresh,e.clearOff),e.listenTo(o,"component:selected",e.checkSelected),e.listenTo(o,"".concat(f.coords," ").concat(f.zoom),e.updateFrames),e.listenTo(t,"change:frames",e._onFramesUpdate),e.toggleListeners(!0),e}return r.prototype.template=function(){var t=this.pfx;return`
      <div class="`.concat(t,`canvas__frames" data-frames>
        <div class="`).concat(t,`canvas__spots" data-spots></div>
      </div>
      <div id="`).concat(t,'tools" class="').concat(t,`canvas__tools" data-tools></div>
      <style data-canvas-style></style>
    `)},r.prototype._onFramesUpdate=function(){this._initFrames(),this._renderFrames()},r.prototype._initFrames=function(){var t=this,e=t.frames,n=t.model,o=t.config,l=t.em,s=n.frames;l.set("readyCanvas",0),s.once("loaded:all",function(){return l.set("readyCanvas",1)}),e?.remove(),this.frames=new U0({collection:s},Dl(Dl({},o),{canvasView:this}))},r.prototype.checkSelected=function(t,e){var n;e===void 0&&(e={});var o=e.scroll,l=this.em.getCurrentFrame();o&&((n=t.views)===null||n===void 0||n.forEach(function(s){s.frameView===l&&s.scrollIntoView(o)}))},r.prototype.remove=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return clearTimeout(this.timerZoom),(t=this.frames)===null||t===void 0||t.remove(),this.frames=void 0,Bn.prototype.remove.apply(this,e),this.toggleListeners(!1),this},r.prototype.preventDefault=function(t){var e;t&&(t.preventDefault(),(e=t._parentEvent)===null||e===void 0||e.preventDefault())},r.prototype.toggleListeners=function(t){var e=this,n=e.el,o=e.config,l=t?ue.on:ue.AU;l(document,"keypress",this.onKeyPress),l(window,"scroll resize",this.clearOff),l(n,"wheel",this.onWheel,{passive:!o.infiniteCanvas}),l(n,"pointermove",this.onPointer)},r.prototype.screenToWorld=function(t,e){var n=this.module,o=n.getCoords(),l=n.getZoomMultiplier(),s=this.getViewportDelta();return{x:(t-o.x-s.x)*l,y:(e-o.y-s.y)*l}},r.prototype.onPointer=function(t){if(this.config.infiniteCanvas){var e=this.getCanvasOffset(),n=(0,ue.Xy)(),o={x:t.clientX-e.left+n.x,y:t.clientY-e.top+n.y};if(t._parentEvent){var l=t.target.getBoundingClientRect(),s=this.module.getZoomDecimal();o.x=l.left-e.left+n.x+t.clientX*s,o.y=l.top-e.top+n.y+t.clientY*s}this.model.set({pointerScreen:o,pointer:this.screenToWorld(o.x,o.y)})}},r.prototype.onKeyPress=function(t){var e=this.em,n=(0,ue.Ch)(t);n===" "&&e.getZoomDecimal()!==1&&!e.Canvas.isInputFocused()&&(this.preventDefault(t),e.Editor.runCommand("core:canvas-move"))},r.prototype.onWheel=function(t){var e=this,n=e.module,o=e.config;if(o.infiniteCanvas){this.preventDefault(t);var l=t.deltaX,s=t.deltaY,f=n.getZoomDecimal(),u=(0,ue.rp)(t),p=n.getCoords();if(u){var d=f-s*f*.01;n.setZoom(d*100);var h=this.model.getPointerCoords(ae.x2.Screen),v=this.getCanvasOffset(),_=h.x-v.width/2,T=h.y-v.height/2,w=d/f,C=_-(_-p.x)*w,A=T-(T-p.y)*w;n.setCoords(C,A)}else this.onPointer(t),n.setCoords(p.x-l,p.y-s)}},r.prototype.updateFrames=function(t){var e=this.em,n=this.toolsWrapper,o={preserveSelected:1};this.updateFramesArea(),this.clearOff(),n.style.display="none",e.trigger("canvas:update",t),clearTimeout(this.timerZoom),this.timerZoom=setTimeout(function(){e.stopDefault(o),e.runDefault(o),n.style.display=""},300)},r.prototype.updateFramesArea=function(){var t=this,e=t.framesArea,n=t.model,o=t.module,l=t.cvStyle,s=t.clsUnscale,f=o.getZoomMultiplier();if(e){var u=n.attributes,p=u.x,d=u.y,h=o.getZoomDecimal();e.style.transform="scale(".concat(h,") translate(").concat(p*f,"px, ").concat(d*f,"px)")}l&&(l.innerHTML=`
        .`.concat(s," { scale: ").concat(f,` }
      `))},r.prototype.fitViewport=function(t){var e,n,o;t===void 0&&(t={});var l=this,s=l.em,f=l.module,u=l.model;this.clearOff();var p=this.getCanvasOffset(),d=t.el,h=d&&((e=(0,qt.getComponentView)(d))===null||e===void 0?void 0:e.frameView),v=h?h.model:t.frame||s.getCurrentFrameModel()||u.frames.at(0),_=v.attributes,T=_.x,w=_.y,C={x:T??0,y:w??0,width:v.width,height:v.height};if(d){var A=this.getElBoxRect(d);C.x=C.x+A.x,C.y=C.y+A.y,C.width=A.width,C.height=A.height}var S=t.ignoreHeight,x=(n=t.gap)!==null&&n!==void 0?n:0,N=(0,X.isNumber)(x),b=N?x:x.x,L=N?x:x.y,k=C.width+b*2,P=C.height+L*2,D=p.width,R=p.height,M=D/k,z=R/P,H=S?M:Math.min(M,z),$=H*100,j=(o=(0,X.isFunction)(t.zoom)?t.zoom($):t.zoom)!==null&&o!==void 0?o:$;f.setZoom(j,{from:"fitViewport"});var rt=-C.x+(v.width>=D?D/2-k/2:-b),q=-C.y+R/2-P/2,st=f.getZoomDecimal(),vt={x:(rt+b)*st,y:(q+L)*st};if(S){var St=f.getZoomMultiplier(),pt=R*St,bt=pt-R,at=bt/2;vt.y=(-C.y+L)*st-at/St}f.setCoords(vt.x,vt.y)},r.prototype.isElInViewport=function(t){var e=(0,qt.getElement)(t),n=(0,ue.C8)(e),o=this.getFrameOffset(e),l=n.top,s=n.left;return l>=0&&s>=0&&l<=o.height&&s<=o.width},r.prototype.offset=function(t,e){e===void 0&&(e={});var n=e.noScroll,o=(0,ue.C8)(t),l=n?{x:0,y:0}:(0,ue.Xy)(t);return{top:o.top+l.y,left:o.left+l.x,width:o.width,height:o.height}},r.prototype.getRectToScreen=function(t){var e,n,o,l,s=this.getCanvasScroll(),f=this.module.getZoomDecimal(),u=this.module.getCoords(),p=this.getViewportDelta(),d=((e=t.x)!==null&&e!==void 0?e:0)*f-s.scrollLeft+u.x+p.x||0,h=((n=t.y)!==null&&n!==void 0?n:0)*f-s.scrollTop+u.y+p.y||0;return{x:d,y:h,width:((o=t.width)!==null&&o!==void 0?o:0)*f,height:((l=t.height)!==null&&l!==void 0?l:0)*f}},r.prototype.getElBoxRect=function(t,e){var n,o,l;e===void 0&&(e={});var s=this.module,f=(0,ue.C8)(t),u=f.width,p=f.height,d=f.left,h=f.top,v=(n=(0,qt.getComponentView)(t))===null||n===void 0?void 0:n.frameView,_=v?.getBoxRect(),T=s.getZoomMultiplier(),w=(o=_?.x)!==null&&o!==void 0?o:0,C=(l=_?.y)!==null&&l!==void 0?l:0,A=this.el,S=(0,ue.Xy)(),x=d+w+(A.scrollLeft+S.x)*T,N=h+C+(A.scrollTop+S.y)*T,b={x,y:N,width:u,height:p};return e.local&&(b.x=d,b.y=h),e.toScreen?this.getRectToScreen(b):b},r.prototype.getViewportRect=function(t){t===void 0&&(t={});var e=this.getCanvasOffset(),n=e.top,o=e.left,l=e.width,s=e.height,f=this.module;if(t.toWorld){var u=f.getZoomMultiplier(),p=f.getCoords(),d=this.getViewportDelta(),h=-p.x-d.x||0,v=-p.y-d.y||0;return{x:h*u,y:v*u,width:l*u,height:s*u}}else return{x:o,y:n,width:l,height:s}},r.prototype.getViewportDelta=function(t){var e=this.module.getZoomMultiplier(),n=this.getCanvasOffset(),o=n.width,l=n.height,s=o*e,f=l*e,u=s-o,p=f-l;return{x:u/2/e,y:p/2/e}},r.prototype.clearOff=function(){this.frmOff=void 0,this.cvsOff=void 0},r.prototype.getFrameOffset=function(t){var e;if(!this.frmOff||t){var n=(e=this.frame)===null||e===void 0?void 0:e.el,o=t?.ownerDocument.defaultView,l=o?o.frameElement:n;this.frmOff=this.offset(l||n)}return this.frmOff},r.prototype.getCanvasOffset=function(){return this.cvsOff||(this.cvsOff=this.offset(this.el)),this.cvsOff},r.prototype.getElementPos=function(t,e){e===void 0&&(e={});var n=this.module.getZoomDecimal(),o=this.getFrameOffset(t),l=this.el,s=this.getCanvasOffset(),f=this.offset(t,e),u=e.avoidFrameOffset?0:o.top,p=e.avoidFrameOffset?0:o.left,d=e.avoidFrameZoom?f.top:f.top*n,h=e.avoidFrameZoom?f.left:f.left*n,v=e.avoidFrameOffset?d:d+u-s.top+l.scrollTop,_=e.avoidFrameOffset?h:h+p-s.left+l.scrollLeft,T=e.avoidFrameZoom?f.height:f.height*n,w=e.avoidFrameZoom?f.width:f.width*n;return{top:v,left:_,height:T,width:w,zoom:n,rect:f}},r.prototype.getElementOffsets=function(t){if(!t||(0,ue.ir)(t))return{};var e={},n=window.getComputedStyle(t),o=this.module.getZoomDecimal(),l=["marginTop","marginRight","marginBottom","marginLeft","paddingTop","paddingRight","paddingBottom","paddingLeft","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth"];return l.forEach(function(s){e[s]=parseFloat(n[s])*o}),e},r.prototype.getPosition=function(t){var e;t===void 0&&(t={});var n=(e=this.frame)===null||e===void 0?void 0:e.el.contentDocument;if(!n)return{top:0,left:0,width:0,height:0};var o=n.body,l=this.module.getZoomDecimal(),s=this.getFrameOffset(),f=this.getCanvasOffset(),u=t.noScroll;return{top:s.top+(u?0:o.scrollTop)*l-f.top,left:s.left+(u?0:o.scrollLeft)*l-f.left,width:f.width,height:f.height}},r.prototype.getCanvasScroll=function(){return this.config.scrollableCanvas?{scrollTop:this.el.scrollTop,scrollLeft:this.el.scrollLeft}:{scrollTop:0,scrollLeft:0}},r.prototype.updateScript=function(t){var e=t.model,n=e.getId(),o={component:e,view:t,el:t.el};if(!t.scriptContainer){t.scriptContainer=(0,ue.a_)("div",{"data-id":n});var l=this.getJsContainer();l?.appendChild(t.scriptContainer)}t.el.id=n,t.scriptContainer.innerHTML="";var s=document.createElement("script"),f=e.getScriptString(),u=e.get("script-props")?f:`function(){
`.concat(f,`
;}`),p=JSON.stringify(e.__getScriptProps());s.innerHTML=`
      setTimeout(function() {
        var item = document.getElementById('`.concat(n,`');
        if (!item) return;
        var script = (`).concat(u,`).bind(item);
        script(`).concat(p,`, { el: item });
      }, 1);`),setTimeout(function(){e.emitWithEditor(Xe.I.scriptMountBefore,o);var d=t.scriptContainer;d?.appendChild(s),e.emitWithEditor(Xe.I.scriptMount,o)},0)},r.prototype.getJsContainer=function(t){var e=this.getFrameView(t);return e?.getJsContainer()},r.prototype.getFrameView=function(t){return t?.frameView||this.em.getCurrentFrame()},r.prototype._renderFrames=function(){if(this.ready){var t=this,e=t.model,n=t.frames,o=t.em,l=t.framesArea,s=e.frames;s.listenToLoad(),n.render();var f=s.at(0),u=f?.view;o.setCurrentFrame(u),l?.appendChild(n.el),this.frame=u,this.updateFramesArea()}},r.prototype.renderFrames=function(){this._renderFrames()},r.prototype.render=function(){var t=this,e=t.el,n=t.$el,o=t.ppfx,l=t.config,s=t.em;n.html(this.template());var f=n.find("[data-frames]");this.framesArea=f.get(0);var u=n.find("[data-tools]");return this.toolsWrapper=u.get(0),u.append(`
      <div class="`.concat(o,"tools ").concat(o,`tools-gl" style="pointer-events:none">
        <div class="`).concat(o,`placeholder">
          <div class="`).concat(o,`placeholder-int"></div>
        </div>
      </div>
      <div id="`).concat(o,`tools" style="pointer-events:none">
        `).concat(l.extHl?'<div class="'.concat(o,'highlighter-sel"></div>'):"",`
        <div class="`).concat(o,`badge"></div>
        <div class="`).concat(o,`ghost"></div>
        <div class="`).concat(o,`toolbar" style="pointer-events:all"></div>
        <div class="`).concat(o,`resizer"></div>
        <div class="`).concat(o,`offset-v"></div>
        <div class="`).concat(o,`offset-fixed-v"></div>
      </div>
    `)),this.toolsEl=e.querySelector("#".concat(o,"tools")),this.hlEl=e.querySelector(".".concat(o,"highlighter")),this.badgeEl=e.querySelector(".".concat(o,"badge")),this.placerEl=e.querySelector(".".concat(o,"placeholder")),this.ghostEl=e.querySelector(".".concat(o,"ghost")),this.toolbarEl=e.querySelector(".".concat(o,"toolbar")),this.resizerEl=e.querySelector(".".concat(o,"resizer")),this.offsetEl=e.querySelector(".".concat(o,"offset-v")),this.fixedOffsetEl=e.querySelector(".".concat(o,"offset-fixed-v")),this.toolsGlobEl=e.querySelector(".".concat(o,"tools-gl")),this.spotsEl=e.querySelector("[data-spots]"),this.cvStyle=e.querySelector("[data-canvas-style]"),e.className=(0,qt.getUiClass)(s,this.className),l.scrollableCanvas===!0&&(e.style.overflow="auto"),this.ready=!0,this._renderFrames(),this},r})(Bn);const z0=W0;var K0=(function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}})(),vi=function(){return vi=Object.assign||function(i){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])}return i},vi.apply(this,arguments)},G0=function(i,r,t){if(t||arguments.length===2)for(var e=0,n=r.length,o;e<n;e++)(o||!(e in r))&&(o||(o=Array.prototype.slice.call(r,0,e)),o[e]=r[e]);return i.concat(o||Array.prototype.slice.call(r))},q0=(function(i){K0(r,i);function r(t){var e=i.call(this,t,"Canvas",Jg())||this;return e.events=Sl,e.framesById={},e.canvas=new lm(e),e.spots=new fm(e),e.model=e.canvas,e.startAutoscroll=e.startAutoscroll.bind(e),e.stopAutoscroll=e.stopAutoscroll.bind(e),e.autoScroller=new p1,e}return r.prototype.getCanvasView=function(){return this.canvasView},r.prototype.postLoad=function(){this.model.init()},r.prototype.getModel=function(){return this.canvas},r.prototype.getElement=function(){return this.getCanvasView().el},r.prototype.getFrame=function(t){return this.getFrames()[t||0]},r.prototype.getFrameEl=function(){var t=(this.canvasView||{}).frame;return t?.el},r.prototype.getFramesEl=function(){var t;return(t=this.canvasView)===null||t===void 0?void 0:t.framesArea},r.prototype.getWindow=function(){var t=(this.canvasView||{}).frame;return t?.getWindow()},r.prototype.getDocument=function(){var t=this.getFrameEl();return t?.contentDocument},r.prototype.getBody=function(){var t=this.getDocument();return t?.body},r.prototype._getLocalEl=function(t,e,n){var o=t,l=e?.frameView;return o=l?l[n]():o,o},r.prototype.getGlobalToolsEl=function(){var t;return(t=this.canvasView)===null||t===void 0?void 0:t.toolsGlobEl},r.prototype.getToolsEl=function(t){return this._getLocalEl(this.getCanvasView().toolsEl,t,"getToolsEl")},r.prototype.getHighlighter=function(t){return this._getLocalEl(this.getCanvasView().hlEl,t,"getHighlighter")},r.prototype.getBadgeEl=function(t){return this._getLocalEl(this.getCanvasView().badgeEl,t,"getBadgeEl")},r.prototype.getPlacerEl=function(){return this.getCanvasView().placerEl},r.prototype.getGhostEl=function(){return this.getCanvasView().ghostEl},r.prototype.getToolbarEl=function(){return this.getCanvasView().toolbarEl},r.prototype.getResizerEl=function(){return this.getCanvasView().resizerEl},r.prototype.getOffsetViewerEl=function(t){return this._getLocalEl(this.getCanvasView().offsetEl,t,"getOffsetViewerEl")},r.prototype.getFixedOffsetViewerEl=function(){return this.getCanvasView().fixedOffsetEl},r.prototype.getSpotsEl=function(){var t;return(t=this.canvasView)===null||t===void 0?void 0:t.spotsEl},r.prototype.render=function(){var t;return(t=this.canvasView)===null||t===void 0||t.remove(),this.canvasView=new z0(this.canvas),this.canvasView.render().el},r.prototype.getOffset=function(){var t=this.offset(this.getFrameEl()),e=this.offset(this.getElement());return{top:t.top-e.top,left:t.left-e.left}},r.prototype.offset=function(t){return this.getCanvasView().offset(t)},r.prototype.setCustomBadgeLabel=function(t){this.config.customBadgeLabel=t},r.prototype.getElementPos=function(t,e){return this.getCanvasView().getElementPos(t,e)},r.prototype.getElementOffsets=function(t){return this.getCanvasView().getElementOffsets(t)},r.prototype.getRect=function(){var t,e=(t=this.getCanvasView().getPosition())!==null&&t!==void 0?t:{},n=e.top,o=n===void 0?0:n,l=e.left,s=l===void 0?0:l;return vi(vi({},this.getCanvasView().getCanvasOffset()),{topScroll:o,leftScroll:s})},r.prototype.getTargetToElementDim=function(t,e,n){n===void 0&&(n={});var o=n||{},l=this.getCanvasView().getPosition();if(l){var s=o.elPos||this.getCanvasView().getElementPos(e),f=n.toRight||0,u=o.targetHeight||t.offsetHeight,p=o.targetWidth||t.offsetWidth,d=o.event||null,h=s.top-u,v=s.left;v+=f?s.width:0,v=f?v-p:v;var _=v<l.left?l.left:v,T=h<l.top?l.top:h;T=T>s.top+s.height?s.top+s.height:T;var w={top:T,left:_,elementTop:s.top,elementLeft:s.left,elementWidth:s.width,elementHeight:s.height,targetWidth:t.offsetWidth,targetHeight:t.offsetHeight,canvasTop:l.top,canvasLeft:l.left,canvasWidth:l.width,canvasHeight:l.height};return d&&this.em&&this.em.trigger(d,w),w}},r.prototype.canvasRectOffset=function(t,e,n){var o=this;n===void 0&&(n={});var l=function(f){var u=f.defaultView;return u?.frameElement},s=function(f,u,p){u===void 0&&(u=1);var d=o.em.getZoomDecimal(),h=u?"top":"left",v=f.ownerDocument,_=n.offset?l(v):{},T=_.offsetTop,w=T===void 0?0:T,C=_.offsetLeft,A=C===void 0?0:C,S=v.body||{},x=S.scrollTop,N=x===void 0?0:x,b=S.scrollLeft,L=b===void 0?0:b,k=u?N:L,P=u?w:A;return p[h]-(k-P)*d};return{top:s(t,1,e),left:s(t,0,e)}},r.prototype.getTargetToElementFixed=function(t,e,n){n===void 0&&(n={});var o=n.pos||this.getElementPos(t,{noScroll:!0}),l=n.canvasOff||this.canvasRectOffset(t,o),s=e.offsetHeight||0,f=e.offsetWidth||0,u=this.getCanvasView(),p=u.getCanvasScroll(),d=p.scrollTop,h=p.scrollLeft,v=u.getPosition(),_=n.event,T=o.width-f,w=-s,C=(0,X.isUndefined)(n.left)?T:n.left,A=Math.max(-o.left+h,0);C=Math.max(C,A);var S=o.width-f;C=Math.min(C,S);var x=v.width+h-f-o.left;C=Math.min(C,x);var N=l.top<s+d,b=w;if(N){var L=o.height+s,k=L<v.height;if(k)b=b+L;else{var P=-l.top+d;b=P<o.height?P:o.height}}var D={top:b,left:C,canvasOffsetTop:l.top,canvasOffsetLeft:l.left,elRect:o,canvasOffset:l,canvasRect:v,targetWidth:f,targetHeight:s};return _&&this.em.trigger(_,D),D},r.prototype.getMouseRelativePos=function(t,e){e===void 0&&(e={});var n=e.subWinOffset,o=t.target,l=o.nodeType===Node.DOCUMENT_NODE?o:o.ownerDocument,s=l.defaultView||l.parentWindow,f=s.frameElement,u=n?s.pageYOffset:0,p=n?s.pageXOffset:0,d=this.getZoomMultiplier(),h=0,v=0;if(f){var _=f.getBoundingClientRect();h=_.top||0,v=_.left||0}return{y:(t.clientY+h-u)*d,x:(t.clientX+v-p)*d}},r.prototype.getMouseRelativeCanvas=function(t,e){var n,o=this.getZoomDecimal(),l=this.getCanvasView(),s=(n=l.getPosition(e))!==null&&n!==void 0?n:{top:0,left:0},f=l.getCanvasScroll(),u={top:s.top+f.scrollTop,left:s.left+f.scrollLeft},p=u.top,d=u.left;return{y:t.clientY*o+p,x:t.clientX*o+d}},r.prototype.startDrag=function(t){this.em.set("dragSource",t)},r.prototype.endDrag=function(){this.em.set({dragResult:null,dragSource:void 0})},r.prototype.hasFocus=function(){return this.getDocument().hasFocus()},r.prototype.isInputFocused=function(){var t=this.getDocument(),e=this.getFrameEl(),n=G0(["body"],this.config.notTextable,!0),o=e&&document.activeElement===e,l=o?t&&t.activeElement:document.activeElement;return l&&!n.some(function(s){return l.matches(s)})},r.prototype.scrollTo=function(t,e){e===void 0&&(e={});var n=(0,qt.getElement)(t),o=n&&(0,qt.getViewEl)(n);o&&o.scrollIntoView(e)},r.prototype.startAutoscroll=function(t){var e=t&&t.view||this.em.getCurrentFrame();if(e&&e.startAutoscroll(),this.config.scrollableCanvas){var n=this.getCanvasView().el;this.autoScroller.start(n,n,{zoom:this.em.getZoomDecimal(),ignoredElement:this.getSpotsEl()})}},r.prototype.stopAutoscroll=function(t){var e=t&&t.view||this.em.getCurrentFrame();e&&e.stopAutoscroll(),this.config.scrollableCanvas&&this.autoScroller.stop()},r.prototype.setZoom=function(t,e){return e===void 0&&(e={}),this.canvas.set("zoom",typeof t=="string"?parseFloat(t):t,e),this},r.prototype.getZoom=function(){return parseFloat(this.canvas.get("zoom"))},r.prototype.setCoords=function(t,e,n){var o;n===void 0&&(n={});var l=t||t===0,s=e||e===0,f={x:this.canvas.get("x"),y:this.canvas.get("y")};if(l&&(f.x=parseFloat("".concat(t))),s&&(f.y=parseFloat("".concat(e))),n.toWorld){var u=(o=this.canvasView)===null||o===void 0?void 0:o.getViewportDelta();u&&(l&&(f.x=f.x-u.x),s&&(f.y=f.y-u.y))}return this.canvas.set(f),this},r.prototype.getCoords=function(){var t=this.canvas.attributes,e=t.x,n=t.y;return{x:e,y:n}},r.prototype.getPointer=function(t){var e=this.canvas.attributes,n=e.pointer,o=e.pointerScreen;return t?o:n},r.prototype.getZoomDecimal=function(){return this.getZoom()/100},r.prototype.getZoomMultiplier=function(){var t=this.getZoomDecimal();return t?1/t:1},r.prototype.fitViewport=function(t){var e;(e=this.canvasView)===null||e===void 0||e.fitViewport(t)},r.prototype.toggleFramesEvents=function(t){var e=this.getFramesEl().style;e.pointerEvents=t?"":"none"},r.prototype.getFrames=function(){return this.canvas.frames.map(function(t){return t})},r.prototype.addFrame=function(t,e){return t===void 0&&(t={}),e===void 0&&(e={}),this.canvas.frames.add(new Yh(this,vi({},t)),e)},r.prototype.getLastDragResult=function(){return this.em.get("dragResult")},r.prototype.addSpot=function(t,e){var n;e===void 0&&(e={});var o=t,l=this.getSpots(o);if(l.length){var s=l[0];return s.set(o),s}var f=o.componentView||((n=o.component)===null||n===void 0?void 0:n.view),u=new Vn.A(this,vi(vi({},o),{id:o.id||"cs_".concat(o.type,"_").concat(f?.cid),type:o.type||""}));return this.spots.add(u,e),u},r.prototype.getSpots=function(t){return t===void 0&&(t={}),this.spots.where(t.id?{id:t.id}:t)},r.prototype.removeSpots=function(t){t===void 0&&(t={});var e=(0,X.isArray)(t)?t:this.getSpots(t),n=this.spots.remove(e);return n},r.prototype.hasCustomSpot=function(t){var e=this.config.customSpots;return!!(e===!0||e&&t&&e[t])},r.prototype.getWorldRectToScreen=function(t){var e;return(e=this.canvasView)===null||e===void 0?void 0:e.getRectToScreen(t)},r.prototype.refresh=function(t){t===void 0&&(t={});var e=this,n=e.em,o=e.events,l=e.canvasView;l?.clearOff(),(t.spots||t.all)&&(this.refreshSpots(),n.trigger("canvas:updateTools")),n.set("canvasOffset",this.getOffset()),n.trigger(o.refresh,t)},r.prototype.refreshSpots=function(){this.spots.refresh()},r.prototype.destroy=function(){var t=this,e;this.canvas.stopListening(),(e=this.canvasView)===null||e===void 0||e.remove(),["model","droppable"].forEach(function(n){return t[n]={}})},r})(Cn);const Y0=q0;var X0=(function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}})(),ra=function(){return ra=Object.assign||function(i){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])}return i},ra.apply(this,arguments)},v1=(function(i){X0(r,i);function r(t,e){var n=i.call(this,t,e)||this;return n.dataResolver=n.initializeDataResolver(t,e),n.listenToPropsChange(),n}return r.prototype.initializeDataResolver=function(t,e){var n,o=(n=t.dataResolver)!==null&&n!==void 0?n:{type:t.type},l=this.createResolverInstance(o,ra(ra({},e),{collectionsStateMap:this.collectionsStateMap}));return l},r.prototype.getDataResolver=function(){return this.get("dataResolver")},r.prototype.setDataResolver=function(t){return this.set("dataResolver",t)},r.prototype.onCollectionsStateMapUpdate=function(t){this.dataResolver.updateCollectionsStateMap(t),i.prototype.onCollectionsStateMapUpdate.call(this,t)},r.prototype.listenToPropsChange=function(){var t=this;this.on("change:dataResolver",function(){t.dataResolver.set(t.get("dataResolver"))})},r.prototype.removePropsListeners=function(){this.stopListening(this.dataResolver),this.off("change:dataResolver"),this.off("change:".concat(this.collectionsStateMap))},r.prototype.destroy=function(t){return this.removePropsListeners(),i.prototype.destroy.call(this,t)},r.prototype.toJSON=function(t){var e=i.prototype.toJSON.call(this,t),n=this.dataResolver.toJSON();return delete n.type,ra(ra({},e),{dataResolver:n})},r})(_r),$0=(function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}})(),Rl=function(){return Rl=Object.assign||function(i){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])}return i},Rl.apply(this,arguments)},Z0=(function(i){$0(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return Object.defineProperty(r.prototype,"defaults",{get:function(){return Rl(Rl({},i.prototype.defaults),{type:Jn,dataResolver:{},droppable:!1})},enumerable:!1,configurable:!0}),r.prototype.getPath=function(){return this.dataResolver.get("path")},r.prototype.getCollectionId=function(){return this.dataResolver.get("collectionId")},r.prototype.getVariableType=function(){return this.dataResolver.get("variableType")},r.prototype.getDefaultValue=function(){return this.dataResolver.get("defaultValue")},r.prototype.getDataValue=function(){return this.dataResolver.getDataValue()},r.prototype.resolvesFromCollection=function(){return this.dataResolver.resolvesFromCollection()},r.prototype.getInnerHTML=function(){return this.getDataValue()},r.prototype.setPath=function(t){this.dataResolver.set("path",t)},r.prototype.setDefaultValue=function(t){this.dataResolver.set("defaultValue",t)},r.prototype.resetDataSourcePath=function(t){this.set("dataResolver",{path:t,collectionId:void 0,variableType:void 0})},r.prototype.createResolverInstance=function(t,e){return new Ca(t,e)},r.isComponent=function(t){return(0,qt.toLowerCase)(t.tagName)===Jn},r})(v1);const Q0=Z0;var J0=(function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}})(),jl=function(){return jl=Object.assign||function(i){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])}return i},jl.apply(this,arguments)},ty=(function(i){J0(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return Object.defineProperty(r.prototype,"defaults",{get:function(){return jl(jl({},i.prototype.defaults),{droppable:!1,type:Sr.condition,dataResolver:{condition:{left:"",operator:Fn.equalsIgnoreCase,right:""}},components:[{type:Sr.conditionTrue},{type:Sr.conditionFalse}]})},enumerable:!1,configurable:!0}),r.prototype.isTrue=function(){return this.dataResolver.isTrue()},r.prototype.getCondition=function(){return this.dataResolver.getCondition()},r.prototype.getIfTrueContent=function(){return this.components().at(0)},r.prototype.getIfFalseContent=function(){return this.components().at(1)},r.prototype.getOutputContent=function(){return this.isTrue()?this.getIfTrueContent():this.getIfFalseContent()},r.prototype.setCondition=function(t){this.dataResolver.setCondition(t)},r.prototype.setIfTrueComponents=function(t){this.setComponentsAtIndex(0,t)},r.prototype.setIfFalseComponents=function(t){this.setComponentsAtIndex(1,t)},r.prototype.getInnerHTML=function(t){var e,n;return(n=(e=this.getOutputContent())===null||e===void 0?void 0:e.getInnerHTML(t))!==null&&n!==void 0?n:""},r.prototype.createResolverInstance=function(t,e){return new Zh(t,e)},r.prototype.setComponentsAtIndex=function(t,e){var n=this.components().at(t);n?.components(e)},r.isComponent=function(t){return(0,qt.toLowerCase)(t.tagName)===_a},r})(v1);const ey=ty;var ry=(function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}})(),Hl=function(){return Hl=Object.assign||function(i){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])}return i},Hl.apply(this,arguments)},ny=(function(i){ry(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return Object.defineProperty(r.prototype,"defaults",{get:function(){return Hl(Hl({},i.prototype.defaults),{removable:!1,draggable:!1})},enumerable:!1,configurable:!0}),r.isComponent=function(t){return Km((0,qt.toLowerCase)(t.tagName))},r})(_r);const Tc=ny;var oy=(function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}})(),Fl=function(){return Fl=Object.assign||function(i){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])}return i},Fl.apply(this,arguments)},iy=(function(i){oy(r,i);function r(t,e){e===void 0&&(e={});var n,o=i.call(this,t,e)||this;return o.mutable=(n=t.mutable)!==null&&n!==void 0?n:!0,o.on("change",o.handleChange),o}return Object.defineProperty(r.prototype,"cl",{get:function(){return this.collection},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"dataSource",{get:function(){return this.cl.dataSource},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"em",{get:function(){return this.dataSource.em},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"index",{get:function(){return this.cl.indexOf(this)},enumerable:!1,configurable:!0}),r.prototype.handleChange=function(t,e){var n=this,o=this.changedAttributes();(0,X.keys)(o).forEach(function(l){return n.triggerChange(l,e)})},r.prototype.getPath=function(t,e){e===void 0&&(e={});var n=this,o=n.dataSource,l=n.id,s=n.index,f=o.id,u=t?".".concat(t):"";return"".concat(f,".").concat(e.useIndex?s:l).concat(u)},r.prototype.getPaths=function(t){return[this.getPath(t),this.getPath(t,{useIndex:!0})]},r.prototype.triggerChange=function(t,e){e===void 0&&(e={});var n=this,o=n.dataSource,l=n.em,s=this.getPaths(t),f={dataSource:o,dataRecord:this,path:s[0],options:e};l.trigger(wo.path,f),l.trigger("".concat(wo.pathSource,":").concat(o.id),f),s.forEach(function(u){return l.trigger("".concat(wo.path,":").concat(u),Fl(Fl({},f),{path:u}))})},r.prototype.set=function(t,e,n){var o=this,l,s;if(!this.isNew()&&this.attributes.mutable===!1)throw new Error("Cannot modify immutable record");var f=(s=(l=this.dataSource)===null||l===void 0?void 0:l.transformers)===null||s===void 0?void 0:s.onRecordSetValue,u=function(w,C,A){A===void 0&&(A={});var S=A?.avoidTransformers||!f?C:f({id:o.id,key:w,value:C});i.prototype.set.call(o,w,S,A),i.prototype.set.call(o,{__p:A.partial?!0:void 0},A)};if(typeof t=="object"&&t!==null)for(var p=t,d=0,h=Object.entries(p);d<h.length;d++){var v=h[d],_=v[0],T=v[1];u(_,T,e)}else u(t,e,n);return this},r})(ae.Kx);const ay=iy;var sy=(function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}})(),g1=(function(i){sy(r,i);function r(t,e){var n=i.call(this,t,e)||this;return n.dataSource=e.dataSource,n}return r})(ae.pM);const Id=g1;g1.prototype.model=ay;var ly=(function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}})(),_o=function(){return _o=Object.assign||function(i){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])}return i},_o.apply(this,arguments)},Dd=function(i,r,t,e){function n(o){return o instanceof t?o:new t(function(l){l(o)})}return new(t||(t=Promise))(function(o,l){function s(p){try{u(e.next(p))}catch(d){l(d)}}function f(p){try{u(e.throw(p))}catch(d){l(d)}}function u(p){p.done?o(p.value):n(p.value).then(s,f)}u((e=e.apply(i,r||[])).next())})},Rd=function(i,r){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},e,n,o,l;return l={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function s(u){return function(p){return f([u,p])}}function f(u){if(e)throw new TypeError("Generator is already executing.");for(;l&&(l=0,u[0]&&(t=0)),t;)try{if(e=1,n&&(o=u[0]&2?n.return:u[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,u[1])).done)return o;switch(n=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return t.label++,{value:u[1],done:!1};case 5:t.label++,n=u[1],u=[0];continue;case 7:u=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){t=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){t.label=u[1];break}if(u[0]===6&&t.label<o[1]){t.label=o[1],o=u;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(u);break}o[2]&&t.ops.pop(),t.trys.pop();continue}u=r.call(i,t)}catch(p){u=[6,p],n=0}finally{e=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},uy=function(i,r,t){if(t||arguments.length===2)for(var e=0,n=r.length,o;e<n;e++)(o||!(e in r))&&(o||(o=Array.prototype.slice.call(r,0,e)),o[e]=r[e]);return i.concat(o||Array.prototype.slice.call(r))},cy=(function(i){ly(r,i);function r(t,e){var n=i.call(this,_o(_o({schema:{}},t),{records:[]}),e)||this,o=t.records,l=t.transformers;return n.transformers=l||{},o instanceof Id||n.set({records:new Id(o,{dataSource:n})}),n.listenTo(n.records,"add",n.onAdd),n.listenTo(n.records,ae.e2,n.handleChanges),n}return r.prototype.defaults=function(){return{records:[],transformers:{}}},Object.defineProperty(r.prototype,"records",{get:function(){return this.attributes.records},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"schema",{get:function(){return this.attributes.schema},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"em",{get:function(){return this.collection.em},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"hasProvider",{get:function(){return!!this.attributes.provider},enumerable:!1,configurable:!0}),r.prototype.onAdd=function(t){t.triggerChange()},r.prototype.addRecord=function(t,e){return this.records.add(t,e)},r.prototype.getRecord=function(t){return this.records.get(t)},r.prototype.getRecords=function(){var t=this;return uy([],this.records.models,!0).map(function(e){return t.getRecord(e.id)})},r.prototype.getResolvedRecords=function(){var t=this,e=Object.entries(this.schema),n=this.getRecords().map(function(o){var l=_o({},o.attributes);return e.length===0||e.forEach(function(s){var f=s[0],u=s[1],p=u;if(p?.type===af.relation&&p.target){var d=l[f];if(d){var h=t.em.DataSources.get(p.target);if(h){var v=h.records,_=p.targetField||zm;if(p.isMany){var T=Array.isArray(d)?d:[d],w=v.filter(function(A){return T.includes(A.attributes[_])});l[f]=w.map(function(A){return _o({},A.attributes)})}else{var C=h.records.find(function(A){return A.attributes[_]===d});C&&(l[f]=_o({},C.attributes))}}}}}),l});return n},r.prototype.loadProvider=function(){return Dd(this,void 0,void 0,function(){var t,e,n,o,l,s,f,u,p,d,h=this;return Rd(this,function(v){switch(v.label){case 0:return t=this,e=t.attributes,n=t.em,o=e.provider,o?(0,X.isString)(o)?[2]:(l=(0,X.isString)(o.get)?{url:o.get}:o.get,s=l.url,f=l.method,u=l.headers,p=l.body,d=function(){return Dd(h,void 0,void 0,function(){var _,T,w,C,A;return Rd(this,function(S){switch(S.label){case 0:_=this,S.label=1;case 1:return S.trys.push([1,6,,7]),n.trigger(n.DataSources.events.providerLoadBefore,{dataSource:_}),[4,fetch(s,{method:f,headers:u,body:p})];case 2:return T=S.sent(),T.ok?[3,4]:(w=Error.bind,[4,T.text()]);case 3:throw new(w.apply(Error,[void 0,S.sent()]));case 4:return[4,T.json()];case 5:return C=S.sent(),C?.records&&this.setRecords(C.records),C?.schema&&this.upSchema(C.schema),n.trigger(n.DataSources.events.providerLoad,{result:C,dataSource:_}),[3,7];case 6:return A=S.sent(),n.logError(A.message),n.trigger(n.DataSources.events.providerLoadError,{dataSource:_,error:A}),[3,7];case 7:return[2]}})})},[4,d()]):[2];case 1:return v.sent(),[2]}})})},r.prototype.removeRecord=function(t,e){var n=this.getRecord(t);if(n?.mutable===!1&&!e?.dangerously)throw new Error("Cannot remove immutable record");return this.records.remove(t,e)},r.prototype.setRecords=function(t){var e=this;this.records.reset([],{silent:!0}),t.forEach(function(n){e.records.add(n)})},r.prototype.upSchema=function(t,e){this.set("schema",_o(_o({},this.schema),t),e)},r.prototype.getSchemaField=function(t){return this.schema[t]},r.prototype.handleChanges=function(t,e,n){var o=n||e;this.em.changesUp(o,{dataRecord:t,options:o})},r})(ae.Kx);const m1=cy;var fy=(function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}})(),pf=function(){return pf=Object.assign||function(i){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])}return i},pf.apply(this,arguments)},py=(function(i){fy(r,i);function r(t,e){var n=i.call(this,t,e)||this;return n.collectionsStateMap={},n.listenToPropsChange(),n}return r.prototype.onCollectionsStateMapUpdate=function(t){var e,n;this.collectionsStateMap=t,(n=(e=this.dataResolverWatchers)===null||e===void 0?void 0:e.onCollectionsStateMapUpdate)===null||n===void 0||n.call(e),this.components().forEach(function(o){var l;(l=o.onCollectionsStateMapUpdate)===null||l===void 0||l.call(o,t)})},r.prototype.syncOnComponentChange=function(t,e,n){var o=this.collectionsStateMap;this.collectionsStateMap={},i.prototype.syncOnComponentChange.call(this,t,e,n),this.collectionsStateMap=o,this.onCollectionsStateMapUpdate(o)},r.prototype.setDataResolver=function(t){return this.set("dataResolver",t)},r.prototype.getDataResolver=function(){return this.dataResolverProps},Object.defineProperty(r.prototype,"dataResolverProps",{get:function(){return this.get("dataResolver")},enumerable:!1,configurable:!0}),r.prototype.listenToDataSource=function(){var t=this,e,n=this.dataResolverPath;if(n){var o=this,l=o.em,s=o.collectionsStateMap;(e=this.dataSourceWatcher)===null||e===void 0||e.destroy(),this.dataSourceWatcher=new Ss({em:l,resolver:new Ca({type:Jn,path:n},{em:l,collectionsStateMap:s}),onUpdate:function(){return t.onDataSourceChange()}})}},r.prototype.listenToPropsChange=function(){var t=this;this.on("change:dataResolver",function(){t.listenToDataSource()}),this.listenToDataSource()},Object.defineProperty(r.prototype,"dataSourceProps",{get:function(){return this.get("dataResolver")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"dataResolverPath",{get:function(){var t;return(t=this.dataSourceProps)===null||t===void 0?void 0:t.path},enumerable:!1,configurable:!0}),r.prototype.onDataSourceChange=function(){this.onCollectionsStateMapUpdate(this.collectionsStateMap)},r.prototype.getDataSourceItems=function(){var t=this.dataSourceProps;if(!t)return[];var e=this.listDataSourceItems(t);if(e&&(0,X.isArray)(e))return e;var n=pf({},e);return n},r.prototype.listDataSourceItems=function(t){var e=t instanceof m1?t.get("id"):t.path;if(!e)return[];var n=this.em.DataSources.getValue(e,[]),o=e.split(".").length===1;return o&&(n=Object.entries(n).map(function(l){l[0];var s=l[1];return s})),n},r.prototype.getItemKey=function(t,e){return(0,X.isArray)(t)?e:Object.keys(t)[e]},r.prototype.removePropsListeners=function(){var t;this.off("change:dataResolver"),(t=this.dataSourceWatcher)===null||t===void 0||t.destroy(),this.dataSourceWatcher=void 0},r.prototype.destroy=function(t){return this.removePropsListeners(),i.prototype.destroy.call(this,t)},r})(_r);const y1=py;var dy=(function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}})(),vn=function(){return vn=Object.assign||function(i){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])}return i},vn.apply(this,arguments)},Cc={avoidStore:!0,partial:!0},hy=(function(i){dy(r,i);function r(t,e){var n=this;if(e.forCloning)return n=i.call(this,t,e)||this;var o=vn(vn({},t),{droppable:!1}),l=n=i.call(this,o,e)||this;return n.rebuildChildrenFromCollection=n.rebuildChildrenFromCollection.bind(n),n.listenToPropsChange(),n.rebuildChildrenFromCollection(),l}return Object.defineProperty(r.prototype,"defaults",{get:function(){return vn(vn({},i.prototype.defaults),{droppable:!1,dataResolver:{},type:Sr.collection,components:[{type:Sr.collectionItem}]})},enumerable:!1,configurable:!0}),r.prototype.getItemsCount=function(){var t,e,n=this.getDataSourceItems(),o=gy(n),l=Math.max(0,(t=this.getConfigStartIndex())!==null&&t!==void 0?t:0),s=(e=this.getConfigEndIndex())!==null&&e!==void 0?e:Number.MAX_VALUE,f=Math.min(o-1,s),u=f-l+1;return Math.max(0,u)},r.prototype.getConfigStartIndex=function(){return this.dataResolver.startIndex},r.prototype.getConfigEndIndex=function(){return this.dataResolver.endIndex},r.prototype.getDataSource=function(){var t;return(t=this.dataResolver)===null||t===void 0?void 0:t.dataSource},r.prototype.getCollectionId=function(){var t;return(t=this.dataResolver)===null||t===void 0?void 0:t.collectionId},r.prototype.getCollectionItemComponents=function(){return this.firstChild.components()},r.prototype.setCollectionId=function(t){this.updateCollectionConfig({collectionId:t})},r.prototype.setStartIndex=function(t){if(t<0){this.em.logError("Start index should be greater than or equal to 0");return}this.updateCollectionConfig({startIndex:t})},r.prototype.setEndIndex=function(t){this.updateCollectionConfig({endIndex:t})},r.prototype.setDataSource=function(t){this.set(os,vn(vn({},this.dataResolver),{dataSource:t}))},r.prototype.setCollectionItemComponents=function(t){this.firstChild.components(t)},r.prototype.onCollectionsStateMapUpdate=function(t){var e=this;i.prototype.onCollectionsStateMapUpdate.call(this,t);var n=this.getDataSourceItems(),o=this.resolveCollectionConfig(n).startIndex,l=this.components();l.forEach(function(s,f){var u=e.getItemKey(n,o+f),p=e.getCollectionsStateMapForItem(n,u);s.onCollectionsStateMapUpdate(p)})},r.prototype.stopSyncComponentCollectionState=function(){this.stopListening(this.components(),"add remove reset",this.syncOnComponentChange),this.onCollectionsStateMapUpdate({})},r.prototype.setCollectionStateMapAndPropagate=function(t,e){t.setSymbolOverride(["locked","layerable",Qi]),t.syncComponentsCollectionState(),t.onCollectionsStateMapUpdate(e)},r.prototype.onDataSourceChange=function(){this.rebuildChildrenFromCollection()},r.prototype.listenToPropsChange=function(){var t=this;this.on("change:".concat(os),function(){t.rebuildChildrenFromCollection(),t.listenToDataSource()}),this.listenToDataSource()},Object.defineProperty(r.prototype,"dataSourceProps",{get:function(){return this.dataResolver.dataSource},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"dataResolver",{get:function(){return this.get(os)||{}},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"firstChild",{get:function(){return this.components().at(0)},enumerable:!1,configurable:!0}),r.prototype.updateCollectionConfig=function(t){this.set(os,vn(vn({},this.dataResolver),t))},r.prototype.rebuildChildrenFromCollection=function(){var t=this.getDataSourceItems(),e=this.resolveCollectionConfig(t).totalItems;if(e===this.components().length){this.onCollectionsStateMapUpdate(this.collectionsStateMap);return}var n=this.getCollectionItems(t);this.components().reset(n,_l)},r.prototype.getCollectionItems=function(t){var e,n=this.ensureFirstChild(),o=n.getStyle().display,l=!o||o==="none",s=l?"":o;n.addStyle({display:"none"},Cc);var f=[n],u=yy(this.dataResolver,this.em);if(!u)return f;var p=this.collectionId,d=t??this.getDataSourceItems(),h=this.resolveCollectionConfig(d),v=h.startIndex,_=h.endIndex,T=this.hasDuplicateCollectionId();if(T)return this.em.logError('The collection ID "'.concat(p,'" already exists in the parent collection state. Overriding it is not allowed.')),f;for(var w=v;w<=_;w++){var C=w===v,A=this.getItemKey(d,w),S=this.getCollectionsStateMapForItem(d,A);if(C){(e=Tn(n))===null||e===void 0||e.forEach(function(N){return Iu(N)}),this.setCollectionStateMapAndPropagate(n,S),n.addStyle({display:s},Cc);continue}var x=n.clone({symbol:!0,symbolInv:!0});x.set({locked:!0,layerable:!1},Cc),this.setCollectionStateMapAndPropagate(x,S),f.push(x)}return f},r.prototype.getCollectionsStateMapForItem=function(t,e){var n,o=this.resolveCollectionConfig(t),l=o.startIndex,s=o.endIndex,f=o.totalItems,u=this.collectionId,p=t[e],d=this.collectionsStateMap,h=typeof e=="string"?Object.keys(t).indexOf(e):e,v=h-l,_=f-(1+v),T={collectionId:u,currentIndex:h,currentItem:p,currentKey:e,startIndex:l,endIndex:s,totalItems:f,remainingItems:_},w=vn(vn({},d),(n={},n[u]=T,n));return w},r.prototype.hasDuplicateCollectionId=function(){var t=this.collectionId,e=this.collectionsStateMap;return!!e[t]},r.prototype.resolveCollectionConfig=function(t){var e,n,o=Array.isArray(t),l=o?t.length:Object.keys(t).length,s=(e=this.getConfigStartIndex())!==null&&e!==void 0?e:0,f=(n=this.getConfigEndIndex())!==null&&n!==void 0?n:Number.MAX_VALUE,u=Math.min(l-1,f),p=0;return l>0&&(p=Math.max(0,u-s+1)),{startIndex:s,endIndex:u,totalItems:p,isArray:o}},r.prototype.ensureFirstChild=function(){var t=this.em.Components.getType(Sr.collectionItem).model;return this.firstChild||new t({type:Sr.collectionItem},this.opt)},Object.defineProperty(r.prototype,"collectionId",{get:function(){var t,e;return(e=(t=this.dataResolverProps)===null||t===void 0?void 0:t.collectionId)!==null&&e!==void 0?e:""},enumerable:!1,configurable:!0}),r.isComponent=function(t){return(0,qt.toLowerCase)(t.tagName)===Sr.collection},r.prototype.toJSON=function(t){var e=i.prototype.toJSON.call(this,t);delete e.droppable,delete e[yn];var n=this.firstChild;return vn(vn({},e),{components:[n]})},r})(y1);const vy=hy;function gy(i){return(0,X.isArray)(i)?i.length:Object.keys(i).length}function my(i,r,t){return i?!0:(t.logError('The "'.concat(r,'" property is required in the collection definition.')),!1)}function yy(i,r){for(var t=[{property:i?.collectionId,propertyPath:"dataResolver.collectionId"},{property:i?.dataSource,propertyPath:"dataResolver.dataSource"}],e=0,n=t;e<n.length;e++){var o=n[e].propertyPath;if(!my(i,o,r))return[]}var l=i?.startIndex;return l!==void 0&&(l<0||!Number.isInteger(l))&&r.logError("Invalid startIndex: ".concat(l,". It must be a non-negative integer.")),!0}var _y=(function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}})(),by=(function(i){_y(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.compView=lr,t}return r.prototype.initialize=function(t){this.opts=t||{},this.config=t.config||{},this.em=this.config.em;var e=this.collection;this.listenTo(e,"add",this.addTo),this.listenTo(e,"reset",this.resetChildren),this.listenTo(e,"remove",this.removeChildren)},r.prototype.removeChildren=function(t,e,n){var o=this;n===void 0&&(n={}),t.views.forEach(function(s){if(s){var f=s.childrenView,u=s.scriptContainer;f&&f.stopListening(),(0,ue.YZ)(u),s.remove.apply(s)}});var l=t.components();l.forEach(function(s){return o.removeChildren(s,e,n)})},r.prototype.addTo=function(t){this.addToCollection(t,null,this.collection.indexOf(t))},r.prototype.addToCollection=function(t,e,n){for(var o=this,l=o.config,s=o.opts,f=o.em,u=l.frameView,p=u?.model&&t.getView(u.model),d=s.componentTypes||f?.Components.getTypes(),h=t.get("type")||"default",v=this.compView,_=0;_<d.length;_++)if(d[_].id==h){v=d[_].view;break}var T=p||new v({model:t,config:l,componentTypes:d}),w;try{w=T.render().el}catch(x){w=document.createTextNode(""),f.logError(x)}if(e)e.appendChild(w);else{var C=this.parentEl,A=C.childNodes;if((0,X.isUndefined)(n))C.appendChild(w);else{var S=A.length==n;S&&n--,S||!A.length?C.appendChild(w):C.insertBefore(w,A[n])}}return t.opt.temporary||f?.trigger(Xe.I.mount,t),w},r.prototype.resetChildren=function(t,e){var n=this;if(e===void 0&&(e={}),!e.skipViewUpdate){var o=e.previousModels;e.skipDomReset||(this.parentEl.innerHTML=""),o?.forEach(function(l){return n.removeChildren(l,n.collection)}),t.each(function(l){return n.addToCollection(l)})}},r.prototype.render=function(t){var e=this,n=this.el,o=document.createDocumentFragment();return this.parentEl=t||this.el,this.collection.each(function(l){return e.addToCollection(l,o)}),n.innerHTML="",n.appendChild(o),this},r})(ae.Ss);const _1=by;var Ty=(function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}})(),oo=function(){return oo=Object.assign||function(i){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])}return i},oo.apply(this,arguments)},Cy=(function(i){Ty(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.rendered=!1,t}return r.prototype.className=function(){return this.getClasses()},r.prototype.tagName=function(){return this.model.get("tagName")},r.prototype.preinitialize=function(t){t===void 0&&(t={}),this.opts=t},r.prototype.initialize=function(t){t===void 0&&(t={});var e=this.model,n=t.config||{},o=n.em,l=e.opt||{},s=this,f=s.$el,u=s.el;this.opts=t,this.modelOpt=l,this.config=n,this.em=o,this.pfx=n.stylePrefix||"",this.ppfx=n.pStylePrefix||"",this.attr=e.get("attributes"),this.classe=this.attr.class||[],this.listenTo(e,"change:style",this.updateStyle),this.listenTo(e,"change:attributes",this.renderAttributes),this.listenTo(e,"change:highlightable",this.updateHighlight),this.listenTo(e,"change:status change:locked",this.updateStatus),this.listenTo(e,"change:script rerender",this.reset),this.listenTo(e,"change:content",this.updateContent),this.listenTo(e,"change",this.handleChange),this.listenTo(e,"active",this.onActive),this.listenTo(e,"disable",this.onDisable),f.data("model",e),(0,qt.setViewEl)(u,this),e.view=this,this.frameView&&e.views.push(this),this.initClasses(),this.initComponents({avoidRender:!0}),this.events=oo(oo({},this.constructor.getEvents()),{dragstart:"handleDragStart"}),this.delegateEvents(),!l.temporary&&this.init(this._clbObj())},Object.defineProperty(r.prototype,"__cmpStyleOpts",{get:function(){return{state:"",mediaText:""}},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"frameView",{get:function(){return this.opts.config.frameView},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"createDoc",{get:function(){var t,e,n=((t=this.frameView)===null||t===void 0?void 0:t.getDoc())||document;return!((e=this.opts.config)===null||e===void 0)&&e.useFrameDoc?n:document},enumerable:!1,configurable:!0}),r.prototype.__isDraggable=function(){var t=this,e=t.model,n=t.config,o=e.attributes.draggable;return n.draggableComponents&&o},r.prototype._clbObj=function(){var t=this,e=t.em,n=t.model,o=t.el;return{editor:e?.getEditor(),model:n,el:o}},r.prototype.init=function(t){},r.prototype.removed=function(t){},r.prototype.onRender=function(t){},r.prototype.onActive=function(t){},r.prototype.onDisable=function(t){},r.prototype.remove=function(){var t;i.prototype.remove.call(this);var e=this,n=e.model,o=e.$el,l=n.views,s=this.frameView||{};return n.components().forEach(function(f){var u=f.getView(s.model);u?.remove()}),(t=this.childrenView)===null||t===void 0||t.remove(),l.splice(l.indexOf(this),1),this.removed(this._clbObj()),o.data({model:"",collection:"",view:""}),this},r.prototype.handleDragStart=function(t){if(!this.__isDraggable())return!1;t.stopPropagation(),t.preventDefault();var e=this.em.getSelectedAll(),n=e.includes(this.model)?e:[this.model];this.em.Commands.run("tlb-move",{target:n,event:t})},r.prototype.initClasses=function(){var t=this.model,e=t.classes,n="change:classes";e instanceof Zo&&(this.stopListening(t,n,this.initClasses),this.listenTo(t,n,this.initClasses),this.listenTo(e,"add remove change reset",this.updateClasses),e.length&&this.importClasses())},r.prototype.initComponents=function(t){t===void 0&&(t={});var e=this,n=e.model,o=e.$el,l=e.childrenView,s="change:components",f=n.get("components"),u=[n,s,this.initComponents];f instanceof Cs&&(o.data("collection",f),l&&l.remove(),this.stopListening.apply(this,u),!t.avoidRender&&this.renderChildren(),this.listenTo.apply(this,u))},r.prototype.handleChange=function(){var t=this.model,e=(0,X.keys)(t.changed);if(!(e.length===1&&e[0]==="status")){t.emitUpdate();for(var n in t.changed)t.emitUpdate(n)}},r.prototype.importClasses=function(){var t=this,e=t.em,n=t.model,o=e.Selectors;o&&n.classes.forEach(function(l){return o.add(l.getName())})},r.prototype.updateStatus=function(t){t===void 0&&(t={});var e=this,n=e.em,o=e.el,l=e.ppfx,s=e.model,f=n?.Canvas,u=f?.config.extHl,p=s.get("status"),d="".concat(l,"selected"),h="".concat(d,"-parent"),v="".concat(l,"freezed"),_="".concat(l,"hovered"),T="".concat(l,"no-pointer"),w="".concat(l,"pointer-init"),C=[d,h,v,_,T,w],A=u&&!t.noExtHl?"":d;this.$el.removeClass(C.join(" "));var S=o.getAttribute("class")||"",x=[S],N=!f?.hasCustomSpot(Vn.F.Select),b=!f?.hasCustomSpot(Vn.F.Target);switch(p){case"selected":N&&x.push(A);break;case"selected-parent":b&&x.push(h);break;case"freezed":x.push(v);break;case"freezed-selected":x.push(v),N&&x.push(A);break;case"hovered":!t.avoidHover&&x.push(_);break}(0,X.isBoolean)(s.locked)&&x.push(s.locked?T:w);var L=x.filter(Boolean).join(" ");L&&o.setAttribute("class",L)},r.prototype.updateHighlight=function(){var t=this.model,e=t.get("textable"),n=t.get("highlightable")&&(e||!t.isChildOf("text"));this.setAttribute("data-gjs-highlightable",n?!0:"")},r.prototype.updateStyle=function(t,e,n){n===void 0&&(n={});var o=this,l=o.model,s=o.em;if(hi(s)&&!n.inline){var f=this.__cmpStyleOpts,u=l.getStyle(oo({inline:!0},f));!(0,X.isEmpty)(u)&&l.setStyle(u,f)}else this.setAttribute("style",l.styleToString(n))},r.prototype.updateStyles=function(){this.updateStyle()},r.prototype.updateClasses=function(){var t,e,n=((e=(t=this.model.classes).pluck)===null||e===void 0?void 0:e.call(t,"name").join(" "))||"";this.setAttribute("class",n),this.updateStatus(),this.onAttrUpdate()},r.prototype.setAttribute=function(t,e){var n=this.$el;e?n.attr(t,e):n.removeAttr(t)},r.prototype.getClasses=function(){return this.model.getClasses().join(" ")},r.prototype.updateAttributes=function(){var t=this,e=t.model,n=t.$el;t.el;var o=e.attributes,l=o.textable,s=o.type,f=oo(oo({id:e.getId(),"data-gjs-type":s||"default"},this.__isDraggable()&&{draggable:!0}),l&&{contenteditable:"false"});this.__clearAttributes(),this.updateStyle(),this.updateHighlight();var u=oo(oo({},f),e.getAttributes());(0,X.keys)(u).forEach(function(p){return u[p]===!1&&delete u[p]}),n.attr(u)},r.prototype.__clearAttributes=function(){var t=this,e=t.el,n=t.$el,o=[];(0,X.each)(e.attributes,function(l){return o.push(l.nodeName)}),o.forEach(function(l){return n.removeAttr(l)})},r.prototype.updateContent=function(){var t=this.model.content,e=this.model.components().length;this.getChildrenContainer().innerHTML=e?"":t},r.prototype.prevDef=function(t){t.preventDefault()},r.prototype.updateScript=function(){var t=this,e=t.model,n=t.em;e.get("script")&&n?.Canvas.getCanvasView().updateScript(this)},r.prototype.getChildrenContainer=function(){var t=this.el;return typeof this.getChildrenSelector=="function"?t=this.el.querySelector(this.getChildrenSelector()):this.getTemplate,t},r.prototype.getOffsetRect=function(){var t={top:0,left:0,bottom:0,right:0},e=this.el,n=0,o=0,l=function(s){var f=s.offsetParent;f?(n+=f.offsetTop,o+=f.offsetLeft,l(f)):(t.top=e.offsetTop+n,t.left=e.offsetLeft+o,t.bottom=t.top+e.offsetHeight,t.right=t.left+e.offsetWidth)};return l(e),t},r.prototype.isInViewport=function(){var t=this,e=t.el,n=t.em,o=t.frameView,l=n.Canvas.getCanvasView(),s=l.getElBoxRect(e,{local:!0}),f=o.el,u=f.clientHeight,p=f.clientWidth,d=s.y,h=s.x,v=d+s.height,_=h+s.width,T=d>=0&&d<u,w=v>0&&v<u,C=_>=0&&_<p,A=h>0&&h<=p,S=(T||w)&&(C||A);return S},r.prototype.scrollIntoView=function(t){var e;t===void 0&&(t={});var n=this.isInViewport();if(!n||t.force){var o=this.el;if(t.behavior!=="smooth"){var l=this.getOffsetRect();(e=o.ownerDocument.defaultView)===null||e===void 0||e.scrollTo(0,l.top)}else o.scrollIntoView(oo({behavior:"smooth",block:"nearest"},t))}},r.prototype.reset=function(){var t=this,e=t.el,n=t.model;t.scriptContainer&&n.emitWithEditor(Xe.I.scriptUnmount,{component:n,view:t,el:e}),this.el="",this._ensureElement(),this._setData(),(0,ue.bG)(e,this.el),this.render()},r.prototype._setData=function(){var t=this,e=t.model,n=t.el,o=e.components(),l=this;this.$el.data({model:e,collection:o,view:l}),(0,qt.setViewEl)(n,this)},r.prototype._createElement=function(t){return this.createDoc.createElement(t)},r.prototype.renderChildren=function(){this.updateContent();var t=this.getChildrenContainer(),e=this.childrenView||new _1({collection:this.model.get("components"),config:this.config,componentTypes:this.opts.componentTypes});e.render(t),this.childrenView=e;for(var n=Array.prototype.slice.call(e.el.childNodes),o=0,l=n.length;o<l;o++)t.appendChild(n.shift())},r.prototype.renderAttributes=function(t,e,n){n===void 0&&(n={}),!n.skipViewUpdate&&(this.updateAttributes(),this.updateClasses())},r.prototype.onAttrUpdate=function(){},r.prototype.render=function(){return this.renderAttributes(),this.modelOpt.temporary?this:(this.renderChildren(),this.updateScript(),(0,qt.setViewEl)(this.el,this),this.postRender(),this)},r.prototype.postRender=function(){if(!this.modelOpt.temporary){var t=this,e=t.model,n=t.el;this.onRender(this._clbObj()),e.emitWithEditor(Xe.I.render,{component:e,view:this,el:n}),this.rendered=!0}},r.getEvents=function(){return(0,X.result)(this.prototype,"events")},r})(ae.Ss);const lr=Cy;var wy=(function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}})(),Sy=(function(i){wy(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r})(lr);const Ey=Sy;var xy=(function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}})(),Oy=(function(i){xy(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.initialize=function(t){t===void 0&&(t={}),i.prototype.initialize.call(this,t),this.postRender=this.postRender.bind(this),this.listenTo(this.model.components(),"reset",this.postRender),this.dataResolverListener=new Ss({em:this.em,resolver:this.model.dataResolver,onUpdate:this.postRender})},r.prototype.renderDataResolver=function(){var t=this.model.getIfTrueContent(),e=this.model.getIfFalseContent(),n=t?.getEl(),o=e?.getEl(),l=this.model.isTrue();n&&(n.style.display=l?"":"none"),o&&(o.style.display=l?"none":"")},r.prototype.postRender=function(){this.renderDataResolver(),i.prototype.postRender.call(this)},r.prototype.remove=function(){return this.stopListening(this.model.components(),"reset",this.postRender),this.dataResolverListener.destroy(),i.prototype.remove.call(this)},r})(lr);const Ay=Oy;var Py=(function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}})(),ky=(function(i){Py(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.initialize=function(t){var e=this;t===void 0&&(t={}),i.prototype.initialize.call(this,t),this.dataResolverListener=new Ss({em:this.em,resolver:this.model.dataResolver,onUpdate:function(){return e.postRender()}})},r.prototype.remove=function(){return this.dataResolverListener.destroy(),i.prototype.remove.call(this)},r.prototype.postRender=function(){var t=this.model,e=t.getDataResolver(),n=!!e.asPlainText;n?this.el.textContent=t.getDataValue():this.el.innerHTML=t.getDataValue(),i.prototype.postRender.call(this)},r})(lr);const My=ky;var Ny=function(){return{stylePrefix:"comp-",components:[],draggableComponents:!0,disableTextInnerChilds:!1,processor:void 0,useFrameDoc:!1,voidElements:["area","base","br","col","embed","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr"]}};const Ly=Ny;var Iy=(function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}})(),Vl=function(){return Vl=Object.assign||function(i){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])}return i},Vl.apply(this,arguments)},Dy=(function(i){Iy(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return Object.defineProperty(r.prototype,"defaults",{get:function(){return Vl(Vl({},i.prototype.defaults),{tagName:"",droppable:!1,layerable:!1,selectable:!1,editable:!0})},enumerable:!1,configurable:!0}),r.prototype.toHTML=function(){var t=this.content,e=this.parent();return e?.is("script")?t:this.__escapeContent(t)},r.prototype.__escapeContent=function(t){return(0,qt.escapeNodeContent)(t)},r.isComponent=function(t){var e;if(t.nodeType===3)return{type:"textnode",content:(e=t.textContent)!==null&&e!==void 0?e:""}},r})(_r);const b1=Dy;var Ry=(function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}})(),df=function(){return df=Object.assign||function(i){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])}return i},df.apply(this,arguments)},jy=(function(i){Ry(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return Object.defineProperty(r.prototype,"defaults",{get:function(){return df({},i.prototype.defaults)},enumerable:!1,configurable:!0}),r.prototype.toHTML=function(){return"<!--".concat(this.content,"-->")},r.isComponent=function(t){var e;if(t.nodeType==8)return{type:"comment",content:(e=t.textContent)!==null&&e!==void 0?e:""}},r})(b1);const Hy=jy;var Fy=(function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}})(),Ul=function(){return Ul=Object.assign||function(i){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])}return i},Ul.apply(this,arguments)},wc="iframe",Vy=(function(i){Fy(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return Object.defineProperty(r.prototype,"defaults",{get:function(){return Ul(Ul({},i.prototype.defaults),{type:wc,tagName:wc,droppable:!1,resizable:!0,traits:["id","title","src"],attributes:{frameborder:"0"}})},enumerable:!1,configurable:!0}),r.isComponent=function(t){return(0,qt.toLowerCase)(t.tagName)===wc},r})(_r);const Uy=Vy;var By=(function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}})(),Bl=function(){return Bl=Object.assign||function(i){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])}return i},Bl.apply(this,arguments)},jd='xmlns="http://www.w3.org/2000/svg" width="100" viewBox="0 0 24 24" style="fill: rgba(0,0,0,0.15); transform: scale(0.75)"',Wy=(function(i){By(r,i);function r(t,e){t===void 0&&(t={});var n=i.call(this,t,e)||this,o=n.get("attributes").src;return o&&(0,qt.buildBase64UrlFromSvg)((0,X.result)(n,"defaults").src)!==o&&n.set("src",o,{silent:!0}),n}return Object.defineProperty(r.prototype,"defaults",{get:function(){return Bl(Bl({},i.prototype.defaults),{type:"image",tagName:"img",void:!0,droppable:0,editable:1,highlightable:0,resizable:{ratioDefault:1},traits:["alt"],src:"<svg ".concat(jd,`>
        <path d="M8.5 13.5l2.5 3 3.5-4.5 4.5 6H5m16 1V5a2 2 0 0 0-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2z"></path>
      </svg>`),fallback:"<svg ".concat(jd,`>
        <path d="M2.28 3L1 4.27l2 2V19c0 1.1.9 2 2 2h12.73l2 2L21 21.72 2.28 3m2.55 0L21 19.17V5a2 2 0 0 0-2-2H4.83M8.5 13.5l2.5 3 1-1.25L14.73 18H5l3.5-4.5z"></path>
      </svg>`),file:""})},enumerable:!1,configurable:!0}),r.prototype.initToolbar=function(){i.prototype.initToolbar.call(this);var t=this.em;if(t){var e=t.Commands,n="image-editor";if(e.has(n)){for(var o=!1,l=this.get("toolbar"),s=0;s<l.length;s++)if(l[s].command==="image-editor"){o=!0;break}o||(l.push({attributes:{class:"fa fa-pencil"},command:n}),this.set("toolbar",l))}}},r.prototype.getAttrToHTML=function(){var t=i.prototype.getAttrToHTML.call(this),e=this.getSrcResult();return e&&(t.src=e),t},r.prototype.getSrcResult=function(t){t===void 0&&(t={});var e=this.get(t.fallback?"fallback":"src")||"",n=e;return e&&e.substr(0,4)==="<svg"&&(n=(0,qt.buildBase64UrlFromSvg)(e)),n},r.prototype.isDefaultSrc=function(){var t=this.get("src"),e=(0,X.result)(this,"defaults").src;return t===e||t===(0,qt.buildBase64UrlFromSvg)(e)},r.prototype.toJSON=function(t){var e=i.prototype.toJSON.call(this,t),n=e.attributes;return n&&e.src===n.src&&delete e.src,e},r.prototype.parseUri=function(t){var e={},n=function(o){o===void 0&&(o="");for(var l={},s=o.substring(1).split("&"),f=0;f<s.length;f++){var u=s[f].split("="),p=decodeURIComponent(u[0]);p&&(l[p]=decodeURIComponent(u[1]||""))}return l};if((0,qt.hasWin)())e=document.createElement("a"),e.href=t;else if(typeof URL<"u")try{e=new URL(t)}catch{}return{hostname:e.hostname||"",pathname:e.pathname||"",protocol:e.protocol||"",search:e.search||"",hash:e.hash||"",port:e.port||"",query:n(e.search)}},r.isComponent=function(t){return(0,qt.toLowerCase)(t.tagName)==="img"},r})(_r);const zf=Wy;var zy=(function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}})(),Wl=function(){return Wl=Object.assign||function(i){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])}return i},Wl.apply(this,arguments)},Ky=(function(i){zy(r,i);function r(t,e){t===void 0&&(t={});var n=i.call(this,t,e)||this;return n.__checkInnerChilds(),n}return Object.defineProperty(r.prototype,"defaults",{get:function(){return Wl(Wl({},i.prototype.defaults),{type:"text",droppable:!1,editable:!0})},enumerable:!1,configurable:!0}),r.prototype.__checkInnerChilds=function(){var t=this.em.Components.config.disableTextInnerChilds;if(t){var e=function(n){n.isInstanceOf("textnode")||n.set({locked:!0,layerable:!1})};(0,X.isFunction)(t)?this.forEachChild(function(n){t(n)&&e(n)}):this.forEachChild(e)}},r})(_r);const Kf=Ky;var Gy=(function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}})(),zl=function(){return zl=Object.assign||function(i){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])}return i},zl.apply(this,arguments)},Sc="label",qy=(function(i){Gy(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return Object.defineProperty(r.prototype,"defaults",{get:function(){return zl(zl({},i.prototype.defaults),{type:Sc,tagName:Sc,traits:["id","title","for"]})},enumerable:!1,configurable:!0}),r.isComponent=function(t){return(0,qt.toLowerCase)(t.tagName)===Sc},r})(Kf);const Yy=qy;var Xy=(function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}})(),Kl=function(){return Kl=Object.assign||function(i){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])}return i},Kl.apply(this,arguments)},Hd="link",$y=(function(i){Xy(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return Object.defineProperty(r.prototype,"defaults",{get:function(){return Kl(Kl({},i.prototype.defaults),{type:Hd,tagName:"a",traits:["title","href","target"]})},enumerable:!1,configurable:!0}),r.isComponent=function(t,e){e===void 0&&(e={});var n;if((0,qt.toLowerCase)(t.tagName)==="a"){var o=e.textTags||[];n={type:Hd,editable:!1};var l=t.childNodes,s=l.length;s||delete n.editable,(0,X.forEach)(l,function(f){var u=f.tagName;(f.nodeType==3&&f.textContent.trim()!==""||u&&o.indexOf((0,qt.toLowerCase)(u))>=0)&&delete n.editable})}return n},r})(Kf);const Zy=$y;var Qy=(function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}})(),Gl=function(){return Gl=Object.assign||function(i){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])}return i},Gl.apply(this,arguments)},Jy=(function(i){Qy(r,i);function r(t,e){t===void 0&&(t={});var n=i.call(this,t,e)||this;return n.get("src")?n.parseFromSrc():n.updateSrc(),n.listenTo(n,"change:address change:zoom change:mapType",n.updateSrc),n}return Object.defineProperty(r.prototype,"defaults",{get:function(){var t=i.prototype.defaults;return Gl(Gl({},t),{type:"map",src:"",void:!1,mapUrl:"https://maps.google.com/maps",tagName:"iframe",mapType:"q",address:"",zoom:"1",attributes:{frameborder:0},toolbar:t.toolbar,traits:[{label:"Address",name:"address",placeholder:"eg. London, UK",changeProp:!0},{type:"select",label:"Map type",name:"mapType",changeProp:!0,options:[{id:"q",label:"Roadmap"},{id:"w",label:"Satellite"}]},{label:"Zoom",name:"zoom",type:"range",min:1,max:20,changeProp:!0}]})},enumerable:!1,configurable:!0}),r.prototype.updateSrc=function(){this.set("src",this.getMapUrl())},r.prototype.getMapUrl=function(){var t=this.get("address"),e=this.get("zoom"),n=this.get("mapType");t=t?"&q="+t:"",e=e?"&z="+e:"",n=n?"&t="+n:"";var o=this.get("mapUrl")+"?"+t+e+n;return o+="&output=embed",o},r.prototype.parseFromSrc=function(){var t=this.parseUri(this.get("src")),e=t.query;e.q&&this.set("address",e.q),e.z&&this.set("zoom",e.z),e.t&&this.set("mapType",e.t)},r.isComponent=function(t){if((0,qt.toLowerCase)(t.tagName)=="iframe"&&/maps\.google\.com/.test(t.src))return{type:"map",src:t.src}},r})(zf);const t_=Jy;var e_=(function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}})(),ql=function(){return ql=Object.assign||function(i){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])}return i},ql.apply(this,arguments)},Ec="script",r_=(function(i){e_(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return Object.defineProperty(r.prototype,"defaults",{get:function(){return ql(ql({},i.prototype.defaults),{type:Ec,tagName:Ec,droppable:!1,draggable:!1,layerable:!1,highlightable:!1})},enumerable:!1,configurable:!0}),r.isComponent=function(t){return(0,qt.toLowerCase)(t.tagName)===Ec},r})(_r);const n_=r_;var o_=(function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}})(),Yl=function(){return Yl=Object.assign||function(i){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])}return i},Yl.apply(this,arguments)},xc="svg",i_=(function(i){o_(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return Object.defineProperty(r.prototype,"defaults",{get:function(){return Yl(Yl({},i.prototype.defaults),{type:xc,tagName:xc,highlightable:!1,resizable:{ratioDefault:!0}})},enumerable:!1,configurable:!0}),r.prototype.getName=function(){var t=this.get("tagName"),e=this.get("custom-name");return t=t.charAt(0).toUpperCase()+t.slice(1),e||t},r.isComponent=function(t){return(0,qt.toLowerCase)(t.tagName)===xc},r})(_r);const T1=i_;var a_=(function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}})(),Xl=function(){return Xl=Object.assign||function(i){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])}return i},Xl.apply(this,arguments)},s_=(function(i){a_(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return Object.defineProperty(r.prototype,"defaults",{get:function(){return Xl(Xl({},i.prototype.defaults),{selectable:!1,hoverable:!1,layerable:!1})},enumerable:!1,configurable:!0}),r.isComponent=function(t,e){return e===void 0&&(e={}),!!e.inSvg},r})(T1);const l_=s_;var u_=(function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}})(),$l=function(){return $l=Object.assign||function(i){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])}return i},$l.apply(this,arguments)},Oc="table",c_=(function(i){u_(r,i);function r(t,e){t===void 0&&(t={});var n=i.call(this,t,e)||this,o=n.get("components");return!o.length&&o.add({type:"tbody"}),n}return Object.defineProperty(r.prototype,"defaults",{get:function(){return $l($l({},i.prototype.defaults),{type:Oc,tagName:Oc,droppable:["tbody","thead","tfoot"]})},enumerable:!1,configurable:!0}),r.isComponent=function(t){return(0,qt.toLowerCase)(t.tagName)===Oc},r})(_r);const f_=c_;var p_=(function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}})(),Zl=function(){return Zl=Object.assign||function(i){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])}return i},Zl.apply(this,arguments)},Ac="tbody",d_=(function(i){p_(r,i);function r(t,e){t===void 0&&(t={});var n=i.call(this,t,e)||this,o=n.get("components"),l=n.get("columns"),s=n.get("rows");if(!o.length){for(var f=[];s--;){for(var u=[],p=l;p--;)u.push({type:"cell",classes:["cell"]});f.push({type:"row",classes:["row"],components:u})}o.add(f)}return n}return Object.defineProperty(r.prototype,"defaults",{get:function(){return Zl(Zl({},i.prototype.defaults),{type:Ac,tagName:Ac,draggable:["table"],droppable:["tr"],columns:1,rows:1})},enumerable:!1,configurable:!0}),r.isComponent=function(t){return(0,qt.toLowerCase)(t.tagName)===Ac},r})(_r);const Gf=d_;var h_=(function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}})(),Ql=function(){return Ql=Object.assign||function(i){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])}return i},Ql.apply(this,arguments)},v_=(function(i){h_(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return Object.defineProperty(r.prototype,"defaults",{get:function(){return Ql(Ql({},i.prototype.defaults),{type:"cell",tagName:"td",draggable:["tr"]})},enumerable:!1,configurable:!0}),r.isComponent=function(t){return["td","th"].indexOf((0,qt.toLowerCase)(t.tagName))>=0},r})(_r);const g_=v_;var m_=(function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}})(),Jl=function(){return Jl=Object.assign||function(i){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])}return i},Jl.apply(this,arguments)},Pc="tfoot",y_=(function(i){m_(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return Object.defineProperty(r.prototype,"defaults",{get:function(){return Jl(Jl({},i.prototype.defaults),{type:Pc,tagName:Pc})},enumerable:!1,configurable:!0}),r.isComponent=function(t){return(0,qt.toLowerCase)(t.tagName)===Pc},r})(Gf);const __=y_;var b_=(function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}})(),tu=function(){return tu=Object.assign||function(i){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])}return i},tu.apply(this,arguments)},kc="thead",T_=(function(i){b_(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return Object.defineProperty(r.prototype,"defaults",{get:function(){return tu(tu({},i.prototype.defaults),{type:kc,tagName:kc})},enumerable:!1,configurable:!0}),r.isComponent=function(t){return(0,qt.toLowerCase)(t.tagName)===kc},r})(Gf);const C_=T_;var w_=(function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}})(),eu=function(){return eu=Object.assign||function(i){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])}return i},eu.apply(this,arguments)},Fd="tr",S_=(function(i){w_(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return Object.defineProperty(r.prototype,"defaults",{get:function(){return eu(eu({},i.prototype.defaults),{tagName:Fd,draggable:["thead","tbody","tfoot"],droppable:["th","td"]})},enumerable:!1,configurable:!0}),r.isComponent=function(t){return(0,qt.toLowerCase)(t.tagName)===Fd},r})(_r);const E_=S_;var x_=(function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}})(),ru=function(){return ru=Object.assign||function(i){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])}return i},ru.apply(this,arguments)},Mc="video",Xi="yt",$i="vi",Zi="ytnc",Vd="so",Nc=function(i){return i&&i!=="0"},O_=(function(i){x_(r,i);function r(t,e){t===void 0&&(t={});var n=i.call(this,t,e)||this;return n.get("src")&&n.parseFromSrc(),n.updatePropsFromAttr(),n.updateTraits(),n.on("change:provider",n.updateTraits),n.on("change:videoId change:provider",n.updateSrc),n}return Object.defineProperty(r.prototype,"defaults",{get:function(){return ru(ru({},i.prototype.defaults),{type:Mc,tagName:Mc,videoId:"",void:!1,provider:Vd,ytUrl:"https://www.youtube.com/embed/",ytncUrl:"https://www.youtube-nocookie.com/embed/",viUrl:"https://player.vimeo.com/video/",loop:!1,poster:"",muted:!1,autoplay:!1,controls:!0,color:"",list:"",src:"",rel:1,modestbranding:0,sources:[],attributes:{allowfullscreen:"allowfullscreen"}})},enumerable:!1,configurable:!0}),r.prototype.updatePropsFromAttr=function(){if(this.get("provider")===Vd){var t=this.get("attributes"),e=t.controls,n=t.autoplay,o=t.loop,l=t.muted,s={};(0,qt.isDef)(e)&&(s.controls=!!e),(0,qt.isDef)(n)&&(s.autoplay=!!n),(0,qt.isDef)(o)&&(s.loop=!!o),(0,qt.isDef)(l)&&(s.muted=!!l),(0,qt.isEmptyObj)(s)||this.set(s)}},r.prototype.updateTraits=function(){var t=this.em,e=this.get("provider"),n="iframe",o;switch(e){case Xi:case Zi:o=this.getYoutubeTraits();break;case $i:o=this.getVimeoTraits();break;default:n="video",o=this.getSourceTraits()}this.set({tagName:n},{silent:!0}),this.set({traits:o}),t.get("ready")&&t.trigger("component:toggled")},r.prototype.parseFromSrc=function(){var t=this.get("provider"),e=this.parseUri(this.get("src")),n=e.query;switch(t){case Xi:case Zi:case $i:this.set("videoId",e.pathname.split("/").pop()),n.list&&this.set("list",n.list),Nc(n.autoplay)&&this.set("autoplay",!0),Nc(n.loop)&&this.set("loop",!0),parseInt(n.controls)===0&&this.set("controls",!1),Nc(n.color)&&this.set("color",n.color),n.rel==="0"&&this.set("rel",0),n.modestbranding==="1"&&this.set("modestbranding",1),n.muted==="1"&&this.set("muted",!0);break}},r.prototype.updateSrc=function(){var t=this.get("provider"),e="";switch(t){case Xi:e=this.getYoutubeSrc();break;case Zi:e=this.getYoutubeNoCookieSrc();break;case $i:e=this.getVimeoSrc();break}this.set({src:e})},r.prototype.getAttrToHTML=function(){var t=i.prototype.getAttrToHTML.call(this),e=this.get("provider");switch(e){case Xi:case Zi:case $i:break;default:t.loop=!!this.get("loop"),t.autoplay=!!this.get("autoplay"),t.controls=!!this.get("controls"),t.muted=!!this.get("muted")}return t},r.prototype.getProviderTrait=function(){return{type:"select",label:"Provider",name:"provider",changeProp:!0,options:[{value:"so",name:"HTML5 Source"},{value:Xi,name:"Youtube"},{value:Zi,name:"Youtube (no cookie)"},{value:$i,name:"Vimeo"}]}},r.prototype.getSourceTraits=function(){return[this.getProviderTrait(),{label:"Source",name:"src",placeholder:"eg. ./media/video.mp4",changeProp:!0},{label:"Poster",name:"poster",placeholder:"eg. ./media/image.jpg"},this.getAutoplayTrait(),this.getLoopTrait(),this.getControlsTrait(),this.getMutedTrait()]},r.prototype.getYoutubeTraits=function(){return[this.getProviderTrait(),{label:"Video ID",name:"videoId",placeholder:"eg. jNQXAC9IVRw",changeProp:!0},this.getAutoplayTrait(),this.getLoopTrait(),this.getControlsTrait(),{type:"checkbox",label:"Related",name:"rel",changeProp:!0},{type:"checkbox",label:"Modest",name:"modestbranding",changeProp:!0},this.getMutedTrait()]},r.prototype.getVimeoTraits=function(){return[this.getProviderTrait(),{label:"Video ID",name:"videoId",placeholder:"eg. 123456789",changeProp:!0},{label:"Color",name:"color",placeholder:"eg. FF0000",changeProp:!0},this.getAutoplayTrait(),this.getLoopTrait(),this.getMutedTrait()]},r.prototype.getAutoplayTrait=function(){return{type:"checkbox",label:"Autoplay",name:"autoplay",changeProp:!0}},r.prototype.getLoopTrait=function(){return{type:"checkbox",label:"Loop",name:"loop",changeProp:!0}},r.prototype.getControlsTrait=function(){return{type:"checkbox",label:"Controls",name:"controls",changeProp:!0}},r.prototype.getMutedTrait=function(){return{type:"checkbox",label:"Muted",name:"muted",changeProp:!0}},r.prototype.getYoutubeSrc=function(){var t=this.get("videoId"),e=this.get("ytUrl"),n=this.get("list");return e+=t+(t.indexOf("?")<0?"?":""),e+=n?"&list=".concat(n):"",e+=this.get("autoplay")?"&autoplay=1":"",e+=this.get("muted")?"&mute=1":"",e+=this.get("controls")?"":"&controls=0&showinfo=0",e+=this.get("loop")?"&loop=1&playlist=".concat(t):"",e+=this.get("rel")?"":"&rel=0",e+=this.get("modestbranding")?"&modestbranding=1":"",e},r.prototype.getYoutubeNoCookieSrc=function(){var t=this.getYoutubeSrc();return t=t.replace(this.get("ytUrl"),this.get("ytncUrl")),t},r.prototype.getVimeoSrc=function(){var t=this.get("viUrl");return t+=this.get("videoId")+"?",t+=this.get("autoplay")?"&autoplay=1":"",t+=this.get("muted")?"&muted=1":"",t+=this.get("loop")?"&loop=1":"",t+=this.get("controls")?"":"&title=0&portrait=0&badge=0",t+=this.get("color")?"&color="+this.get("color"):"",t},r.isComponent=function(t){var e=t.tagName,n=t.src,o=/youtube\.com\/embed/.test(n),l=/youtube-nocookie\.com\/embed/.test(n),s=/player\.vimeo\.com\/video/.test(n),f=o||l||s;if((0,qt.toLowerCase)(e)==Mc||(0,qt.toLowerCase)(e)=="iframe"&&f){var u={type:"video"};return n&&(u.src=n),f&&(o?u.provider=Xi:l?u.provider=Zi:s&&(u.provider=$i)),u}},r})(zf);const A_=O_;var P_=(function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}})(),na=function(){return na=Object.assign||function(i){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])}return i},na.apply(this,arguments)},k_=(function(i){P_(r,i);function r(t,e){t===void 0&&(t={});var n=i.call(this,t,e)||this;n._resolverCurrentItem=0,n._isWatchingCollectionStateMap=!1;var o=n.dataResolverProps;return o&&(n.onDataSourceChange(),n.syncComponentsCollectionState()),n}return Object.defineProperty(r.prototype,"defaults",{get:function(){return na(na({},i.prototype.defaults),{dataResolver:null,tagName:"body",removable:!1,copyable:!1,draggable:!1,components:[],traits:[],doctype:"",head:null,docEl:null,stylable:["background","background-color","background-image","background-repeat","background-attachment","background-position","background-size"]})},enumerable:!1,configurable:!0}),r.prototype.preInit=function(){var t,e,n=this,o=n.opt,l=n.attributes,s=(t=this.em)===null||t===void 0?void 0:t.Components,f=(e=s?.getType(ga))===null||e===void 0?void 0:e.model,u=s?.getType("default").model;if(f){var p=l.head,d=l.docEl;this.set({head:p&&p instanceof _r?p:new f(na({},p),o),docEl:d&&d instanceof _r?d:new u(na({tagName:"html"},d),o)},{silent:!0})}},Object.defineProperty(r.prototype,"head",{get:function(){return this.get("head")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"docEl",{get:function(){return this.get("docEl")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"doctype",{get:function(){return this.attributes.doctype||""},enumerable:!1,configurable:!0}),r.prototype.clone=function(t){var e=i.prototype.clone.call(this,t);return e.set("head",this.get("head").clone(t)),e.set("docEl",this.get("docEl").clone(t)),e},r.prototype.toHTML=function(t){t===void 0&&(t={});var e=this.doctype,n=(0,X.isUndefined)(t.asDocument)?!!e:t.asDocument,o=this,l=o.head,s=o.docEl,f=i.prototype.toHTML.call(this,t),u=n&&l?.toHTML(t)||"",p=n&&(0,ue.kk)(s?.getAttrToHTML())||"",d=p?" ".concat(p):"";return n?"".concat(e,"<html").concat(d,">").concat(u).concat(f,"</html>"):f},r.prototype.onCollectionsStateMapUpdate=function(t){var e=this.head;i.prototype.onCollectionsStateMapUpdate.call(this,t),e.onCollectionsStateMapUpdate(t)},r.prototype.syncComponentsCollectionState=function(){i.prototype.syncComponentsCollectionState.call(this),this.head.syncComponentsCollectionState()},r.prototype.syncOnComponentChange=function(t,e,n){var o=this.getCollectionsStateMap();this.collectionsStateMap=o,i.prototype.syncOnComponentChange.call(this,t,e,n),this.onCollectionsStateMapUpdate(o)},Object.defineProperty(r.prototype,"resolverCurrentItem",{get:function(){return this._resolverCurrentItem},set:function(t){this._resolverCurrentItem=t,this.onCollectionsStateMapUpdate(this.getCollectionsStateMap())},enumerable:!1,configurable:!0}),r.prototype.setResolverCurrentItem=function(t){this.resolverCurrentItem=t},r.prototype.onDataSourceChange=function(){this.onCollectionsStateMapUpdate(this.getCollectionsStateMap())},r.prototype.listenToPropsChange=function(){var t=this;this.on("change:dataResolver",function(e,n){var o=!(0,X.isUndefined)(n);o&&!t._isWatchingCollectionStateMap?(t._isWatchingCollectionStateMap=!0,t.syncComponentsCollectionState(),t.onCollectionsStateMapUpdate(t.getCollectionsStateMap()),t.listenToDataSource()):!o&&t._isWatchingCollectionStateMap&&(t._isWatchingCollectionStateMap=!1,t.stopSyncComponentCollectionState())}),this.listenToDataSource()},r.prototype.getCollectionsStateMap=function(){var t,e=this,n=e.dataResolverPath,o=e.resolverCurrentItem,l=e.em,s=l.DataSources;if(!n)return{};var f=ys.rootData,u=this.getDataSourceItems(),p=(0,X.isNumber)(o)?u[o]:(0,X.isString)(o)?s.getValue("".concat(n,".").concat(o)):u;return t={},t[f]={collectionId:f,currentItem:p},t},r.prototype.__postAdd=function(){var t,e=(t=this.em)===null||t===void 0?void 0:t.UndoManager;return!this.__hasUm&&e?.add(this),i.prototype.__postAdd.call(this)},r.prototype.__postRemove=function(){var t,e=(t=this.em)===null||t===void 0?void 0:t.UndoManager;return e?.remove(this),i.prototype.__postRemove.call(this)},r.isComponent=function(){return!1},r})(y1);const M_=k_;var N_=(function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}})(),nu=function(){return nu=Object.assign||function(i){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])}return i},nu.apply(this,arguments)},L_=(function(i){N_(r,i);function r(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=i.apply(this,t)||this;n.refreshDbn=(0,X.debounce)(function(){return n.refresh()},0);var o=n.events;return n.on(o.update,n.onUpdate),n.on(o.updateInside,n.onUpdateDeep),n}return r.prototype.removeChildren=function(t,e,n){var o;n===void 0&&(n={}),i.prototype.removeChildren.call(this,t,e,n),(o=Tn(t))===null||o===void 0||o.forEach(function(l){return Iu(l,{skipRefs:!0})}),this.__trgEvent(this.events.symbolMainRemove,{component:t})},r.prototype.onAdd=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];i.prototype.onAdd.apply(this,t);var n=t[0];this.__trgEvent(this.events.symbolMainAdd,{component:n})},r.prototype.onUpdate=function(t){this.__trgEvent(this.events.symbolMainUpdate,t)},r.prototype.onUpdateDeep=function(t){this.__trgEvent(this.events.symbolMainUpdateDeep,t)},r.prototype.refresh=function(){var t=this,e=t.em,n=t.events;e.trigger(n.symbol)},r.prototype.__trgEvent=function(t,e,n){n===void 0&&(n=!1);var o=this,l=o.em,s=o.events,f=n?s.symbolInstance:s.symbolMain;l.trigger(t,e),l.trigger(f,nu(nu({},e),{event:t})),this.refreshDbn()},r})(Cs);const I_=L_;var D_=(function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}})(),R_=(function(i){D_(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype._setAttributes=function(){},r.prototype.renderAttributes=function(){},r.prototype.updateStatus=function(){},r.prototype.updateClasses=function(){},r.prototype.setAttribute=function(){},r.prototype.updateAttributes=function(){},r.prototype.initClasses=function(){},r.prototype.initComponents=function(){},r.prototype.delegateEvents=function(){return this},r.prototype._createElement=function(){return document.createTextNode("")},r.prototype.render=function(){var t=this,e=t.model,n=t.el;return e.opt.temporary?this:(n.textContent=e.content,this)},r})(lr);const C1=R_;var j_=(function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}})(),H_=(function(i){j_(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype._createElement=function(){return document.createComment(this.model.content)},r})(C1);const F_=H_;var V_=(function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}})(),U_=(function(i){V_(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.tagName=function(){return"div"},r.prototype.initialize=function(t){i.prototype.initialize.call(this,t),this.listenTo(this.model,"change:attributes:src",this.updateSrc)},r.prototype.updateSrc=function(){var t=(0,ue.I6)(this.el,"iframe")[0];t&&(0,ue.X6)(t,{src:this.__getSrc()})},r.prototype.render=function(){i.prototype.render.call(this);var t=(0,ue.a_)("iframe",{class:"".concat(this.ppfx,"no-pointer"),style:"width: 100%; height: 100%; border: none",src:this.__getSrc()});return this.el.appendChild(t),this},r.prototype.__getSrc=function(){return this.model.getAttributes().src||""},r})(lr);const B_=U_;var W_=(function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}})(),z_=(function(i){W_(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.tagName=function(){return"img"},r.prototype.events=function(){return{dblclick:"onActive",click:"initResize",error:"onError",load:"onLoad",dragstart:"noDrag"}},r.prototype.initialize=function(t){i.prototype.initialize.call(this,t),this.listenTo(this.model,"change:src",this.updateSrc),this.classEmpty="".concat(this.ppfx,"plh-image"),this.fetchFile()},r.prototype.fetchFile=function(){if(!this.modelOpt.temporary){var t=this,e=t.model,n=t.em,o=e.get("file");if(o&&n){var l=n.Assets.FileUploader();l?.uploadFile({dataTransfer:{files:[o]}},function(s){var f=s&&s.data&&s.data[0],u=f&&((0,X.isString)(f)?f:f.src);u&&e.set({src:u})},{componentView:this,file:o}),e.set("file","")}}},r.prototype.updateSrc=function(){var t=this.model;t.addAttributes({src:t.getSrcResult()}),this.updateClasses()},r.prototype.updateClasses=function(){i.prototype.updateClasses.call(this);var t=this,e=t.el,n=t.classEmpty,o=t.model,l=o.getSrcResult()&&!o.isDefaultSrc(),s=l?"remove":"add";e.classList[s](n)},r.prototype.onActive=function(t){t?.stopPropagation();var e=this,n=e.em,o=e.model,l=n?.Assets;l&&o.get("editable")&&l.open({select:function(s,f){o.set({src:s.getSrc()}),f&&l.close()},target:o,types:["image"],accept:"image/*"})},r.prototype.onError=function(){var t=this,e=t.model,n=t.el,o=e.getSrcResult({fallback:!0});o&&(n.srcset&&(n.srcset=""),n.src=o)},r.prototype.onLoad=function(){this.em.Canvas.refresh({all:!0})},r.prototype.noDrag=function(t){return t.preventDefault(),!1},r.prototype.render=function(){if(this.renderAttributes(),this.modelOpt.temporary)return this;this.updateSrc();var t=this,e=t.$el,n=t.model,o=e.attr("class")||"";return!n.get("src")&&e.attr("class","".concat(o," ").concat(this.classEmpty).trim()),this.postRender(),this},r})(lr);const qf=z_;var K_=(function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}})(),gi=function(){return gi=Object.assign||function(i){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])}return i},gi.apply(this,arguments)},ul=function(i,r,t,e){function n(o){return o instanceof t?o:new t(function(l){l(o)})}return new(t||(t=Promise))(function(o,l){function s(p){try{u(e.next(p))}catch(d){l(d)}}function f(p){try{u(e.throw(p))}catch(d){l(d)}}function u(p){p.done?o(p.value):n(p.value).then(s,f)}u((e=e.apply(i,r||[])).next())})},cl=function(i,r){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},e,n,o,l;return l={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function s(u){return function(p){return f([u,p])}}function f(u){if(e)throw new TypeError("Generator is already executing.");for(;l&&(l=0,u[0]&&(t=0)),t;)try{if(e=1,n&&(o=u[0]&2?n.return:u[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,u[1])).done)return o;switch(n=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return t.label++,{value:u[1],done:!1};case 5:t.label++,n=u[1],u=[0];continue;case 7:u=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){t=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){t.label=u[1];break}if(u[0]===6&&t.label<o[1]){t.label=o[1],o=u;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(u);break}o[2]&&t.ops.pop(),t.trys.pop();continue}u=r.call(i,t)}catch(p){u=[6,p],n=0}finally{e=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},G_=(function(i){K_(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.events=function(){return{dblclick:"onActive",input:"onInput"}},r.prototype.initialize=function(t){i.prototype.initialize.call(this,t),(0,X.bindAll)(this,"disableEditing","onDisable");var e=this.model,n=this.em;this.listenTo(e,"focus",this.onActive),this.listenTo(e,"change:content",this.updateContentText),this.listenTo(e,"sync:content",this.syncContent),this.rte=n?.RichTextEditor},r.prototype.updateContentText=function(t,e,n){n===void 0&&(n={}),!n.fromDisable&&this.disableEditing()},r.prototype.canActivate=function(){var t=this,e=t.model,n=t.rteEnabled,o=t.em,l=o?.getEditing(),s=l===e,f=!0,u=!1,p;if((n||!e.get("editable")||s||(u=e.isChildOf("text")))&&(f=!1,u&&!e.get("textable"))){for(var d=e.parent();d&&!d.isInstanceOf("text");)d=d.parent();d&&d.get("editable")?p=d:f=!0}return{result:f,delegate:p}},r.prototype.onActive=function(t){return ul(this,void 0,void 0,function(){var e,n,o,l,s,f,u,p,d,h,v,_;return cl(this,function(T){switch(T.label){case 0:return e=this,n=e.rte,o=e.em,l=this.canActivate(),s=l.result,f=l.delegate,s?((_=t?.stopPropagation)===null||_===void 0||_.call(t),u=this,[4,this.getContent()]):(f&&((v=t?.stopPropagation)===null||v===void 0||v.call(t),o.setSelected(f),f.trigger("active",t)),[2]);case 1:if(u.lastContent=T.sent(),!n)return[3,5];T.label=2;case 2:return T.trys.push([2,4,,5]),p=this,d=this,[4,n.enable(p,this.activeRte,{event:t,view:p})];case 3:return d.activeRte=T.sent(),[3,5];case 4:return h=T.sent(),o.logError(h),[3,5];case 5:return this.toggleEvents(!0),[2]}})})},r.prototype.onDisable=function(t){this.disableEditing(t)},r.prototype.disableEditing=function(){return ul(this,arguments,void 0,function(t){var e,n,o,l,s,f,u,p,d;return t===void 0&&(t={}),cl(this,function(h){switch(h.label){case 0:return e=this,n=e.model,o=e.rte,l=e.activeRte,s=e.em,f=n&&n.get("editable"),o?(u={},[4,this.getContent()]):[3,7];case 1:p=h.sent(),h.label=2;case 2:return h.trys.push([2,4,,5]),[4,o.disable(this,l,t)];case 3:return u=h.sent(),[3,5];case 4:return d=h.sent(),s.logError(d),[3,5];case 5:return f&&(p!==this.lastContent||u.forceSync)?[4,this.syncContent(gi(gi({},t),{content:p}))]:[3,7];case 6:h.sent(),this.lastContent="",h.label=7;case 7:return this.toggleEvents(),[2]}})})},r.prototype.getContent=function(){return ul(this,void 0,void 0,function(){var t,e,n,o;return cl(this,function(l){switch(l.label){case 0:return t=this,e=t.rte,n=t.activeRte,o="",e?[4,e.getContent(this,n)]:[3,2];case 1:o=l.sent(),l.label=2;case 2:return[2,o]}})})},r.prototype.syncContent=function(){return ul(this,arguments,void 0,function(t){var e,n,o,l,s,f,u,p,d;return t===void 0&&(t={}),cl(this,function(h){switch(h.label){case 0:return e=this,n=e.model,o=e.rte,l=e.rteEnabled,!l&&!t.force?[2]:(d=t.content)!==null&&d!==void 0?(f=d,[3,3]):[3,1];case 1:return[4,this.getContent()];case 2:f=h.sent(),h.label=3;case 3:return s=f,u=n.components(),p=gi({fromDisable:1},t),n.set("content","",p),o?.customRte&&!o.customRte.parseContent?(u.length&&u.reset(void 0,gi(gi({},t),{keepIds:ta(u)})),n.set("content",s,p)):u.resetFromString(s,t),[2]}})})},r.prototype.insertComponent=function(t,e){var n;e===void 0&&(e={});var o=this,l=o.model,s=o.el,f=s.ownerDocument,u=f.getSelection();if(u?.rangeCount){var p=u.getRangeAt(0),d=p.startContainer,h=p.startOffset,v=(0,qt.getComponentModel)(d),_=[];if(v&&(!((n=v.is)===null||n===void 0)&&n.call(v,"textnode"))){var T=v.collection;T.forEach(function(A){if(A===v){var S="textnode",x=e.useDomContent?d.textContent||"":A.content;_.push({type:S,content:x.slice(0,h)}),_.push(t),_.push({type:S,content:x.slice(h)})}else _.push(A)});var w=_.filter(Boolean),C=w.indexOf(t);return T.reset(w,e),T.at(C)}}return l.append(t,e)},r.prototype.onInput=function(){var t=this.model,e=[Xe.I.update,Xe.I.input];e.forEach(function(n){return t.emitWithEditor(n,t)})},r.prototype.disablePropagation=function(t){t.stopPropagation()},r.prototype.toggleEvents=function(t){var e=this,n=e.em,o=e.model,l=e.$el,s={on:ue.on,off:ue.AU},f=t?"on":"off";n.setEditing(t?this:!1),this.rteEnabled=!!t;var u=[this.el.ownerDocument,document];if(s.off(u,"mousedown",this.onDisable),s[f](u,"mousedown",this.onDisable),n[f]("toolbar:run:before",this.onDisable),o){var p=n.RichTextEditor.events;o[f]("removed",this.onDisable),o.trigger(t?p.enable:p.disable)}if(l?.off("mousedown",this.disablePropagation),l&&l[f]("mousedown",this.disablePropagation),this.config.draggableComponents)for(var d=this.el;d;)d.draggable=!t,d=d.parentNode,d&&d.tagName=="BODY"&&(d=0)},r})(lr);const w1=G_;var q_=(function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}})(),Y_=(function(i){q_(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.render=function(){return i.prototype.render.call(this),this.el.addEventListener("click",this.prevDef,!0),this},r})(w1);const S1=Y_;var X_=(function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}})(),$_=(function(i){X_(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r})(S1);const Z_=$_;var Q_=(function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}})(),J_=(function(i){Q_(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.tagName=function(){return"div"},r.prototype.events=function(){return{}},r.prototype.initialize=function(t){i.prototype.initialize.call(this,t),this.classEmpty=this.ppfx+"plh-map"},r.prototype.updateSrc=function(){this.getIframe().src=this.model.get("src")},r.prototype.getIframe=function(){if(!this.iframe){var t=document.createElement("iframe");t.src=this.model.get("src"),t.frameBorder="0",t.style.height="100%",t.style.width="100%",t.className=this.ppfx+"no-pointer",this.iframe=t}return this.iframe},r.prototype.render=function(){return i.prototype.render.call(this),this.updateClasses(),this.el.appendChild(this.getIframe()),this},r})(qf);const t9=J_;var e9=(function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}})(),r9=(function(i){e9(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.tagName=function(){return"script"},r.prototype.events=function(){return{}},r})(lr);const n9=r9;var o9=(function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}})(),i9=(function(i){o9(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype._createElement=function(t){return document.createElementNS("http://www.w3.org/2000/svg",t)},r})(lr);const Ud=i9;var a9=(function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}})(),s9=(function(i){a9(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r})(lr);const l9=s9;var u9=(function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}})(),c9=(function(i){u9(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r})(lr);const f9=c9;var p9=(function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}})(),d9=(function(i){p9(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r})(lr);const h9=d9;var v9=(function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}})(),g9=(function(i){v9(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r})(lr);const m9=g9;var y9=(function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}})(),_9=(function(i){y9(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r})(lr);const b9=_9;var T9=(function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}})(),C9=(function(i){T9(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.events=function(){return{}},r})(lr);const w9=C9;var S9=(function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}})(),E9=(function(i){S9(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.tagName=function(){return"div"},r.prototype.events=function(){return{}},r.prototype.initialize=function(){lr.prototype.initialize.apply(this,arguments);var t=this.model,e=["loop","autoplay","controls","color","rel","modestbranding","poster","muted"],n=e.map(function(o){return"change:".concat(o)}).join(" ");this.listenTo(t,"change:provider",this.updateProvider),this.listenTo(t,"change:src",this.updateSrc),this.listenTo(t,n,this.updateVideo)},r.prototype.updateProvider=function(){var t=this.model.get("provider");this.el.innerHTML="",this.el.appendChild(this.renderByProvider(t))},r.prototype.updateSrc=function(){var t=this,e=t.model,n=t.videoEl;if(n){var o=e.get("provider"),l=e.get("src");switch(o){case"yt":l=e.getYoutubeSrc();break;case"ytnc":l=e.getYoutubeNoCookieSrc();break;case"vi":l=e.getVimeoSrc();break}n.src=l}},r.prototype.updateVideo=function(){var t=this,e=t.model,n=t.videoEl,o=e.get("provider");switch(o){case"yt":case"ytnc":case"vi":e.trigger("change:videoId");break;default:if(n){var l=n;l.loop=e.get("loop"),l.autoplay=e.get("autoplay"),l.controls=e.get("controls"),l.poster=e.get("poster"),l.muted=e.get("muted")}}},r.prototype.renderByProvider=function(t){var e;switch(t){case"yt":e=this.renderYoutube();break;case"ytnc":e=this.renderYoutubeNoCookie();break;case"vi":e=this.renderVimeo();break;default:e=this.renderSource()}return this.videoEl=e,e},r.prototype.renderSource=function(){var t=document.createElement("video");return t.src=this.model.get("src"),this.initVideoEl(t),t},r.prototype.renderYoutube=function(){var t=document.createElement("iframe");return t.src=this.model.getYoutubeSrc(),t.frameBorder="0",t.setAttribute("allowfullscreen","true"),this.initVideoEl(t),t},r.prototype.renderYoutubeNoCookie=function(){var t=document.createElement("iframe");return t.src=this.model.getYoutubeNoCookieSrc(),t.frameBorder="0",t.setAttribute("allowfullscreen","true"),this.initVideoEl(t),t},r.prototype.renderVimeo=function(){var t=document.createElement("iframe");return t.src=this.model.getVimeoSrc(),t.frameBorder="0",t.setAttribute("allowfullscreen","true"),this.initVideoEl(t),t},r.prototype.initVideoEl=function(t){t.className=this.ppfx+"no-pointer",t.style.height="100%",t.style.width="100%"},r.prototype.render=function(){lr.prototype.render.apply(this),this.updateClasses();var t=this.model.get("provider");return this.el.appendChild(this.renderByProvider(t)),this.updateVideo(),this},r})(qf);const x9=E9;var O9=(function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}})(),A9=(function(i){O9(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.tagName=function(){return"div"},r})(lr);const P9=A9;var k9=(function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}})(),Fr=function(){return Fr=Object.assign||function(i){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])}return i},Fr.apply(this,arguments)},M9=function(i,r){var t={};for(var e in i)Object.prototype.hasOwnProperty.call(i,e)&&r.indexOf(e)<0&&(t[e]=i[e]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,e=Object.getOwnPropertySymbols(i);n<e.length;n++)r.indexOf(e[n])<0&&Object.prototype.propertyIsEnumerable.call(i,e[n])&&(t[e[n]]=i[e[n]]);return t},N9=function(i,r,t){if(t||arguments.length===2)for(var e=0,n=r.length,o;e<n;e++)(o||!(e in r))&&(o||(o=Array.prototype.slice.call(r,0,e)),o[e]=r[e]);return i.concat(o||Array.prototype.slice.call(r))},oa;(function(i){i[i.InvalidSource=0]="InvalidSource",i[i.SourceReject=1]="SourceReject",i[i.TargetReject=2]="TargetReject"})(oa||(oa={}));var L9=(function(i){k9(r,i);function r(t){var e=i.call(this,t,"DomComponents",new Cs(void 0,{em:t}),Xe.I,Ly())||this;e.componentTypes=[{id:Sr.collectionItem,model:Tc,view:lr},{id:Sr.conditionTrue,model:Tc,view:lr},{id:Sr.conditionFalse,model:Tc,view:lr},{id:Sr.collection,model:vy,view:Ey},{id:Sr.condition,model:ey,view:Ay},{id:Sr.variable,model:Q0,view:My},{id:"cell",model:g_,view:f9},{id:"row",model:E_,view:b9},{id:"table",model:f_,view:w9},{id:"thead",model:C_,view:m9},{id:"tbody",model:Gf,view:l9},{id:"tfoot",model:__,view:h9},{id:"map",model:t_,view:t9},{id:"link",model:Zy,view:S1},{id:"label",model:Yy,view:Z_},{id:"video",model:A_,view:x9},{id:"image",model:zf,view:qf},{id:"script",model:n_,view:n9},{id:"svg-in",model:l_,view:Ud},{id:"svg",model:T1,view:Ud},{id:"iframe",model:Uy,view:B_},{id:"comment",model:Hy,view:F_},{id:"textnode",model:b1,view:C1},{id:ga,model:E0,view:lr},{id:"wrapper",model:M_,view:P9},{id:"text",model:Kf,view:w1},{id:"default",model:_r,view:lr}],e.componentsById={},e.Component=_r,e.Components=Cs,e.ComponentView=lr,e.ComponentsView=_1,e.storageKey="components",e.keySymbols="symbols",e.events=Xe.I;var n=e.config;e.symbols=new I_([],{em:t,config:n,domc:e}),t&&(e.config.components=t.config.components||e.config.components);var o=e.config.pStylePrefix;if(o&&(e.config.stylePrefix=o+e.config.stylePrefix),t){t.get("Parser").compTypes=e.componentTypes,t.on("change:componentHovered",e.componentHovered,e);var l=t.get("selected");t.listenTo(l,"add",function(s,f,u){return e.selectAdd(l.getComponent(s),u)}),t.listenTo(l,"remove",function(s,f,u){return e.selectRemove(l.getComponent(s),u)})}return e}return r.prototype.postLoad=function(){var t=this,e=t.em,n=t.symbols,o=e.UndoManager;o.add(n)},r.prototype.load=function(t){var e=this,n=this.loadProjectData(t,{onResult:function(o){var l=e.getWrapper();if(l||(e.em.Pages.add({},{select:!0}),l=e.getWrapper()),(0,X.isArray)(o))o.length&&l.components(o);else{var s=o.components,f=s===void 0?[]:s,u=M9(o,["components"]);l.set(u),l.components(f)}}});return this.symbols.reset(t[this.keySymbols]||[]),n},r.prototype.store=function(){var t;return t={},t[this.keySymbols]=this.symbols,t},r.prototype.getComponent=function(){var t=this.em.Pages.getSelected(),e=t?.getMainFrame();return e?.getComponent()},r.prototype.getWrapper=function(){return this.getComponent()},r.prototype.getComponents=function(){var t=this.getWrapper();return t?.components()},r.prototype.addComponent=function(t,e){return e===void 0&&(e={}),this.getComponents().add(t,e)},r.prototype.render=function(){var t;return(t=this.componentView)===null||t===void 0?void 0:t.render().el},r.prototype.clear=function(t){t===void 0&&(t={});var e=this.getComponents();return e?.filter(Boolean).forEach(function(n){return n.remove(t)}),this},r.prototype.setComponents=function(t,e){e===void 0&&(e={}),this.clear(e).addComponent(t,e)},r.prototype.addType=function(t,e){var n=this.em,o=e.model,l=o===void 0?{}:o,s=e.view,f=s===void 0?{}:s,u=e.isComponent,p=e.extend,d=e.extendView,h=e.extendFn,v=h===void 0?[]:h,_=e.extendFnView,T=_===void 0?[]:_,w=e.block,C=this.getType(t),A=this.getType(p),S=this.getType(d),x=A||C||this.getType("default"),N=x.model,b=S?S.view:x.view,L=function(z,H,$){return z.reduce(function(j,rt){var q=H[rt],st=$.prototype[rt];return q&&st&&(j[rt]=function(){for(var vt=[],St=0;St<arguments.length;St++)vt[St]=arguments[St];st.bind(this).apply(void 0,vt),q.bind(this).apply(void 0,vt)}),j},{})};if(typeof l=="object"){var k={defaults:l.defaults};delete l.defaults;var P=new Set(N.typeExtends);P.add(N.getDefaults().type),e.model=N.extend(Fr(Fr({},l),L(v,l,N)),{typeExtends:P,isComponent:C&&!A&&!u?N.isComponent:u||(function(){return 0})}),Object.defineProperty(e.model.prototype,"defaults",{get:function(){return Fr(Fr({},(0,X.result)(N.prototype,"defaults")||{}),(0,X.result)(k,"defaults")||{})}})}if(typeof f=="object"&&(e.view=b.extend(Fr(Fr({},f),L(T,f,b)))),C?(C.model=e.model,C.view=e.view):(e.id=t,this.componentTypes.unshift(e)),w){var D={id:t,label:t,content:{type:t}},R=w===!0?D:Fr(Fr({},D),w);n.Blocks.add(R.id||t,R)}var M="component:type:".concat(C?"update":"add");return n?.trigger(M,C||e),this},r.prototype.getType=function(t){for(var e=this.componentTypes,n=0;n<e.length;n++){var o=e[n].id;if(o==t)return e[n]}},r.prototype.removeType=function(t){var e=this.componentTypes,n=this.getType(t);if(n){var o=e.indexOf(n);return e.splice(o,1),n}},r.prototype.getTypes=function(){return this.componentTypes},r.prototype.selectAdd=function(t,e){var n=this;e===void 0&&(e={}),t&&(t.set({status:"selected"}),["component:selected","component:toggled"].forEach(function(o){return n.em.trigger(o,t,e)}))},r.prototype.selectRemove=function(t,e){var n=this;e===void 0&&(e={}),t&&(this.em,t.set({status:"",state:""}),["component:deselected","component:toggled"].forEach(function(o){return n.em.trigger(o,t,e)}))},r.prototype.componentHovered=function(){var t=this.em,e=t.get("componentHovered"),n=t.previous("componentHovered"),o="hovered";n&&n.get("status")==o&&n.set({status:"",state:""}),e&&(0,X.isEmpty)(e.get("status"))&&e.set("status",o)},r.prototype.getShallowWrapper=function(){var t=this,e=t.shallow,n=t.em;if(!e&&n){var o=n.shallow;if(!o)return;var l=o.Components;if(l.componentTypes=this.componentTypes,e=l.getWrapper(),e){var s=[Tl,cf].join(" ");e.on(s,(0,X.debounce)(function(){return e?.components("")},100))}this.shallow=e}return e},r.prototype.isComponent=function(t){return(0,qt.isComponent)(t)},r.prototype.addSymbol=function(t){if(!((0,X.isSymbol)(t)&&!wi(t))){var e=t.clone({symbol:!0});return bi(e)&&this.symbols.add(e),this.em.trigger("component:toggled"),e}},r.prototype.getSymbols=function(){return N9([],this.symbols.models,!0)},r.prototype.detachSymbol=function(t){xl(t)&&Iu(t)},r.prototype.getSymbolInfo=function(t,e){e===void 0&&(e={});var n=bi(t),o=Un(t),l=!!o,s=Tn(n?t:o)||[],f=o||(n?t:void 0),u=Co(t,{changed:e.withChanges}),p=n||l,d=p&&wi(t);return{isSymbol:p,isMain:n,isInstance:l,isRoot:d,main:f,instances:s,relatives:u||[]}},r.prototype.canMove=function(t,e,n){var o={result:!1,reason:oa.InvalidSource,target:t,source:null};if(!e||!t)return o;if(to(t)&&e instanceof _r&&to(e)){var l=Ts(t),s=bi(l)?l:Un(l),f=Ts(e),u=bi(f)?f:Un(f),p=s===u,d=l!==f;if(p&&d)return Fr(Fr({},o),{reason:oa.TargetReject})}var h=(0,qt.isComponent)(e)?e:null;if(!h){var v=this.getShallowWrapper();h=v?.append(e,{temporary:!0})[0]||null}if(o.source=h,!h)return o;var _=h.get("draggable");if((0,X.isFunction)(_))_=!!_(h,t,n);else{var T=t.getEl();_=(0,X.isArray)(_)?_.join(","):_,_=(0,X.isString)(_)?T?.matches(_):_}if(!_)return Fr(Fr({},o),{reason:oa.SourceReject});var w=t.get("droppable");if((0,X.isFunction)(w))w=!!w(h,t,n);else if(w===!1&&t.isInstanceOf("text")&&h.get("textable"))w=!0;else{var T=h.getEl();w=(0,X.isArray)(w)?w.join(","):w,w=(0,X.isString)(w)?T?.matches(w):w}var C=[t].concat(t.parents()).indexOf(h)>-1;return!w||C?Fr(Fr({},o),{reason:oa.TargetReject}):Fr(Fr({},o),{result:!0})},r.prototype.allById=function(){return this.componentsById},r.prototype.getById=function(t){return this.componentsById[t]||null},r.prototype.destroy=function(){var t,e=this.allById();Object.keys(e).forEach(function(n){return e[n]&&e[n].remove()}),(t=this.componentView)===null||t===void 0||t.remove(),[this.em,this.componentsById,this.componentView].forEach(function(n){return{}})},r})(xo);const I9=L9;var D9=function(){return{stylePrefix:"css-",rules:[]}};const R9=D9;var j9=(function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}})(),H9=Number.MAX_VALUE,F9=function(i){var r=/(-?\d*\.?\d+)\w{0,}/.exec(i);return r?r[0]:""},V9=(function(i){j9(r,i);function r(){var t=i.call(this)||this;return(0,X.bindAll)(t,"sortRules"),t.compCls=[],t.ids=[],t}return r.prototype.buildFromModel=function(t,e){var n=this;e===void 0&&(e={});var o="",l=this.em,s=l&&l.getConfig().avoidInlineStyle,f=t.styleToString(),u=t.classes;this.ids.push("#".concat(t.getId())),u.forEach(function(d){return n.compCls.push(d.getFullName())}),!s&&f&&(o="#".concat(t.getId(),"{").concat(f,"}"));var p=t.components();return p.forEach(function(d){return o+=n.buildFromModel(d,e)}),o},r.prototype.build=function(t,e){var n=this;e===void 0&&(e={});var o=e.json,l=e.em,s=e.cssc||l?.Css;this.em=l,this.compCls=[],this.ids=[],this.model=t;var f=[],u=t?this.buildFromModel(t,e):"",p=(0,X.isUndefined)(e.clearStyles)&&l?l.getConfig().clearStyles:e.clearStyles;if(s){var d=e.rules||s.getAll(),h={},v=[];e.onlyMatched&&t&&(0,qt.hasWin)()&&(d=this.matchedRules(t,d)),d.forEach(function(_){var T=_.getAtRule();if(T){var w=h[T];w?w.push(_):h[T]=[_];return}var C=n.buildFromRule(_,v,e);o?f.push(C):u+=C}),this.sortMediaObject(h).forEach(function(_){var T="",w=_.key,C=_.value;C.forEach(function(A){var S=n.buildFromRule(A,v,e);A.get("singleAtRule")?u+="".concat(w,"{").concat(S,"}"):T+=S,o&&f.push(S)}),T&&(u+="".concat(w,"{").concat(T,"}"))}),l&&p&&d.remove&&d.remove(v)}return o?f.filter(function(_){return _}):u},r.prototype.buildFromRule=function(t,e,n){var o=this,l;n===void 0&&(n={});var s="",f=this.model,u=t.selectorsToString({skipAdd:1}),p=t.get("selectorsAdd"),d=t.get("singleAtRule"),h;if((l=t.get("selectors"))===null||l===void 0||l.forEach(function(_){var T=_.getFullName();(o.compCls.indexOf(T)>=0||o.ids.indexOf(T)>=0||n.keepUnusedStyles)&&(h=1)}),u&&h||p||d||!f){var v=t.getDeclaration();v&&(n.json?s=t:s+=v)}else e.push(t);return s},r.prototype.matchedRules=function(t,e){var n=this,o=t.getEl(),l=[];return e.forEach(function(s){try{s.selectorsToString().split(",").some(function(f){return o?.matches(n.__cleanSelector(f))})&&l.push(s)}catch{}}),t.components().forEach(function(s){l=l.concat(n.matchedRules(s,e))}),l=l.filter(function(s,f){return l.indexOf(s)===f}),l},r.prototype.getQueryLength=function(t){var e=/(-?\d*\.?\d+)\w{0,}/.exec(t);return e?parseFloat(e[1]):H9},r.prototype.sortMediaObject=function(t){var e=this;t===void 0&&(t={});var n=[];return(0,X.each)(t,function(o,l){return n.push({key:l,value:o})}),n.sort(function(o,l){var s=[o.key,l.key].every(function(p){return p.indexOf("min-width")!==-1}),f=s?o.key:l.key,u=s?l.key:o.key;return e.getQueryLength(f)-e.getQueryLength(u)})},r.prototype.sortRules=function(t,e){var n=function(f){return f.get("mediaText")||""},o=[n(t),n(e)].every(function(f){return f.indexOf("min-width")!==-1}),l=n(o?t:e),s=n(o?e:t);return this.getQueryLength(l)-this.getQueryLength(s)},r.prototype.__cleanSelector=function(t){return t.split(" ").map(function(e){return e.split(":")[0]}).join(" ")},r})(ae.Kx);const U9=V9;var B9=(function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}})(),hf=function(){return hf=Object.assign||function(i){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])}return i},hf.apply(this,arguments)},W9=function(i,r,t){if(t||arguments.length===2)for(var e=0,n=r.length,o;e<n;e++)(o||!(e in r))&&(o||(o=Array.prototype.slice.call(r,0,e)),o[e]=r[e]);return i.concat(o||Array.prototype.slice.call(r))},Lc=((0,qt.hasWin)()?window:{}).CSS,z9=(function(i){B9(r,i);function r(t,e){e===void 0&&(e={});var n=i.call(this,t,{em:e.em})||this;return n.views=[],n.config=t||{},n.opt=e,n.em=e.em,n.ensureSelectors(null,null,{}),n.setStyle(n.get("style"),{skipWatcherUpdates:!0}),n.on("change",n.__onChange),n}return r.prototype.defaults=function(){return{selectors:[],selectorsAdd:"",style:{},mediaText:"",state:"",stylable:!0,atRuleType:"",singleAtRule:!1,important:!1,group:"",shallow:!1,_undo:!0}},r.prototype.__onChange=function(t,e){var n=this.em,o=this.changedAttributes();o&&!(0,qt.isEmptyObj)(o)&&n?.changesUp(e,{rule:t,changed:o,options:e})},r.prototype.clone=function(){var t=this.get("selectors").map(function(e){return e.clone()});return i.prototype.clone.call(this,{selectors:t})},r.prototype.ensureSelectors=function(t,e,n){var o=this.em,l=o?.Selectors,s=[this,"change:selectors",this.ensureSelectors],f=this.getSelectors();if(this.stopListening.apply(this,s),f.models&&(f=W9([],f.models,!0)),f=(0,X.isString)(f)?[f]:f,Array.isArray(f)){var u=f.filter(function(p){return p}).map(function(p){return l?l.add(p):p});f=new Zo(u)}this.set("selectors",f,n),this.listenTo.apply(this,s)},r.prototype.getAtRule=function(){return r.getAtRuleFromProps(this.attributes)},r.getAtRuleFromProps=function(t){var e=t.atRuleType,n=t.mediaText,o=e?"@".concat(e):n?"@media":"";return o+(n&&o?" ".concat(n):"")},r.prototype.selectorsToString=function(t){t===void 0&&(t={});var e=[],n=this.get("state"),o=this.get("selectorsAdd"),l={escape:function(u){return Lc&&Lc.escape?Lc.escape(u):u}},s=this.getSelectors().getFullString(0,l),f=n&&!t.skipState?":".concat(n):"";return s&&e.push("".concat(s).concat(f)),o&&!t.skipAdd&&e.push(o),e.join(", ")},r.prototype.getDeclaration=function(t){t===void 0&&(t={});var e="",n=this.attributes.important,o=this.selectorsToString(t),l=this.styleToString(hf({important:n},t)),s=this.get("singleAtRule");return(o||s)&&(l||t.allowEmpty)&&(e=s?l:"".concat(o,"{").concat(l,"}")),e},r.prototype.getDevice=function(){var t=this.em,e=this.attributes,n=e.atRuleType,o=e.mediaText,l=t?.Devices.getDevices()||[],s=l.filter(function(f){return f.getWidthMedia()===""})[0];return n!=="media"||!o?s||null:l.filter(function(f){return f.getWidthMedia()===F9(o)})[0]||null},r.prototype.getState=function(){var t=this.em,e=this.get("state"),n=t?.Selectors.getStates()||[];return n.filter(function(o){return o.getName()===e})[0]||null},r.prototype.getComponent=function(){var t,e=this.getSelectors(),n=e.length==1&&e.at(0),o=n&&n.isId()&&n.get("name");return o&&((t=this.em)===null||t===void 0?void 0:t.Components.getById(o))||null},r.prototype.toCSS=function(t){t===void 0&&(t={});var e="",n=this.getAtRule(),o=this.getDeclaration(t);return(o||t.allowEmpty)&&(e=o),n&&e&&(e="".concat(n,"{").concat(e,"}")),e},r.prototype.toJSON=function(t){var e,n=i.prototype.toJSON.call(this,t);if(!((e=this.em)===null||e===void 0)&&e.getConfig().avoidDefaults){var o=this.defaults();(0,X.forEach)(o,function(l,s){n[s]===l&&delete n[s]}),delete n.style.__p,(0,X.isEmpty)(n.selectors)&&delete n.selectors,(0,X.isEmpty)(n.style)&&delete n.style}return n},r.prototype.compare=function(t,e,n,o){var l;o===void 0&&(o={});var s=e||"",f=n||"",u=o.selectorsAdd||"",p=o.atRuleType||"",d=!(0,X.isArray)(t)&&!t.models?[t]:t.models||t;f&&!p&&(p="media");var h=d.map(function(w){return w.getFullName()}),v=(l=this.get("selectors"))===null||l===void 0?void 0:l.map(function(w){return w.getFullName()}),_=h.slice().sort(),T=v.slice().sort();return!(h.length!==v.length||!_.every(function(w,C){return w===T[C]})||this.get("state")!==s||this.get("mediaText")!==f||this.get("selectorsAdd")!==u||this.get("atRuleType")!==p)},r})(o1);const vf=z9;var K9=(function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}})(),E1=(function(i){K9(r,i);function r(t,e){var n=i.call(this,t)||this;return n.editor=e?.em,setTimeout(function(){n.on("remove",n.onRemove),n.on("add",n.onAdd)}),n}return r.prototype.toJSON=function(t){var e=ae.pM.prototype.toJSON.call(this,t);return e.filter(function(n){return n.style&&!n.shallow})},r.prototype.onAdd=function(t,e,n){t.ensureSelectors(t,e,n)},r.prototype.onRemove=function(t){var e=this.editor;e.stopListening(t),e.UndoManager.remove(t)},r.prototype.add=function(t,e){return e===void 0&&(e={}),typeof t=="string"&&(t=this.editor.get("Parser").parseCss(t)),e.em=this.editor,ae.pM.prototype.add.apply(this,[t,e])},r})(ae.pM);const Bd=E1;E1.prototype.model=vf;var G9=(function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}})(),Qn=function(){return Qn=Object.assign||function(i){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])}return i},Qn.apply(this,arguments)},q9=function(i,r,t){if(t||arguments.length===2)for(var e=0,n=r.length,o;e<n;e++)(o||!(e in r))&&(o||(o=Array.prototype.slice.call(r,0,e)),o[e]=r[e]);return i.concat(o||Array.prototype.slice.call(r))},Y9=(function(i){G9(r,i);function r(t){var e=i.call(this,t,"CssComposer",null,ya,R9())||this;e.classes={CssRule:vf,CssRules:Bd,CssRuleView:Bf,CssRulesView:of},e.events=ya,e.Selectors=Zo,e.storageKey="styles",e._itemCache=new Map;var n=e.config,o=n.pStylePrefix;return o&&(n.stylePrefix=o+n.stylePrefix),n.rules=e.em.config.style||n.rules||"",e.rules=new Bd([],n),e._setupCacheListeners(),e}return r.prototype._setupCacheListeners=function(){i.prototype._setupCacheListeners.call(this),this.em.listenTo(this.rules,"change:selectors change:state change:mediaText",this._onItemKeyChange.bind(this))},r.prototype._makeCacheKey=function(t){var e=t.getAtRule(),n=t.selectorsToString();return"".concat(e,"__").concat(n)},r.prototype._makeCacheKeyFromProps=function(t){var e=t.atRuleType,n=e===void 0?"":e,o=t.mediaText,l=o===void 0?"":o,s=t.state,f=s===void 0?"":s,u=t.selectorsAdd,p=u===void 0?"":u,d=t.selectors,h=d===void 0?[]:d,v=h.map(function(A){return(0,X.isString)(A)?A:A.toString()}).join(""),_=[];v&&_.push("".concat(v).concat(f?":".concat(f):"")),p&&_.push(p);var T=_.join(", "),w=n?"@".concat(n):l?"@media":"",C=w+(l&&w?" ".concat(l):"");return"".concat(C,"__").concat(T)},r.prototype.onLoad=function(){this.rules.add(this.config.rules,{silent:!0}),this._onItemsResetCache(this.rules)},r.prototype.postLoad=function(){this.em.UndoManager.add(this.getAll())},r.prototype.store=function(){return this.getProjectData()},r.prototype.load=function(t){return this.loadProjectData(t,{all:this.rules})},r.prototype._findRule=function(t,e,n,o){var l=t;if((0,X.isString)(t)){var s=this.em.Selectors,f=t.split(",")[0].trim(),u=this.em.Parser.parserCss.checkNode({selectors:f})[0];l=s.get(u.selectors)}var p=this.rules.find(function(d){return d.compare(l,e,n,o)})||null;return p},r.prototype.add=function(t,e,n,o,l){o===void 0&&(o={}),l===void 0&&(l={});var s=e||"",f=n||"",u=Qn({},o),p=this._makeCacheKeyFromProps(Qn(Qn({state:s,mediaText:f},u),{selectors:Array.isArray(t)?t:[t]})),d=this._itemCache.get(p);if(d&&d.config&&!d.config.singleAtRule)return d;var h=this._findRule(t,s,f,u);return h&&h.config&&!h.config.singleAtRule?(this._cacheItem(h),h):(u.state=s,u.mediaText=f,u.selectors=[],f&&!u.atRuleType&&(u.atRuleType="media"),h=new vf(u,this.config),h.get("selectors").add(t,l),this.rules.add(h,l),this._cacheItem(h),h)},r.prototype.get=function(t,e,n,o){var l=this._makeCacheKeyFromProps(Qn(Qn({},o),{selectors:Array.isArray(t)?t:[t],state:e,width:n,mediaText:n})),s=this._itemCache.get(l);if(s)return s;var f=this._findRule(t,e,n,o);return f&&this._cacheItem(f),f},r.prototype.getAll=function(){return this.rules},r.prototype.addCollection=function(t,e,n){e===void 0&&(e={}),n===void 0&&(n={});var o=this.em,l=[];(0,X.isString)(t)&&(t=o.Parser.parseCss(t));for(var s=t instanceof Array?t:[t],f=0,u=s.length;f<u;f++){var p=s[f]||{};if(p.selectors){var d=o?.Selectors;d||console.warn("Selector Manager not found");for(var h=p.selectors,v=h instanceof Array?h:[h],_=[],T=0,w=v.length;T<w;T++){var C=d.add(v[T]);_.push(C)}var A=this.get(_,p.state,p.mediaText,p),S=this.add(_,p.state,p.mediaText,p,e),x=!A||!e.avoidUpdateStyle,N=p.style||{};if((0,qt.isObject)(n)&&S.set(n,e),x){var b=e.extend?Qn(Qn({},S.getStyle("",{skipResolve:!0})),N):N;S.setStyle(b,e)}l.push(S)}}return l},r.prototype.addRules=function(t){return this.addCollection(t)},r.prototype.setRule=function(t,e,n){e===void 0&&(e={}),n===void 0&&(n={});var o=n.atRuleType,l=n.atRuleParams,s=this.em.Parser.parserCss.checkNode({selectors:t,style:e})[0],f=s.state,u=s.selectorsAdd,p=this.em.Selectors,d=p.add(s.selectors),h=this.add(d,f,l,{selectorsAdd:u,atRule:o});return n.addStyles?h.addStyle(e,n):h.setStyle(e,n),h},r.prototype.getRule=function(t,e){e===void 0&&(e={});var n=this.em,o=n.Selectors,l=n.Parser.parserCss.checkNode({selectors:t})[0],s=o.get(l.selectors),f=l.state,u=l.selectorsAdd,p=e.atRuleType,d=e.atRuleParams;return s?this.get(s,f,d,{selectorsAdd:u,atRuleType:p}):void 0},r.prototype.getRules=function(t){var e=this.getAll();if(!t)return q9([],e.models,!0);var n={sort:!0},o=(0,X.isString)(t)?t.split(",").map(function(s){return s.trim()}):t,l=e.filter(function(s){return o.indexOf(s.getSelectors().getFullString(null,n))>=0});return l},r.prototype.setIdRule=function(t,e,n){e===void 0&&(e={}),n===void 0&&(n={});var o=n.addOpts,l=o===void 0?{}:o,s=n.mediaText,f=n.state||"",u=(0,X.isUndefined)(s)?this.em.getCurrentMedia():s,p=this.em.Selectors,d=p.add({name:t,type:ln.TYPE_ID},l),h=this.add(d,f,u,{},l);return h.setStyle(e,Qn(Qn({},n),l)),h},r.prototype.getIdRule=function(t,e){e===void 0&&(e={});var n=e.mediaText,o=e.state||"",l=(0,X.isUndefined)(n)?this.em.getCurrentMedia():n,s=this.em.Selectors.get(t,ln.TYPE_ID);return s&&this.get(s,o,l)},r.prototype.setClassRule=function(t,e,n){e===void 0&&(e={}),n===void 0&&(n={});var o=n.state||"",l=n.mediaText||this.em.getCurrentMedia(),s=this.em.Selectors,f=s.add({name:t,type:ln.TYPE_CLASS}),u=this.add(f,o,l);return u.setStyle(e,n),u},r.prototype.getClassRule=function(t,e){e===void 0&&(e={});var n=e.state||"",o=e.mediaText||this.em.getCurrentMedia(),l=this.em.Selectors.get(t,ln.TYPE_CLASS);return l&&this.get(l,n,o)},r.prototype.remove=function(t,e){var n=(0,X.isString)(t)?this.getRules(t):t,o=Array.isArray(n)?n:[n],l=this.getAll().remove(o,e);return Array.isArray(l)?l:[l]},r.prototype.clear=function(t){return t===void 0&&(t={}),this._clearItemCache(),this.getAll().reset([],t),this},r.prototype.getComponentRules=function(t,e){e===void 0&&(e={});var n=e.state,o=e.mediaText,l=e.current;l&&(n=this.em.get("state")||"",o=this.em.getCurrentMedia());var s=t.getId(),f=this.getAll().filter(function(u){return!(0,X.isUndefined)(n)&&u.get("state")!==n||!(0,X.isUndefined)(o)&&u.get("mediaText")!==o?!1:u.getSelectorsString()==="#".concat(s)});return f},r.prototype.render=function(){var t;return(t=this.rulesView)===null||t===void 0||t.remove(),this.rulesView=new of({collection:this.rules,config:this.config}),this.rulesView.render().el},r.prototype.checkId=function(t,e){e===void 0&&(e={});var n=e.idMap,o=n===void 0?{}:n,l=[];if(!Object.keys(o).length)return l;var s=Array.isArray(t)?t:[t];return s.forEach(function(f){var u=f.selectors;if(u&&u.length==1){var p=u[0];if((0,X.isString)(p)){if(p[0]==="#"){var d=p.substring(1),h=o[d];d&&h&&(u[0]="#".concat(h),l.push(f))}}else if(p.name&&p.type===ln.TYPE_ID){var h=o[p.name];h&&(p.name=h,l.push(f))}}}),l},r.prototype.destroy=function(){var t;this.rules.reset(),this.rules.stopListening(),(t=this.rulesView)===null||t===void 0||t.remove()},r})(xo);const X9=Y9;var $9=function(){return{appendTo:"",blocks:[],appendOnClick:!1,custom:!1}};const Z9=$9;var Q9=(function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}})(),J9=(function(i){Q9(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.defaults=function(){return{label:"",content:"",media:"",category:"",activate:!1,select:void 0,resetId:!1,disable:!1,onClick:void 0,attributes:{},dragDef:{}}},Object.defineProperty(r.prototype,"category",{get:function(){var t=this.get("category");return t instanceof Es?t:void 0},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"parent",{get:function(){return this.collection},enumerable:!1,configurable:!0}),r.prototype.getId=function(){return this.id},r.prototype.getLabel=function(){return this.get("label")},r.prototype.getMedia=function(){return this.get("media")},r.prototype.getContent=function(){return this.get("content")},r.prototype.getDragDef=function(){return this.get("dragDef")},r.prototype.getCategoryLabel=function(){var t=this.get("category");return(0,X.isFunction)(t?.get)?t.get("label"):t?.label?t?.label:t},r})(ae.Kx);const x1=J9;var t5=(function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}})(),O1=(function(i){t5(r,i);function r(t,e){var n=i.call(this,t)||this;return n.em=e.em,n.on("add",n.handleAdd),n}return r.prototype.getCategories=function(){return this.em.Blocks.getCategories()},r.prototype.handleAdd=function(t){this.initCategory(t)},r})(u1);const fl=O1;O1.prototype.model=x1;var cs;(function(i){i.add="block:add",i.remove="block:remove",i.removeBefore="block:remove:before",i.update="block:update",i.dragStart="block:drag:start",i.drag="block:drag",i.dragEnd="block:drag:stop",i.categoryUpdate="block:category:update",i.custom="block:custom",i.all="block"})(cs||(cs={}));var e5=(function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}})(),ia=function(){return ia=Object.assign||function(i){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])}return i},ia.apply(this,arguments)},r5=(function(i){e5(r,i);function r(t,e){e===void 0&&(e={});var n=i.call(this,t)||this,o=n.model;return n.em=e.em,n.config=e,n.endDrag=n.endDrag.bind(n),n.ppfx=e.pStylePrefix||"",n.listenTo(o,"destroy remove",n.remove),n.listenTo(o,"change",n.render),n}return r.prototype.events=function(){return{click:"handleClick",mousedown:"startDrag",dragstart:"handleDragStart",drag:"handleDrag",dragend:"handleDragEnd"}},r.prototype.__getModule=function(){return this.em.Blocks},r.prototype.handleClick=function(t){var e,n,o=this,l=o.config,s=o.model,f=o.em,u=s.get("onClick")||l.appendOnClick;if(f.trigger("block:click",s,t),u){if((0,X.isFunction)(u))return u(s,f?.getEditor(),{event:t})}else return;var p=(e=l.getSorter)===null||e===void 0?void 0:e.call(l);if(p){var d=s.get("content"),h=this.getTempDropModel(d),v=(n=h.view)===null||n===void 0?void 0:n.el,_=v?[{element:v,dragSource:{content:d}}]:[],T=f.getSelected(),w,C,A,S=0;if(T)if(C=p.validTarget(T.getEl(),_,S),C)w=T;else{var x=T.parent();x&&(C=p.validTarget(x.getEl(),_,S),C&&(w=x,A=x.components().indexOf(T)+1))}if(!w){var N=f.getWrapper();C=p.validTarget(N.getEl(),_,S),C&&(w=N)}var b=w&&w.append(d,{at:A})[0];b&&f.setSelected(b,{scroll:!0})}},r.prototype.startDrag=function(t){var e,n=this,o=n.config,l=n.em,s=n.model,f=s.get("disable");if(!(t.button!==0||!o.getSorter||this.el.draggable||f)){l.refreshCanvas();var u=o.getSorter();u.__currentBlock=s;var p=this.model.get("content"),d=this.getTempDropModel(p),h=(e=d.view)===null||e===void 0?void 0:e.el,v=h?[{element:h,dragSource:{content:p}}]:[];u.startSort(v),(0,ue.on)(document,"mouseup",this.endDrag)}},r.prototype.handleDragStart=function(t){this.__getModule().__startDrag(this.model,t)},r.prototype.handleDrag=function(t){this.__getModule().__drag(t)},r.prototype.handleDragEnd=function(){this.__getModule().__endDrag()},r.prototype.endDrag=function(){var t,e;(0,ue.AU)(document,"mouseup",this.endDrag);var n=(e=(t=this.config).getSorter)===null||e===void 0?void 0:e.call(t);n&&n.endDrag()},r.prototype.getTempDropModel=function(t){var e,n=this.em.Components.getComponents(),o={avoidChildren:1,avoidStore:1,avoidUpdateStyle:1},l=n.add(t,ia(ia({},o),{temporary:!0})),s=n.remove(l,ia(ia({},o),{temporary:!0}));return s=s instanceof Array?s[0]:s,(e=s.view)===null||e===void 0||e.$el.data("model",s),s},r.prototype.render=function(){var t,e=this,n=e.em,o=e.el,l=e.$el,s=e.ppfx,f=e.model,u=f.get("disable"),p=f.get("attributes")||{},d=p.class||"",h="".concat(s,"block"),v=n&&n.t("blockManager.labels.".concat(f.id))||f.get("label"),_=f.get("render"),T=f.get("media"),w=u?"".concat(h,"--disable"):"".concat(s,"four-color-h");l.attr(p),o.className="".concat(d," ").concat(h," ").concat(s,"one-bg ").concat(w).trim(),o.innerHTML=`
      `.concat(T?'<div class="'.concat(h,'__media">').concat(T,"</div>"):"",`
      <div class="`).concat(h,'-label">').concat(v,`</div>
    `),o.title=p.title||((t=o.textContent)===null||t===void 0?void 0:t.trim()),o.setAttribute("draggable","".concat(!!((0,qt.hasDnd)(n)&&!u)));var C=_&&_({el:o,model:f,className:h,prefix:s});return C&&(o.innerHTML=C),this},r})(ae.Ss);const n5=r5;var o5=(function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}})(),i5=function(i,r){return Object.defineProperty?Object.defineProperty(i,"raw",{value:r}):i.raw=r,i},a5=(function(i){o5(r,i);function r(t,e,n){var o=i.call(this,t)||this;o.config=e;var l=e.pStylePrefix||"";return o.em=e.em,o.catName=n,o.pfx=l,o.caretR="fa fa-caret-right",o.caretD="fa fa-caret-down",o.iconClass="".concat(l,"caret-icon"),o.activeClass="".concat(l,"open"),o.className="".concat(l).concat(n,"-category"),o.listenTo(o.model,"change:open",o.updateVisibility),o.model.view=o,o}return r.prototype.events=function(){return{"click [data-title]":"toggle"}},r.prototype.template=function(t){var e=t.pfx,n=t.label,o=t.catName;return _n(Wd||(Wd=i5([`
      <div class="`,`title" data-title>
        <i class="`,`caret-icon"></i>
        `,`
      </div>
      <div class="`,"",`s-c"></div>
    `],[`
      <div class="`,`title" data-title>
        <i class="`,`caret-icon"></i>
        `,`
      </div>
      <div class="`,"",`s-c"></div>
    `])),e,e,n,e,o)},r.prototype.attributes=function(){return this.model.get("attributes")||{}},r.prototype.updateVisibility=function(){this.model.get("open")?this.open():this.close()},r.prototype.open=function(){this.$el.addClass(this.activeClass),this.getIconEl().className="".concat(this.iconClass," ").concat(this.caretD),this.getTypeEl().style.display=""},r.prototype.close=function(){this.$el.removeClass(this.activeClass),this.getIconEl().className="".concat(this.iconClass," ").concat(this.caretR),this.getTypeEl().style.display="none"},r.prototype.toggle=function(){var t=this.model;t.set("open",!t.get("open"))},r.prototype.getIconEl=function(){return this.iconEl||(this.iconEl=this.el.querySelector(".".concat(this.iconClass))),this.iconEl},r.prototype.getTypeEl=function(){return this.typeEl||(this.typeEl=this.el.querySelector(".".concat(this.pfx).concat(this.catName,"s-c"))),this.typeEl},r.prototype.append=function(t){this.getTypeEl().appendChild(t)},r.prototype.render=function(){var t=this,e=t.em,n=t.el,o=t.$el,l=t.model,s=t.pfx,f=t.catName,u=e.t("".concat(f,"Manager.categories.").concat(l.id))||l.get("label");return n.innerHTML=this.template({pfx:s,label:u,catName:f}),o.addClass(this.className),o.css({order:l.get("order")}),this.updateVisibility(),this},r})(ae.Ss);const A1=a5;var Wd,s5=(function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}})(),ou=function(){return ou=Object.assign||function(i){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])}return i},ou.apply(this,arguments)},l5=(function(i){s5(r,i);function r(t,e){var n=i.call(this,t)||this;n.renderedCategories=new Map,(0,X.bindAll)(n,"getSorter","onDrag","onDrop","onMove"),n.config=e||{},n.categories=t.categories||"";var o=n.config.pStylePrefix||"";n.ppfx=o,n.noCatClass="".concat(o,"blocks-no-cat"),n.blockContClass="".concat(o,"blocks-c"),n.catsClass="".concat(o,"block-categories");var l=n.collection;return n.listenTo(l,"add",n.addTo),n.listenTo(l,"reset",n.render),n.em=n.config.em,n.em&&(n.config.getSorter=n.getSorter),n}return r.prototype.__getModule=function(){return this.em.Blocks},r.prototype.updateConfig=function(t){t===void 0&&(t={}),this.config=ou(ou({},this.config),t)},r.prototype.getSorter=function(){var t=this.em;if(t){if(!this.sorter){var e=t.Utils,n=t.Canvas;this.sorter=new e.ComponentSorter({em:t,treeClass:d1,containerContext:{container:n.getBody(),containerSel:"*",itemSel:"*",pfx:this.ppfx,placeholderElement:n.getPlacerEl(),document:n.getBody().ownerDocument},dragBehavior:{dragDirection:Si.A.BothDirections,nested:!0},positionOptions:{windowMargin:1,canvasRelative:!0},eventHandlers:{legacyOnStartSort:this.onDrag,legacyOnEndMove:this.onDrop,legacyOnMoveClb:this.onMove}})}return this.sorter}},r.prototype.onDrag=function(t){this.em.stopDefault(),this.__getModule().__startDrag(this.sorter.__currentBlock,t)},r.prototype.onMove=function(t){this.__getModule().__drag(t)},r.prototype.onDrop=function(t){this.em.runDefault(),this.__getModule().__endDrag({component:t}),delete this.sorter.__currentBlock},r.prototype.addTo=function(t){this.add(t)},r.prototype.add=function(t,e){var n=this,o=n.config,l=n.renderedCategories,s=t.get("attributes"),f=new n5({model:t,attributes:s},o),u=f.render().el,p=t.parent.initCategory(t);if(p&&this.categories&&!o.ignoreCategories){var d=p.getId(),h=this.getCategoriesEl(),v=l.get(d);!v&&h&&(v=new A1({model:p},o,"block").render(),l.set(d,v),h.appendChild(v.el)),v?.append(u);return}e?e.appendChild(u):this.append(u)},r.prototype.getCategoriesEl=function(){return this.catsEl||(this.catsEl=this.el.querySelector(".".concat(this.catsClass))),this.catsEl},r.prototype.getBlocksEl=function(){return this.blocksEl||(this.blocksEl=this.el.querySelector(".".concat(this.noCatClass," .").concat(this.blockContClass))),this.blocksEl},r.prototype.append=function(t){var e=this.getBlocksEl();e&&e.appendChild(t)},r.prototype.render=function(){var t=this,e=this.ppfx,n=document.createDocumentFragment();delete this.catsEl,delete this.blocksEl,this.renderedCategories=new Map,this.el.innerHTML=`
      <div class="`.concat(this.catsClass,`"></div>
      <div class="`).concat(this.noCatClass,`">
        <div class="`).concat(this.blockContClass,`"></div>
      </div>
    `),this.collection.each(function(l){return t.add(l,n)}),this.append(n);var o="".concat(this.blockContClass,"s ").concat(e,"one-bg ").concat(e,"two-color");return this.$el.addClass(o),this.rendered=!0,this},r})(ae.Ss);const zd=l5;var u5=(function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}})(),Yo=function(){return Yo=Object.assign||function(i){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])}return i},Yo.apply(this,arguments)},c5=(function(i){u5(r,i);function r(t){var e=i.call(this,t,"BlockManager",new fl([],{em:t}),cs,Z9())||this;return e.events=cs,e.Block=x1,e.Blocks=fl,e.Category=Es,e.Categories=Pl,e.storageKey="",e.blocks=e.all,e.blocksVisible=new fl(e.blocks.models,{em:t}),e.categories=new Pl([],{em:t,events:{update:cs.categoryUpdate}}),e.__onAllEvent=(0,X.debounce)(function(){return e.__trgCustom()},0),e}return r.prototype.onInit=function(){var t=this,e=t.config,n=t.blocks,o=t.blocksVisible;n.on("add",function(l){return o.add(l)}),n.on("remove",function(l){return o.remove(l)}),n.on("reset",function(l){return o.reset(l.models)}),n.add(e.blocks||[])},r.prototype.__trgCustom=function(){this.em.trigger(this.events.custom,this.__customData())},r.prototype.__customData=function(){var t=this,e=this.__getBehaviour();return{bm:this,blocks:this.getAll().models,container:e.container,dragStart:function(n,o){return t.startDrag(n,o)},drag:function(n){return t.__drag(n)},dragStop:function(n){return t.endDrag(n)}}},r.prototype.__startDrag=function(t,e){var n=this,o=n.em,l=n.events,s=n.blocks,f=t.getContent?t.getContent():t;this._dragBlock=t,o.set({dragResult:null,dragSource:{content:f,dragDef:t.getDragDef()}}),[o,s].map(function(u){return u.trigger(l.dragStart,t,e)})},r.prototype.__drag=function(t){var e=this,n=e.em,o=e.events,l=e.blocks,s=this._dragBlock;[n,l].map(function(f){return f.trigger(o.drag,s,t)})},r.prototype.__endDrag=function(t){t===void 0&&(t={});var e=this,n=e.em,o=e.events,l=e.blocks,s=this._dragBlock,f=t.component||n.get("dragResult");if(delete this._dragBlock,f&&s){var u="activeOnRender",p=f.get&&f.get(u),d=s.get("activate")||p,h=s.get("select"),v=(0,X.isArray)(f)?f[0]:f,_=h||d&&h!==!1;_?n.setSelected(v,{activate:d}):d&&v.trigger("active"),d&&p&&v.unset(u),s.get("resetId")&&v.onAll(function(T){return T.resetId()})}n.set({dragResult:null,dragSource:void 0}),s&&[n,l].map(function(T){return T.trigger(o.dragEnd,f,s)})},r.prototype.__getFrameViews=function(){return this.em.Canvas.getFrames().map(function(t){return t.view}).filter(Boolean)},r.prototype.__behaviour=function(t){return t===void 0&&(t={}),this._bhv=Yo(Yo({},this._bhv||{}),t)},r.prototype.__getBehaviour=function(){return this._bhv||{}},r.prototype.startDrag=function(t,e){this.__startDrag(t,e),this.__getFrameViews().forEach(function(n){var o;return(o=n.droppable)===null||o===void 0?void 0:o.startCustom()})},r.prototype.endDrag=function(t){this.__getFrameViews().forEach(function(e){var n;return(n=e.droppable)===null||n===void 0?void 0:n.endCustom(t)}),this.__endDrag()},r.prototype.postRender=function(){var t=this,e=t.categories,n=t.config,o=t.em,l=this.blocksVisible;this.blocksView=new zd({collection:l,categories:e},Yo(Yo({},n),{em:o})),this.__appendTo(l.models),this.__trgCustom()},r.prototype.add=function(t,e,n){n===void 0&&(n={});var o=e||{};return o.id=t,this.blocks.add(o,n)},r.prototype.get=function(t){return this.blocks.get(t)},r.prototype.getAll=function(){return this.blocks},r.prototype.getAllVisible=function(){return this.blocksVisible},r.prototype.remove=function(t,e){return e===void 0&&(e={}),this.__remove(t,e)},r.prototype.getCategories=function(){return this.categories},r.prototype.getContainer=function(){var t;return(t=this.blocksView)===null||t===void 0?void 0:t.el},r.prototype.getDragBlock=function(){return this._dragBlock},r.prototype.getBlocksByCategory=function(t){return l1(t||this.getAll().models)},r.prototype.render=function(t,e){e===void 0&&(e={});var n=this,o=n.categories,l=n.config,s=n.em,f=t||this.getAll().models;if(e.external){var u=new fl(f,{em:s});return new zd({collection:u,categories:o},Yo(Yo({em:s},l),e)).render().el}return this.blocksView&&(this.blocksView.updateConfig(e),this.blocksView.collection.reset(f),this.blocksView.rendered||(this.blocksView.render(),this.blocksView.rendered=!0)),this.getContainer()},r.prototype.destroy=function(){var t,e=[this.blocks,this.blocksVisible,this.categories];e.map(function(n){return n.stopListening()}),e.map(function(n){return n.reset()}),(t=this.blocksView)===null||t===void 0||t.remove()},r})(xo);const f5=c5;var p5=function(){return{stylePrefix:"clm-",appendTo:"",selectors:[],states:[{name:"hover"},{name:"active"},{name:"nth-of-type(2n)"}],iconAdd:'<svg viewBox="0 0 24 24"><path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"></path></svg>',iconSync:'<svg viewBox="0 0 24 24"><path d="M12 18c-3.31 0-6-2.69-6-6 0-1 .25-1.97.7-2.8L5.24 7.74A7.93 7.93 0 0 0 4 12c0 4.42 3.58 8 8 8v3l4-4-4-4m0-11V1L8 5l4 4V6c3.31 0 6 2.69 6 6 0 1-.25 1.97-.7 2.8l1.46 1.46A7.93 7.93 0 0 0 20 12c0-4.42-3.58-8-8-8z"></path></svg>',iconTagOn:'<svg viewBox="0 0 24 24"><path d="M19 19H5V5h10V3H5c-1.11 0-2 .89-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-8h-2m-11.09-.92L6.5 11.5 11 16 21 6l-1.41-1.42L11 13.17l-3.09-3.09z"></path></svg>',iconTagOff:'<svg viewBox="0 0 24 24"><path d="M19 3H5c-1.11 0-2 .89-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5a2 2 0 0 0-2-2m0 2v14H5V5h14z"></path></svg>',iconTagRemove:'<svg viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"></path></svg>',componentFirst:!1,custom:!1}};const d5=p5;var h5=(function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}})(),P1=(function(i){h5(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.defaults=function(){return{name:"",label:""}},r.prototype.getName=function(){return this.get("name")},r.prototype.getLabel=function(){return this.get("label")||this.getName()},r})(ae.Kx);const Ic=P1;P1.prototype.idAttribute="name";var iu;(function(i){i.add="selector:add",i.remove="selector:remove",i.removeBefore="selector:remove:before",i.update="selector:update",i.state="selector:state",i.custom="selector:custom",i.all="selector"})(iu||(iu={}));var v5=(function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}})(),g5=function(i,r){return Object.defineProperty?Object.defineProperty(i,"raw",{value:r}):i.raw=r,i},Kd="contentEditable",m5=(function(i){v5(r,i);function r(t){t===void 0&&(t={});var e=i.call(this,t)||this,n=t.config||{};return e.config=n,e.module=t.module,e.coll=t.coll||null,e.pfx=n.stylePrefix||"",e.ppfx=n.pStylePrefix||"",e.em=n.em,e.listenTo(e.model,"change:active",e.updateStatus),e}return r.prototype.template=function(){var t=this,e=t.pfx,n=t.model,o=t.config,l=n.get("label")||"";return _n(Gd||(Gd=g5([`
      <span id="`,'checkbox" class="',`tag-status" data-tag-status></span>
      <span id="`,'tag-label" data-tag-name>',`</span>
      <span id="`,'close" class="','tag-close" data-tag-remove> $',` </span>
    `],[`
      <span id="`,'checkbox" class="',`tag-status" data-tag-status></span>
      <span id="`,'tag-label" data-tag-name>',`</span>
      <span id="`,'close" class="','tag-close" data-tag-remove> $',` </span>
    `])),e,e,e,l,e,e,o.iconTagRemove)},r.prototype.events=function(){return{"click [data-tag-remove]":"removeTag","click [data-tag-status]":"changeStatus","dblclick [data-tag-name]":"startEditTag","focusout [data-tag-name]":"endEditTag"}},r.prototype.getInputEl=function(){return this.inputEl||(this.inputEl=this.el.querySelector("[data-tag-name]")),this.inputEl},r.prototype.startEditTag=function(){var t=this.em,e=this.getInputEl();e[Kd]="true",e.focus(),t?.setEditing(!0)},r.prototype.endEditTag=function(){var t=this,e=t.model,n=t.em,o=this.getInputEl(),l=o.textContent||"",s=n?.Selectors;o[Kd]="false",n?.setEditing(!1),s&&s.rename(e,l)!==e&&(o.innerText=e.getLabel())},r.prototype.changeStatus=function(){var t=this.model;t.set("active",!t.getActive())},r.prototype.removeTag=function(){this.module.removeSelected(this.model)},r.prototype.updateStatus=function(){var t=this,e=t.model,n=t.$el,o=t.config,l=o.iconTagOn,s=o.iconTagOff,f=n.find("[data-tag-status]");e.get("active")?(f.html(l),n.removeClass("opac50")):(f.html(s),n.addClass("opac50"))},r.prototype.render=function(){var t=this,e=t.pfx,n=t.ppfx,o=t.$el,l=t.model,s="".concat(e,"tag"),f=["".concat(s," ").concat(n,"three-bg")];return l.get("protected")&&f.push("".concat(s,"-protected")),o.html(this.template()),o.attr("class",f.join(" ")),this.updateStatus(),this},r})(ae.Ss);const y5=m5;var Gd,_5=(function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}})(),es=function(i,r){return Object.defineProperty?Object.defineProperty(i,"raw",{value:r}):i.raw=r,i},b5=(function(i){_5(r,i);function r(t){t===void 0&&(t={});var e=i.call(this,t)||this;e.config=t.config||{},e.pfx=e.config.stylePrefix||"",e.ppfx=e.config.pStylePrefix||"",e.className=e.pfx+"tags",e.stateInputId=e.pfx+"states",e.stateInputC=e.pfx+"input-c",e.states=e.config.states||[];var n=e.config.em,o=e.collection;e.target=n;var l=n.Selectors;e.module=l,e.em=n,e.componentChanged=(0,X.debounce)(e.componentChanged.bind(e),0),e.checkSync=(0,X.debounce)(e.checkSync.bind(e),0);var s=Xe.I.update,f="".concat(s,":classes"),u="component:toggled ".concat(f),p="".concat(f," ").concat(s,":attributes:id change:state");return e.listenTo(n,u,e.componentChanged),e.listenTo(n,"styleManager:update",e.componentChanged),e.listenTo(n,p,e.__handleStateChange),e.listenTo(n,"styleable:change change:device",e.checkSync),e.listenTo(o,"add",e.addNew),e.listenTo(o,"reset",e.renderClasses),e.listenTo(o,"remove",e.tagRemoved),e.listenTo(l.getAll(),l.events.state,(0,X.debounce)(function(){return e.renderStates()},0)),e.delegateEvents(),e}return r.prototype.template=function(t){var e=t.labelInfo,n=t.labelHead,o=t.iconSync,l=t.iconAdd,s=t.pfx,f=t.ppfx;return _n(qd||(qd=es([' <div id="','up" class="',`header">
        <div id="`,'label" class="','header-label">',`</div>
        <div id="`,'status-c" class="',`header-status">
          <span id="`,`input-c" data-states-c>
            <div class="`,"field ",`select">
              <span id="`,`input-holder">
                <select id="`,`states" data-states></select>
              </span>
              <div class="`,`sel-arrow">
                <div class="`,`d-s-arrow"></div>
              </div>
            </div>
          </span>
        </div>
      </div>
      <div id="`,'tags-field" class="',`field">
        <div id="`,`tags-c" data-selectors></div>
        <input id="`,`new" data-input />
        <span id="`,'add-tag" class="',"tags-btn ",'tags-btn__add" data-add> $',` </span>
        <span class="`,"tags-btn ",'tags-btn__sync" style="display: none" data-sync-style> $',` </span>
      </div>
      <div class="`,`sels-info">
        <div class="`,'label-sel">',`:</div>
        <div class="`,`sels" data-selected></div>
      </div>`],[' <div id="','up" class="',`header">
        <div id="`,'label" class="','header-label">',`</div>
        <div id="`,'status-c" class="',`header-status">
          <span id="`,`input-c" data-states-c>
            <div class="`,"field ",`select">
              <span id="`,`input-holder">
                <select id="`,`states" data-states></select>
              </span>
              <div class="`,`sel-arrow">
                <div class="`,`d-s-arrow"></div>
              </div>
            </div>
          </span>
        </div>
      </div>
      <div id="`,'tags-field" class="',`field">
        <div id="`,`tags-c" data-selectors></div>
        <input id="`,`new" data-input />
        <span id="`,'add-tag" class="',"tags-btn ",'tags-btn__add" data-add> $',` </span>
        <span class="`,"tags-btn ",'tags-btn__sync" style="display: none" data-sync-style> $',` </span>
      </div>
      <div class="`,`sels-info">
        <div class="`,'label-sel">',`:</div>
        <div class="`,`sels" data-selected></div>
      </div>`])),s,s,s,s,n,s,s,s,f,f,f,s,f,f,s,f,s,s,s,s,s,l,s,s,o,s,s,e,s)},r.prototype.events=function(){return{"change [data-states]":"stateChanged","click [data-add]":"startNewTag","focusout [data-input]":"endNewTag","keyup [data-input]":"onInputKeyUp","click [data-sync-style]":"syncStyle"}},r.prototype.syncStyle=function(){var t=this.em,e=this.getTarget(),n=t.Css,o={noDisabled:1},l=this.getCommonSelectors({opts:o}),s=t.get("state"),f=t.getCurrentMedia(),u=[],p=n.get(l,s,f)||n.add(l,s,f),d;this.getTargets().forEach(function(h){var v=n.getIdRule(h.getId(),{state:s,mediaText:f});d=v.getStyle(),v.setStyle({}),u.push(v)}),d&&p.addStyle(d),t.trigger("component:toggled"),t.trigger("component:sync-style",{component:e,selectors:l,mediaText:f,rule:p,ruleComponents:u,state:s})},r.prototype.tagRemoved=function(t){this.updateStateVis()},r.prototype.addNew=function(t){this.addToClasses(t)},r.prototype.startNewTag=function(){var t,e;(t=this.$addBtn)===null||t===void 0||t.css({display:"none"}),(e=this.$input)===null||e===void 0||e.show().focus()},r.prototype.endNewTag=function(){var t,e;(t=this.$addBtn)===null||t===void 0||t.css({display:""}),(e=this.$input)===null||e===void 0||e.hide().val("")},r.prototype.onInputKeyUp=function(t){var e;t.keyCode===13?(t.preventDefault(),this.addNewTag((e=this.$input)===null||e===void 0?void 0:e.val())):t.keyCode===27&&this.endNewTag()},r.prototype.checkStates=function(){var t=this.em.getState(),e=this.getStates();e&&e.val(t)},r.prototype.componentChanged=function(t){var e=t===void 0?{}:t,n=e.targets;this.updateSelection(n)},r.prototype.updateSelection=function(t){var e=t||this.getTargets();e=(0,X.isArray)(e)?e:[e];var n=[];return e&&e.length&&(n=this.getCommonSelectors({targets:e}),this.checkSync({validSelectors:n})),this.collection.reset(n),this.updateStateVis(e),this.module.__trgCustom(),n},r.prototype.getCommonSelectors=function(t){var e=t===void 0?{}:t,n=e.targets,o=e.opts,l=o===void 0?{}:o,s=n||this.getTargets();return this.module.__getCommonSelectors(s,l)},r.prototype._commonSelectors=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return(t=this.module).__common.apply(t,e)},r.prototype.checkSync=function(){var t=this,e=t.$btnSyncEl,n=t.config,o=t.collection,l=this.getTarget(),s;if(l&&n.componentFirst&&o.length){var f=l.getStyle();s=!(0,X.isEmpty)(f)}e&&e[s?"show":"hide"]()},r.prototype.getTarget=function(){return this.target.getSelected()},r.prototype.getTargets=function(){return this.target.getSelectedAll()},r.prototype.updateStateVis=function(t){var e=this.em,n=e&&e.getConfig().avoidInlineStyle,o=this.collection.length||n?"":"none";this.getStatesC().css("display",o),this.updateSelector(t)},r.prototype.__handleStateChange=function(){this.updateSelector(this.getTargets())},r.prototype.updateSelector=function(t){var e=this,n=this.el.querySelector("[data-selected]"),o=[],l=t||this.getTargets();l=(0,X.isArray)(l)?l:[l],l.forEach(function(s){return o.push(e.__getName(s))}),n&&(n.innerHTML=o.join(", ")),this.checkStates()},r.prototype.__getName=function(t){var e=this,n=e.pfx,o=e.config,l=e.em,s=o.selectedName,f=o.componentFirst,u;if((0,X.isString)(t))u=_n(Yd||(Yd=es(['<span class="','sel-gen">',"</span>"],['<span class="','sel-gen">',"</span>"])),n,t);else{var p=t?.getSelectors();if(!p)return"";var d=p.getStyleable(),h=l.get("state"),v=t.getId?_n(Xd||(Xd=es(['<span class="','sel-cmp">',`</span>
            <span class="`,'sel-id">#',"</span>"],['<span class="','sel-cmp">',`</span>
            <span class="`,'sel-id">#',"</span>"])),n,t.getName(),n,t.getId()):"";u=this.collection.getFullString(d),u=u?_n($d||($d=es(['<span class="','sel-rule">',"</span>"],['<span class="','sel-rule">',"</span>"])),n,u):t.get("selectorsAdd")||v,u=f&&v?v:u,u+=h?_n(Zd||(Zd=es(['<span class="','sel-state">:',"</span>"],['<span class="','sel-state">:',"</span>"])),n,h):"",u=s?s({result:u,state:h,target:t}):u}return u&&'<span class="'.concat(n,'sel">').concat(u,"</span>")},r.prototype.stateChanged=function(t){var e=this.em,n=t.target.value;e.set("state",n)},r.prototype.addNewTag=function(t){var e=t.trim();e&&(this.module.addSelected({label:e}),this.endNewTag())},r.prototype.addToClasses=function(t,e){var n=e,o=this.getClasses(),l=new y5({model:t,config:this.config,coll:this.collection,module:this.module}).render().el;return n?n.appendChild(l):o.append(l),l},r.prototype.renderClasses=function(){var t=this,e=document.createDocumentFragment(),n=this.getClasses();n.empty(),this.collection.each(function(o){return t.addToClasses(o,e)}),n.append(e)},r.prototype.getClasses=function(){return this.$el.find("[data-selectors]")},r.prototype.getStates=function(){if(!this.$states){var t=this.$el.find("[data-states]");this.$states=t[0]&&t}return this.$states},r.prototype.getStatesC=function(){return this.$statesC||(this.$statesC=this.$el.find("#"+this.stateInputC)),this.$statesC},r.prototype.renderStates=function(){var t=this,e=t.module,n=t.em,o=n.t("selectorManager.emptyState"),l=e.getStates().map(function(f){var u=n.t("selectorManager.states.".concat(f.id))||f.getLabel()||f.id;return'<option value="'.concat(f.id,'">').concat(u,"</option>")}).join(""),s=this.getStates();s&&s.html('<option value="">'.concat(o,"</option>").concat(l)),this.checkStates()},r.prototype.render=function(){var t=this,e=t.em,n=t.pfx,o=t.ppfx,l=t.config,s=t.$el,f=t.el,u=l.render,p=l.iconSync,d=l.iconAdd,h={iconSync:p,iconAdd:d,labelHead:e.t("selectorManager.label"),labelInfo:e.t("selectorManager.selected"),ppfx:o,pfx:n,el:f};s.html(this.template(h));var v=u&&u(h);return v&&v!==f&&s.empty().append(v),this.$input=s.find("[data-input]"),this.$addBtn=s.find("[data-add]"),this.$classes=s.find("#"+n+"tags-c"),this.$btnSyncEl=s.find("[data-sync-style]"),this.$input.hide(),this.renderStates(),this.renderClasses(),s.attr("class","".concat(this.className," ").concat(o,"one-bg ").concat(o,"two-color")),this},r})(ae.Ss);const T5=b5;var qd,Yd,Xd,$d,Zd,C5=(function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}})(),fs=function(){return fs=Object.assign||function(i){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])}return i},fs.apply(this,arguments)},Dc=function(i,r,t){if(t||arguments.length===2)for(var e=0,n=r.length,o;e<n;e++)(o||!(e in r))&&(o||(o=Array.prototype.slice.call(r,0,e)),o[e]=r[e]);return i.concat(o||Array.prototype.slice.call(r))},Qd=function(i){return(0,X.isString)(i)&&i[0]=="#"},Jd=function(i){return(0,X.isString)(i)&&i[0]=="."},w5=(function(i){C5(r,i);function r(t){var e=i.call(this,t,"SelectorManager",new Zo([]),iu,d5(),{skipListen:!0})||this;e.Selector=ln,e.Selectors=Zo,e.events=iu,e.storageKey="",(0,X.bindAll)(e,"__updateSelectedByComponents");var n=e,o=n.config,l=n.events,s=o.pStylePrefix;s&&(o.stylePrefix=s+o.stylePrefix),e.all=new Zo(o.selectors),e.selected=new Zo([],{em:t,config:o}),e.states=new ae.pM(o.states.map(function(p){return new Ic(p)}),{model:Ic}),e.model=new ae.Kx({cFirst:o.componentFirst,_undo:!0}),e.__update=(0,X.debounce)(function(){return e.__trgCustom()},0),e.__initListen({collections:[e.states,e.selected],propagate:[{entity:e.states,event:l.state}]}),t.on("change:state",function(p,d){return t.trigger(l.state,d)}),e.model.on("change:cFirst",function(p,d){return t.trigger("selector:type",d)});var f="".concat(Xe.I.update,":classes");t.on("component:toggled ".concat(f),e.__updateSelectedByComponents);var u="component:toggled ".concat(f," change:device styleManager:update selector:state selector:type style:target");return e.model.listenTo(t,u,function(){return e.__update()}),e}return r.prototype.__trgCustom=function(t){this.em.trigger(this.events.custom,this.__customData(t))},r.prototype.getAll=function(t){return t===void 0&&(t={}),this.all?t.array?Dc([],this.all.models,!0):this.all:[]},r.prototype.__customData=function(t){return t===void 0&&(t={}),this.__ctn=this.__ctn||t.container,{states:this.getStates(),selected:this.getSelected(),container:this.__ctn}},r.prototype.postRender=function(){this.__appendTo(),this.__trgCustom()},r.prototype.select=function(t,e){e===void 0&&(e={});var n=Array.isArray(t)?t:[t],o=this.em.Styles.select(n,e);this.selected.reset(this.__getCommonSelectors(o));var l=this.selectorTags,s=o.filter(function(f){return f}).map(function(f){return(0,qt.isComponent)(f)||(0,qt.isRule)(f)&&!f.get("selectorsAdd")?f:f.getSelectorsString()});return l&&l.componentChanged({targets:s}),this},r.prototype.addSelector=function(t,e,n){e===void 0&&(e={}),n===void 0&&(n={});var o=fs({},e);(0,X.isObject)(t)?o=t:o.name=t,Qd(o.name)?(o.name=o.name.substr(1),o.type=ln.TYPE_ID):Jd(o.name)&&(o.name=o.name.substr(1)),o.label&&!o.name&&(o.name=this.escapeName(o.label));var l=this,s=l.all,f=l.em,u=l.config,p=s.get(o);if(!p){var d=o instanceof ln?o:new ln(o,fs(fs({},n),{config:u,em:f}));return s.add(d,n)}return p},r.prototype.getSelector=function(t,e){return e===void 0&&(e=ln.TYPE_CLASS),Qd(t)?(t=t.substr(1),e=ln.TYPE_ID):Jd(t)&&(t=t.substr(1)),this.all.get({name:t,type:e})},r.prototype.add=function(t,e){var n=this;e===void 0&&(e={});var o=(0,X.isString)(t)?{}:e;return(0,X.isArray)(t)?t.map(function(l){return n.addSelector(l,e,o)}):this.addSelector(t,e,o)},r.prototype.addClass=function(t){var e=this,n=[];return(0,X.isString)(t)&&(t=t.trim().split(" ").filter(Boolean)),t.forEach(function(o){return n.push(e.addSelector(o))}),n},r.prototype.get=function(t,e){var n=this;if((0,X.isArray)(t)){var o=[],l=t.map(function(s){return n.getSelector(s)}).filter(Boolean);return l.forEach(function(s){return o.indexOf(s)<0&&o.push(s)}),o}else return this.getSelector(t,e)},r.prototype.remove=function(t,e){return this.__remove(t,e)},r.prototype.rename=function(t,e,n){var o=this.escapeName(e),l=this.get(o);return l||t.set({name:o,label:e},n)},r.prototype.setState=function(t){return this.em.setState(t),this},r.prototype.getState=function(){return this.em.getState()},r.prototype.getStates=function(){return Dc([],this.states.models,!0)},r.prototype.setStates=function(t,e){return this.states.reset(t.map(function(n){return new Ic(n)}),e)},r.prototype.getSelected=function(){return this.__getCommon()},r.prototype.getSelectedAll=function(){return Dc([],this.selected.models,!0)},r.prototype.addSelected=function(t){var e=this.add(t);this.em.getSelectedAll().forEach(function(n){n.getSelectors().add(e)})},r.prototype.removeSelected=function(t){this.em.getSelectedAll().forEach(function(e){!t.get("protected")&&e&&e.getSelectors().remove(t)})},r.prototype.duplicateSelected=function(t,e){var n=this;e===void 0&&(e={});var o=this.em,l=this.getSelected();if(!(l.indexOf(t)<0)){var s=this.getState(),f=o.getCurrentMedia(),u=o.Css.get(l,s,f),p=u?.getStyle();if(o.getSelectedAll().forEach(function(h){var v=h.getSelectors();if(v.includes(t)){var _=e.suffix||" copy",T=t.getLabel(),w=n.addSelector("".concat(T).concat(_)),C=v.indexOf(t);v.remove(t),v.add(w,{at:C})}}),p){var d=o.Css.add(this.getSelected(),s,f);d.setStyle(p)}}},r.prototype.getSelectedTargets=function(){return this.em.Styles.getSelectedAll()},r.prototype.setComponentFirst=function(t){this.getConfig().componentFirst=t,this.model.set({cFirst:t})},r.prototype.getComponentFirst=function(){return this.getConfig().componentFirst},r.prototype.escapeName=function(t){var e=this.getConfig().escapeName;return e?e(t):ln.escapeName(t)},r.prototype.render=function(t){var e=this.selectorTags,n=this.getConfig(),o=e?.el;return this.selected.reset(t),this.selectorTags=new T5({el:o,collection:this.selected,module:this,config:n}),this.selectorTags.render().el},r.prototype.destroy=function(){var t=this,e=t.selectorTags,n=t.model;n.stopListening(),this.__update.cancel(),this.__destroy(),e?.remove(),this.selectorTags=void 0},r.prototype.load=function(){},r.prototype.store=function(){},r.prototype.__getCommon=function(){return this.__getCommonSelectors(this.em.getSelectedAll())},r.prototype.__getCommonSelectors=function(t,e){e===void 0&&(e={});var n=t.map(function(o){return o.getSelectors&&o.getSelectors().getValid(e)}).filter(Boolean);return this.__common.apply(this,n)},r.prototype.__common=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return e.length?e.length===1?e[0]:e.length===2?e[0].filter(function(o){return e[1].indexOf(o)>=0}):e.slice(1).reduce(function(o,l){return t.__common(o,l)},e[0]):[]},r.prototype.__updateSelectedByComponents=function(){this.selected.reset(this.__getCommon())},r})(xo);const k1=w5;var S5=function(){return{textTags:["br","b","i","u","a","ul","ol"],textTypes:["text","textnode","comment"],parserCss:void 0,parserHtml:void 0,optionsHtml:{htmlType:"text/html",allowScripts:!1,allowUnsafeAttr:!1,allowUnsafeAttrValue:!1,keepEmptyTextNodes:!1,convertDataGjsAttributesHyphens:!1}}};const E5=S5;var $n,Nn={MEDIA_RULE:4,FONT_FACE_RULE:5,PAGE_RULE:6,KEYFRAMES_RULE:7,COUNTER_STYLE_RULE:11,SUPPORTS_RULE:12,DOCUMENT_RULE:13,FONT_FEATURE_VALUES_RULE:14,VIEWPORT_RULE:15},ma=($n={},$n[Nn.MEDIA_RULE]="media",$n[Nn.FONT_FACE_RULE]="font-face",$n[Nn.PAGE_RULE]="page",$n[Nn.KEYFRAMES_RULE]="keyframes",$n[Nn.COUNTER_STYLE_RULE]="counter-style",$n[Nn.SUPPORTS_RULE]="supports",$n[Nn.DOCUMENT_RULE]="document",$n[Nn.FONT_FEATURE_VALUES_RULE]="font-feature-values",$n[Nn.VIEWPORT_RULE]="viewport",$n),M1=(0,X.keys)(ma),Yf=[Nn.FONT_FACE_RULE,Nn.PAGE_RULE,Nn.COUNTER_STYLE_RULE,Nn.VIEWPORT_RULE],x5=M1.filter(function(i){return Yf.indexOf(Number(i))<0}).map(function(i){return ma[i]}).concat(["container","layer"]),O5=Yf.map(function(i){return ma[i]}),N1=function(i){i===void 0&&(i="");for(var r=[],t=[],e=i.split(","),n=0,o=e.length;n<o;n++){var l=e[n].trim();if(/^(\.{1}[\w\-]+)+(:{1,2}[\w\-()]+)?$/gi.test(l)||/^(#{1}[\w\-]+){1}(:{1,2}[\w\-()]+)?$/gi.test(l)){var s=l.split(".").filter(Boolean);t.push(s)}else r.push(l)}return{result:t,add:r}},A5=function(i){for(var r=i.style,t={},e=0,n=r.length;e<n;e++){var o=r[e],l=r.getPropertyValue(o),s=r.getPropertyPriority(o);t[o]="".concat(l).concat(s?" !".concat(s):"")}return t},th=function(i){var r=i.conditionText||i.media&&i.media.mediaText||i.name||i.selectorText||"";return r.trim()},gf=function(i,r,t){r===void 0&&(r={}),t===void 0&&(t={});var e={},n=i.length,o=i[n-1],l=o?o.split(/:(.+)/):[],s=l[1],f=t.atRule,u=t.selectorsAdd,p=t.mediaText,d=O5.indexOf(f)>=0;return d&&(e.singleAtRule=!0),f&&(e.atRuleType=f),u&&(e.selectorsAdd=u),p&&(e.mediaText=p),s&&(i[n-1]=l[0],e.state=s,l.splice(l.length-1,1)),e.selectors=i,e.style=r,e},eh=function(i){var r=i.cssText,t=r===void 0?"":r;return x5.find(function(e){return t.indexOf("@".concat(e))===0})},L1=function(i){for(var r=[],t=i.cssRules||[],e=0,n=t.length;e<n;e++){var o=t[e],l=o.type,s=!1,f="",u="",p=o.selectorText||o.keyText||"",d=Yf.indexOf(l)>=0;if(d)s=!0,f=ma[l],u=th(o);else if(M1.indexOf("".concat(l))>=0||!l&&eh(o)){var h=L1(o),v=ma[l]||eh(o);u=th(o);for(var _=0,T=h.length;_<T;_++){var w=h[_];u&&(w.mediaText=u),w.atRuleType=v}r=r.concat(h)}if(!(!p&&!d)){for(var C=A5(o),A=N1(p),S=A.add,x=A.result,N=void 0,b=0,L=x.length;b<L;b++){var k=gf(x[b],C,{atRule:ma[l]});r.push(k),N=k}if(S.length){var P=S.join(", ");if(N)N.selectorsAdd=P;else{var k={selectors:[],selectorsAdd:P,style:C};s&&(k.singleAtRule=s),f&&(k.atRuleType=f),u&&(k.mediaText=u),r.push(k)}}}}return r};const P5=(function(i){var r=document.createElement("style");r.innerHTML=i,document.head.appendChild(r);var t=r.sheet;return document.head.removeChild(r),t?L1(t):[]});var k5=function(i,r){return r===void 0&&(r={}),{parse:function(t,e){var n=this;e===void 0&&(e={});var o=[],l=r.parserCss,s=i?.Editor,f=[],u,p=i?.Parser,d={input:t};p?.__emitEvent(Qo.cssBefore,d);var h=d.input;try{f=l?l(h,s):P5(h)}catch(v){if(u=v,e.throwOnError)throw v}return f.forEach(function(v){return o=o.concat(n.checkNode(v))}),p?.__emitEvent(Qo.css,{input:h,output:o,nodes:f,error:u}),o},checkNode:function(t){var e=t.selectors,n=t.style,o=[t];if((0,X.isString)(e)){var l=[],s=t,f=N1(e),u=f.result,p=f.add.join(", "),d={atRule:s.atRule,mediaText:s.params};if(u.length?u.forEach(function(v){l.push(gf(v,n,d))}):l.push(gf([],n,d)),p){var h=l[l.length-1];h.selectorsAdd=p}o=l}return o}}};const M5=k5;var N5=(function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}})(),mf=function(){return mf=Object.assign||function(i){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])}return i},mf.apply(this,arguments)},L5=(function(i){N5(r,i);function r(t){var e=i.call(this,t,"Parser",E5())||this;e.events=Qo;var n=e.config;return e.parserCss=M5(t,n),e.parserHtml=n1(t,n),e}return r.prototype.parseHtml=function(t,e){e===void 0&&(e={});var n=this,o=n.em,l=n.parserHtml;return l.compTypes=o.Components.getTypes()||[],l.parse(t,this.parserCss,e)},r.prototype.parseCss=function(t){return this.parserCss.parse(t)},r.prototype.__emitEvent=function(t,e){var n=this,o=n.em,l=n.events;o.trigger(t,e),o.trigger(l.all,mf({event:t},e))},r.prototype.destroy=function(){},r})(Cn);const I5=L5;var D5=function(){return{id:"gjs-",type:"local",autosave:!0,autoload:!0,stepsBeforeSave:1,recovery:!1,onStore:function(i){return i},onLoad:function(i){return i},options:{local:{key:"gjsProject",checkLocal:!0},remote:{headers:{},urlStore:"",urlLoad:"",contentTypeJson:!0,fetchOptions:"",credentials:"include",onStore:function(i){return i},onLoad:function(i){return i}}}}};const R5=D5;var rh=function(i,r,t,e){function n(o){return o instanceof t?o:new t(function(l){l(o)})}return new(t||(t=Promise))(function(o,l){function s(p){try{u(e.next(p))}catch(d){l(d)}}function f(p){try{u(e.throw(p))}catch(d){l(d)}}function u(p){p.done?o(p.value):n(p.value).then(s,f)}u((e=e.apply(i,r||[])).next())})},nh=function(i,r){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},e,n,o,l;return l={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function s(u){return function(p){return f([u,p])}}function f(u){if(e)throw new TypeError("Generator is already executing.");for(;l&&(l=0,u[0]&&(t=0)),t;)try{if(e=1,n&&(o=u[0]&2?n.return:u[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,u[1])).done)return o;switch(n=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return t.label++,{value:u[1],done:!1};case 5:t.label++,n=u[1],u=[0];continue;case 7:u=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){t=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){t.label=u[1];break}if(u[0]===6&&t.label<o[1]){t.label=o[1],o=u;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(u);break}o[2]&&t.ops.pop(),t.trys.pop();continue}u=r.call(i,t)}catch(p){u=[6,p],n=0}finally{e=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},j5=(function(){function i(){}return i.prototype.store=function(r){return rh(this,arguments,void 0,function(t,e){return e===void 0&&(e={}),nh(this,function(n){return this.hasLocal(e,!0)&&localStorage.setItem(e.key,JSON.stringify(t)),[2,t]})})},i.prototype.load=function(){return rh(this,arguments,void 0,function(r){var t;return r===void 0&&(r={}),nh(this,function(e){return t={},this.hasLocal(r,!0)&&(t=JSON.parse(localStorage.getItem(r.key)||"{}")),[2,t]})})},i.prototype.hasLocal=function(r,t){if(r===void 0&&(r={}),r.checkLocal&&(!(0,qt.hasWin)()||!localStorage)){if(t)throw new Error("localStorage not available");return!1}return!0},i})();const H5=j5;function Ei(i){"@babel/helpers - typeof";return Ei=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Ei(i)}function F5(i){var r=this.constructor;return this.then(function(t){return r.resolve(i()).then(function(){return t})},function(t){return r.resolve(i()).then(function(){return r.reject(t)})})}const V5=F5;function U5(i){var r=this;return new r(function(t,e){if(!(i&&typeof i.length<"u"))return e(new TypeError(Ei(i)+" "+i+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var n=Array.prototype.slice.call(i);if(n.length===0)return t([]);var o=n.length;function l(f,u){if(u&&(Ei(u)==="object"||typeof u=="function")){var p=u.then;if(typeof p=="function"){p.call(u,function(d){l(f,d)},function(d){n[f]={status:"rejected",reason:d},--o===0&&t(n)});return}}n[f]={status:"fulfilled",value:u},--o===0&&t(n)}for(var s=0;s<n.length;s++)l(s,n[s])})}const B5=U5;function I1(i,r){this.name="AggregateError",this.errors=i,this.message=r||""}I1.prototype=Error.prototype;function W5(i){var r=this;return new r(function(t,e){if(!(i&&typeof i.length<"u"))return e(new TypeError("Promise.any accepts an array"));var n=Array.prototype.slice.call(i);if(n.length===0)return e();for(var o=[],l=0;l<n.length;l++)try{r.resolve(n[l]).then(t).catch(function(s){o.push(s),o.length===n.length&&e(new I1(o,"All promises were rejected"))})}catch(s){e(s)}})}const z5=W5;var K5=setTimeout;function D1(i){return!!(i&&typeof i.length<"u")}function G5(){}function q5(i,r){return function(){i.apply(r,arguments)}}function mr(i){if(!(this instanceof mr))throw new TypeError("Promises must be constructed via new");if(typeof i!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],j1(i,this)}function R1(i,r){for(;i._state===3;)i=i._value;if(i._state===0){i._deferreds.push(r);return}i._handled=!0,mr._immediateFn(function(){var t=i._state===1?r.onFulfilled:r.onRejected;if(t===null){(i._state===1?yf:ws)(r.promise,i._value);return}var e;try{e=t(i._value)}catch(n){ws(r.promise,n);return}yf(r.promise,e)})}function yf(i,r){try{if(r===i)throw new TypeError("A promise cannot be resolved with itself.");if(r&&(Ei(r)==="object"||typeof r=="function")){var t=r.then;if(r instanceof mr){i._state=3,i._value=r,_f(i);return}else if(typeof t=="function"){j1(q5(t,r),i);return}}i._state=1,i._value=r,_f(i)}catch(e){ws(i,e)}}function ws(i,r){i._state=2,i._value=r,_f(i)}function _f(i){i._state===2&&i._deferreds.length===0&&mr._immediateFn(function(){i._handled||mr._unhandledRejectionFn(i._value)});for(var r=0,t=i._deferreds.length;r<t;r++)R1(i,i._deferreds[r]);i._deferreds=null}function Y5(i,r,t){this.onFulfilled=typeof i=="function"?i:null,this.onRejected=typeof r=="function"?r:null,this.promise=t}function j1(i,r){var t=!1;try{i(function(e){t||(t=!0,yf(r,e))},function(e){t||(t=!0,ws(r,e))})}catch(e){if(t)return;t=!0,ws(r,e)}}mr.prototype.catch=function(i){return this.then(null,i)};mr.prototype.then=function(i,r){var t=new this.constructor(G5);return R1(this,new Y5(i,r,t)),t};mr.prototype.finally=V5;mr.all=function(i){return new mr(function(r,t){if(!D1(i))return t(new TypeError("Promise.all accepts an array"));var e=Array.prototype.slice.call(i);if(e.length===0)return r([]);var n=e.length;function o(s,f){try{if(f&&(Ei(f)==="object"||typeof f=="function")){var u=f.then;if(typeof u=="function"){u.call(f,function(p){o(s,p)},t);return}}e[s]=f,--n===0&&r(e)}catch(p){t(p)}}for(var l=0;l<e.length;l++)o(l,e[l])})};mr.any=z5;mr.allSettled=B5;mr.resolve=function(i){return i&&Ei(i)==="object"&&i.constructor===mr?i:new mr(function(r){r(i)})};mr.reject=function(i){return new mr(function(r,t){t(i)})};mr.race=function(i){return new mr(function(r,t){if(!D1(i))return t(new TypeError("Promise.race accepts an array"));for(var e=0,n=i.length;e<n;e++)mr.resolve(i[e]).then(r,t)})};mr._immediateFn=typeof setImmediate=="function"&&function(i){setImmediate(i)}||function(i){K5(i,0)};mr._unhandledRejectionFn=function(r){typeof console<"u"&&console&&console.warn("Possible Unhandled Promise Rejection:",r)};const bf=mr;(0,qt.hasWin)()&&(window.Promise=window.Promise||bf);const H1=typeof fetch=="function"?fetch.bind():function(i,r){return new bf(function(t,e){var n=new XMLHttpRequest;n.open(r.method||"get",i),n.withCredentials=r.credentials=="include";for(var o in r.headers||{})n.setRequestHeader(o,r.headers[o]);n.onload=function(l){return t({status:n.status,statusText:n.statusText,text:function(){return bf.resolve(n.responseText)}})},n.onerror=e,n.upload&&r.onProgress&&(n.upload.onprogress=r.onProgress),r.body?n.send(r.body):n.send()})};var au=function(){return au=Object.assign||function(i){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])}return i},au.apply(this,arguments)},oh=function(i,r,t,e){function n(o){return o instanceof t?o:new t(function(l){l(o)})}return new(t||(t=Promise))(function(o,l){function s(p){try{u(e.next(p))}catch(d){l(d)}}function f(p){try{u(e.throw(p))}catch(d){l(d)}}function u(p){p.done?o(p.value):n(p.value).then(s,f)}u((e=e.apply(i,r||[])).next())})},ih=function(i,r){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},e,n,o,l;return l={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function s(u){return function(p){return f([u,p])}}function f(u){if(e)throw new TypeError("Generator is already executing.");for(;l&&(l=0,u[0]&&(t=0)),t;)try{if(e=1,n&&(o=u[0]&2?n.return:u[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,u[1])).done)return o;switch(n=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return t.label++,{value:u[1],done:!1};case 5:t.label++,n=u[1],u=[0];continue;case 7:u=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){t=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){t.label=u[1];break}if(u[0]===6&&t.label<o[1]){t.label=o[1],o=u;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(u);break}o[2]&&t.ops.pop(),t.trys.pop();continue}u=r.call(i,t)}catch(p){u=[6,p],n=0}finally{e=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},X5=(function(){function i(){}return i.prototype.store=function(r){return oh(this,arguments,void 0,function(t,e){return e===void 0&&(e={}),ih(this,function(n){switch(n.label){case 0:return[4,this.request(e.urlStore,this.__props(e,t),e)];case 1:return[2,n.sent()]}})})},i.prototype.load=function(){return oh(this,arguments,void 0,function(r){return r===void 0&&(r={}),ih(this,function(t){switch(t.label){case 0:return[4,this.request(r.urlLoad,this.__props(r),r)];case 1:return[2,t.sent()]}})})},i.prototype.request=function(r,t,e){return t===void 0&&(t={}),e===void 0&&(e={}),H1(r,t).then(function(n){var o=n.text(),l=(n.status/200|0)===1;return l?o:o.then(Promise.reject)}).then(function(n){var o=n&&(0,X.isString)(n);return e.contentTypeJson&&o?JSON.parse(n):n})},i.prototype.__props=function(r,t){r===void 0&&(r={});var e=r.contentTypeJson,n=r.headers||{},o=r.fetchOptions||{},l="X-Requested-With",s="Content-Type",f;if((0,X.isUndefined)(n[l])&&(n[l]="XMLHttpRequest"),(0,X.isUndefined)(n[s])&&e&&(n[s]="application/json; charset=utf-8"),t)if(e)f=JSON.stringify(t);else{f=new FormData;for(var u in t)f.append(u,t[u])}var p={method:f?"POST":"GET",credentials:r.credentials,headers:n,body:f};return au(au({},p),(0,X.isFunction)(o)?o(p):o)},i})();const $5=X5;var Tf;(function(i){i.start="storage:start",i.startStore="storage:start:store",i.startLoad="storage:start:load",i.load="storage:load",i.store="storage:store",i.after="storage:after",i.afterStore="storage:after:store",i.afterLoad="storage:after:load",i.end="storage:end",i.endStore="storage:end:store",i.endLoad="storage:end:load",i.error="storage:error",i.errorStore="storage:error:store",i.errorLoad="storage:error:load"})(Tf||(Tf={}));const rn=Tf;var Z5=(function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}})(),aa=function(){return aa=Object.assign||function(i){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])}return i},aa.apply(this,arguments)},Rc=function(i,r,t,e){function n(o){return o instanceof t?o:new t(function(l){l(o)})}return new(t||(t=Promise))(function(o,l){function s(p){try{u(e.next(p))}catch(d){l(d)}}function f(p){try{u(e.throw(p))}catch(d){l(d)}}function u(p){p.done?o(p.value):n(p.value).then(s,f)}u((e=e.apply(i,r||[])).next())})},jc=function(i,r){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},e,n,o,l;return l={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function s(u){return function(p){return f([u,p])}}function f(u){if(e)throw new TypeError("Generator is already executing.");for(;l&&(l=0,u[0]&&(t=0)),t;)try{if(e=1,n&&(o=u[0]&2?n.return:u[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,u[1])).done)return o;switch(n=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return t.label++,{value:u[1],done:!1};case 5:t.label++,n=u[1],u=[0];continue;case 7:u=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){t=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){t.label=u[1];break}if(u[0]===6&&t.label<o[1]){t.label=o[1],o=u;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(u);break}o[2]&&t.ops.pop(),t.trys.pop();continue}u=r.call(i,t)}catch(p){u=[6,p],n=0}finally{e=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},pl="local",ah="remote",Q5=(function(i){Z5(r,i);function r(t){var e=i.call(this,t,"StorageManager",R5())||this;e.storages={},e.events=rn;var n=e.config;return n._disable&&(n.type=void 0),e.storages={},e.add(pl,new H5),e.add(ah,new $5),e.setCurrent(n.type),e}return r.prototype.isAutosave=function(){return!!this.config.autosave},r.prototype.setAutosave=function(t){return this.config.autosave=!!t,this},r.prototype.getStepsBeforeSave=function(){return this.config.stepsBeforeSave},r.prototype.setStepsBeforeSave=function(t){return this.config.stepsBeforeSave=t,this},r.prototype.add=function(t,e){return this.storages[t]=e,this},r.prototype.get=function(t){return this.storages[t]},r.prototype.getStorages=function(){return this.storages},r.prototype.getCurrent=function(){return this.config.currentStorage},r.prototype.setCurrent=function(t){return this.getConfig().currentStorage=t,this},r.prototype.getCurrentStorage=function(){return this.get(this.getCurrent())},r.prototype.getStorageOptions=function(t){return this.getCurrentOptions(t)},r.prototype.store=function(t){return Rc(this,arguments,void 0,function(e,n){var o,l,s,f,u,p;return n===void 0&&(n={}),jc(this,function(d){switch(d.label){case 0:o=this.getCurrentStorage(),l=aa(aa({},this.getCurrentOptions()),n),s=this.getRecoveryStorage(),f=this.getCurrentOptions(pl),d.label=1;case 1:return d.trys.push([1,5,,9]),[4,this.__exec(o,l,e)];case 2:return d.sent(),u=s,u?[4,this.__exec(s,f,{})]:[3,4];case 3:u=d.sent(),d.label=4;case 4:return[3,9];case 5:return p=d.sent(),s?[4,this.__exec(s,f,e)]:[3,7];case 6:return d.sent(),[3,8];case 7:throw p;case 8:return[3,9];case 9:return[2,e]}})})},r.prototype.load=function(){return Rc(this,arguments,void 0,function(t){var e,n,o,l,s;return t===void 0&&(t={}),jc(this,function(f){switch(f.label){case 0:return e=this.getCurrentStorage(),n=aa(aa({},this.getCurrentOptions()),t),o=this.getRecoveryStorage(),o?[4,this.__exec(o,this.getCurrentOptions(pl))]:[3,5];case 1:if(s=f.sent(),(0,X.isEmpty)(s))return[3,5];f.label=2;case 2:return f.trys.push([2,4,,5]),[4,this.__askRecovery()];case 3:return f.sent(),l=s,[3,5];case 4:return f.sent(),[3,5];case 5:return l?[3,7]:[4,this.__exec(e,n)];case 6:l=f.sent(),f.label=7;case 7:return[2,l||{}]}})})},r.prototype.__askRecovery=function(){var t=this.em,e=this.getRecovery();return new Promise(function(n,o){(0,X.isFunction)(e)?e(n,o,t?.getEditor()):confirm(t?.t("storageManager.recover"))?n(null):o()})},r.prototype.getRecovery=function(){return this.config.recovery},r.prototype.getRecoveryStorage=function(){var t=this.getRecovery();return t&&this.getCurrent()===ah&&this.get(pl)},r.prototype.__exec=function(t,e,n){return Rc(this,void 0,void 0,function(){var o,l,s,f,u,p,d,h,v,_,T,w,C,A;return jc(this,function(S){switch(S.label){case 0:if(o=n?"store":"load",l=this.getConfig(),s=l.onStore,f=l.onLoad,!t)return[2,n||{}];this.onStart(o,n),S.label=1;case 1:return S.trys.push([1,14,,15]),p=(A=this.em)===null||A===void 0?void 0:A.getEditor(),d=void 0,n?(v=s,v?[4,s(n,p)]:[3,3]):[3,7];case 2:v=S.sent(),S.label=3;case 3:return h=v||n,_=e.onStore,_?[4,e.onStore(h,p)]:[3,5];case 4:_=S.sent(),S.label=5;case 5:return h=_||h,[4,t.store(h,e)];case 6:return d=S.sent(),u=n,[3,13];case 7:return[4,t.load(e)];case 8:return d=S.sent(),u=this.__clearKeys(d),T=e.onLoad,T?[4,e.onLoad(u,p)]:[3,10];case 9:T=S.sent(),S.label=10;case 10:return u=T||u,w=f,w?[4,f(u,p)]:[3,12];case 11:w=S.sent(),S.label=12;case 12:u=w||u,S.label=13;case 13:return this.onAfter(o,u,d),this.onEnd(o,u,d),[3,15];case 14:throw C=S.sent(),this.onError(o,C),C;case 15:return[2,u]}})})},r.prototype.__clearKeys=function(t){t===void 0&&(t={});var e=this.getConfig(),n=new RegExp("^".concat(e.id)),o={};for(var l in t){var s=l.replace(n,"");o[s]=t[l]}return o},r.prototype.getCurrentOptions=function(t){var e=this.getConfig(),n=t||this.getCurrent();return e.options[n]||{}},r.prototype.onStart=function(t,e){var n=this.em;if(n){var o=t==="load"?rn.startLoad:rn.startStore;n.trigger(rn.start,t,e),n.trigger(o,e)}},r.prototype.onAfter=function(t,e,n){var o=this.em;if(o){var l=t==="load"?rn.afterLoad:rn.afterStore;o.trigger(rn.after),o.trigger(l,e,n);var s=t==="load"?rn.load:rn.store;o.trigger(s,e,n)}},r.prototype.onEnd=function(t,e,n){var o=this.em;if(o){var l=t==="load"?rn.endLoad:rn.endStore;o.trigger(rn.end,t,e,n),o.trigger(l,e,n)}},r.prototype.onError=function(t,e){var n=this.em;if(n){var o=t==="load"?rn.errorLoad:rn.errorStore;n.trigger(rn.error,e,t),n.trigger(o,e),this.onEnd(t,e)}},r.prototype.canAutoload=function(){var t=this.getCurrentStorage();return!!t&&!!this.config.autoload},r.prototype.destroy=function(){this.storages={}},r})(Cn);const J5=Q5;var tb=function(){return{stylePrefix:"trt-",appendTo:"",optionsTarget:[{value:!1},{value:"_blank"}],custom:!1}};const eb=tb;var rb=(function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}})(),ps=function(){return ps=Object.assign||function(i){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])}return i},ps.apply(this,arguments)},F1=(function(i){rb(r,i);function r(t){t===void 0&&(t={});var e=i.call(this,t)||this;e.events={},e.appendInput=!0;var n=t.config,o=n===void 0?{}:n,l=e,s=l.model,f=l.eventCapture,u=s.target,p=s.attributes.type;e.config=o,e.em=o.em,e.pfx=o.stylePrefix||"",e.ppfx=o.pStylePrefix||"",e.target=u,e.className=e.pfx+"trait",e.clsField="".concat(e.ppfx,"field ").concat(e.ppfx,"field-").concat(p);var d=[["change:value",e.onValueChange],["remove",e.removeView]];return d.forEach(function(h){var v=h[0],_=h[1];s.off(v,_),e.listenTo(s,v,_)}),s.view=e,e.listenTo(s,"change:label",e.render),e.listenTo(s,"change:placeholder",e.rerender),e.events={},f.forEach(function(h){return e.events[h]="onChange"}),e.delegateEvents(),e.init(),e}return r.prototype.attributes=function(){return this.model.get("attributes")||{}},r.prototype.templateLabel=function(t){var e=this.ppfx,n=this.getLabel();return'<div class="'.concat(e,'label" title="').concat(n,'">').concat(n,"</div>")},r.prototype.templateInput=function(t){var e=this.clsField;return'<div class="'.concat(e,'" data-input></div>')},r.prototype.getClbOpts=function(){return{component:this.target,trait:this.model,elInput:this.getInputElem()}},r.prototype.removeView=function(){this.remove(),this.removed()},r.prototype.init=function(){},r.prototype.removed=function(){},r.prototype.onRender=function(t){},r.prototype.onUpdate=function(t){},r.prototype.onEvent=function(t){},r.prototype.onChange=function(t){var e=this.getInputElem();e&&!(0,X.isUndefined)(e.value)&&this.model.set("value",e.value),this.onEvent(ps(ps({},this.getClbOpts()),{event:t}))},r.prototype.getValueForTarget=function(){return this.model.get("value")},r.prototype.setInputValue=function(t){var e=this.getInputElem();e&&(e.value=t)},r.prototype.onValueChange=function(t,e,n){n===void 0&&(n={});var o=this.model,l=this.getValueForTarget();n.fromTarget?(this.setInputValue(l),this.postUpdate()):o.setValue(l,n)},r.prototype.renderLabel=function(){var t=this,e=t.$el,n=t.target,o=this.getLabel(),l=this.templateLabel(n);this.createLabel&&(l=this.createLabel({label:o,component:n,trait:this})||""),e.find("[data-label]").append(l)},r.prototype.getLabel=function(){var t=this.em,e=this.model.attributes,n=e.label,o=e.name;return t.t("traitManager.traits.labels.".concat(o))||(0,qt.capitalize)(n||o).replace(/-/g," ")},r.prototype.getComponent=function(){return this.target},r.prototype.getInputEl=function(){if(!this.$input){var t=this,e=t.em,n=t.model,o=n,l=n.attributes.name,s=o.get("placeholder")||o.get("default")||"",f=o.get("type")||"text",u=o.get("min"),p=o.get("max"),d=this.getModelValue(),h=(0,Rr.default)('<input type="'.concat(f,'">')),v=e.t("traitManager.traits.attributes.".concat(l))||{};h.attr(ps({placeholder:s},v)),(0,X.isUndefined)(d)||(o.set({value:d},{silent:!0}),h.prop("value",d)),u&&h.prop("min",u),p&&h.prop("max",p),this.$input=h}return this.$input.get(0)},r.prototype.getInputElem=function(){var t=this,e=t.input,n=t.$input;return e||n&&n.get&&n.get(0)||this.getElInput()},r.prototype.getModelValue=function(){return this.model.getValue()},r.prototype.getElInput=function(){return this.elInput},r.prototype.renderField=function(){var t=this,e=t.$el,n=t.appendInput,o=t.model,l=e.find("[data-input]"),s=l[l.length-1],f=o.el;f||(f=this.createInput?this.createInput(this.getClbOpts()):this.getInputEl()),(0,X.isString)(f)?(s.innerHTML=f,this.elInput=s.firstChild):(n?s.appendChild(f):s.insertBefore(f,s.firstChild),this.elInput=f),o.el=this.elInput},r.prototype.hasLabel=function(){var t=this.model.attributes.label;return!this.noLabel&&t!==!1},r.prototype.rerender=function(){delete this.model.el,this.render()},r.prototype.postUpdate=function(){this.onUpdate(this.getClbOpts())},r.prototype.render=function(){var t=this,e=t.$el,n=t.pfx,o=t.ppfx,l=t.model,s=l.attributes,f=s.type,u=s.id,p=this.hasLabel&&this.hasLabel(),d="".concat(n,"trait");delete this.$input;var h='<div class="'.concat(d," ").concat(d,"--").concat(f,`">
      `).concat(p?'<div class="'.concat(o,'label-wrp" data-label></div>'):"",`
      <div class="`).concat(o,"field-wrp ").concat(o,"field-wrp--").concat(f,`" data-input>
        `).concat(this.templateInput?(0,X.isFunction)(this.templateInput)?this.templateInput(this.getClbOpts()):this.templateInput:"",`
      </div>
    </div>`);return e.empty().append(h),p&&this.renderLabel(),this.renderField(),this.el.className="".concat(d,"__wrp ").concat(d,"__wrp-").concat(u),this.postUpdate(),this.onRender(this.getClbOpts()),this},r})(ae.Ss);const Eo=F1;F1.prototype.eventCapture=["change"];var nb=(function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}})(),V1=(function(i){nb(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.templateInput=function(){return""},r.prototype.onChange=function(){this.handleClick()},r.prototype.handleClick=function(){this.model.runCommand()},r.prototype.renderLabel=function(){this.model.get("label")&&Eo.prototype.renderLabel.apply(this)},r.prototype.getInputEl=function(){var t=this,e=t.model,n=t.ppfx,o=e.props(),l=o.labelButton,s=o.text,f=o.full,u=l||s,p="".concat(n,"btn"),d='<button type="button" class="'.concat(p,"-prim").concat(f?" ".concat(p,"--full"):"",'">').concat(u,"</button>");return d},r})(Eo);const ob=V1;V1.prototype.eventCapture=["click button"];var ib=(function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}})(),ab=(function(i){ib(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.appendInput=!1,t}return r.prototype.templateInput=function(){var t=this,e=t.ppfx,n=t.clsField;return'<label class="'.concat(n,`" data-input>
    <i class="`).concat(e,`chk-icon"></i>
  </label>`)},r.prototype.onChange=function(){this.model.set("value",this.getInputElem().checked)},r.prototype.setInputValue=function(t){var e=this.getInputElem();e&&(e.checked=!!t)},r.prototype.getInputEl=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=!this.$input,o=Eo.prototype.getInputEl.apply(this,t);if(n){var l=void 0,s=void 0,f=this,u=f.model,p=f.target,d=u.attributes.valueFalse,h=u.getName();u.changeProp?(l=p.get(h),s=l):(s=p.get("attributes")[h],l=!!(s||s==="")),!(0,X.isUndefined)(d)&&s===d&&(l=!1),o.checked=l}return o},r})(Eo);const sb=ab;function lb(i,r){if(!(0,qt.hasWin)())return;var t={beforeShow:v,move:v,change:v,show:v,hide:v,color:!1,flat:!1,showInput:!1,allowEmpty:!1,showButtons:!0,clickoutFiresChange:!0,showInitial:!1,showPalette:!1,showPaletteOnly:!1,hideAfterPaletteSelect:!1,togglePaletteOnly:!1,showSelectionPalette:!0,localStorageKey:!1,appendTo:"body",maxSelectionSize:7,cancelText:"cancel",chooseText:"choose",togglePaletteMoreText:"more",togglePaletteLessText:"less",clearText:"Clear Color Selection",noColorSelectedText:"No Color Selected",preferredFormat:!1,className:"",containerClassName:"",replacerClassName:"",showAlpha:!1,theme:"sp-light",palette:[["#ffffff","#000000","#ff0000","#ff8000","#ffff00","#008000","#0000ff","#4b0082","#9400d3"]],selectionPalette:[],disabled:!1,offset:null},e=[],n=!!/msie/i.exec(window.navigator.userAgent),o=(function(){function nt(Xt,Lt){return!!~(""+Xt).indexOf(Lt)}var wt=document.createElement("div"),J=wt.style;return J.cssText="background-color:rgba(0,0,0,.5)",nt(J.backgroundColor,"rgba")||nt(J.backgroundColor,"hsla")})(),l=["<div class='sp-replacer'>","<div class='sp-preview'><div class='sp-preview-inner'></div></div>","<div class='sp-dd'>&#9660;</div>","</div>"].join(""),s=(function(){var nt="";if(n)for(var wt=1;wt<=6;wt++)nt+="<div class='sp-"+wt+"'></div>";return["<div class='sp-container sp-hidden'>","<div class='sp-palette-container'>","<div class='sp-palette sp-thumb sp-cf'></div>","<div class='sp-palette-button-container sp-cf'>","<button type='button' class='sp-palette-toggle'></button>","</div>","</div>","<div class='sp-picker-container'>","<div class='sp-top sp-cf'>","<div class='sp-fill'></div>","<div class='sp-top-inner'>","<div class='sp-color'>","<div class='sp-sat'>","<div class='sp-val'>","<div class='sp-dragger'></div>","</div>","</div>","</div>","<div class='sp-clear sp-clear-display'>","</div>","<div class='sp-hue'>","<div class='sp-slider'></div>",nt,"</div>","</div>","<div class='sp-alpha'><div class='sp-alpha-inner'><div class='sp-alpha-handle'></div></div></div>","</div>","<div class='sp-input-container sp-cf'>","<input class='sp-input' type='text' spellcheck='false'  />","</div>","<div class='sp-initial sp-thumb sp-cf'></div>","<div class='sp-button-container sp-cf'>","<a class='sp-cancel' href='#'></a>","<button type='button' class='sp-choose'></button>","</div>","</div>","</div>"].join("")})();function f(nt,wt,J,Xt){for(var Lt=[],Zt=0;Zt<nt.length;Zt++){var re=nt[Zt];if(re){var le=M(re),oe=le.toHsl().l<.5?"sp-thumb-el sp-thumb-dark":"sp-thumb-el sp-thumb-light";oe+=M.equals(wt,re)?" sp-thumb-active":"";var ve=le.toString(Xt.preferredFormat||"rgb"),xe=o?"background-color:"+le.toRgbString():"filter:"+le.toFilter();Lt.push('<span title="'+ve+'" data-color="'+le.toRgbString()+'" class="'+oe+'"><span class="sp-thumb-inner" style="'+xe+';"></span></span>')}else{var Ae="sp-clear-display";Lt.push(i("<div />").append(i('<span data-color="" style="background-color:transparent;" class="'+Ae+'"></span>').attr("title",Xt.noColorSelectedText)).html())}}return"<div class='sp-cf "+J+"'>"+Lt.join("")+"</div>"}function u(){for(var nt=0;nt<e.length;nt++)e[nt]&&e[nt].hide()}function p(nt,wt){var J=i.extend({},t,nt);return J.callbacks={move:T(J.move,wt),change:T(J.change,wt),show:T(J.show,wt),hide:T(J.hide,wt),beforeShow:T(J.beforeShow,wt)},J}function d(nt,wt){var J=p(wt,nt),Xt=J.flat,Lt=J.showSelectionPalette,Zt=J.localStorageKey,re=J.theme,le=J.callbacks,oe=C(xn,10),ve=!1,xe=!1,Ae=!0,ke=0,We=0,ir=0,et=0,_t=0,Pt=0,Yt=0,ne=0,me=0,we=0,Me=1,Ue=[],ze=[],Pr={},Fe=J.selectionPalette.slice(0),hr=J.maxSelectionSize,ar="sp-dragging",De=null,er=nt.ownerDocument;er.body;var Re=i(nt),Ye=!1,ye=i(s,er).addClass(re),ur=ye.find(".sp-picker-container"),Ve=ye.find(".sp-color"),Je=ye.find(".sp-dragger"),Ge=ye.find(".sp-hue"),rr=ye.find(".sp-slider"),Ie=ye.find(".sp-alpha-inner"),O=ye.find(".sp-alpha"),B=ye.find(".sp-alpha-handle"),F=ye.find(".sp-input"),ct=ye.find(".sp-palette"),Mt=ye.find(".sp-initial"),ce=ye.find(".sp-cancel"),$e=ye.find(".sp-clear"),Ne=ye.find(".sp-choose"),Ht=ye.find(".sp-palette-toggle"),U=Re.is("input"),Oe=U&&Re.attr("type")==="color"&&A(),Q=U&&!Xt,dt=Q?i(l).addClass(re).addClass(J.className).addClass(J.replacerClassName):i([]),Wt=Q?dt:Re,Jt=dt.find(".sp-preview-inner"),te=J.color||U&&Re.val(),Pe=!1,je=J.preferredFormat,sr=!J.showButtons||J.clickoutFiresChange,Ze=!te,cn=J.allowEmpty&&!Oe;function Oo(){if(J.showPaletteOnly&&(J.showPalette=!0),Ht.text(J.showPaletteOnly?J.togglePaletteMoreText:J.togglePaletteLessText),J.palette){Ue=J.palette.slice(0),ze=i.isArray(Ue[0])?Ue:[Ue],Pr={};for(var be=0;be<ze.length;be++)for(var _e=0;_e<ze[be].length;_e++){var Ke=M(ze[be][_e]).toRgbString();Pr[Ke]=!0}}ye.toggleClass("sp-flat",Xt),ye.toggleClass("sp-input-disabled",!J.showInput),ye.toggleClass("sp-alpha-enabled",J.showAlpha),ye.toggleClass("sp-clear-enabled",cn),ye.toggleClass("sp-buttons-disabled",!J.showButtons),ye.toggleClass("sp-palette-buttons-disabled",!J.togglePaletteOnly),ye.toggleClass("sp-palette-disabled",!J.showPalette),ye.toggleClass("sp-palette-only",J.showPaletteOnly),ye.toggleClass("sp-initial-disabled",!J.showInitial),ye.addClass(J.className).addClass(J.containerClassName),xn()}function ao(){if(n&&ye.find("*:not(input)").attr("unselectable","on"),Oo(),Q&&Re.after(dt).hide(),cn||$e.hide(),Xt)Re.after(ye).hide();else{var be=J.appendTo==="parent"?Re.parent():i(J.appendTo);be.length!==1&&(be=i("body")),be.append(ye)}so(),Wt.bind("click.spectrum touchstart.spectrum",function(Ee){Ye||ko(),Ee.stopPropagation(),i(Ee.target).is("input")||Ee.preventDefault()}),(Re.is(":disabled")||J.disabled===!0)&&In(),ye.click(_),F.change(Wn),F.bind("paste",function(){setTimeout(Wn,1)}),F.keydown(function(Ee){Ee.keyCode==13&&Wn()}),ce.text(J.cancelText),ce.bind("click.spectrum",function(Ee){Ee.stopPropagation(),Ee.preventDefault(),zn(),wn()}),$e.attr("title",J.clearText),$e.bind("click.spectrum",function(Ee){Ee.stopPropagation(),Ee.preventDefault(),Ze=!0,Kn(),Xt&&En(!0)}),Ne.text(J.chooseText),Ne.bind("click.spectrum",function(Ee){Ee.stopPropagation(),Ee.preventDefault(),n&&F.is(":focus")&&F.trigger("change"),Oi()&&(En(!0),wn())}),Ht.text(J.showPaletteOnly?J.togglePaletteMoreText:J.togglePaletteLessText),Ht.bind("click.spectrum",function(Ee){Ee.stopPropagation(),Ee.preventDefault(),J.showPaletteOnly=!J.showPaletteOnly,!J.showPaletteOnly&&!Xt&&ye.css("left","-="+(ur.outerWidth(!0)+5)),Oo()}),w(O,function(Ee,cr,Tr){Me=Ee/_t,Ze=!1,Tr.shiftKey&&(Me=Math.round(Me*10)/10),Kn()},uo,eo),w(Ge,function(Ee,cr){ne=parseFloat(cr/et),Ze=!1,J.showAlpha||(Me=1),Kn()},uo,eo),w(Ve,function(Ee,cr,Tr){if(!Tr.shiftKey)De=null;else if(!De){var Kr=me*ke,Dn=We-we*We,Xr=Math.abs(Ee-Kr)>Math.abs(cr-Dn);De=Xr?"x":"y"}var $r=!De||De==="x",fn=!De||De==="y";$r&&(me=parseFloat(Ee/ke)),fn&&(we=parseFloat((We-cr)/We)),Ze=!1,J.showAlpha||(Me=1),Kn()},uo,eo),te?(zr(te),Sn(),je=J.preferredFormat||M(te).getFormat(),lo(te)):Sn(),Xt&&br();function _e(Ee){return Ee.data&&Ee.data.ignore?(zr(i(Ee.target).closest(".sp-thumb-el").data("color")),Kn()):(zr(i(Ee.target).closest(".sp-thumb-el").data("color")),Kn(),J.hideAfterPaletteSelect&&(En(!0),wn())),!1}var Ke=n?"mousedown.spectrum":"click.spectrum touchstart.spectrum";ct.delegate(".sp-thumb-el",Ke,_e),Mt.delegate(".sp-thumb-el:nth-child(1)",Ke,{ignore:!0},_e)}function so(){if(Zt&&window.localStorage){try{var be=window.localStorage[Zt].split(",#");be.length>1&&(delete window.localStorage[Zt],i.each(be,function(_e,Ke){lo(Ke)}))}catch{}try{Fe=window.localStorage[Zt].split(";")}catch{}}}function lo(be){if(Lt){var _e=M(be).toRgbString();if(!Pr[_e]&&i.inArray(_e,Fe)===-1)for(Fe.push(_e);Fe.length>hr;)Fe.shift();if(Zt&&window.localStorage)try{window.localStorage[Zt]=Fe.join(";")}catch{}}}function ti(){var be=[];if(J.showPalette)for(var _e=0;_e<Fe.length;_e++){var Ke=M(Fe[_e]).toRgbString();Pr[Ke]||be.push(Fe[_e])}return be.reverse().slice(0,J.maxSelectionSize)}function Ao(){var be=xr(),_e=i.map(ze,function(Ke,Ee){return f(Ke,be,"sp-palette-row sp-palette-row-"+Ee,J)});so(),Fe&&_e.push(f(ti(),be,"sp-palette-row sp-palette-row-selection",J)),ct.html(_e.join(""))}function Po(){if(J.showInitial){var be=Pe,_e=xr();Mt.html(f([be,_e],_e,"sp-palette-row-initial",J))}}function uo(){(We<=0||ke<=0||et<=0)&&xn(),xe=!0,ye.addClass(ar),De=null,Re.trigger("dragstart.spectrum",[xr()])}function eo(){xe=!1,ye.removeClass(ar),Re.trigger("dragstop.spectrum",[xr()])}function Wn(){var be=F.val();if((be===null||be==="")&&cn)zr(null),En(!0);else{var _e=M(be);_e.isValid()?(zr(_e),En(!0)):F.addClass("sp-validation-error")}}function ko(){ve?wn():br()}function br(){var be=i.Event("beforeShow.spectrum");if(ve){xn();return}if(Re.trigger("beforeShow.spectrum",[xr()]),!(le.beforeShow(xr())===!1||be.isDefaultPrevented())){u(),ve=!0;var _e=i(er);_e.bind("keydown.spectrum",Er),_e.bind("click.spectrum",ei),i(window).bind("resize.spectrum",oe),dt.addClass("sp-active"),ye.removeClass("sp-hidden"),xn(),Sn(),Pe=xr(),Po(),le.show(Pe),Re.trigger("show.spectrum",[Pe])}}function Er(be){be.keyCode===27&&wn()}function ei(be){be.button!=2&&(xe||(sr?En(!0):zn(),wn()))}function wn(){!ve||Xt||(ve=!1,i(er).unbind("keydown.spectrum",Er),i(er).unbind("click.spectrum",ei),i(window).unbind("resize.spectrum",oe),dt.removeClass("sp-active"),ye.addClass("sp-hidden"),le.hide(xr()),Re.trigger("hide.spectrum",[xr()]))}function zn(){zr(Pe,!0)}function zr(be,_e){if(M.equals(be,xr())){Sn();return}var Ke,Ee;!be&&cn?Ze=!0:(Ze=!1,Ae=!be,Ke=M(be),Ee=Ke.toHsv(),ne=Ee.h%360/360,me=Ee.s,we=Ee.v,Me=Ee.a),Sn(),Ke&&Ke.isValid()&&!_e&&(je=J.preferredFormat||Ke.getFormat())}function xr(be){return be=be||{},cn&&Ze?null:M.fromRatio({h:ne,s:me,v:we,a:Math.round(Me*100)/100},{format:be.format||je})}function Oi(){return!F.hasClass("sp-validation-error")}function Kn(){Sn(),le.move(xr()),Re.trigger("move.spectrum",[xr()])}function Sn(){F.removeClass("sp-validation-error"),co();var be=M.fromRatio({h:ne,s:1,v:1});Ve.css("background-color",be.toHexString());var _e=je;Me<1&&!(Me===0&&_e==="name")&&(_e==="hex"||_e==="hex3"||_e==="hex6"||_e==="name")&&(_e="rgb");var Ke=xr({format:_e}),Ee="";if(Jt.removeClass("sp-clear-display"),Jt.css("background-color","transparent"),!Ke&&cn)Jt.addClass("sp-clear-display");else{var cr=Ke.toHexString(),Tr=Ke.toRgbString();if(o||Ke.alpha===1?Jt.css("background-color",Tr):(Jt.css("background-color","transparent"),Jt.css("filter",Ke.toFilter())),J.showAlpha){var Kr=Ke.toRgb();Kr.a=0;var Dn=M(Kr).toRgbString(),Xr="linear-gradient(left, "+Dn+", "+cr+")";n?Ie.css("filter",M(Dn).toFilter({gradientType:1},cr)):(Ie.css("background","-webkit-"+Xr),Ie.css("background","-moz-"+Xr),Ie.css("background","-ms-"+Xr),Ie.css("background","linear-gradient(to right, "+Dn+", "+cr+")"))}Ee=Ke.toString(_e)}J.showInput&&F.val(Ee),J.showPalette&&Ao(),Po()}function co(){var be=me,_e=we;if(cn&&Ze)B.hide(),rr.hide(),Je.hide();else{B.show(),rr.show(),Je.show();var Ke=be*ke,Ee=We-_e*We;Ke=Math.max(-ir,Math.min(ke-ir,Ke-ir)),Ee=Math.max(-ir,Math.min(We-ir,Ee-ir)),Je.css({top:Ee+"px",left:Ke+"px"});var cr=Me*_t;B.css({left:cr-Pt/2+"px"});var Tr=ne*et;rr.css({top:Tr-Yt+"px"})}}function En(be){var _e=xr(),Ke="",Ee=Ae?!0:!M.equals(_e,Pe);_e&&(Ke=_e.toString(je),!ve&&lo(_e)),U&&Re.val(Ke),be&&Ee&&(le.change(_e),Re.trigger("change",[_e]))}function xn(){ve&&(ke=Ve.width(),We=Ve.height(),ir=Je.height(),Ge.width(),et=Ge.height(),Yt=rr.height(),_t=O.width(),Pt=B.width(),Xt||(ye.css("position","absolute"),J.offset?ye.offset(J.offset):ye.offset(h(ye,Wt))),co(),J.showPalette&&Ao(),Re.trigger("reflow.spectrum"))}function ri(){Re.show(),Wt.unbind("click.spectrum touchstart.spectrum"),ye.remove(),dt.remove(),e[Gn.id]=null}function Mo(be,_e){if(be===r)return i.extend({},J);if(_e===r)return J[be];J[be]=_e,be==="preferredFormat"&&(je=J.preferredFormat),Oo()}function fo(){Ye=!1,Re.attr("disabled",!1),Wt.removeClass("sp-disabled")}function In(){wn(),Ye=!0,Re.attr("disabled",!0),Wt.addClass("sp-disabled")}function po(be){J.offset=be,xn()}ao();var Gn={show:br,hide:wn,toggle:ko,reflow:xn,option:Mo,enable:fo,disable:In,offset:po,set:function(be){zr(be),En()},get:xr,destroy:ri,container:ye};return Gn.id=e.push(Gn)-1,Gn}function h(nt,wt){for(var J=wt[0],Xt=nt[0],Lt=Xt.parentElement,Zt=J.getBoundingClientRect(),re=Xt.offsetWidth,le=Xt.offsetHeight,oe={top:0,left:0,width:J.offsetWidth,height:J.offsetHeight};J&&(oe.top+=J.offsetTop-J.scrollTop,oe.left+=J.offsetLeft-J.scrollLeft,!(J===Lt||!Lt.contains(J.offsetParent)));)J=J.offsetParent;return Zt.right+re>window.innerWidth-window.scrollX&&Zt.right-re>0&&(oe.left-=re-oe.width),Zt.bottom+le<window.innerHeight-window.scrollY?oe.top+=oe.height:oe.top-=le,oe}function v(){}function _(nt){nt.stopPropagation()}function T(nt,wt){var J=Array.prototype.slice,Xt=J.call(arguments,2);return function(){return nt.apply(wt,Xt.concat(J.call(arguments)))}}function w(nt,wt,J,Xt){wt=wt||function(){},J=J||function(){},Xt=Xt||function(){};var Lt=document,Zt=!1,re={},le=0,oe=0,ve="ontouchstart"in window,xe={};xe.selectstart=Ae,xe.dragstart=Ae,xe["touchmove mousemove"]=ke,xe["touchend mouseup"]=ir;function Ae(et){et.stopPropagation&&et.stopPropagation(),et.preventDefault&&et.preventDefault(),et.returnValue=!1}function ke(et){if(Zt){if(n&&Lt.documentMode<9&&!et.button)return ir();var _t=et&&et.touches&&et.touches[0],Pt=_t&&_t.pageX||et.pageX,Yt=_t&&_t.pageY||et.pageY,ne=Math.max(0,Math.min(Pt-re.left,oe)),me=Math.max(0,Math.min(Yt-re.top,le));ve&&Ae(et),wt.apply(nt,[ne,me,et])}}function We(et){var _t=et.which?et.which==3:et.button==2;!_t&&!Zt&&J.apply(nt,arguments)!==!1&&(Zt=!0,le=i(nt).height(),oe=i(nt).width(),re=i(nt).offset(),i(Lt).bind(xe),i(Lt.body).addClass("sp-dragging"),ke(et),Ae(et))}function ir(){Zt&&(i(Lt).unbind(xe),i(Lt.body).removeClass("sp-dragging"),setTimeout(function(){Xt.apply(nt,arguments)},0)),Zt=!1}i(nt).bind("touchstart mousedown",We)}function C(nt,wt,J){var Xt;return function(){var Lt=this,Zt=arguments,re=function(){Xt=null,nt.apply(Lt,Zt)};Xt||(Xt=setTimeout(re,wt))}}function A(){return i.fn.spectrum.inputTypeColorSupport()}var S="spectrum.id";i.fn.spectrum=function(nt,wt){if(typeof nt=="string"){var J=this,Xt=Array.prototype.slice.call(arguments,1);return this.each(function(){var Lt=e[i(this).data(S)];if(Lt){var Zt=Lt[nt];if(!Zt)throw new Error("Spectrum: no such method: '"+nt+"'");nt=="get"?J=Lt.get():nt=="container"?J=Lt.container:nt=="option"?J=Lt.option.apply(Lt,Xt):nt=="destroy"?(Lt.destroy(),i(this).removeData(S)):Zt.apply(Lt,Xt)}}),J}return this.spectrum("destroy").each(function(){var Lt=i.extend({},nt,i(this).data()),Zt=d(this,Lt);i(this).data(S,Zt.id)})},i.fn.spectrum.load=!0,i.fn.spectrum.loadOpts={},i.fn.spectrum.draggable=w,i.fn.spectrum.defaults=t,i.fn.spectrum.inputTypeColorSupport=function nt(){if(typeof nt._cachedResult>"u"){var wt=i("<input type='color'/>")[0];nt._cachedResult=wt.type==="color"&&wt.value!==""}return nt._cachedResult},i.spectrum={},i.spectrum.localization={},i.spectrum.palettes={},i.fn.spectrum.processNativeColorInputs=function(){var nt=i("input[type=color]");nt.length&&!A()&&nt.spectrum({preferredFormat:"hex6"})};var x=/^[\s,#]+/,N=/\s+$/,b=0,L=Math,k=L.round,P=L.min,D=L.max,R=L.random,M=function(nt,wt){if(nt=nt||"",wt=wt||{},nt instanceof M)return nt;if(!(this instanceof M))return new M(nt,wt);var J=z(nt);this._originalInput=nt,this._r=J.r,this._g=J.g,this._b=J.b,this._a=J.a,this._roundA=k(100*this._a)/100,this._format=wt.format||J.format,this._gradientType=wt.gradientType,this._r<1&&(this._r=k(this._r)),this._g<1&&(this._g=k(this._g)),this._b<1&&(this._b=k(this._b)),this._ok=J.ok,this._tc_id=b++};M.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var nt=this.toRgb();return(nt.r*299+nt.g*587+nt.b*114)/1e3},setAlpha:function(nt){return this._a=Kt(nt),this._roundA=k(100*this._a)/100,this},toHsv:function(){var nt=rt(this._r,this._g,this._b);return{h:nt.h*360,s:nt.s,v:nt.v,a:this._a}},toHsvString:function(){var nt=rt(this._r,this._g,this._b),wt=k(nt.h*360),J=k(nt.s*100),Xt=k(nt.v*100);return this._a==1?"hsv("+wt+", "+J+"%, "+Xt+"%)":"hsva("+wt+", "+J+"%, "+Xt+"%, "+this._roundA+")"},toHsl:function(){var nt=$(this._r,this._g,this._b);return{h:nt.h*360,s:nt.s,l:nt.l,a:this._a}},toHslString:function(){var nt=$(this._r,this._g,this._b),wt=k(nt.h*360),J=k(nt.s*100),Xt=k(nt.l*100);return this._a==1?"hsl("+wt+", "+J+"%, "+Xt+"%)":"hsla("+wt+", "+J+"%, "+Xt+"%, "+this._roundA+")"},toHex:function(nt){return st(this._r,this._g,this._b,nt)},toHexString:function(nt){return"#"+this.toHex(nt)},toHex8:function(){return vt(this._r,this._g,this._b,this._a)},toHex8String:function(){return"#"+this.toHex8()},toRgb:function(){return{r:k(this._r),g:k(this._g),b:k(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+k(this._r)+", "+k(this._g)+", "+k(this._b)+")":"rgba("+k(this._r)+", "+k(this._g)+", "+k(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:k(W(this._r,255)*100)+"%",g:k(W(this._g,255)*100)+"%",b:k(W(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+k(W(this._r,255)*100)+"%, "+k(W(this._g,255)*100)+"%, "+k(W(this._b,255)*100)+"%)":"rgba("+k(W(this._r,255)*100)+"%, "+k(W(this._g,255)*100)+"%, "+k(W(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:mt[st(this._r,this._g,this._b,!0)]||!1},toFilter:function(nt){var wt="#"+vt(this._r,this._g,this._b,this._a),J=wt,Xt=this._gradientType?"GradientType = 1, ":"";if(nt){var Lt=M(nt);J=Lt.toHex8String()}return"progid:DXImageTransform.Microsoft.gradient("+Xt+"startColorstr="+wt+",endColorstr="+J+")"},toString:function(nt){var wt=!!nt;nt=nt||this._format;var J=!1,Xt=this._a<1&&this._a>=0,Lt=!wt&&Xt&&(nt==="hex"||nt==="hex6"||nt==="hex3"||nt==="name");return Lt?nt==="name"&&this._a===0?this.toName():this.toRgbString():(nt==="rgb"&&(J=this.toRgbString()),nt==="prgb"&&(J=this.toPercentageRgbString()),(nt==="hex"||nt==="hex6")&&(J=this.toHexString()),nt==="hex3"&&(J=this.toHexString(!0)),nt==="hex8"&&(J=this.toHex8String()),nt==="name"&&(J=this.toName()),nt==="hsl"&&(J=this.toHslString()),nt==="hsv"&&(J=this.toHsvString()),J||this.toHexString())},_applyModification:function(nt,wt){var J=nt.apply(null,[this].concat([].slice.call(wt)));return this._r=J._r,this._g=J._g,this._b=J._b,this.setAlpha(J._a),this},lighten:function(){return this._applyModification(at,arguments)},brighten:function(){return this._applyModification(lt,arguments)},darken:function(){return this._applyModification(Et,arguments)},desaturate:function(){return this._applyModification(St,arguments)},saturate:function(){return this._applyModification(pt,arguments)},greyscale:function(){return this._applyModification(bt,arguments)},spin:function(){return this._applyModification(yt,arguments)},_applyCombination:function(nt,wt){return nt.apply(null,[this].concat([].slice.call(wt)))},analogous:function(){return this._applyCombination(xt,arguments)},complement:function(){return this._applyCombination(Ot,arguments)},monochromatic:function(){return this._applyCombination(ot,arguments)},splitcomplement:function(){return this._applyCombination(Ut,arguments)},triad:function(){return this._applyCombination(zt,arguments)},tetrad:function(){return this._applyCombination(Bt,arguments)}},M.fromRatio=function(nt,wt){if(typeof nt=="object"){var J={};for(var Xt in nt)nt.hasOwnProperty(Xt)&&(Xt==="a"?J[Xt]=nt[Xt]:J[Xt]=Dt(nt[Xt]));nt=J}return M(nt,wt)};function z(nt){var wt={r:0,g:0,b:0},J=1,Xt=!1,Lt=!1;return typeof nt=="string"&&(nt=de(nt)),typeof nt=="object"&&(nt.hasOwnProperty("r")&&nt.hasOwnProperty("g")&&nt.hasOwnProperty("b")?(wt=H(nt.r,nt.g,nt.b),Xt=!0,Lt=String(nt.r).substr(-1)==="%"?"prgb":"rgb"):nt.hasOwnProperty("h")&&nt.hasOwnProperty("s")&&nt.hasOwnProperty("v")?(nt.s=Dt(nt.s),nt.v=Dt(nt.v),wt=q(nt.h,nt.s,nt.v),Xt=!0,Lt="hsv"):nt.hasOwnProperty("h")&&nt.hasOwnProperty("s")&&nt.hasOwnProperty("l")&&(nt.s=Dt(nt.s),nt.l=Dt(nt.l),wt=j(nt.h,nt.s,nt.l),Xt=!0,Lt="hsl"),nt.hasOwnProperty("a")&&(J=nt.a)),J=Kt(J),{ok:Xt,format:nt.format||Lt,r:P(255,D(wt.r,0)),g:P(255,D(wt.g,0)),b:P(255,D(wt.b,0)),a:J}}function H(nt,wt,J){return{r:W(nt,255)*255,g:W(wt,255)*255,b:W(J,255)*255}}function $(nt,wt,J){nt=W(nt,255),wt=W(wt,255),J=W(J,255);var Xt=D(nt,wt,J),Lt=P(nt,wt,J),Zt,re,le=(Xt+Lt)/2;if(Xt==Lt)Zt=re=0;else{var oe=Xt-Lt;switch(re=le>.5?oe/(2-Xt-Lt):oe/(Xt+Lt),Xt){case nt:Zt=(wt-J)/oe+(wt<J?6:0);break;case wt:Zt=(J-nt)/oe+2;break;case J:Zt=(nt-wt)/oe+4;break}Zt/=6}return{h:Zt,s:re,l:le}}function j(nt,wt,J){var Xt,Lt,Zt;nt=W(nt,360),wt=W(wt,100),J=W(J,100);function re(ve,xe,Ae){return Ae<0&&(Ae+=1),Ae>1&&(Ae-=1),Ae<1/6?ve+(xe-ve)*6*Ae:Ae<1/2?xe:Ae<2/3?ve+(xe-ve)*(2/3-Ae)*6:ve}if(wt===0)Xt=Lt=Zt=J;else{var le=J<.5?J*(1+wt):J+wt-J*wt,oe=2*J-le;Xt=re(oe,le,nt+1/3),Lt=re(oe,le,nt),Zt=re(oe,le,nt-1/3)}return{r:Xt*255,g:Lt*255,b:Zt*255}}function rt(nt,wt,J){nt=W(nt,255),wt=W(wt,255),J=W(J,255);var Xt=D(nt,wt,J),Lt=P(nt,wt,J),Zt,re,le=Xt,oe=Xt-Lt;if(re=Xt===0?0:oe/Xt,Xt==Lt)Zt=0;else{switch(Xt){case nt:Zt=(wt-J)/oe+(wt<J?6:0);break;case wt:Zt=(J-nt)/oe+2;break;case J:Zt=(nt-wt)/oe+4;break}Zt/=6}return{h:Zt,s:re,v:le}}function q(nt,wt,J){nt=W(nt,360)*6,wt=W(wt,100),J=W(J,100);var Xt=L.floor(nt),Lt=nt-Xt,Zt=J*(1-wt),re=J*(1-Lt*wt),le=J*(1-(1-Lt)*wt),oe=Xt%6,ve=[J,re,Zt,Zt,le,J][oe],xe=[le,J,J,re,Zt,Zt][oe],Ae=[Zt,Zt,le,J,J,re][oe];return{r:ve*255,g:xe*255,b:Ae*255}}function st(nt,wt,J,Xt){var Lt=[ut(k(nt).toString(16)),ut(k(wt).toString(16)),ut(k(J).toString(16))];return Xt&&Lt[0].charAt(0)==Lt[0].charAt(1)&&Lt[1].charAt(0)==Lt[1].charAt(1)&&Lt[2].charAt(0)==Lt[2].charAt(1)?Lt[0].charAt(0)+Lt[1].charAt(0)+Lt[2].charAt(0):Lt.join("")}function vt(nt,wt,J,Xt){var Lt=[ut(At(Xt)),ut(k(nt).toString(16)),ut(k(wt).toString(16)),ut(k(J).toString(16))];return Lt.join("")}M.equals=function(nt,wt){return!nt||!wt?!1:M(nt).toRgbString()==M(wt).toRgbString()},M.random=function(){return M.fromRatio({r:R(),g:R(),b:R()})};function St(nt,wt){wt=wt===0?0:wt||10;var J=M(nt).toHsl();return J.s-=wt/100,J.s=Z(J.s),M(J)}function pt(nt,wt){wt=wt===0?0:wt||10;var J=M(nt).toHsl();return J.s+=wt/100,J.s=Z(J.s),M(J)}function bt(nt){return M(nt).desaturate(100)}function at(nt,wt){wt=wt===0?0:wt||10;var J=M(nt).toHsl();return J.l+=wt/100,J.l=Z(J.l),M(J)}function lt(nt,wt){wt=wt===0?0:wt||10;var J=M(nt).toRgb();return J.r=D(0,P(255,J.r-k(255*-(wt/100)))),J.g=D(0,P(255,J.g-k(255*-(wt/100)))),J.b=D(0,P(255,J.b-k(255*-(wt/100)))),M(J)}function Et(nt,wt){wt=wt===0?0:wt||10;var J=M(nt).toHsl();return J.l-=wt/100,J.l=Z(J.l),M(J)}function yt(nt,wt){var J=M(nt).toHsl(),Xt=(k(J.h)+wt)%360;return J.h=Xt<0?360+Xt:Xt,M(J)}function Ot(nt){var wt=M(nt).toHsl();return wt.h=(wt.h+180)%360,M(wt)}function zt(nt){var wt=M(nt).toHsl(),J=wt.h;return[M(nt),M({h:(J+120)%360,s:wt.s,l:wt.l}),M({h:(J+240)%360,s:wt.s,l:wt.l})]}function Bt(nt){var wt=M(nt).toHsl(),J=wt.h;return[M(nt),M({h:(J+90)%360,s:wt.s,l:wt.l}),M({h:(J+180)%360,s:wt.s,l:wt.l}),M({h:(J+270)%360,s:wt.s,l:wt.l})]}function Ut(nt){var wt=M(nt).toHsl(),J=wt.h;return[M(nt),M({h:(J+72)%360,s:wt.s,l:wt.l}),M({h:(J+216)%360,s:wt.s,l:wt.l})]}function xt(nt,wt,J){wt=wt||6,J=J||30;var Xt=M(nt).toHsl(),Lt=360/J,Zt=[M(nt)];for(Xt.h=(Xt.h-(Lt*wt>>1)+720)%360;--wt;)Xt.h=(Xt.h+Lt)%360,Zt.push(M(Xt));return Zt}function ot(nt,wt){wt=wt||6;for(var J=M(nt).toHsv(),Xt=J.h,Lt=J.s,Zt=J.v,re=[],le=1/wt;wt--;)re.push(M({h:Xt,s:Lt,v:Zt})),Zt=(Zt+le)%1;return re}M.mix=function(nt,wt,J){J=J===0?0:J||50;var Xt=M(nt).toRgb(),Lt=M(wt).toRgb(),Zt=J/100,re=Zt*2-1,le=Lt.a-Xt.a,oe;re*le==-1?oe=re:oe=(re+le)/(1+re*le),oe=(oe+1)/2;var ve=1-oe,xe={r:Lt.r*oe+Xt.r*ve,g:Lt.g*oe+Xt.g*ve,b:Lt.b*oe+Xt.b*ve,a:Lt.a*Zt+Xt.a*(1-Zt)};return M(xe)},M.readability=function(nt,wt){var J=M(nt),Xt=M(wt),Lt=J.toRgb(),Zt=Xt.toRgb(),re=J.getBrightness(),le=Xt.getBrightness(),oe=Math.max(Lt.r,Zt.r)-Math.min(Lt.r,Zt.r)+Math.max(Lt.g,Zt.g)-Math.min(Lt.g,Zt.g)+Math.max(Lt.b,Zt.b)-Math.min(Lt.b,Zt.b);return{brightness:Math.abs(re-le),color:oe}},M.isReadable=function(nt,wt){var J=M.readability(nt,wt);return J.brightness>125&&J.color>500},M.mostReadable=function(nt,wt){for(var J=null,Xt=0,Lt=!1,Zt=0;Zt<wt.length;Zt++){var re=M.readability(nt,wt[Zt]),le=re.brightness>125&&re.color>500,oe=3*(re.brightness/125)+re.color/500;(le&&!Lt||le&&Lt&&oe>Xt||!le&&!Lt&&oe>Xt)&&(Lt=le,Xt=oe,J=M(wt[Zt]))}return J};var Vt=M.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},mt=M.hexNames=Ft(Vt);function Ft(nt){var wt={};for(var J in nt)nt.hasOwnProperty(J)&&(wt[nt[J]]=J);return wt}function Kt(nt){return nt=parseFloat(nt),(isNaN(nt)||nt<0||nt>1)&&(nt=1),nt}function W(nt,wt){Ct(nt)&&(nt="100%");var J=jt(nt);return nt=P(wt,D(0,parseFloat(nt))),J&&(nt=parseInt(nt*wt,10)/100),L.abs(nt-wt)<1e-6?1:nt%wt/parseFloat(wt)}function Z(nt){return P(1,D(0,nt))}function it(nt){return parseInt(nt,16)}function Ct(nt){return typeof nt=="string"&&nt.indexOf(".")!=-1&&parseFloat(nt)===1}function jt(nt){return typeof nt=="string"&&nt.indexOf("%")!=-1}function ut(nt){return nt.length==1?"0"+nt:""+nt}function Dt(nt){return nt<=1&&(nt=nt*100+"%"),nt}function At(nt){return Math.round(parseFloat(nt)*255).toString(16)}function ee(nt){return it(nt)/255}var Ce=(function(){var nt="[-\\+]?\\d+%?",wt="[-\\+]?\\d*\\.\\d+%?",J="(?:"+wt+")|(?:"+nt+")",Xt="[\\s|\\(]+("+J+")[,|\\s]+("+J+")[,|\\s]+("+J+")\\s*\\)?",Lt="[\\s|\\(]+("+J+")[,|\\s]+("+J+")[,|\\s]+("+J+")[,|\\s]+("+J+")\\s*\\)?";return{rgb:new RegExp("rgb"+Xt),rgba:new RegExp("rgba"+Lt),hsl:new RegExp("hsl"+Xt),hsla:new RegExp("hsla"+Lt),hsv:new RegExp("hsv"+Xt),hsva:new RegExp("hsva"+Lt),hex3:/^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex8:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}})();function de(nt){nt=nt.replace(x,"").replace(N,"").toLowerCase();var wt=!1;if(Vt[nt])nt=Vt[nt],wt=!0;else if(nt=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var J;return(J=Ce.rgb.exec(nt))?{r:J[1],g:J[2],b:J[3]}:(J=Ce.rgba.exec(nt))?{r:J[1],g:J[2],b:J[3],a:J[4]}:(J=Ce.hsl.exec(nt))?{h:J[1],s:J[2],l:J[3]}:(J=Ce.hsla.exec(nt))?{h:J[1],s:J[2],l:J[3],a:J[4]}:(J=Ce.hsv.exec(nt))?{h:J[1],s:J[2],v:J[3]}:(J=Ce.hsva.exec(nt))?{h:J[1],s:J[2],v:J[3],a:J[4]}:(J=Ce.hex8.exec(nt))?{a:ee(J[1]),r:it(J[2]),g:it(J[3]),b:it(J[4]),format:wt?"name":"hex8"}:(J=Ce.hex6.exec(nt))?{r:it(J[1]),g:it(J[2]),b:it(J[3]),format:wt?"name":"hex"}:(J=Ce.hex3.exec(nt))?{r:it(J[1]+""+J[1]),g:it(J[2]+""+J[2]),b:it(J[3]+""+J[3]),format:wt?"name":"hex"}:!1}window.tinycolor=M,i(function(){i.fn.spectrum.load&&i.fn.spectrum.processNativeColorInputs()})}var ub=(function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}})(),U1=(function(i){ub(r,i);function r(t){t===void 0&&(t={});var e=i.call(this,t)||this,n=t.ppfx||"";return e.opts=t,e.ppfx=n,e.em=t.target||{},!t.onChange&&e.listenTo(e.model,"change:value",e.handleModelChange),e}return r.prototype.template=function(){return'<span class="'.concat(this.holderClass(),'"></span>')},r.prototype.inputClass=function(){return"".concat(this.ppfx,"field")},r.prototype.holderClass=function(){return"".concat(this.ppfx,"input-holder")},r.prototype.elementUpdated=function(){this.model.trigger("el:change")},r.prototype.setValue=function(t,e){var n=this.model,o=t||n.get("defaults"),l=this.getInputEl();l&&(l.value=o)},r.prototype.handleModelChange=function(t,e,n){this.setValue(e,n)},r.prototype.handleChange=function(t){t.stopPropagation();var e=this.getInputEl().value;this.__onInputChange(e),this.elementUpdated()},r.prototype.__onInputChange=function(t){this.model.set({value:t},{fromInput:1})},r.prototype.getInputEl=function(){if(!this.inputEl){var t=this,e=t.model,n=t.opts,o=n.type||"text",l=e.get("placeholder")||e.get("defaults")||e.get("default")||"";this.inputEl=(0,Rr.default)('<input type="'.concat(o,'" placeholder="').concat(l,'">'))}return this.inputEl.get(0)},r.prototype.render=function(){this.inputEl=null;var t=this.$el;return t.addClass(this.inputClass()),t.html(this.template()),t.find(".".concat(this.holderClass())).append(this.getInputEl()),this},r})(ae.Ss);const su=U1;U1.prototype.events={change:"handleChange"};var cb=(function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}})(),ds=function(){return ds=Object.assign||function(i){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])}return i},ds.apply(this,arguments)};Rr.default&&lb(Rr.default);var dl=function(i){var r=i.getFormat()==="name"&&i.toName(),t=i.getAlpha()==1?i.toHexString():i.toRgbString();return r||t.replace(/ /g,"")},fb=(function(i){cb(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.template=function(){var t=this.ppfx;return`
      <div class="`.concat(this.holderClass(),`"></div>
      <div class="`).concat(t,`field-colorp">
        <div class="`).concat(t,`field-colorp-c" data-colorp-c>
          <div class="`).concat(t,`checker-bg"></div>
        </div>
      </div>
    `)},r.prototype.inputClass=function(){var t=this.ppfx;return"".concat(t,"field ").concat(t,"field-color")},r.prototype.holderClass=function(){return"".concat(this.ppfx,"input-holder")},r.prototype.remove=function(){return i.prototype.remove.call(this),this.colorEl.spectrum("destroy"),this},r.prototype.handleChange=function(t){t.stopPropagation();var e=t.target.value;(0,X.isUndefined)(e)||this.__onInputChange(e)},r.prototype.__onInputChange=function(t){var e=this,n=e.model,o=e.opts,l=o.onChange,s=t,f=this.getColorEl();if(f){f.spectrum("set",s);var u=f.spectrum("get"),p=s&&dl(u);p&&(s=p)}l?l(s):n.set({value:s},{fromInput:1})},r.prototype.setValue=function(t,e){e===void 0&&(e={});var n=this.model,o=(0,X.isUndefined)(e.def)?n.get("defaults"):e.def,l=(0,X.isUndefined)(t)?(0,X.isUndefined)(o)?"":o:t,s=this.getInputEl(),f=this.getColorEl(),u=l!="none"?l:"";s.value=l,f.get(0).style.backgroundColor=u,(e.fromTarget||e.fromInput&&!e.avoidStore)&&(f.spectrum("set",u),this.noneColor=l=="none",this.movedColor=u)},r.prototype.getColorEl=function(){var t=this;if(!this.colorEl){var e=this,n=e.em,o=e.model,l=e.opts,s=this.ppfx,f=l.onChange,u=(0,Rr.default)('<div class="'.concat(this.ppfx,'field-color-picker"></div>')),p=u.get(0).style,d=n&&n.getConfig&&n.getConfig().colorPicker||{};this.movedColor="";var h=!1,v;this.$el.find("[data-colorp-c]").append(u);var _=function(T,w){w===void 0&&(w=!0),f?f(T,!w):(w&&o.setValueFromInput(0,!1),o.setValueFromInput(T,w))};u.spectrum(ds(ds(ds({color:o.getValue()||!1,containerClassName:"".concat(s,"one-bg ").concat(s,"two-color ").concat(s,"editor-sp"),maxSelectionSize:8,showPalette:!0,showAlpha:!0,chooseText:"Ok",cancelText:"⨯",palette:[]},d),o.get("colorPicker")||{}),{move:function(T){var w=dl(T);t.movedColor=w,p.backgroundColor=w,_(w,!1)},change:function(T){h=!0;var w=dl(T);p.backgroundColor=w,_(w),t.noneColor=!1},show:function(T){h=!1,t.movedColor="",v=f?o.getValue({noDefault:!0}):dl(T)},hide:function(){!h&&(v||f)&&(t.noneColor&&(v=""),p.backgroundColor=v,u.spectrum("set",v),_(v,!1))}})),n&&n.on&&this.listenTo(n,"component:selected",function(){t.movedColor&&_(t.movedColor),h=!0,t.movedColor="",u.spectrum("hide")}),this.colorEl=u}return this.colorEl},r.prototype.render=function(){return su.prototype.render.call(this),this.getColorEl(),this},r})(su);const B1=fb;var pb=(function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}})(),db=(function(i){pb(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.templateInput=function(){return""},r.prototype.getInputEl=function(){if(!this.input){var t=this.model,e=this.getModelValue(),n=new B1({model:t,target:this.config.em,contClass:this.ppfx+"field-color",ppfx:this.ppfx}),o=n.render();o.setValue(e,{fromTarget:1}),this.input=o.el}return this.input},r})(Eo);const hb=db;var vb=(function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}})(),W1=(function(i){vb(r,i);function r(t){t===void 0&&(t={});var e=i.call(this,t)||this;return(0,X.bindAll)(e,"moveIncrement","upIncrement"),e.doc=document,e.listenTo(e.model,"change:unit",e.handleModelChange),e}return r.prototype.template=function(){var t=this.ppfx;return`
      <span class="`.concat(t,`input-holder"></span>
      <span class="`).concat(t,`field-units"></span>
      <div class="`).concat(t,`field-arrows" data-arrows>
        <div class="`).concat(t,`field-arrow-u" data-arrow-up></div>
        <div class="`).concat(t,`field-arrow-d" data-arrow-down></div>
      </div>
    `)},r.prototype.inputClass=function(){var t=this.ppfx;return this.opts.contClass||"".concat(t,"field ").concat(t,"field-integer")},r.prototype.setValue=function(t,e){var n=e||{},o=this.validateInputValue(t,{deepCheck:1}),l={value:o.value,unit:""};(o.unit||o.force)&&(l.unit=o.unit),this.model.set(l,n),n.silent&&this.handleModelChange()},r.prototype.handleChange=function(t){t.stopPropagation(),this.setValue(this.getInputEl().value),this.elementUpdated()},r.prototype.handleUnitChange=function(t){t.stopPropagation();var e=this.getUnitEl().value;this.model.set("unit",e),this.elementUpdated()},r.prototype.handleKeyDown=function(t){t.key==="ArrowUp"&&(t.preventDefault(),this.upArrowClick()),t.key==="ArrowDown"&&(t.preventDefault(),this.downArrowClick())},r.prototype.elementUpdated=function(){this.model.trigger("el:change")},r.prototype.handleModelChange=function(){var t=this.model;this.getInputEl().value=t.get("value");var e=this.getUnitEl();e&&(e.value=t.get("unit")||"")},r.prototype.getUnitEl=function(){if(!this.unitEl){var t=this.model,e=t.get("units")||[];if(e.length){var n=['<option value="" disabled hidden>-</option>'];e.forEach(function(l){var s=l==t.get("unit")?"selected":"";n.push("<option ".concat(s,">").concat(l,"</option>"))});var o=document.createElement("div");o.innerHTML='<select class="'.concat(this.ppfx,'input-unit">').concat(n.join(""),"</select>"),this.unitEl=o.firstChild}}return this.unitEl},r.prototype.upArrowClick=function(){var t=this.model,e=t.get("step"),n=parseFloat(this.getInputEl().value);this.setValue(this.normalizeValue(n+e)),this.elementUpdated()},r.prototype.downArrowClick=function(){var t=this.model,e=t.get("step"),n=parseFloat(this.getInputEl().value);this.setValue(this.normalizeValue(n-e)),this.elementUpdated()},r.prototype.downIncrement=function(t){t.preventDefault(),this.moved=!1;var e=this.model.get("value")||0;e=this.normalizeValue(e),this.current={y:t.pageY,val:e},(0,ue.on)(this.doc,"mousemove",this.moveIncrement),(0,ue.on)(this.doc,"mouseup",this.upIncrement)},r.prototype.moveIncrement=function(t){this.moved=!0;var e=this.model,n=e.get("step"),o=this.current,l=this.normalizeValue(o.val+(o.y-t.pageY)*n),s=this.validateInputValue(l),f=s.value,u=s.unit;return this.prValue=f,e.set({value:f,unit:u},{avoidStore:1}),!1},r.prototype.upIncrement=function(){var t=this.model,e=t.get("step");if((0,ue.AU)(this.doc,"mouseup",this.upIncrement),(0,ue.AU)(this.doc,"mousemove",this.moveIncrement),this.prValue&&this.moved){var n=this.prValue-e;t.set("value",n,{avoidStore:1}).set("value",n+e),this.elementUpdated()}},r.prototype.normalizeValue=function(t,e){e===void 0&&(e=0);var n=this.model,o=n.get("step"),l=0;if(isNaN(t))return e;if(t=parseFloat(t),Math.floor(t)!==t){var s=o.toString().split(".")[1];l=s?s.length:0}return l?parseFloat(t.toFixed(l)):t},r.prototype.validateInputValue=function(t,e){e===void 0&&(e={});var n=0,o=e||{},l=this.model,s="",f=(0,X.isUndefined)(t)?s:t,u=e.units||l.get("units")||[],p=l.get("unit")||u.length&&u[0]||"",d=(0,X.isUndefined)(e.max)?l.get("max"):e.max,h=(0,X.isUndefined)(e.min)?l.get("min"):e.min,v=!!l.get("limitlessMax"),_=!!l.get("limitlessMin");if(o.deepCheck){var T=l.get("fixedValues")||[];if(f===""&&(p=""),f){var w=new RegExp("^"+T.join("|"),"g");if(T.length&&w.test(f))f=f.match(w)[0],p="",n=1;else{var C=f+"";f+="",f=parseFloat(f.replace(",",".")),f=isNaN(f)?s:f;var A=C.replace(f,"");(0,X.indexOf)(u,A)>=0&&(p=A)}}}return!isNaN(f)&&f!==""&&(!v&&!(0,X.isUndefined)(d)&&d!==""&&(f=f>d?d:f),!_&&!(0,X.isUndefined)(h)&&h!==""&&(f=f<h?h:f)),{force:n,value:f,unit:p}},r.prototype.render=function(){su.prototype.render.call(this),this.unitEl=null;var t=this.getUnitEl();return t&&this.$el.find(".".concat(this.ppfx,"field-units")).get(0).appendChild(t),this},r})(su);const z1=W1;W1.prototype.events={"change input":"handleChange","change select":"handleUnitChange","click [data-arrow-up]":"upArrowClick","click [data-arrow-down]":"downArrowClick","mousedown [data-arrows]":"downIncrement",keydown:"handleKeyDown"};var gb=(function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}})(),mb=(function(i){gb(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getValueForTarget=function(){var t=this.model,e=t.attributes,n=e.value,o=e.unit;return!(0,X.isUndefined)(n)&&n!==""?n+o:t.get("default")},r.prototype.getInputEl=function(){if(!this.input){var t=this,e=t.ppfx,n=t.model,o=this.getModelValue(),l=new z1({contClass:"".concat(e,"field-int"),type:"number",model:n,ppfx:e});l.render(),this.$input=l.inputEl,this.$unit=l.unitEl,n.set("value",o,{fromTarget:!0}),this.$input.val(o),this.input=l.el}return this.input},r})(Eo);const yb=mb;var _b=(function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}})(),bb=(function(i){_b(r,i);function r(t){t===void 0&&(t={});var e=i.call(this,t)||this;return e.listenTo(e.model,"change:options",e.rerender),e}return r.prototype.templateInput=function(){var t=this,e=t.ppfx,n=t.clsField;return'<div class="'.concat(n,`">
      <div data-input></div>
      <div class="`).concat(e,`sel-arrow">
        <div class="`).concat(e,`d-s-arrow"></div>
      </div>
    </div>`)},r.prototype.getInputEl=function(){if(!this.$input){var t=this,e=t.model,n=t.em,o=e.get("name"),l=e.get("options")||[],s=[],f="<select>";l.forEach(function(d){var h="",v,_,T;(0,X.isString)(d)?(v=d,_=d):(v=d.name||d.label||d.value,_="".concat((0,X.isUndefined)(d.value)?d.id:d.value).replace(/"/g,"&quot;"),T=d.style?d.style.replace(/"/g,"&quot;"):"",h+=T?' style="'.concat(T,'"'):"");var w=n.t("traitManager.traits.options.".concat(o,".").concat(_))||v;f+='<option value="'.concat(_,'"').concat(h,">").concat(w,"</option>"),s.push(_)}),f+="</select>",this.$input=(0,Rr.default)(f);var u=e.getTargetValue(),p=s.indexOf(u)>=0?u:e.get("default");!(0,X.isUndefined)(p)&&this.$input.val(p)}return this.$input.get(0)},r})(Eo);const Tb=bb;var Cb=qe(8242),wb=(function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}})(),sh="data-categories",lh="data-no-categories",K1=(function(i){wb(r,i);function r(t,e){var n=i.call(this,t)||this;n.reuseView=!0,n.renderedCategories=new Map,n.itemsView=e;var o=t.config||{};n.config=o;var l=t.editor;n.em=l;var s=o.pStylePrefix||"";return n.ppfx=s,n.pfx=s+o.stylePrefix||"",n.className="".concat(n.pfx,"traits"),n.traitContClass="".concat(s,"traits-c"),n.classNoCat="".concat(s,"traits-empty-c"),n.catsClass="".concat(s,"trait-categories"),n.collection=new Ll([],{em:l}),n.listenTo(l,"component:toggled",n.updatedCollection),n.updatedCollection(),n}return r.prototype.updatedCollection=function(){var t=this,e=t.ppfx,n=t.em,o=n.getSelected();this.el.className="".concat(this.traitContClass,"s ").concat(e,"one-bg ").concat(e,"two-color"),this.collection=o?.traits||new Ll([],{em:n}),this.render()},r.prototype.add=function(t,e){var n=this,o=n.config,l=n.renderedCategories,s=this.itemView,f=t.get(this.itemType);this.itemsView&&this.itemsView[f]&&(s=this.itemsView[f]);var u=new s({config:o,model:t,attributes:t.get("attributes")}),p=u.render().el,d=t.parent.initCategory(t);if(d){var h=d.getId(),v=this.getCategoriesEl(),_=l.get(h);!_&&v&&(_=new A1({model:d},o,"trait").render(),l.set(h,_),v.appendChild(_.el)),_?.append(p);return}e?e.appendChild(p):this.append(p)},r.prototype.getCategoriesEl=function(){return this.catsEl||(this.catsEl=this.el.querySelector("[".concat(sh,"]"))),this.catsEl},r.prototype.getTraitsEl=function(){return this.traitsEl||(this.traitsEl=this.el.querySelector("[".concat(lh,"]"))),this.traitsEl},r.prototype.append=function(t){var e=this.getTraitsEl();e?.appendChild(t)},r.prototype.render=function(){var t=this,e=this,n=e.el,o=e.ppfx,l=e.catsClass,s=e.traitContClass,f=e.classNoCat,u=document.createDocumentFragment();delete this.catsEl,delete this.traitsEl,this.renderedCategories=new Map,n.innerHTML=`
      <div class="`.concat(l,'" ').concat(sh,`></div>
      <div class="`).concat(f," ").concat(s,'" ').concat(lh,`></div>
    `),this.collection.forEach(function(d){return t.add(d,u)}),this.append(u);var p="".concat(s,"s ").concat(o,"one-bg ").concat(o,"two-color");return this.$el.addClass(p),this.rendered=!0,this},r})(Cb.A);const uh=K1;K1.prototype.itemView=Eo;var Sb=(function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}})(),Eb=function(i,r,t){if(t||arguments.length===2)for(var e=0,n=r.length,o;e<n;e++)(o||!(e in r))&&(o||(o=Array.prototype.slice.call(r,0,e)),o[e]=r[e]);return i.concat(o||Array.prototype.slice.call(r))},xb=(function(i){Sb(r,i);function r(t){var e=i.call(this,t,"TraitManager",eb())||this;e.TraitsView=uh,e.events=kl,e.state=new ae.Kx({traits:[]}),e.types={text:Eo,number:yb,select:Tb,checkbox:sb,color:hb,button:ob};var n=e,o=n.state,l=n.config,s=n.events,f=l.pStylePrefix;f&&(l.stylePrefix="".concat(f).concat(l.stylePrefix)),(0,X.bindAll)(e,"__onSelect");var u=(0,X.debounce)(function(){return e.__upSel()},0),p=(0,X.debounce)(function(){return e.__onUp()},0);return o.listenTo(t,"component:toggled",u),o.listenTo(t,s.value,p),o.on("change:traits",e.__onSelect),e.debounced=[u,p],e}return r.prototype.select=function(t){var e=t?.getTraits()||[];this.state.set({component:t,traits:e}),this.__trgCustom()},r.prototype.getCategories=function(){var t,e=this.getComponent(),n=((t=e?.traits.categories)===null||t===void 0?void 0:t.models)||[];return Eb([],n,!0)},r.prototype.getTraits=function(){return this.getCurrent()},r.prototype.getTraitsByCategory=function(t){return l1(t||this.getTraits())},r.prototype.getComponent=function(){return this.state.attributes.component},r.prototype.addType=function(t,e){var n=this.getType("text");this.types[t]=n.extend(e)},r.prototype.getType=function(t){return this.getTypes()[t]},r.prototype.getTypes=function(){return this.types},r.prototype.getTraitsViewer=function(){return this.view},r.prototype.getCurrent=function(){return this.state.get("traits")||[]},r.prototype.render=function(){var t=this.view,e=this.em;return t=new uh({el:t?.el,collection:[],editor:e,config:this.getConfig()},this.getTypes()),this.view=t,t.el},r.prototype.postRender=function(){this.__appendTo()},r.prototype.__onSelect=function(){var t=this,e=t.em,n=t.events,o=t.state,l=o.attributes,s=l.component,f=l.traits;e.trigger(n.select,{component:s,traits:f})},r.prototype.__trgCustom=function(t){t===void 0&&(t={});var e=this,n=e.em,o=e.events,l=e.__ctn;this.__ctn=l||t.container,n.trigger(o.custom,this.__customData())},r.prototype.__customData=function(){return{container:this.__ctn}},r.prototype.__upSel=function(){this.select(this.em.getSelected())},r.prototype.__onUp=function(){this.select(this.getComponent())},r})(Cn);const Ob=xb;var Ab=function(){return{stylePrefix:"",appendTo:"",sortable:!0,hidable:!0,hideTextnode:!0,root:"",showWrapper:!0,showHover:!0,scrollCanvas:{behavior:"smooth",block:"nearest"},scrollLayers:{behavior:"auto",block:"nearest"},highlightHover:!0,custom:!1,onInit:function(){},onRender:function(){},extend:{}}};const Pb=Ab;var Cf;(function(i){i.root="layer:root",i.component="layer:component",i.custom="layer:custom"})(Cf||(Cf={}));var kb=qe(6756),Mb=(function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}})(),Nb=(function(i){Mb(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t._dropAreaConfig={ratio:.4,minUndroppableDimension:3,maxUndroppableDimension:20},t}return Object.defineProperty(r.prototype,"view",{get:function(){return this.model.viewLayer},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"element",{get:function(){var t;return(t=this.model.viewLayer)===null||t===void 0?void 0:t.el},enumerable:!1,configurable:!0}),r})(kb.h);const Lb=Nb;var Ib=(function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}})(),Db=(function(i){Ib(r,i);function r(t){t===void 0&&(t={});var e=i.call(this,t)||this;e.items=[],e.opt=t;var n=t.config||{};e.config=n,e.module=t.module,e.parentView=t.parentView;var o=n.stylePrefix||"";n.pStylePrefix;var l=e.collection;e.listenTo(l,"add",e.addTo),e.listenTo(l,"reset resetNavigator",e.render),e.listenTo(l,"remove",e.removeChildren),e.className="".concat(o,"layers");var s=n.em;if(n.sortable&&!e.opt.sorter){var f=s.Utils,u=n.sortContainer||e.el,p=e.createPlaceholder(o);e.opt.sorter=new f.ComponentSorter({em:s,treeClass:Lb,containerContext:{container:u,containerSel:".".concat(e.className),itemSel:".".concat(o,"layer"),pfx:n.pStylePrefix,document,placeholderElement:p},dragBehavior:{dragDirection:Si.A.Vertical,nested:!0}})}return e.$el.data("collection",l),t.parent&&e.$el.data("model",t.parent),e}return r.prototype.createPlaceholder=function(t){var e=document.createElement("div"),n=document.createElement("div");return this.el.parentNode,e.className=t+"placeholder",e.style.display="none",e.style.pointerEvents="none",n.className=t+"placeholder-int",e.appendChild(n),e},r.prototype.removeChildren=function(t){var e=t.viewLayer;e&&(e.remove(),delete t.viewLayer)},r.prototype.addTo=function(t){this.addToCollection(t,null,this.collection.indexOf(t))},r.prototype.addToCollection=function(t,e,n){var o=this,l=o.parentView,s=o.opt,f=o.config,u=o.el,p=s.ItemView,d=s.opened,h=s.module,v=s.level,_=s.sorter,T=t.viewLayer||new p({ItemView:p,level:v,model:t,parentView:l,config:f,sorter:_,opened:d,module:h}),w=T.render().el;if(e)e.appendChild(w);else{var C=u,A=C.childNodes;if((0,X.isUndefined)(n))C.appendChild(w);else{var S=A.length==n;S&&n--,S||!A.length?C.appendChild(w):C.insertBefore(w,A[n])}}return this.items.push(T),w},r.prototype.remove=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return ae.Ss.prototype.remove.apply(this,t),this.items.map(function(n){return n.remove()}),this},r.prototype.render=function(){var t=this,e=this,n=e.el,o=e.module,l=document.createDocumentFragment();return n.innerHTML="",this.collection.map(function(s){return o.__getLayerFromComponent(s)}).forEach(function(s){return t.addToCollection(s,l)}),n.appendChild(l),n.className=this.className,this},r})(ae.Ss);const Rb=Db;var Hc=qe(9946),jb=function(){return{stylePrefix:"com-",defaults:{},strict:!0,defaultOptions:{}}};const Hb=jb;var Fb=qe(1738),Vb=(function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}})(),lu=function(){return lu=Object.assign||function(i){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])}return i},lu.apply(this,arguments)},ch=function(i,r,t){if(t||arguments.length===2)for(var e=0,n=r.length,o;e<n;e++)(o||!(e in r))&&(o||(o=Array.prototype.slice.call(r,0,e)),o[e]=r[e]);return i.concat(o||Array.prototype.slice.call(r))},fh=[["preview","Preview","preview"],["resize","Resize","resize"],["fullscreen","Fullscreen","fullscreen"],["copy","CopyComponent"],["paste","PasteComponent"],["canvas-move","CanvasMove"],["canvas-clear","CanvasClear"],["open-code","ExportTemplate","export-template"],["open-layers","OpenLayers","open-layers"],["open-styles","OpenStyleManager","open-sm"],["open-traits","OpenTraitManager","open-tm"],["open-blocks","OpenBlocks","open-blocks"],["open-assets","OpenAssets","open-assets"],["component-select","SelectComponent","select-comp"],["component-outline","SwitchVisibility","sw-visibility"],["component-offset","ShowOffset","show-offset"],["component-move","MoveComponent","move-comp"],["component-next","ComponentNext"],["component-prev","ComponentPrev"],["component-enter","ComponentEnter"],["component-exit","ComponentExit","select-parent"],["component-delete","ComponentDelete"],["component-style-clear","ComponentStyleClear"],["component-drag","ComponentDrag"]],G1={preserveSelected:1},q1=function(i){return function(r){return i.trigger("".concat(Wf,":start"),r)}},Y1=function(i){return function(r){return i.trigger(Wf,r)}},X1=function(i,r,t){return t===void 0&&(t={}),function(e,n,o){setTimeout(function(){r.forEach(function(l){return l.set("status",l.get("selectable")?"selected":"")}),i.setSelected(r),r[0].emitUpdate()}),i.trigger("".concat(Wf,":end"),o),setTimeout(function(){return i.runDefault(G1)}),(t.altMode||o.cancelled)&&i.set("_cmpDrag",1)}},Ub=(function(i){Vb(r,i);function r(t){var e=i.call(this,t,"Commands",Hb())||this;e.CommandAbstract=Hc.default,e.defaultCommands={},e.commands={},e.active={},e.events=Fb.A;var n=e.config,o=n.pStylePrefix,l=e.defaultCommands;o&&(n.stylePrefix=o+n.stylePrefix),Object.keys(n.defaults).forEach(function(f){var u=n.defaults[f];u.id&&e.add(u.id,u)}),l["tlb-delete"]={run:function(f){return f.runCommand("core:component-delete")}},l["tlb-clone"]={run:function(f){f.runCommand("core:copy"),f.runCommand("core:paste",{action:"clone-component"})}},l["tlb-move"]={run:function(f,u,p){var d,h;p===void 0&&(p={});var v=f.getModel(),_=p.event,T=p.target,w=Array.isArray(T)?T:T?[T]:ch([],f.getSelectedAll(),!0),C=w.map(function(M){var z,H;return((H=(z=M.delegate)===null||z===void 0?void 0:z.move)===null||H===void 0?void 0:H.call(z,M))||M}).filter(Boolean),A=C[C.length-1],S=_?.type==="dragstart",x=["absolute","translate"];if(!A?.get("draggable"))return v.logWarning("The element is not draggable");var N=p.mode||A.get("dmode")||v.get("dmode"),b=function(){return v.stopDefault(G1)},L=(0,X.includes)(x,N);C.forEach(function(M){return M.trigger("disable",{fromMove:!0})}),S?setTimeout(b,0):b();var k=q1(v),P=Y1(v),D=X1(v,C,{altMode:L});if(L)f.runCommand("core:component-drag",{guidesInfo:1,mode:N,target:A,onStart:k,onDrag:P,onEnd:D,event:_});else{S&&((d=_?.dataTransfer)===null||d===void 0||d.setDragImage((h=A.view)===null||h===void 0?void 0:h.el,0,0));var R=f.Commands.get("move-comp");R.onStart=k,R.onDrag=P,R.onEndMoveFromModel=D,R.initSorterFromModels(C)}C.filter(function(M){return M.get("selectable")}).forEach(function(M){return M.set("status","freezed-selected")})}},l["core:undo"]=function(f){return f.UndoManager.undo()},l["core:redo"]=function(f){return f.UndoManager.redo()},fh.forEach(function(f){var u=f[2],p=qe(585)("./".concat(f[1])).default,d="core:".concat(f[0]);l[d]=p,u&&(l[u]=p,["run","stop"].forEach(function(h){t.on("".concat(h,":").concat(u),function(){for(var v=[],_=0;_<arguments.length;_++)v[_]=arguments[_];return t.trigger.apply(t,ch(["".concat(h,":").concat(d)],v,!1))})}))}),n.model=t.Canvas;for(var s in l)e.add(s,l[s]);return e}return r.prototype.add=function(t,e){var n=(0,X.isFunction)(e)?{run:e}:e;return n.stop||(n.noStop=!0),delete n.initialize,n.id=t,this.commands[t]=Hc.default.extend(n),this},r.prototype.get=function(t){var e=this.commands[t];return(0,X.isFunction)(e)?(e=new e(this.config),this.commands[t]=e):e||this.em.logWarning("'".concat(t,"' command not found")),e},r.prototype.extend=function(t,e){e===void 0&&(e={});var n=this.get(t);if(n){var o=lu(lu({},n.constructor.prototype),e);this.add(t,o);var l=fh.filter(function(s){return"core:".concat(s[0])===t&&s[2]})[0];l&&this.add(l[2],o)}return this},r.prototype.has=function(t){return!!this.commands[t]},r.prototype.getAll=function(){return this.commands},r.prototype.run=function(t,e){return e===void 0&&(e={}),this.runCommand(this.get(t),e)},r.prototype.stop=function(t,e){return e===void 0&&(e={}),this.stopCommand(this.get(t),e)},r.prototype.isActive=function(t){return this.getActive().hasOwnProperty(t)},r.prototype.getActive=function(){return this.active},r.prototype.runCommand=function(t,e){var n,o;e===void 0&&(e={});var l;if(t?.run){var s=this,f=s.em,u=s.config,p=t.id,d=f.Editor;if(!this.isActive(p)||e.force||!u.strict){var h=(o=(n=u.defaultOptions)===null||n===void 0?void 0:n[p])===null||o===void 0?void 0:o.run;(0,X.isFunction)(h)&&(e=h(e)),l=d&&t.callRun(d,e)}}return l},r.prototype.stopCommand=function(t,e){var n,o;e===void 0&&(e={});var l;if(t?.run){var s=this,f=s.em,u=s.config,p=t.id,d=f.Editor;if(this.isActive(p)||e.force||!u.strict){var h=(o=(n=u.defaultOptions)===null||n===void 0?void 0:n[p])===null||o===void 0?void 0:o.stop;(0,X.isFunction)(h)&&(e=h(e)),l=t.callStop(d,e)}}return l},r.prototype.create=function(t){t.stop||(t.noStop=!0);var e=Hc.default.extend(t);return new e(this.config)},r.prototype.__onRun=function(t,e){var n=this,o=n.em,l=n.events;o.on("".concat(l.runCommand).concat(t),e)},r.prototype.__onStop=function(t,e){var n=this,o=n.em,l=n.events;o.on("".concat(l.stopCommand).concat(t),e)},r.prototype.destroy=function(){this.defaultCommands={},this.commands={},this.active={}},r})(Cn);const Bb=Ub;var Wb=(function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}})(),wf=function(){return wf=Object.assign||function(i){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])}return i},wf.apply(this,arguments)},ph="contentEditable",hl="data-toggle-move",zb=(function(i){Wb(r,i);function r(t){var e=i.call(this,t)||this;(0,X.bindAll)(e,"__render"),e.opt=t,e.module=t.module,e.config=t.config||{},e.sorter=t.sorter||"",e.parentView=t.parentView;var n=e,o=n.model,l=n.pfx,s=n.ppfx,f=o.get("type")||"default";return e.className="".concat(l,"layer ").concat(l,"layer__t-").concat(f," no-select ").concat(s,"two-color"),e.inputNameCls="".concat(s,"layer-name"),e.clsTitleC="".concat(l,"layer-title-c"),e.clsTitle="".concat(l,"layer-title"),e.clsCaret="".concat(l,"layer-caret"),e.clsCount="".concat(l,"layer-count"),e.clsMove="".concat(l,"layer-move"),e.clsChildren="".concat(l,"layer-children"),e.clsNoChild="".concat(l,"layer-no-chld"),e.clsEdit="".concat(e.inputNameCls,"--edit"),e.clsNoEdit="".concat(e.inputNameCls,"--no-edit"),e.initComponent(),e}return r.prototype.events=function(){var t;return t={},t["mousedown [".concat(hl,"]")]="startSort",t["touchstart [".concat(hl,"]")]="startSort",t["click [data-toggle-visible]"]="toggleVisibility",t["click [data-toggle-open]"]="toggleOpening",t["click [data-toggle-select]"]="handleSelect",t["mouseover [data-toggle-select]"]="handleHover",t["mouseout [data-toggle-select]"]="handleHoverOut",t["dblclick [data-name]"]="handleEdit",t["keydown [data-name]"]="handleEditKey",t["focusout [data-name]"]="handleEditEnd",t},r.prototype.template=function(t){var e=this,n=e.pfx,o=e.ppfx,l=e.config,s=e.clsNoEdit,f=e.module,u=e.opt,p=e.em,d=l.hidable,h=f.getComponents(t).length,v=h?"":this.clsNoChild,_="".concat(this.clsTitle," ").concat(v),T="".concat(this.clsTitleC),w="".concat(this.inputNameCls," ").concat(s," ").concat(o,"no-app"),C=u.level||0,A="".concat(C*10,"px"),S=t.getName(),x=t.getIcon(),N="".concat(n,"layer"),b=(p?.getConfig()).icons,L=b,k=L.move,P=L.eye,D=L.eyeOff,R=L.chevron;return`
      <div class="`.concat(n,"layer-item ").concat(o,`one-bg" data-toggle-select>
        <div class="`).concat(n,`layer-item-left">
          `).concat(d?'<i class="'.concat(n,`layer-vis" data-toggle-visible>
                <i class="`).concat(n,'layer-vis-on">').concat(P,`</i>
                <i class="`).concat(n,'layer-vis-off">').concat(D,`</i>
              </i>`):"",`
          <div class="`).concat(T,`">
            <div class="`).concat(_,'" style="padding-left: ').concat(A,`">
              <div class="`).concat(n,'layer-title-inn" title="').concat(S,`">
                <i class="`).concat(this.clsCaret,'" data-toggle-open>').concat(R,`</i>
                  `).concat(x?'<span class="'.concat(N,'__icon">').concat(x,"</span>"):"",`
                <span class="`).concat(w,'" data-name>').concat(S,`</span>
              </div>
            </div>
          </div>
        </div>
        <div class="`).concat(n,`layer-item-right">
          <div class="`).concat(this.clsCount,'" data-count>').concat(h||"",`</div>
          <div class="`).concat(this.clsMove,'" ').concat(hl,">").concat(k||"",`</div>
        </div>
      </div>
      <div class="`).concat(this.clsChildren,`"></div>
    `)},Object.defineProperty(r.prototype,"em",{get:function(){return this.module.em},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"ppfx",{get:function(){return this.em.getConfig().stylePrefix},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"pfx",{get:function(){return this.config.stylePrefix},enumerable:!1,configurable:!0}),r.prototype.initComponent=function(){var t=this,e=this,n=e.model,o=e.config,l=o.onInit,s=n.components();this.listenTo(s,"remove add reset",this.checkChildren),[["change:status",this.updateStatus],["change:open",this.updateOpening],["change:layerable",this.updateLayerable],["change:style:display",this.updateVisibility],["change:draggable",this.updateMove],["rerender:layer",this.render],["change:name change:custom-name",this.updateName]].forEach(function(f){return t.listenTo(n,f[0],f[1])}),this.$el.data("model",n),this.$el.data("collection",s),n.viewLayer=this,l.bind(this)({component:n,render:this.__render,listenTo:this.listenTo})},r.prototype.updateName=function(){this.getInputName().innerText=this.model.getName()},r.prototype.getVisibilityEl=function(){return this.getItemContainer().find("[data-toggle-visible]")},r.prototype.updateVisibility=function(){var t=this,e=t.pfx,n=t.model,o=t.module,l="".concat(e,"layer-hidden"),s=!o.isVisible(n),f=s?"addClass":"removeClass";this.$el[f](l),this.getVisibilityEl()[f]("".concat(e,"layer-off"))},r.prototype.updateMove=function(){var t=this,e=t.model,n=t.config,o=this.getItemContainer().find("[".concat(hl,"]"))[0];if(o){var l=e.get("draggable")&&n.sortable;o.style.display=l?"":"none"}},r.prototype.toggleVisibility=function(t){t?.stopImmediatePropagation();var e=this,n=e.module,o=e.model;n.setVisible(o,!n.isVisible(o))},r.prototype.handleEdit=function(t){t?.stopPropagation();var e=this,n=e.em,o=e.$el,l=e.clsNoEdit,s=e.clsEdit,f=this.getInputName();f[ph]="true",f.focus(),document.execCommand("selectAll",!1),n.setEditing(!0),o.find(".".concat(this.inputNameCls)).removeClass(l).addClass(s)},r.prototype.handleEditKey=function(t){t.stopPropagation(),((0,ue.v$)(t)||(0,ue.Ci)(t))&&this.handleEditEnd(t)},r.prototype.handleEditEnd=function(t){t?.stopPropagation();var e=this,n=e.em,o=e.$el,l=e.clsNoEdit,s=e.clsEdit,f=e.model,u=this.getInputName(),p=u.textContent;u.scrollLeft=0,u[ph]="false",f.setName(p),n.setEditing(!1),o.find(".".concat(this.inputNameCls)).addClass(l).removeClass(s),this.updateName()},r.prototype.getInputName=function(){return this.inputName||(this.inputName=this.el.querySelector(".".concat(this.inputNameCls))),this.inputName},r.prototype.updateOpening=function(){var t=this,e=t.$el,n=t.model,o=t.pfx,l="open",s="".concat(o,"layer-open"),f=this.getCaret();this.module.isOpen(n)?(e.addClass(l),f.addClass(s)):(e.removeClass(l),f.removeClass(s))},r.prototype.toggleOpening=function(t){var e=this,n=e.model,o=e.module;t?.stopImmediatePropagation(),n.get("components").length&&o.setOpen(n,!o.isOpen(n))},r.prototype.handleSelect=function(t){t?.stopPropagation();var e=this,n=e.module,o=e.model;n.setLayerData(o,{selected:!0},{event:t})},r.prototype.handleHover=function(t){t?.stopPropagation();var e=this,n=e.module,o=e.model;n.setLayerData(o,{hovered:!0})},r.prototype.handleHoverOut=function(t){t?.stopPropagation();var e=this,n=e.module,o=e.model;n.setLayerData(o,{hovered:!1})},r.prototype.startSort=function(t){var e,n,o;t.stopPropagation();var l=this,s=l.em,f=l.sorter,u=l.model;if(!(t.button&&t.button!==0)&&f){var p=((n=(e=u.delegate)===null||e===void 0?void 0:e.move)===null||n===void 0?void 0:n.call(e,u))||u;f.eventHandlers=wf({legacyOnStartSort:q1(s),legacyOnMoveClb:Y1(s),legacyOnEndMove:X1(s,[p])},f.eventHandlers);var d=((o=p.viewLayer)===null||o===void 0?void 0:o.el)||t.target;f.startSort([{element:d}])}},r.prototype.updateStatus=function(){lr.prototype.updateStatus.apply(this,[{avoidHover:!this.config.highlightHover,noExtHl:!0}])},r.prototype.getItemContainer=function(){return this.$el.children("[data-toggle-select]")},r.prototype.checkChildren=function(){var t=this,e=t.model,n=t.clsNoChild,o=t.module,l=o.getComponents(e).length,s=this.getItemContainer(),f=s.find(".".concat(this.clsTitle)),u=s.find("[data-count]");f[l?"removeClass":"addClass"](n),u.html("".concat(l||"")),!l&&o.setOpen(e,!1)},r.prototype.getCaret=function(){return(!this.caret||!this.caret.length)&&(this.caret=this.getItemContainer().find(".".concat(this.clsCaret))),this.caret},r.prototype.setRoot=function(t){var e,n=(0,X.isString)(t)?(e=this.em.getWrapper())===null||e===void 0?void 0:e.find(t)[0]:t;n&&(this.stopListening(),this.model=n,this.initComponent(),this._rendered&&this.render())},r.prototype.updateLayerable=function(){var t=this.parentView,e=t||this;e.render()},r.prototype.__clearItems=function(){var t;(t=this.items)===null||t===void 0||t.remove()},r.prototype.remove=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return ae.Ss.prototype.remove.apply(this,t),delete this.model.viewLayer,this.__clearItems(),this},r.prototype.render=function(){var t=this,e=t.model,n=t.config,o=t.pfx,l=t.ppfx,s=t.opt,f=t.sorter;this.__clearItems();var u=s.opened,p=s.module,d=s.ItemView,h=!p.__isLayerable(e),v=this.$el.empty(),_=s.level+1;delete this.inputName,this.items=new Rb({ItemView:d,collection:e.get("components"),config:n,sorter:f,opened:u,parentView:this,parent:e,level:_,module:p});var T=this.items.render().$el;return!n.showWrapper&&_===1?v.append(T):(v.html(this.template(e)),v.find(".".concat(this.clsChildren)).append(T)),!p.isVisible(e)&&(this.className+=" ".concat(o,"hide")),h&&(this.className+=" ".concat(l,"hidden")),v.attr("class",this.className),this.updateStatus(),this.updateOpening(),this.updateVisibility(),this.updateMove(),this.__render(),this._rendered=!0,this},r.prototype.__render=function(){var t=this,e=t.model,n=t.config,o=t.el,l=n.onRender,s={component:e,el:o};l.bind(this)(s),this.em.trigger("layer:render",s)},r})(ae.Ss);const Kb=zb;var Gb=(function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}})(),Sf=function(){return Sf=Object.assign||function(i){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])}return i},Sf.apply(this,arguments)},Fc={mediaText:""},qb=["open","status","locked","custom-name","components","classes"].map(function(i){return"".concat(Xe.I.update,":").concat(i)}).join(" "),Yb=function(i){return i===void 0&&(i={}),(i.display||"").trim().indexOf("none")===0},Xb=(function(i){Gb(r,i);function r(t){var e=i.call(this,t,"LayerManager",Pb())||this;return e.events=Cf,(0,X.bindAll)(e,"componentChanged","__onRootChange","__onComponent"),e.model=new Jo.A(e,{opened:{}}),e.config.stylePrefix=e.config.pStylePrefix,e}return r.prototype.onLoad=function(){var t=this,e=this,n=e.em,o=e.config,l=e.model;l.listenTo(n,"component:selected",this.componentChanged),l.on("change:root",this.__onRootChange),l.listenTo(n,qb,this.__onComponent),this.componentChanged(),l.listenToOnce(n,"load",function(){t.setRoot(o.root),t.__appendTo()})},r.prototype.setRoot=function(t){var e=this.em.getWrapper(),n=(0,qt.isComponent)(t)?t:e;t&&(0,X.isString)(t)&&(0,qt.hasWin)()&&(n=e.find(t)[0]||e);var o=this.__getLayerFromComponent(n);return this.model.set("root",o),o},r.prototype.getRoot=function(){return this.model.get("root")},r.prototype.getComponents=function(t){var e=this;return t.components().map(function(n){return e.__getLayerFromComponent(n)}).filter(function(n){return e.__isLayerable(n)})},r.prototype.setOpen=function(t,e){t.set("open",e)},r.prototype.isOpen=function(t){return!!t.get("open")},r.prototype.setVisible=function(t,e){var n="__prev-display",o=t.getStyle(Fc),l=o.display;if(e){var s=t.get(n);delete o.display,s&&(o.display=s,t.unset(n))}else l&&t.set(n,l),o.display="none";t.setStyle(o,Fc),this.updateLayer(t),this.em.trigger("component:toggled")},r.prototype.isVisible=function(t){return!Yb(t.getStyle(Fc))},r.prototype.setLocked=function(t,e){t.set("locked",e)},r.prototype.isLocked=function(t){return!!t.get("locked")},r.prototype.setName=function(t,e){t.set("custom-name",e)},r.prototype.getName=function(t){return t.getName()},r.prototype.getLayerData=function(t){var e=t.get("status");return{name:t.getName(),open:this.isOpen(t),selected:e==="selected",hovered:e==="hovered",visible:this.isVisible(t),locked:this.isLocked(t),components:this.getComponents(t)}},r.prototype.setLayerData=function(t,e,n){var o;n===void 0&&(n={});var l=this,s=l.em,f=l.config,u=e.open,p=e.selected,d=e.hovered,h=e.visible,v=e.locked,_=e.name,T=Sf({fromLayers:!0},n);if((0,qt.isDef)(u)&&this.setOpen(t,u),(0,qt.isDef)(p))if(p){s.setSelected(t,T);var w=f.scrollCanvas;w&&((o=t.views)===null||o===void 0||o.forEach(function(C){return C.scrollIntoView(w)}))}else s.removeSelected(t,T);(0,qt.isDef)(d)&&f.showHover&&(d?s.setHovered(t,T):s.setHovered(null,T)),(0,qt.isDef)(h)&&h!==this.isVisible(t)&&this.setVisible(t,h),(0,qt.isDef)(v)&&this.setLocked(t,v),(0,qt.isDef)(_)&&this.setName(t,_)},r.prototype.componentChanged=function(t,e){var n;if(e===void 0&&(e={}),!e.fromLayers){var o=this,l=o.em,s=o.config,f=s.scrollLayers,u=this.model.get("opened"),p=l.getSelected(),d=p?.parent();for(var h in u)u[h].set("open",!1),delete u[h];for(;d;)d.set("open",!0),u[d.cid]=d,d=d.parent();if(p&&f){var v=(n=p.viewLayer)===null||n===void 0?void 0:n.el;v?.scrollIntoView(f)}}},r.prototype.getAll=function(){return this.view},r.prototype.render=function(){var t,e,n=this,o=n.config,l=n.model,s=Kb.extend(o.extend);return this.view=new s({el:(t=this.view)===null||t===void 0?void 0:t.el,ItemView:s,level:0,config:o,opened:l.get("opened"),model:this.getRoot(),module:this}),(e=this.view)===null||e===void 0?void 0:e.render().el},r.prototype.destroy=function(){var t;(t=this.view)===null||t===void 0||t.remove()},r.prototype.__onRootChange=function(){var t,e=this,n=e.em,o=e.events,l=this.getRoot();(t=this.view)===null||t===void 0||t.setRoot(l),n.trigger(o.root,l),this.__trgCustom()},r.prototype.__getLayerFromComponent=function(t){var e,n;return((n=(e=t.delegate)===null||e===void 0?void 0:e.layer)===null||n===void 0?void 0:n.call(e,t))||t},r.prototype.__onComponent=function(t){this.updateLayer(t)},r.prototype.__isLayerable=function(t){var e=t.tagName,n=this.config.hideTextnode,o=!n||!t.isInstanceOf("textnode")&&e!=="br";return o&&t.get("layerable")},r.prototype.__trgCustom=function(t){var e=this,n=e.__ctn,o=e.em,l=e.events;this.__ctn=n||t?.container,o.trigger(l.custom,{container:this.__ctn,root:this.getRoot()})},r.prototype.updateLayer=function(t,e){var n=this,o=n.em,l=n.events;o.trigger(l.component,t,e)},r})(Cn);const $b=Xb;var Zb=function(){return{assets:[],noAssets:"",stylePrefix:"am-",upload:"",uploadName:"files",headers:{},params:{},credentials:"include",multiUpload:!0,multiUploadSuffix:"[]",autoAdd:!0,customFetch:void 0,uploadFile:void 0,embedAsBase64:!0,handleAdd:void 0,beforeUpload:void 0,showUrlInput:!0,custom:!1,dropzone:!1,openAssetsOnDrop:!0,dropzoneContent:""}};const Qb=Zb;var Jb=(function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}})(),$1=(function(i){Jb(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.getDefaults=function(){return(0,X.result)(this.prototype,"defaults")},r.prototype.defaults=function(){return{type:"",src:""}},r.prototype.getType=function(){return this.get("type")},r.prototype.getSrc=function(){return this.get("src")||""},r.prototype.getFilename=function(){return this.getSrc().split("/").pop().split("?").shift()},r.prototype.getExtension=function(){return this.getFilename().split(".").pop()},r})(ae.Kx);const Ef=$1;$1.prototype.idAttribute="src";var tT=(function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}})(),uu=function(){return uu=Object.assign||function(i){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])}return i},uu.apply(this,arguments)},eT=(function(i){tT(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.defaults=function(){return uu(uu({},Ef.getDefaults()),{type:"image",unitDim:"px",height:0,width:0})},r})(Ef);const rT=eT;var nT=(function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}})(),oT=(function(i){nT(r,i);function r(t){var e=i.call(this,t)||this;e.options=t,e.collection=t.collection;var n=t.config||{};e.config=n,e.pfx=n.stylePrefix||"",e.ppfx=n.pStylePrefix||"",e.em=n.em,e.className=e.pfx+"asset",e.listenTo(e.model,"destroy remove",e.remove),e.model.view=e;var o=e.init&&e.init.bind(e);return o&&o(t),e}return r.prototype.__getBhv=function(){var t=this.em,e=t?.Assets;return e?.__getBehaviour()||{}},r.prototype.template=function(t,e){var n=this.pfx;return`
      <div class="`.concat(n,`preview-cont">
        `).concat(this.getPreview(),`
      </div>
      <div class="`).concat(n,`meta">
        `).concat(this.getInfo(),`
      </div>
      <div class="`).concat(n,`close" data-toggle="asset-remove">
        &Cross;
      </div>
    `)},r.prototype.updateTarget=function(t){t&&t.set&&(t.set("attributes",(0,X.clone)(t.get("attributes"))),t.set("src",this.model.get("src")))},r.prototype.getPreview=function(){return""},r.prototype.getInfo=function(){return""},r.prototype.render=function(){var t=this.el;return t.innerHTML=this.template(this,this.model),t.className=this.className,this},r})(ae.Ss);const iT=oT;var aT=(function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}})(),dh=function(i,r){return Object.defineProperty?Object.defineProperty(i,"raw",{value:r}):i.raw=r,i},Z1=(function(i){aT(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getPreview=function(){var t=this,e=t.pfx,n=t.ppfx,o=t.model,l=o.get("src");return _n(hh||(hh=dh([`
      <div class="`,`preview" style="background-image: url('`,`');"></div>
      <div class="`,"preview-bg ",`checker-bg"></div>
    `],[`
      <div class="`,`preview" style="background-image: url('`,`');"></div>
      <div class="`,"preview-bg ",`checker-bg"></div>
    `])),e,l,e,n)},r.prototype.getInfo=function(){var t=this,e=t.pfx,n=t.model,o=n.get("name"),l=n.get("width"),s=n.get("height"),f=n.get("unitDim"),u=l&&s?"".concat(l,"x").concat(s).concat(f):"";return o=o||n.getFilename(),_n(vh||(vh=dh([`
      <div class="`,'name">',`</div>
      <div class="`,'dimensions">',`</div>
    `],[`
      <div class="`,'name">',`</div>
      <div class="`,'dimensions">',`</div>
    `])),e,o,e,u)},r.prototype.init=function(t){var e=this.pfx;this.className+=" ".concat(e,"asset-image")},r.prototype.onClick=function(){var t=this,e=t.model,n=t.pfx,o=this.__getBhv().select,l=this.config.onClick,s=this.collection;s.trigger("deselectAll"),this.$el.addClass(n+"highlight"),(0,X.isFunction)(o)?o(e,!1):(0,X.isFunction)(l)?l(e):this.updateTarget(s.target)},r.prototype.onDblClick=function(){var t=this,e=t.em,n=t.model,o=this.__getBhv().select,l=this.config.onDblClick,s=this.collection,f=s.target,u=s.onSelect;(0,X.isFunction)(o)?o(n,!0):(0,X.isFunction)(l)?l(n):(this.updateTarget(f),e?.Modal.close()),(0,X.isFunction)(u)&&u(n)},r.prototype.onRemove=function(t){t.stopImmediatePropagation(),this.model.collection.remove(this.model)},r})(iT);const sT=Z1;Z1.prototype.events={"click [data-toggle=asset-remove]":"onRemove",click:"onClick",dblclick:"onDblClick"};var hh,vh,cu=function(){return cu=Object.assign||function(i){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])}return i},cu.apply(this,arguments)},lT={types:[],initialize:function(i,r){var t=this;r===void 0&&(r={});var e=r.em;this.em=e,this.opts=r,this.model=function(o,l){o===void 0&&(o={}),l===void 0&&(l={});var s,f,u;if(o&&o.type){var p=t.getBaseType();u=t.getType(o.type),s=u?u.model:p.model,f=u?u.view:p.view}else{var d=t.recognizeType(o);u=d.type,s=u.model,f=u.view,o=d.attributes}var h=new s(o,cu(cu({},l),{em:e}));return h.typeView=f,t.model.prototype=s.prototype,h};var n=this.init&&this.init.bind(this);n&&n()},recognizeType:function(i){for(var r=this.getTypes(),t=0;t<r.length;t++){var e=r[t],n=e.isType(i);if(n=typeof n=="boolean"&&n?{type:e.id}:n,n)return{type:e,attributes:n}}return{type:this.getBaseType(),attributes:i}},getBaseType:function(){var i=this.getTypes();return i[i.length-1]},getTypes:function(){return this.types},getType:function(i){for(var r=this.getTypes(),t=0;t<r.length;t++){var e=r[t];if(e.id===i)return e}},addType:function(i,r){var t=this.getType(i),e=this.getBaseType(),n=t?t.model:e.model,o=t?t.view:e.view,l=r.model,s=r.view,f=r.isType;l=l instanceof ae.Kx||(0,X.isFunction)(l)?l:n.extend(l||{}),s=s instanceof ae.Ss||(0,X.isFunction)(s)?s:o.extend(s||{}),this.extendViewApi&&!r.model&&!r.view&&(s=s.extend(r)),t?(t.model=l,t.view=s,t.isType=f||t.isType):(r.id=i,r.model=l,r.view=s,r.isType=f||function(u){if(u&&u.type==i)return!0},this.getTypes().unshift(r))}};const Q1=lT;var uT=(function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}})(),cT=ae.pM.extend(Q1),J1=(function(i){uT(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r})(cT);const Vc=J1;J1.prototype.types=[{id:"image",model:rT,view:sT,isType:function(i){return typeof i=="string"?{type:"image",src:i}:i}}];var xf;(function(i){i.add="asset:add",i.remove="asset:remove",i.removeBefore="asset:remove:before",i.update="asset:update",i.open="asset:open",i.close="asset:close",i.uploadStart="asset:upload:start",i.uploadEnd="asset:upload:end",i.uploadError="asset:upload:error",i.uploadResponse="asset:upload:response",i.custom="asset:custom",i.all="asset"})(xf||(xf={}));const gh=xf;var fT=(function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}})(),tv=(function(i){fT(r,i);function r(t){t===void 0&&(t={});var e=i.call(this,t)||this;e.options=t,e.config=t.config,e.pfx=e.config.stylePrefix||"",e.ppfx=e.config.pStylePrefix||"",e.em=e.config.em;var n=e.collection;return e.listenTo(n,"reset",e.renderAssets),e.listenTo(n,"add",e.addToAsset),e.listenTo(n,"remove",e.removedAsset),e.listenTo(n,"deselectAll",e.deselectAll),e}return r.prototype.template=function(t){var e=t.pfx,n=t.ppfx,o=t.em,l="";return this.config.showUrlInput&&(l=`
          <form class="`.concat(e,`add-asset">
            <div class="`).concat(n,"field ").concat(e,`add-field">
              <input placeholder="`).concat(o?.t("assetManager.inputPlh"),`"/>
            </div>
            <button class="`).concat(n,'btn-prim">').concat(o?.t("assetManager.addButton"),`</button>
            <div style="clear:both"></div>
          </form>
      `)),`
    <div class="`.concat(e,`assets-cont">
      <div class="`).concat(e,`assets-header">
        `).concat(l,`
      </div>
      <div class="`).concat(e,`assets" data-el="assets"></div>
      <div style="clear:both"></div>
    </div>
    `)},r.prototype.handleSubmit=function(t){t.preventDefault();var e=this.getAddInput(),n=e&&e.value.trim(),o=this.config.handleAdd;if(n){e.value="";var l=this.getAssetsEl();l&&(l.scrollTop=0),o?o.bind(this)(n):this.options.globalCollection.add(n,{at:0})}},r.prototype.getAssetsEl=function(){return this.el.querySelector(".".concat(this.pfx,"assets"))},r.prototype.getAddInput=function(){return(!this.inputUrl||!this.inputUrl.value)&&(this.inputUrl=this.el.querySelector(".".concat(this.pfx,"add-asset input"))),this.inputUrl},r.prototype.removedAsset=function(t){this.collection.length||this.toggleNoAssets()},r.prototype.addToAsset=function(t){this.collection.length==1&&this.toggleNoAssets(!0),this.addAsset(t)},r.prototype.addAsset=function(t,e){e===void 0&&(e=null);var n=e,o=this.collection,l=this.config,s=new t.typeView({model:t,collection:o,config:l}).render().el;if(n)n.appendChild(s);else{var f=this.getAssetsEl();f&&f.insertBefore(s,f.firstChild)}return s},r.prototype.toggleNoAssets=function(t){t===void 0&&(t=!1);var e=this.$el.find(".".concat(this.pfx,"assets"));if(t)e.empty();else{var n=this.config.noAssets;n&&e.append(n)}},r.prototype.deselectAll=function(){var t=this.pfx;this.$el.find(".".concat(t,"highlight")).removeClass("".concat(t,"highlight"))},r.prototype.renderAssets=function(){var t=this,e=document.createDocumentFragment(),n=this.$el.find(".".concat(this.pfx,"assets"));n.empty(),this.toggleNoAssets(!!this.collection.length),this.collection.each(function(o){return t.addAsset(o,e)}),n.append(e)},r.prototype.render=function(){var t=this.options.fu.render().el;return this.$el.empty(),this.$el.append(t).append(this.template(this)),this.el.className="".concat(this.ppfx,"asset-manager"),this.renderAssets(),this},r})(ae.Ss);const pT=tv;tv.prototype.events={submit:"handleSubmit"};var dT=(function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}})(),hT=function(i,r){return Object.defineProperty?Object.defineProperty(i,"raw",{value:r}):i.raw=r,i},vT=(function(i){dT(r,i);function r(t){t===void 0&&(t={});var e=i.call(this,t)||this;e.options=t;var n=t.config||{};e.module=t.module,e.config=n,e.em=e.config.em,e.pfx=n.stylePrefix||"",e.ppfx=n.pStylePrefix||"",e.target=e.options.globalCollection||{},e.uploadId=e.pfx+"uploadFile",e.disabled=n.disableUpload!==void 0?n.disableUpload:!n.upload&&!n.embedAsBase64,e.multiUpload=n.multiUpload!==void 0?n.multiUpload:!0;var o=n.uploadFile;return o?e.uploadFile=o.bind(e):!n.upload&&n.embedAsBase64&&(e.uploadFile=r.embedAsBase64),e.delegateEvents(),e}return r.prototype.template=function(t){var e=t.pfx,n=t.title,o=t.uploadId,l=t.disabled,s=t.multiUpload;return _n(mh||(mh=hT([`
      <form>
        <div id="`,'title">',`</div>
        <input
          data-input
          type="file"
          id="`,`"
          name="file"
          accept="*/*"
          `,`
          `,`
        />
        <div style="clear:both;"></div>
      </form>
    `],[`
      <form>
        <div id="`,'title">',`</div>
        <input
          data-input
          type="file"
          id="`,`"
          name="file"
          accept="*/*"
          `,`
          `,`
        />
        <div style="clear:both;"></div>
      </form>
    `])),e,n,o,l?"disabled":"",s?"multiple":"")},r.prototype.events=function(){return{"change [data-input]":"uploadFile"}},r.prototype.onUploadStart=function(){var t=this.module;t?.__propEv(t.events.uploadStart)},r.prototype.onUploadEnd=function(t){var e=this,n=e.$el,o=e.module;o?.__propEv(o.events.uploadEnd,t);var l=n.find("input");l&&l.val("")},r.prototype.onUploadError=function(t){var e=this.module;console.error(t),this.onUploadEnd(t),e?.__propEv(e.events.uploadError,t)},r.prototype.onUploadResponse=function(t,e){var n=this,o=n.module,l=n.config,s=n.target,f;try{f=typeof t=="string"?JSON.parse(t):t}catch{f=t}o?.__propEv(o.events.uploadResponse,f),l.autoAdd&&s&&s.add(f.data,{at:0}),this.onUploadEnd(t),e?.(f)},r.prototype.uploadFile=function(t,e,n){var o=this,l,s=t.dataTransfer?t.dataTransfer.files:(l=t.target)===null||l===void 0?void 0:l.files,f=this.config,u=f.beforeUpload,p=u&&u(s);if(p!==!1){var d=new FormData,h=f.params,v=f.customFetch,_=f.fetchOptions;for(var T in h)d.append(T,h[T]);if(this.multiUpload)for(var w=0;w<s.length;w++)d.append("".concat(f.uploadName).concat(f.multiUploadSuffix),s[w]);else s.length&&d.append(f.uploadName,s[0]);var C=f.upload,A=f.headers,S="X-Requested-With";if(typeof A[S]>"u"&&(A[S]="XMLHttpRequest"),C){this.onUploadStart();var x={method:"post",credentials:f.credentials||"include",headers:A,body:d},N=_?.(x)||x,b=v?v(C,N):H1(C,N).then(function(L){return(L.status/200|0)==1?L.text():L.text().then(function(k){return Promise.reject(k)})});return b.then(function(L){return o.onUploadResponse(L,e)}).catch(function(L){return o.onUploadError(L)})}}},r.prototype.initDrop=function(){var t=this;if(!this.uploadForm){this.uploadForm=this.$el.find("form").get(0);var e=this.uploadForm;"draggable"in e&&(this.uploadForm.ondragover=function(){return e.className=t.pfx+"hover",!1},this.uploadForm.ondragleave=function(){return e.className="",!1},this.uploadForm.ondrop=function(n){e.className="",n.preventDefault(),t.uploadFile(n)})}},r.prototype.initDropzone=function(t){var e=this,n=0,o=this.config,l=t.model,s=t.el,f=l.Editor,u=l.Canvas.getBody(),p=this.ppfx,d="".concat(p,"dropzone-active"),h="".concat(p,"dropzone"),v=function(){s.className=s.className.replace(d,"").trim(),n=0},_=function(){return n||(s.className+=" ".concat(d),n=1),!1},T=function(){return v(),!1},w=function(C){if(v(),C.preventDefault(),C.stopPropagation(),e.uploadFile(C),o.openAssetsOnDrop&&f){var A=f.getSelected();f.runCommand("open-assets",{target:A,onSelect:function(){f.Modal.close(),f.AssetManager.setTarget(null)}})}return!1};t.$el.append('<div class="'.concat(h,'">').concat(o.dropzoneContent,"</div>")),v(),"draggable"in s&&[s,u].forEach(function(C){C.ondragover=_,C.ondragleave=T,C.ondrop=w})},r.prototype.render=function(){var t=this,e=t.$el,n=t.pfx,o=t.em;return e.html(this.template({title:o&&o.t("assetManager.uploadTitle"),uploadId:this.uploadId,disabled:this.disabled,multiUpload:this.multiUpload,pfx:n})),this.initDrop(),e.attr("class",n+"file-uploader"),this},r.embedAsBase64=function(t,e){var n=this,o=t.dataTransfer?t.dataTransfer.files:t.target.files,l={data:[]};if(!FileReader){this.onUploadError(new Error("Unsupported platform, FileReader is not defined"));return}for(var s=[],f=/^(.+)\/(.+)$/,u=function(v){var _=new Promise(function(T,w){var C=new FileReader;C.addEventListener("load",function(A){var S,x=v.name,N=f.exec(v.type);if(N?S=N[1]:S=v.type,S==="image"){var b={src:C.result,name:x,type:S,height:0,width:0},L=new Image;L.addEventListener("error",function(k){w(k)}),L.addEventListener("load",function(){b.height=L.height,b.width=L.width,T(b)}),L.src=b.src}else T(S?{src:C.result,name:x,type:S}:C.result)}),C.addEventListener("error",function(A){w(A)}),C.addEventListener("abort",function(A){w("Aborted")}),C.readAsDataURL(v)});s.push(_)},p=0,d=o;p<d.length;p++){var h=d[p];u(h)}return Promise.all(s).then(function(v){l.data=v,n.onUploadResponse(l,e)},function(v){n.onUploadError(v)})},r})(ae.Ss);const gT=vT;var mh,mT=(function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}})(),sa=function(){return sa=Object.assign||function(i){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])}return i},sa.apply(this,arguments)},yh=function(i,r,t){if(t||arguments.length===2)for(var e=0,n=r.length,o;e<n;e++)(o||!(e in r))&&(o||(o=Array.prototype.slice.call(r,0,e)),o[e]=r[e]);return i.concat(o||Array.prototype.slice.call(r))},rs="open-assets",yT=(function(i){mT(r,i);function r(t){var e=i.call(this,t,"AssetManager",new Vc([],t),gh,Qb())||this;e.storageKey="assets",e.Asset=Ef,e.Assets=Vc,e.events=gh;var n=e,o=n.all,l=n.config;e.assetsVis=new Vc([]);var s=l.pStylePrefix;return s&&(l.stylePrefix="".concat(s).concat(l.stylePrefix)),o.on("add",function(f){return e.getAllVisible().add(f)}),o.on("remove",function(f){return e.getAllVisible().remove(f)}),e.__onAllEvent=(0,X.debounce)(function(){return e.__trgCustom()},0),e}return r.prototype.open=function(t){t===void 0&&(t={});var e=this.em.Commands;e.run(rs,sa({types:["image"],select:function(){}},t))},r.prototype.close=function(){var t=this.em.Commands;t.stop(rs)},r.prototype.isOpen=function(){var t=this.em.Commands;return!!t?.isActive(rs)},r.prototype.add=function(t,e){return e===void 0&&(e={}),typeof e.at>"u"&&(e.at=0),this.all.add(t,e)},r.prototype.get=function(t){return this.all.where({src:t})[0]||null},r.prototype.getAll=function(){return this.all},r.prototype.getAllVisible=function(){return this.assetsVis},r.prototype.remove=function(t,e){return this.__remove(t,e)},r.prototype.store=function(){return this.getProjectData()},r.prototype.load=function(t){return this.loadProjectData(t)},r.prototype.getContainer=function(){var t,e=this.__getBehaviour();return e.container||((t=this.am)===null||t===void 0?void 0:t.el)},r.prototype.getAssetsEl=function(){var t;return(t=this.am)===null||t===void 0?void 0:t.el.querySelector("[data-el=assets]")},r.prototype.render=function(t){if(!this.getConfig().custom){var e=t||this.getAll().models;if(!this.am){var n=this.__viewParams();n.fu=this.FileUploader(),this.am=new pT(sa({},n)),this.am.render()}return this.assetsVis.reset(e),this.getContainer()}},r.prototype.__viewParams=function(){return{collection:this.assetsVis,globalCollection:this.all,config:this.config,module:this,fu:void 0}},r.prototype.addType=function(t,e){this.getAll().addType(t,e)},r.prototype.getType=function(t){return this.getAll().getType(t)},r.prototype.getTypes=function(){return this.getAll().getTypes()},r.prototype.AssetsView=function(){return this.am},r.prototype.FileUploader=function(){return this.fu||(this.fu=new gT(this.__viewParams())),this.fu},r.prototype.onLoad=function(){var t=this;this.getAll().reset(this.config.assets);var e=this,n=e.em,o=e.events;n.Commands.__onRun(rs,function(){return t.__propEv(o.open)}),n.Commands.__onStop(rs,function(){return t.__propEv(o.close)})},r.prototype.postRender=function(t){var e;this.config.dropzone&&((e=this.fu)===null||e===void 0||e.initDropzone(t))},r.prototype.setTarget=function(t){this.assetsVis.target=t},r.prototype.onSelect=function(t){this.assetsVis.onSelect=t},r.prototype.onClick=function(t){this.config.onClick=t},r.prototype.onDblClick=function(t){this.config.onDblClick=t},r.prototype.__propEv=function(t){for(var e,n,o=[],l=1;l<arguments.length;l++)o[l-1]=arguments[l];(e=this.em).trigger.apply(e,yh([t],o,!1)),(n=this.getAll()).trigger.apply(n,yh([t],o,!1))},r.prototype.__trgCustom=function(){var t=this.__getBehaviour(),e=this.getConfig().custom;!t.container&&!e.open||this.em.trigger(this.events.custom,this.__customData())},r.prototype.__customData=function(){var t=this,e=this.__getBehaviour();return{am:this,open:this.isOpen(),assets:this.getAll().models,types:e.types||[],container:e.container,close:function(){return t.close()},remove:function(n,o){return t.remove(n,o)},select:function(n,o){var l=t.add(n);(0,X.isFunction)(e.select)&&e.select(l,o)},options:e.options||{}}},r.prototype.__behaviour=function(t){return t===void 0&&(t={}),this._bhv=sa(sa({},this._bhv||{}),t)},r.prototype.__getBehaviour=function(t){return this._bhv||{}},r.prototype.destroy=function(){var t,e;this.all.stopListening(),this.all.reset(),this.assetsVis.stopListening(),this.assetsVis.reset(),(t=this.fu)===null||t===void 0||t.remove(),(e=this.am)===null||e===void 0||e.remove(),this._bhv={}},r})(xo);const _T=yT;var bT=function(){return{default:"",devices:[{id:"desktop",name:"Desktop",width:""},{id:"tablet",name:"Tablet",width:"770px",widthMedia:"992px"},{id:"mobileLandscape",name:"Mobile landscape",width:"568px",widthMedia:"768px"},{id:"mobilePortrait",name:"Mobile portrait",width:"320px",widthMedia:"480px"}]}};const TT=bT;var CT=(function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}})(),wT=(function(i){CT(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.defaults=function(){return{name:"",width:null,height:"",widthMedia:null,priority:null}},r.prototype.initialize=function(){var t=this;this.get("widthMedia")===null&&this.set("widthMedia",this.get("width")),this.get("width")===null&&this.set("width",this.get("widthMedia")),!this.get("priority")&&this.set("priority",parseFloat(this.get("widthMedia"))||0);var e=["width","height","widthMedia"];e.forEach(function(n){return t.checkUnit(n)})},r.prototype.checkUnit=function(t){var e=this.get(t)||"",n=(parseFloat(e)||0).toString()===e.toString();n&&this.set(t,"".concat(e,"px"))},r.prototype.getName=function(){return this.get("name")||this.get("id")},r.prototype.getWidthMedia=function(){return this.get("widthMedia")||""},r})(ae.Kx);const ev=wT;var ST=(function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}})(),rv=(function(i){ST(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r})(ae.pM);const _h=rv;rv.prototype.model=ev;var ET=(function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}})(),xT=function(i,r){return Object.defineProperty?Object.defineProperty(i,"raw",{value:r}):i.raw=r,i},OT=(function(i){ET(r,i);function r(t){var e=i.call(this,t)||this;return e.config=t.config||{},e.em=e.config.em,e.ppfx=e.config.pStylePrefix||"",e.listenTo(e.em,"change:device",e.updateSelect),e}return r.prototype.template=function(t){var e=t.ppfx,n=t.label;return _n(bh||(bh=xT([`
      <div class="`,'device-label">',`</div>
      <div class="`,"field ",`select">
        <span id="`,`input-holder">
          <select class="`,`devices"></select>
        </span>
        <div class="`,`sel-arrow">
          <div class="`,`d-s-arrow"></div>
        </div>
      </div>
      <button style="display:none" class="`,`add-trasp" data-add-trasp>+</button>
    `],[`
      <div class="`,'device-label">',`</div>
      <div class="`,"field ",`select">
        <span id="`,`input-holder">
          <select class="`,`devices"></select>
        </span>
        <div class="`,`sel-arrow">
          <div class="`,`d-s-arrow"></div>
        </div>
      </div>
      <button style="display:none" class="`,`add-trasp" data-add-trasp>+</button>
    `])),e,n,e,e,e,e,e,e,e)},r.prototype.events=function(){return{change:"updateDevice","click [data-add-trasp]":"startAdd"}},r.prototype.startAdd=function(){},r.prototype.updateDevice=function(){var t=this.em;if(t){var e=this.devicesEl;t.set("device",e?e.val():"")}},r.prototype.updateSelect=function(){var t=this,e=t.em,n=t.devicesEl;if(e&&e.getDeviceModel&&n){var o=e.getDeviceModel();n.val(o?o.get("id"):"")}},r.prototype.getOptions=function(){var t=this,e=t.collection,n=t.em,o="";return e.forEach(function(l){var s=l.attributes,f=s.name,u=s.id,p=n&&n.t&&n.t("deviceManager.devices.".concat(u))||f;o+='<option value="'.concat(u||f,'">').concat(p,"</option>")}),o},r.prototype.render=function(){var t=this,e=t.em,n=t.ppfx,o=t.$el,l=t.el,s=e&&e.t&&e.t("deviceManager.device");return o.html(this.template({ppfx:n,label:s})),this.devicesEl=o.find(".".concat(n,"devices")),this.devicesEl.append(this.getOptions()),this.devicesEl.val(e.get("device")),l.className="".concat(n,"devices-c"),this},r})(ae.Ss);const AT=OT;var bh,PT=(function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}})(),hs=function(){return hs=Object.assign||function(i){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])}return i},hs.apply(this,arguments)},kT=(function(i){PT(r,i);function r(t){var e,n=i.call(this,t,"DeviceManager",new _h,qh,TT())||this;return n.Device=ev,n.Devices=_h,n.storageKey="",n.devices=n.all,(e=n.config.devices)===null||e===void 0||e.forEach(function(o){return n.add(o,{silent:!0})}),n.select(n.config.default||n.devices.at(0)),t.on("change:device",n._onSelect,n),n}return r.prototype._onSelect=function(t,e,n){var o=this,l=o.em,s=o.events,f=t.previous("device"),u=this.get(e),p=s.select;l.trigger(p,u,this.get(f)),this.__catchAllEvent(p,u,n)},r.prototype.add=function(t,e){e===void 0&&(e={});var n,o=e;if((0,X.isString)(t)){var l=e;o=arguments[2]||{},n=hs(hs({},o),{id:t,name:o.name||t,width:l})}else n=t;return n.id||(n.id=n.name||this._createId()),this.devices.add(n,o)},r.prototype.get=function(t){var e=this.getAll().filter(function(n){return n.get("name")===t})[0];return e||this.devices.get(t)||null},r.prototype.remove=function(t,e){return e===void 0&&(e={}),this.__remove(t,e)},r.prototype.getDevices=function(){return this.devices.models},r.prototype.select=function(t,e){e===void 0&&(e={});var n=(0,X.isString)(t)?this.get(t):t;return n&&this.em.set("device",n.get("id"),e),this},r.prototype.getSelected=function(){return this.get(this.em.get("device"))},r.prototype.getAll=function(){return this.devices},r.prototype.render=function(){var t,e=this.em;return(t=this.view)===null||t===void 0||t.remove(),this.view=new AT({collection:this.devices,config:hs({em:e},this.config)}),this.view.render().el},r.prototype.destroy=function(){this.__destroy()},r})(xo);const MT=kT;var NT=(function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}})(),LT=(function(i){NT(r,i);function r(t,e){e===void 0&&(e={});var n=i.call(this,t,e)||this,o=e.em,l={};n.em=o,t.frames||(l.component=t.component,l.styles=t.styles,["component","styles"].map(function(u){return n.unset(u)}));var s=t.frames||[l],f=new Xh(o.Canvas,s);return f.page=n,n.set("frames",f),!n.getId()&&n.set("id",o?.Pages._createId()),o?.UndoManager.add(f),n}return r.prototype.defaults=function(){return{name:"",frames:[],_undo:!0}},r.prototype.onRemove=function(){this.getFrames().reset()},r.prototype.getFrames=function(){return this.get("frames")},r.prototype.getId=function(){return this.id},r.prototype.getName=function(){return this.get("name")},r.prototype.setName=function(t){return this.set({name:t})},r.prototype.getAllFrames=function(){return this.getFrames().models||[]},r.prototype.getMainFrame=function(){return this.getFrames().at(0)},r.prototype.getMainComponent=function(){var t=this.getMainFrame();return t?.getComponent()},r.prototype.toJSON=function(t){t===void 0&&(t={});var e=ae.Kx.prototype.toJSON.call(this,t),n=(0,X.result)(this,"defaults");return(0,X.forEach)(e,function(o,l){l.indexOf("_")===0&&delete e[l]}),(0,X.forEach)(n,function(o,l){e[l]===o&&delete e[l]}),e},r})(ae.Kx);const Of=LT;var IT=(function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}})(),fu=function(){return fu=Object.assign||function(i){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])}return i},fu.apply(this,arguments)},DT=(function(i){IT(r,i);function r(t,e){var n=i.call(this,t)||this;return n.on("reset",n.onReset),n.on("remove",n.onRemove),n.model=function(o,l){return l===void 0&&(l={}),new Of(o,fu(fu({},l),{em:e}))},n}return r.prototype.onReset=function(t,e){var n=this,o;(o=e?.previousModels)===null||o===void 0||o.map(function(l){return n.onRemove(l,n,e)})},r.prototype.onRemove=function(t,e,n){n===void 0&&(n={}),!(n.fromUndo||n.temporary)&&t?.onRemove()},r})(ae.pM);const RT=DT;var jT=(function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}})(),la=function(){return la=Object.assign||function(i){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])}return i},la.apply(this,arguments)},HT=function(i,r){var t={};for(var e in i)Object.prototype.hasOwnProperty.call(i,e)&&r.indexOf(e)<0&&(t[e]=i[e]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,e=Object.getOwnPropertySymbols(i);n<e.length;n++)r.indexOf(e[n])<0&&Object.prototype.propertyIsEnumerable.call(i,e[n])&&(t[e[n]]=i[e[n]]);return t},FT=function(i,r,t){if(t||arguments.length===2)for(var e=0,n=r.length,o;e<n;e++)(o||!(e in r))&&(o||(o=Array.prototype.slice.call(r,0,e)),o[e]=r[e]);return i.concat(o||Array.prototype.slice.call(r))},Th="change:selected",Ch="main",VT=(function(i){jT(r,i);function r(t){var e=i.call(this,t,"PageManager",new RT([],t),rf)||this;e.events=rf,e.storageKey="pages",(0,X.bindAll)(e,"_onPageChange");var n=new Jo.A(e,{_undo:!0});return e.model=n,e.pages.on("reset",e.__onReset,e),e.pages.on("all",e.__onChange,e),n.on(Th,e._onPageChange),e}return Object.defineProperty(r.prototype,"pages",{get:function(){return this.all},enumerable:!1,configurable:!0}),r.prototype.getAll=function(){return FT([],this.all.models,!0)},r.prototype.__onChange=function(t,e,n,o){var l=this,s=l.em,f=l.events,u=o||n;s.trigger(f.all,{event:t,page:e,options:u})},r.prototype.__onReset=function(){var t=this.pages.at(0);t&&this.select(t)},r.prototype.onLoad=function(){var t,e=this,n=e.pages,o=e.config,l=e.em,s={silent:!0},f=((t=o.pages)===null||t===void 0?void 0:t.map(function(p){return new Of(p,{em:l,config:o})}))||[];n.add(f,s);var u=n.length?this._initPage():this.add({type:Ch},s);u&&this.select(u,s)},r.prototype._onPageChange=function(t,e,n){var o=this,l=o.em,s=o.events,f=l.Layers,u=e.getMainComponent();f&&u&&f.setRoot(u),l.trigger(s.select,e,t.previous("selected")),this.__onChange(Th,e,n)},r.prototype.postLoad=function(){var t=this,e=t.em,n=t.model,o=t.pages,l=e.UndoManager;l.add(n),l.add(o),o.on("add remove reset change",function(s,f,u){var p=u||f;e.changesUp(u||f,{page:s,options:p})})},r.prototype.add=function(t,e){var n=this;e===void 0&&(e={});var o=this,l=o.em,s=o.events;t.id=t.id||this._createId();var f=function(){var u=n.pages.add(new Of(t,{em:n.em,config:n.config}),e);return e.select&&n.select(u),u};return!e.silent&&l.trigger(s.addBefore,t,f,e),e.abort?void 0:f()},r.prototype.remove=function(t,e){var n=this;e===void 0&&(e={});var o=this,l=o.em,s=o.events,f=(0,X.isString)(t)?this.get(t):t,u=function(){return f&&n.pages.remove(f,e),f};return!e.silent&&l.trigger(s.removeBefore,f,u,e),!e.abort&&u()},r.prototype.move=function(t,e){e===void 0&&(e={});var n=this.pages,o=(0,X.isString)(t)?this.get(t):t,l=e.at,s=l===void 0?0:l,f=HT(e,["at"]);if(o){var u=n.indexOf(o),p=u===s;if(!(s<0||s>=n.length||p))return this.remove(o,la(la({},f),{temporary:!0})),n.add(o,la(la({},f),{at:s})),o}},r.prototype.get=function(t){return this.pages.filter(function(e){return e.get(e.idAttribute)===t})[0]},r.prototype.getMain=function(){var t=this.pages;return t.filter(function(e){return e.get("type")===Ch})[0]||t.at(0)},r.prototype.getAllWrappers=function(){var t=this.getAll();return(0,X.unique)((0,X.flatten)(t.map(function(e){return e.getAllFrames().map(function(n){return n.getComponent()})})))},r.prototype.select=function(t,e){e===void 0&&(e={});var n=this,o=n.em,l=n.model,s=n.events,f=(0,X.isString)(t)?this.get(t):t;return f&&(o.trigger(s.selectBefore,f,e),l.set("selected",f,e)),this},r.prototype.getSelected=function(){return this.model.get("selected")},r.prototype.destroy=function(){var t=this;this.pages.off().reset(),this.model.stopListening(),this.model.clear({silent:!0}),["selected","model"].map(function(e){return t[e]=0})},r.prototype.store=function(){return this.getProjectData()},r.prototype.load=function(t){var e=this,n=this.loadProjectData(t,{all:this.pages,reset:!0,onResult:function(o,l){o.forEach(function(s){return e.add(s,l)}),e.__onReset()}});return this.pages.forEach(function(o){return o.getFrames().initRefs()}),n},r.prototype._initPage=function(){return this.get(this.config.selected)||this.getMain()},r.prototype._createId=function(){var t=this.getAll(),e=t.length+16,n=this.getAllMap(),o;do o=(0,qt.createId)(e);while(n[o]);return o},r})(xo);const UT=VT;var Uc={placeholder:"eg. Text here"};const BT={assetManager:{addButton:"Add image",inputPlh:"http://path/to/the/image.jpg",modalTitle:"Select Image",uploadTitle:"Drop files here or click to upload"},blockManager:{labels:{},categories:{}},domComponents:{names:{"":"Box",wrapper:"Body",text:"Text",comment:"Comment",image:"Image",video:"Video",label:"Label",link:"Link",map:"Map",tfoot:"Table foot",tbody:"Table body",thead:"Table head",table:"Table",row:"Table row",cell:"Table cell"}},deviceManager:{device:"Device",devices:{desktop:"Desktop",tablet:"Tablet",mobileLandscape:"Mobile Landscape",mobilePortrait:"Mobile Portrait"}},panels:{buttons:{titles:{preview:"Preview",fullscreen:"Fullscreen","sw-visibility":"View components","export-template":"View code","open-sm":"Open Style Manager","open-tm":"Settings","open-layers":"Open Layer Manager","open-blocks":"Open Blocks"}}},selectorManager:{label:"Classes",selected:"Selected",emptyState:"- State -",states:{hover:"Hover",active:"Click","nth-of-type(2n)":"Even/Odd"}},styleManager:{empty:"Select an element before using Style Manager",layer:"Layer",fileButton:"Images",sectors:{general:"General",layout:"Layout",typography:"Typography",decorations:"Decorations",extra:"Extra",flex:"Flex",dimension:"Dimension"},properties:{"text-shadow-h":"X","text-shadow-v":"Y","text-shadow-blur":"Blur","text-shadow-color":"Color","box-shadow-h":"X","box-shadow-v":"Y","box-shadow-blur":"Blur","box-shadow-spread":"Spread","box-shadow-color":"Color","box-shadow-type":"Type","margin-top-sub":"Top","margin-right-sub":"Right","margin-bottom-sub":"Bottom","margin-left-sub":"Left","padding-top-sub":"Top","padding-right-sub":"Right","padding-bottom-sub":"Bottom","padding-left-sub":"Left","border-width-sub":"Width","border-style-sub":"Style","border-color-sub":"Color","border-top-left-radius-sub":"Top Left","border-top-right-radius-sub":"Top Right","border-bottom-right-radius-sub":"Bottom Right","border-bottom-left-radius-sub":"Bottom Left","transform-rotate-x":"Rotate X","transform-rotate-y":"Rotate Y","transform-rotate-z":"Rotate Z","transform-scale-x":"Scale X","transform-scale-y":"Scale Y","transform-scale-z":"Scale Z","transition-property-sub":"Property","transition-duration-sub":"Duration","transition-timing-function-sub":"Timing","background-image-sub":"Image","background-repeat-sub":"Repeat","background-position-sub":"Position","background-attachment-sub":"Attachment","background-size-sub":"Size"}},traitManager:{empty:"Select an element before using Trait Manager",label:"Component settings",categories:{},traits:{labels:{},attributes:{id:Uc,alt:Uc,title:Uc,href:{placeholder:"eg. https://google.com"}},options:{target:{false:"This window",_blank:"New window"}}}},storageManager:{recover:"Do you want to recover unsaved changes?"}};var WT=function(){return{locale:"en",localeFallback:"en",detectLocale:!0,debug:!1,messages:{en:BT},messagesAdd:void 0}};const zT=WT;var Af;(function(i){i.add="i18n:add",i.update="i18n:update",i.locale="i18n:locale"})(Af||(Af={}));const KT=Af;var GT=(function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}})(),qT=(function(i){GT(r,i);function r(t){var e=i.call(this,t,"I18n",zT())||this;e.events=KT;var n=e.config.messagesAdd;return n&&e.addMessages(n),e.config.detectLocale&&(e.config.locale=e._localLang()),e}return r.prototype.setLocale=function(t){var e=this,n=e.em,o=e.config,l=e.events;return n.trigger(l.locale,{value:t,valuePrev:o.locale}),o.locale=t,this},r.prototype.getLocale=function(){return this.config.locale},r.prototype.getMessages=function(t,e){e===void 0&&(e={});var n=this.config.messages;return t&&!n[t]&&this._debug("'".concat(t,"' i18n lang not found"),e),t?n[t]:n},r.prototype.setMessages=function(t){var e=this,n=e.em,o=e.config,l=e.events;return o.messages=t,n.trigger(l.update,t),this},r.prototype.addMessages=function(t){var e=this,n=e.em,o=e.events,l=e.config,s=l.messages;return n.trigger(o.add,t),this.setMessages((0,qt.deepMerge)(s,t)),this},r.prototype.t=function(t,e){e===void 0&&(e={});var n=this.config,o=e.params||{},l=e.l||this.getLocale(),s=e.lFlb||n.localeFallback,f=this._getMsg(t,l,e);return f||(f=this._getMsg(t,s,e)),!f&&this._debug("'".concat(t,"' i18n key not found in '").concat(l,"' lang"),e),f=f&&(0,X.isString)(f)?this._addParams(f,o):f,f},r.prototype._localLang=function(){var t=(0,qt.hasWin)()&&window.navigator||{},e=t.language||t.userLanguage;return e?e.split("-")[0]:"en"},r.prototype._addParams=function(t,e){var n=new RegExp("{([\\w\\d-]*)}","g");return t.replace(n,function(o,l){return e[l]||""}).trim()},r.prototype._getMsg=function(t,e,n){n===void 0&&(n={});var o=this.getMessages(e,n);if(o){var l=o[t];return!l&&t.indexOf(".")>0&&(l=t.split(".").reduce(function(s,f){if(!(0,X.isUndefined)(s))return s[f]},o)),l}},r.prototype._debug=function(t,e){e===void 0&&(e={});var n=this,o=n.em,l=n.config;(e.debug||l.debug)&&o&&o.logWarning(t)},r.prototype.destroy=function(){},r})(Cn);const YT=qT;var mi=function(){return mi=Object.assign||function(i){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])}return i},mi.apply(this,arguments)},XT=function(i,r){r===void 0&&(r={});var t=r.prefix||"",e=document.createElement("i");return e.className=t+"resizer-h "+t+"resizer-h-"+i,e.setAttribute("data-"+t+"handler",i),e},$T=function(i,r){var t=window,e=i.getBoundingClientRect();return{left:e.left+t.pageXOffset,top:e.top+t.pageYOffset,width:e.width,height:e.height}},ZT=(function(){function i(r){r===void 0&&(r={}),this.moved=!1,this.defOpts={ratioDefault:!1,onUpdateContainer:function(){},step:1,minDim:10,maxDim:1/0,unitHeight:"px",unitWidth:"px",keyHeight:"height",keyWidth:"width",currentUnit:!0,silentFrames:!1,avoidContainerUpdate:!1,keepAutoHeight:!1,keepAutoWidth:!1,autoHeight:!1,autoWidth:!1,tl:!0,tc:!0,tr:!0,cl:!0,cr:!0,bl:!0,bc:!0,br:!0},this.opts=mi({},this.defOpts),this.setOptions(r),(0,X.bindAll)(this,"handleKeyDown","handleMouseDown","move","stop")}return i.prototype.getConfig=function(){return this.opts},i.prototype.setOptions=function(r,t){r===void 0&&(r={}),this.opts=mi(mi({},t?this.defOpts:this.opts),r),this.setup()},i.prototype.setup=function(){var r=this.opts,t=r.prefix||"",e=r.appendTo||document.body,n=this.container;for(n||(n=document.createElement("div"),n.className="".concat(t,"resizer-c"),e.appendChild(n),this.container=n);n.firstChild;)n.removeChild(n.firstChild);var o={};["tl","tc","tr","cl","cr","bl","bc","br"].forEach(function(f){return o[f]=r[f]?XT(f,r):null});for(var l in o){var s=o[l];s&&n.appendChild(s)}this.handlers=o,this.mousePosFetcher=r.mousePosFetcher,this.updateTarget=r.updateTarget,this.posFetcher=r.posFetcher,this.onStart=r.onStart,this.onMove=r.onMove,this.onEnd=r.onEnd,this.onUpdateContainer=r.onUpdateContainer},i.prototype.toggleFrames=function(r){if(this.opts.silentFrames){var t=document.querySelectorAll("iframe");(0,X.each)(t,function(e){return e.style.pointerEvents=r?"none":""})}},i.prototype.isHandler=function(r){var t=this.handlers;for(var e in t)if(t[e]===r)return!0;return!1},i.prototype.getFocusedEl=function(){return this.el},i.prototype.getParentEl=function(){var r;return(r=this.el)===null||r===void 0?void 0:r.parentElement},i.prototype.getDocumentEl=function(){return this.opts.docs||[this.el.ownerDocument,document]},i.prototype.getElementPos=function(r,t){t===void 0&&(t={});var e=this.posFetcher;return e?e(r,t):$T(r)},i.prototype.focus=function(r){r&&r===this.el||(this.el=r,this.updateContainer({forceShow:!0}),(0,ue.on)(this.getDocumentEl(),"pointerdown",this.handleMouseDown))},i.prototype.blur=function(){this.container.style.display="none",this.el&&((0,ue.AU)(this.getDocumentEl(),"pointerdown",this.handleMouseDown),delete this.el)},i.prototype.start=function(r){var t,e=this,n=e.el,o=e.opts,l=o===void 0?{}:o;if(this.moved=!1,!(r.button!==0||!n)){r.preventDefault(),r.stopPropagation(),(t=this.selectedHandler)===null||t===void 0||t.setPointerCapture(r.pointerId);var s=this.getParentEl(),f=this,u=l,p=this.mousePosFetcher,d="data-"+u.prefix+"handler",h=this.getElementPos(n,{avoidFrameZoom:!0,avoidFrameOffset:!0}),v=this.getElementPos(s),_=r.target;this.handlerAttr=_.getAttribute(d),this.clickedHandler=_,this.startDim={t:h.top,l:h.left,w:h.width,h:h.height},this.rectDim={t:h.top,l:h.left,w:h.width,h:h.height},this.startPos=p?p(r):{x:r.clientX,y:r.clientY},this.parentDim={t:v.top,l:v.left,w:v.width,h:v.height};var T=this.getDocumentEl();this.docs=T,(0,ue.on)(T,"pointermove",this.move),(0,ue.on)(T,"keydown",this.handleKeyDown),(0,ue.on)(T,"pointerup",this.stop),(0,X.isFunction)(this.onStart)&&this.onStart(r,{docs:T,config:u,el:n,resizer:f}),this.toggleFrames(!0),!u.updateOnMove&&this.move(r)}},i.prototype.move=function(r){var t,e;this.moved=!0;var n=this.el,o=this.opts,l=this.docs||this.getDocumentEl(),s=((t=this.mousePosFetcher)===null||t===void 0?void 0:t.call(this,r))||{x:r.clientX,y:r.clientY};this.currentPos=s,this.delta={x:s.x-this.startPos.x,y:s.y-this.startPos.y},this.keys={shift:r.shiftKey,ctrl:r.ctrlKey,alt:r.altKey},this.rectDim=this.calc(this),this.updateRect(!1,r),(e=this.onMove)===null||e===void 0||e.call(this,r,{docs:l,config:o,el:n,resizer:this})},i.prototype.stop=function(r){var t,e,n=this.el,o=this.opts,l=this.docs||this.getDocumentEl();(0,ue.AU)(l,"pointermove",this.move),(0,ue.AU)(l,"keydown",this.handleKeyDown),(0,ue.AU)(l,"pointerup",this.stop),(this.moved||!o.updateOnMove)&&this.updateRect(!0,r),r.pointerId&&((t=this.selectedHandler)===null||t===void 0||t.releasePointerCapture(r.pointerId)),this.toggleFrames(),(e=this.onEnd)===null||e===void 0||e.call(this,r,{docs:l,config:o,el:n,resizer:this}),this.moved=!1,delete this.docs},i.prototype.updateRect=function(r,t){var e=this.el,n=this,o=this.opts,l=this.rectDim,s=this.updateTarget,f=this.getSelectedHandler(),u=o.unitHeight,p=o.unitWidth,d=o.keyWidth,h=o.keyHeight;if((0,X.isFunction)(s))s(e,l,{store:r,selectedHandler:f,resizer:n,config:o,event:t});else{var v=e.style;v[d]=l.w+p,v[h]=l.h+u}this.updateContainer()},i.prototype.updateContainer=function(r){var t;r===void 0&&(r={});var e=this,n=e.opts,o=e.container,l=e.el,s=o.style;!n.avoidContainerUpdate&&l&&r.forceShow&&(s.display="block"),(t=this.onUpdateContainer)===null||t===void 0||t.call(this,{el:o,resizer:this,opts:mi(mi({},n),r)})},i.prototype.getSelectedHandler=function(){var r=this.handlers;if(this.selectedHandler){for(var t in r)if(r[t]===this.selectedHandler)return t}},i.prototype.handleKeyDown=function(r){r.keyCode===27&&(this.rectDim=this.startDim,this.stop(r))},i.prototype.handleMouseDown=function(r){var t=r.target;this.isHandler(t)?(this.selectedHandler=t,this.start(r)):t!==this.el&&(delete this.selectedHandler,this.blur())},i.prototype.calc=function(r){var t,e=this.opts||{},n=e.step,o=this.startDim,l=e.minDim,s=e.maxDim,f=r.delta.x,u=r.delta.y,p=this.parentDim.w,d=this.parentDim.h,h=e.unitWidth,v=e.unitHeight,_=e.skipUnitAdjustments,T=this.getParentRect(),w=h==="%"&&!_,C=v==="%"&&!_,A=w?o.w/100*p:o.w,S=C?o.h/100*d:o.h,x={t:o.t-T.top,l:o.l-T.left,w:A,h:S};if(r){var N=r.handlerAttr;~N.indexOf("r")&&(t=w?(0,qt.normalizeFloat)((A+f*n)/p*100,.01):(0,qt.normalizeFloat)(A+f*n,n),t=Math.max(l,t),s&&(t=Math.min(s,t)),x.w=t),~N.indexOf("b")&&(t=C?(0,qt.normalizeFloat)((S+u*n)/d*100,.01):(0,qt.normalizeFloat)(S+u*n,n),t=Math.max(l,t),s&&(t=Math.min(s,t)),x.h=t),~N.indexOf("l")&&(t=w?(0,qt.normalizeFloat)((A-f*n)/p*100,.01):(0,qt.normalizeFloat)(A-f*n,n),t=Math.max(l,t),s&&(t=Math.min(s,t)),x.w=t),~N.indexOf("t")&&(t=C?(0,qt.normalizeFloat)((S-u*n)/d*100,.01):(0,qt.normalizeFloat)(S-u*n,n),t=Math.max(l,t),s&&(t=Math.min(s,t)),x.h=t);var b=e.ratioDefault?!r.keys.shift:r.keys.shift;if(N.indexOf("c")<0&&b){var L=o.w/o.h;x.w/x.h>L?x.h=Math.round(x.w/L):x.w=Math.round(x.h*L)}~N.indexOf("l")&&(x.l+=o.w-x.w),~N.indexOf("t")&&(x.t+=o.h-x.h);for(var k in x){var P=k;x[P]=parseInt("".concat(x[P]),10)}return x}},i.prototype.getParentRect=function(){var r={left:0,top:0,width:0,height:0},t=this.el;if(!t)return r;var e=t.offsetParent;return e&&e.tagName!=="BODY"&&(r=this.getElementPos(e)),r},i})();const QT=ZT;var Mn=function(){return Mn=Object.assign||function(i){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])}return i},Mn.apply(this,arguments)};function JT(i,r,t){for(var e={index:0,placement:"before"},n=0,o=0,l=0,s=0,f=0,u=0,p=0,d,h=0,v=i.length;h<v;h++){d=i[h];var _=d.top,T=d.left,w=d.height,C=d.width;if(l=T+C,p=_+w,f=T+C/2,u=_+w/2,!(o&&T>o||s&&u>=s||n&&l<n))if(e.index=h,!d.dir)t<p&&(s=p),r<f?(o=f,e.placement="before"):(n=f,e.placement="after");else if(t<u){e.placement="before";break}else e.placement="after"}return e}function wh(i){var r=i.getBoundingClientRect();return{top:r.top+document.body.scrollTop,left:r.left+document.body.scrollLeft}}function Xf(i,r){return qt.matches.call(i,r)}function tC(i,r){var t=Pf(i),e=Pf(r),n=e.filter(function(f){return t.includes(f)}),o=n[0];if(!o)return i.model.index()-r.model.index();var l=e[e.indexOf(o)-1],s=t[t.indexOf(o)-1];return s.index()-l.index()}function Pf(i){return i?[i].concat(Pf(i.parent())):[]}function eC(i,r){if(i)for(var t=i.parentNode;t&&t.nodeType===1;){if(Xf(t,r))return t;t=t.parentNode}}function rC(i,r){if((0,ue.ir)(i))return!1;var t=i.style||{},e=(0,Rr.default)(i),n=(0,Rr.default)(r);if(t.overflow&&t.overflow!=="visible")return!1;var o=e.css("float");return o&&o!=="none"||n.css("display")==="flex"&&n.css("flex-direction")!=="column"||!nC(t.position)?!1:oC(i)||iC(e)}function nC(i){switch(i){case"static":case"relative":case"":return!0;default:return!1}}function oC(i){var r=["TR","TBODY","THEAD","TFOOT"];return r.includes(i.tagName)}function iC(i){var r=i.css("display"),t=["block","list-item","table","flex","grid"];return t.includes(r)}function aC(i){var r={containerContext:{container:"",placeholderElement:"",containerSel:"*",itemSel:"*",pfx:"",document},positionOptions:{borderOffset:10,relative:!1,windowMargin:0,offsetTop:0,offsetLeft:0,scale:1,canvasRelative:!1},dragBehavior:{dragDirection:Si.A.Vertical,nested:!1,selectOnEnd:!0},eventHandlers:{}},t=Mn(Mn(Mn({},r),i),{containerContext:Mn(Mn({},r.containerContext),i.containerContext),positionOptions:Mn(Mn({},r.positionOptions),i.positionOptions),dragBehavior:Mn(Mn({},r.dragBehavior),i.dragBehavior),eventHandlers:Mn(Mn({},r.eventHandlers),i.eventHandlers)});return t}var nv=(function(){function i(r){this.timeout=null,this.threshold=r}return i.prototype.updateArgs=function(r){this.lastArgs=r},i.prototype.execute=function(r){var t=this;this.timeout||(this.timeout=setTimeout(function(){t.lastArgs&&r(t.lastArgs),t.timeout=null},this.threshold))},i.prototype.clearTimeout=function(){this.timeout&&(clearTimeout(this.timeout),this.timeout=null),delete this.lastArgs},i})(),kf=function(){return kf=Object.assign||function(i){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])}return i},kf.apply(this,arguments)},sC=(function(){function i(r){this.top=r.top,this.left=r.left,this.height=r.height,this.width=r.width,this.offsets=r.offsets,this.dir=r.dir}return i.prototype.calculateDimensionDifference=function(r){var t=r.top-this.top,e=r.left-this.left;return{topDifference:t,leftDifference:e}},i.prototype.adjustDimensions=function(r){return this.top+=r.topDifference,this.left+=r.leftDifference,this},i.prototype.determinePlacement=function(r,t){var e=this.left+this.width/2,n=this.top+this.height/2;return this.dir?t<n?"before":"after":r<e?"before":"after"},i.prototype.equals=function(r){return r?this.top===r.top&&this.left===r.left&&this.height===r.height&&this.width===r.width&&this.dir===r.dir&&JSON.stringify(this.offsets)===JSON.stringify(r.offsets):!1},i.prototype.clone=function(){return new i({top:this.top,left:this.left,height:this.height,width:this.width,offsets:kf({},this.offsets),dir:this.dir})},i.prototype.getDropArea=function(r){var t=this.clone(),e=this.adjustDropDimension(this.width,this.left,r),n=e.newSize,o=e.newPosition;t.width=n,t.left=o;var l=this.adjustDropDimension(this.height,this.top,r),s=l.newSize,f=l.newPosition;return t.height=s,t.top=f,t},i.prototype.adjustDropDimension=function(r,t,e){var n=e.ratio,o=e.minUndroppableDimension,l=e.maxUndroppableDimension,s=r*(1-n)/2;s=Math.max(s,o),s=Math.min(s,l);var f=r-s*2,u=t+s;return{newSize:f,newPosition:u}},i.prototype.isWithinBounds=function(r,t){return r>=this.left&&r<=this.left+this.width&&t>=this.top&&t<=this.top+this.height},i})();const lC=sC;var uC=(function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}})(),cC=(function(i){uC(r,i);function r(t){var e=i.call(this)||this;return e.sourceNodes=[],e.containerOffset={top:0,left:0},e.moveThreshold=20,e.treeClass=t.treeClass,e.em=t.em,e.containerContext=t.containerContext,e.positionOptions=t.positionOptions,e.dragDirection=t.dragDirection,e.eventHandlers=t.eventHandlers,(0,X.bindAll)(e,"endDrag","cancelDrag","recalculateTargetOnScroll","startSort","onDragStart","onMove"),e.restLastMoveData(),e.rateLimiter=new nv(e.moveThreshold),e}return r.prototype.startSort=function(t){this.sourceNodes=t,this.bindDragEventHandlers()},r.prototype.bindDragEventHandlers=function(){(0,ue.on)(this.containerContext.container,"dragstart",this.onDragStart),(0,ue.on)(this.containerContext.container,"mousemove dragover",this.onMove),(0,ue.on)(this.containerContext.document,"mouseup dragend touchend",this.endDrag)},r.prototype.recalculateTargetOnScroll=function(){var t=this.lastMoveData.mouseEvent;t&&this.onMove(t)},r.prototype.onMove=function(t){this.rateLimiter.updateArgs(t),this.rateLimiter.execute(this.handleMove.bind(this))},r.prototype.handleMove=function(t){var e,n,o,l,s,f,u;this.adjustForScroll();var p=this.lastMoveData.targetNode;(n=(e=this.eventHandlers).onMouseMove)===null||n===void 0||n.call(e,t),this.cacheContainerPosition();var d=this.getMousePositionRelativeToContainer(t.clientX,t.clientY),h=d.mouseXRelative,v=d.mouseYRelative,_=this.getMouseTargetElement(t),T=this.getFirstElementWithAModel(_),w=T?(o=(0,Rr.default)(T))===null||o===void 0?void 0:o.data("model"):void 0,C=w?this.getOrCreateHoveredNode(w):void 0,A=C?this.getIndexInParent(C,C.nodeDimensions,h,v):0,S=C?this.getValidParent(C,0,h,v):void 0,x=!S?.equals(p);if(x&&((s=(l=this.eventHandlers).onTargetChange)===null||s===void 0||s.call(l,p,S)),!S||!C){this.triggerLegacyOnMoveCallback(t,0),this.triggerMoveEvent(h,v),this.restLastMoveData();return}var N=this.getDropPosition(S,h,v),b=N.index,L=N.placement,k=N.placeholderDimensions,P=!k.equals(this.lastMoveData.placeholderDimensions)||L!==this.lastMoveData.placement;P&&((u=(f=this.eventHandlers).onPlaceholderPositionChange)===null||u===void 0||u.call(f,k,L)),this.lastMoveData={targetNode:S,hoveredNode:C,mouseEvent:t,index:b,hoveredIndex:A,placement:L,placeholderDimensions:k},this.triggerMoveEvent(h,v),this.triggerLegacyOnMoveCallback(t,b)},r.prototype.adjustForScroll=function(){var t,e,n=this.lastMoveData.targetNode;if(n?.element){var o=this.getDim(n?.element),l=(t=n.nodeDimensions)===null||t===void 0?void 0:t.calculateDimensionDifference(o);l&&n.adjustDimensions(l)}var s=this.lastMoveData.hoveredNode;if(s?.element){var o=this.getDim(s?.element),l=(e=s.nodeDimensions)===null||e===void 0?void 0:e.calculateDimensionDifference(o);l&&s.adjustDimensions(l)}},r.prototype.restLastMoveData=function(){this.lastMoveData={targetNode:void 0,index:void 0,placement:void 0,mouseEvent:void 0}},r.prototype.triggerLegacyOnMoveCallback=function(t,e){var n,o,l,s,f=(n=this.sourceNodes[0])===null||n===void 0?void 0:n.model;(l=(o=this.eventHandlers).legacyOnMoveClb)===null||l===void 0||l.call(o,{event:t,target:f,parent:(s=this.lastMoveData.targetNode)===null||s===void 0?void 0:s.model,index:e})},r.prototype.triggerMoveEvent=function(t,e){var n,o=this.lastMoveData,l=o.targetNode,s=o.placement,f=o.index,u=f?f+(s==="after"?-1:0):0;this.em.trigger("sorter:drag",{target:l?.element||null,targetModel:(n=this.lastMoveData.targetNode)===null||n===void 0?void 0:n.model,sourceModel:this.sourceNodes[0].model,dims:l?.childrenDimensions||[],pos:{index:u,indexEl:u,placement:s},x:t,y:e})},r.prototype.getDropPosition=function(t,e,n){var o,l=t.nodeDimensions,s=t.childrenDimensions,f=t.getChildren(),u=f&&f.length>0;l=l||this.getDim(t.element),t.nodeDimensions=l,s=s||this.getChildrenDim(t),t.childrenDimensions=s;var p=l.clone(),d=0,h="inside";return u&&(o=JT(s,e,n),d=o.index,h=o.placement,p=s[d].clone(),d=d+(h=="after"?1:0)),{index:d,placement:h,placeholderDimensions:p}},r.prototype.getOrCreateHoveredNode=function(t){var e=this.lastMoveData.hoveredNode,n=new this.treeClass(t),o=n.equals(e),l=o?e:n;return l.nodeDimensions=o?e.nodeDimensions:this.getDim(n.element),l},r.prototype.getMouseTargetElement=function(t){var e=this.containerContext.customTarget,n=this.containerContext.document.elementFromPoint(t.clientX,t.clientY),o=e?e({event:t}):n;return o},r.prototype.onDragStart=function(t){this.eventHandlers.onDragStart&&this.eventHandlers.onDragStart(t)},r.prototype.endDrag=function(){this.dropDragged()},r.prototype.cancelDrag=function(){var t,e,n=this.lastMoveData.targetNode;(e=(t=this.eventHandlers).onTargetChange)===null||e===void 0||e.call(t,n,void 0),this.finalizeMove()},r.prototype.finalizeMove=function(){var t,e,n,o;this.cleanupEventListeners(),this.triggerOnDragEndEvent(),(e=(t=this.eventHandlers).onEnd)===null||e===void 0||e.call(t),(o=(n=this.eventHandlers).legacyOnEnd)===null||o===void 0||o.call(n),this.restLastMoveData(),this.rateLimiter.clearTimeout()},r.prototype.dropDragged=function(){var t,e,n=this.lastMoveData,o=n.targetNode,l=n.index;(e=(t=this.eventHandlers).onDrop)===null||e===void 0||e.call(t,o,this.sourceNodes,l),this.finalizeMove()},r.prototype.triggerOnDragEndEvent=function(){var t=this.lastMoveData.targetNode,e=this.sourceNodes[0];this.em.trigger("sorter:drag:end",{targetCollection:t?t.getChildren():null,modelToDrop:e?.model,warns:[""],validResult:{result:!0,src:this.sourceNodes.map(function(n){return n.element}),srcModel:e?.model,trg:t?.element,trgModel:t?.model,draggable:!0,droppable:!0},dst:t?.element,srcEl:e?.element})},r.prototype.getFirstElementWithAModel=function(t){for(var e=function(n){return(0,Rr.default)(n).data("model")!==void 0};t&&this.containerContext.container.contains(t);){if(e(t))return t;t=t.parentElement}return null},r.prototype.getValidParent=function(t,e,n,o){var l,s;if(t){var f=this.lastMoveData,u=f.targetNode,p=f.hoveredNode,d=f.hoveredIndex,h=f.mouseEvent,v=t.equals(p);t.nodeDimensions=v?p.nodeDimensions:this.getDim(t.element);var _=this.getIndexInParent(t,t.nodeDimensions,n,o),T=_===d,w=t.isWithinDropBounds(n,o),C=v&&T&&w===t.isWithinDropBounds((l=h?.clientX)!==null&&l!==void 0?l:0,(s=h?.clientY)!==null&&s!==void 0?s:0);if(C&&u)return u;if(!w)return this.handleParentTraversal(t,n,o);var A=this.sourceNodes.some(function(S){return t.canMove(S,e)});return this.triggerDragValidation(A,t),A?t:this.handleParentTraversal(t,n,o)}},r.prototype.handleParentTraversal=function(t,e,n){var o=t.getParent();if(o){var l=this.getIndexInParent(t,t.nodeDimensions,e,n);if(l!==void 0)return this.getValidParent(o,l,e,n)}},r.prototype.getIndexInParent=function(t,e,n,o){var l=t.getParent();if(l){var s=l?.indexOfChild(t);return e.dir=this.getDirection(t.element,l.element),s=s+(e.determinePlacement(n,o)=="after"?1:0),s}},r.prototype.triggerDragValidation=function(t,e){var n=this.sourceNodes[0];return this.em.trigger("sorter:drag:validation",{valid:t,src:n?.element,srcModel:n?.model,trg:e.element,trgModel:e.model}),n},r.prototype.cleanupEventListeners=function(){var t=this.containerContext.container;(0,ue.AU)(t,"dragstart",this.onDragStart),(0,ue.AU)(t,"mousemove dragover",this.onMove),(0,ue.AU)(this.containerContext.document,"mouseup dragend touchend",this.endDrag)},r.prototype.getDirection=function(t,e){var n;return this.dragDirection===Si.A.Vertical?n=!0:this.dragDirection===Si.A.Horizontal?n=!1:n=rC(t,e),n},r.prototype.getChildrenDim=function(t){var e=this,n=[],o=t.element;if(!o)return[];var l=t.getChildren();return!l||l.length===0?[]:((0,X.each)(l,function(s,f){var u=s.element;if(u&&!(!(0,ue.ir)(u)&&!Xf(u,e.containerContext.itemSel))){var p=e.getDim(u);p.dir=e.getDirection(u,o),n.push(p)}}),n)},r.prototype.getMousePositionRelativeToContainer=function(t,e){var n=e-this.containerOffset.top+this.containerContext.container.scrollTop,o=t-this.containerOffset.left+this.containerContext.container.scrollLeft;if(this.positionOptions.canvasRelative){var l=this.em.Canvas.getMouseRelativeCanvas({clientX:t,clientY:e},{noScroll:1});o=l.x,n=l.y}return{mouseXRelative:o,mouseYRelative:n}},r.prototype.cacheContainerPosition=function(){var t=this.containerContext.container,e=wh(t),n=this.positionOptions.windowMargin?Math.abs(e.top):e.top,o=this.positionOptions.windowMargin?Math.abs(e.left):e.left;this.containerOffset={top:n,left:o}},r.prototype.getDim=function(t){var e=this.em,n=this.positionOptions.relative,o=this.positionOptions.windowMargin,l=e?.Canvas,s=l?l.getElementOffsets(t):{},f,u,p,d;if(this.positionOptions.canvasRelative&&this.em){var h=l.getElementPos(t,{noScroll:1});f=h.top,u=h.left,p=h.height,d=h.width}else{var v=wh(t);f=n?t.offsetTop:v.top-(o?-1:1)*this.containerOffset.top,u=n?t.offsetLeft:v.left-(o?-1:1)*this.containerOffset.left,p=t.offsetHeight,d=t.offsetWidth}return new lC({top:f,left:u,height:p,width:d,offsets:s})},r})(ae.Ss),fC=(function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}})(),pC=(function(i){fC(r,i);function r(t){var e=i.call(this)||this;return e.pfx=t.pfx||"",e.allowNesting=t.allowNesting||!1,e.container=t.container,e.setElement(t.el),e.offset={top:t.offset.top||0,left:t.offset.left||0},e.moveLimiter=new nv(100),e}return r.prototype.show=function(){this.el.style.display="block"},r.prototype.hide=function(){this.moveLimiter.clearTimeout(),this.el.style.display="none"},r.prototype.move=function(t,e){var n=this,o={elementDimension:t,placement:e};this.moveLimiter.updateArgs(o),this.moveLimiter.execute(function(l){var s=l.elementDimension,f=l.placement;n._move(s,f)})},r.prototype._move=function(t,e){var n=0,o="px",l=0,s=0,f="",u="";this.setOrientationForDimension(t);var p=t.top,d=t.left,h=t.height,v=t.width,_=t.dir,T=t.offsets;if(e==="inside"){if(this.setOrientation("horizontal"),!this.allowNesting){this.hide();return}var w=5,C=T?.paddingTop||w,A=T?.paddingLeft||w,S=T?.borderTopWidth||0,x=T?.borderLeftWidth||0,N=T?.borderRightWidth||0,b=x+N;l=p+C+S,s=d+A+x,f=Math.max(v-A*2-b,1)+"px",u="auto"}else _?(f=v+o,u="auto",l=e==="before"?p-n:p+h-n,s=d):(f="auto",u=h-n*2+o,l=p+n,s=e==="before"?d-n:d+v-n,this.setOrientation("vertical"));this.updateStyles(l,s,f,u),this.adjustOffset()},r.prototype.setOrientationForDimension=function(t){this.el.classList.remove("vertical"),this.el.classList.add("horizontal"),t&&!t.dir&&this.setOrientation("vertical")},r.prototype.setOrientation=function(t){this.el.classList.remove("horizontal"),this.el.classList.remove("vertical"),this.el.classList.add(t)},r.prototype.updateStyles=function(t,e,n,o){this.el.style.top=t+"px",this.el.style.left=e+"px",n&&(this.el.style.width=n),o&&(this.el.style.height=o)},r.prototype.adjustOffset=function(){this.$el.css("top","+="+this.offset.top+"px"),this.$el.css("left","+="+this.offset.left+"px")},r})(ae.Ss),ua=function(){return ua=Object.assign||function(i){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])}return i},ua.apply(this,arguments)},dC=(function(){function i(r){var t=aC(r);(0,X.bindAll)(this,"startSort","cancelDrag","recalculateTargetOnScroll","rollback","updateOffset","handlePlaceholderMove","finalizeMove"),this.containerContext=t.containerContext,this.positionOptions=t.positionOptions,this.dragBehavior=t.dragBehavior,this.eventHandlers=ua(ua({},t.eventHandlers),{onPlaceholderPositionChange:this.handlePlaceholderMove,onEnd:this.finalizeMove}),this.em=r.em,this.treeClass=r.treeClass,this.updateOffset(),this.em.on(this.em.Canvas.events.refresh,this.updateOffset),this.placeholder=this.createPlaceholder(),this.dropLocationDeterminer=new cC({em:this.em,treeClass:this.treeClass,containerContext:this.containerContext,positionOptions:this.positionOptions,dragDirection:this.dragBehavior.dragDirection,eventHandlers:this.eventHandlers})}return i.prototype.startSort=function(r){var t,e,n,o,l,s,f,u=this.getSourceNodes(r),p=u.sourceNodes,d=u.sourcesWithModel;this.sourceNodes=p,this.dropLocationDeterminer.startSort(p),this.bindDragEventHandlers(),(e=(t=this.eventHandlers).onStartSort)===null||e===void 0||e.call(t,this.sourceNodes,this.containerContext.container);var h=(n=this.sourceNodes[0])===null||n===void 0?void 0:n.model;(l=(o=this.eventHandlers).legacyOnStartSort)===null||l===void 0||l.call(o,{sorter:this,target:h,parent:h&&((s=h.parent)===null||s===void 0?void 0:s.call(h)),index:h&&((f=h.index)===null||f===void 0?void 0:f.call(h))}),this.em.trigger("sorter:drag:start",r[0],d[0])},i.prototype.validTarget=function(r,t,e){if(!r)return!1;var n=(0,Rr.default)(r).data("model");if(!n)return!1;var o=new this.treeClass(n),l=this.getSourceNodes(t).sourceNodes,s=l.some(function(f){return o.canMove(f,e)});return s},i.prototype.getSourceNodes=function(r){var t=this,e=r.filter(function(s){return!!s.dragSource||t.findValidSourceElement(s.element)}),n=e.map(function(s){var f,u;return{model:((f=s.dragSource)===null||f===void 0?void 0:f.model)||((u=(0,Rr.default)(s.element))===null||u===void 0?void 0:u.data("model")),content:s.dragSource}}),o=n.sort(function(s,f){return tC(s.model,f.model)}),l=o.map(function(s){return new t.treeClass(s.model,s.content)});return{sourceNodes:l,sourcesWithModel:n}},i.prototype.recalculateTargetOnScroll=function(){this.dropLocationDeterminer.recalculateTargetOnScroll()},i.prototype.cancelDrag=function(){this.triggerNullOnEndMove(!0),this.dropLocationDeterminer.cancelDrag()},i.prototype.endDrag=function(){this.dropLocationDeterminer.endDrag()},i.prototype.handlePlaceholderMove=function(r,t){this.ensurePlaceholderElement(),this.updatePlaceholderPosition(r,t)},i.prototype.createPlaceholder=function(){return new pC({container:this.containerContext.container,allowNesting:this.dragBehavior.nested,pfx:this.containerContext.pfx,el:this.containerContext.placeholderElement,offset:{top:this.positionOptions.offsetTop,left:this.positionOptions.offsetLeft}})},i.prototype.ensurePlaceholderElement=function(){var r=this.placeholder.el,t=this.containerContext.container;r.ownerDocument.contains(r)||t.append(this.placeholder.el)},i.prototype.updateOffset=function(){var r,t=((r=this.em)===null||r===void 0?void 0:r.get("canvasOffset"))||{};this.positionOptions.offsetTop=t.top,this.positionOptions.offsetLeft=t.left},i.prototype.findValidSourceElement=function(r){return r&&!Xf(r,"".concat(this.containerContext.itemSel,", ").concat(this.containerContext.containerSel))&&(r=eC(r,this.containerContext.itemSel)),r},i.prototype.bindDragEventHandlers=function(){(0,ue.on)(this.containerContext.document,"keydown",this.rollback)},i.prototype.updatePlaceholderPosition=function(r,t){this.placeholder.move(r,t)},i.prototype.cleanupEventListeners=function(){(0,ue.AU)(this.containerContext.document,"keydown",this.rollback)},i.prototype.finalizeMove=function(){this.cleanupEventListeners(),this.placeholder.hide(),delete this.sourceNodes},i.prototype.rollback=function(r){(0,ue.AU)(this.containerContext.document,"keydown",this.rollback);var t="Escape";r.key===t&&this.cancelDrag()},i.prototype.triggerNullOnEndMove=function(r){var t,e,n,o,l,s=(t=this.sourceNodes)===null||t===void 0?void 0:t[0].model,f={target:s,parent:s&&((e=s.parent)===null||e===void 0?void 0:e.call(s)),index:s&&((n=s.index)===null||n===void 0?void 0:n.call(s))};(l=(o=this.eventHandlers).legacyOnEndMove)===null||l===void 0||l.call(o,null,this,ua(ua({},f),{cancelled:r}))},i})();const ov=dC;var hC=(function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}})(),ca=function(){return ca=Object.assign||function(i){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])}return i},ca.apply(this,arguments)},vC=Vn.F.Target,Bc={id:"sorter-target",type:vC},gC=(function(i){hC(r,i);function r(t){var e=t.em,n=t.treeClass,o=t.containerContext,l=t.dragBehavior,s=t.positionOptions,f=s===void 0?{}:s,u=t.eventHandlers,p=u===void 0?{}:u,d=i.call(this,{em:e,treeClass:n,containerContext:o,positionOptions:f,dragBehavior:l,eventHandlers:ca(ca({},p),{onStartSort:function(h,v){var _;(_=p.onStartSort)===null||_===void 0||_.call(p,h,v),d.onStartSort()},onDrop:function(h,v,_){var T;(T=p.onDrop)===null||T===void 0||T.call(p,h,v,_),d.onDrop(h,v,_)},onTargetChange:function(h,v){var _;(_=p.onTargetChange)===null||_===void 0||_.call(p,h,v),d.onTargetChange(h,v)},onMouseMove:function(h){var v;(v=p.onMouseMove)===null||v===void 0||v.call(p,h),d.onMouseMove(h)}})})||this;return d.targetIsText=!1,d.onMouseMove=function(h){var v,_=d.targetIsText&&((v=d.sourceNodes)===null||v===void 0?void 0:v.some(function(T){return T.isTextable()}));_&&d.updateTextViewCursorPosition(h)},d.onDrop=function(h,v,_){var T=typeof _=="number"?_:-1;if(h&&v.length>0){var w=d.handleNodeAddition(h,v,T);w.length===0&&d.triggerNullOnEndMove(!1)}else d.triggerNullOnEndMove(!0);h?.restNodeState(),d.placeholder.hide()},d.onTargetChange=function(h,v){var _;h?.restNodeState();var T=d.em.Canvas;if(!v){d.placeholder.hide(),T.removeSpots(Bc);return}v?.setSelectedParentState(),d.targetIsText=v.isTextNode();var w=d.targetIsText&&((_=d.sourceNodes)===null||_===void 0?void 0:_.some(function(x){return x.isTextable()}));w?(v.setContentEditable(!0),d.placeholder.hide()):d.placeholder.show();var C=Vn.F.Select,A=Vn.F.Hover,S=Vn.F.Spacing;[C,A,S].forEach(function(x){return T.removeSpots({type:x})}),T.addSpot(ca(ca({},Bc),{component:v.model}))},(0,X.bindAll)(d,"handleScrollEvent"),d}return r.prototype.onStartSort=function(){this.em.clearSelection(),this.setAutoCanvasScroll(!0)},r.prototype.bindDragEventHandlers=function(){this.em.on("frame:scroll",this.handleScrollEvent),i.prototype.bindDragEventHandlers.call(this)},r.prototype.cleanupEventListeners=function(){this.em.off("frame:scroll",this.handleScrollEvent),i.prototype.cleanupEventListeners.call(this)},r.prototype.handleScrollEvent=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var o=(t=e?.[0])===null||t===void 0?void 0:t.frame,l=this.em.Canvas.getCanvasView().frame===o;l&&this.recalculateTargetOnScroll()},r.prototype.handleNodeAddition=function(t,e,n){var o=this;return e.reduce(function(l,s){if(!t.canMove(s,n))return l;if(o.isPositionChanged(t,s,n)){var f=o.moveNode(t,s,n),u=f.index,p=f.addedNode;l.push(p),n=u}return n++,l},[])},r.prototype.isPositionChanged=function(t,e,n){var o=e.getParent(),l=o?o.indexOfChild(e):-1;o?.model.cid===t.model.cid&&l<n&&n--;var s=o?.model.cid===t.model.cid,f=l===n,u=this.targetIsText&&e.isTextable();return!(s&&f&&!u)},r.prototype.moveNode=function(t,e,n){var o=e.getParent();if(o){var l=o.indexOfChild(e);o.removeChildAt(l,{temporary:!0}),o.model.cid===t.model.cid&&l<n&&n--}var s=t.addChildAt(e,n,{action:"move-component"});return s&&this.triggerEndMoveEvent(s),{addedNode:s,index:n}},r.prototype.triggerEndMoveEvent=function(t){var e,n,o,l,s,f;(n=(e=this.eventHandlers).legacyOnEndMove)===null||n===void 0||n.call(e,t.model,this,{target:t.model,parent:t.model&&((l=(o=t.model).parent)===null||l===void 0?void 0:l.call(o)),index:t.model&&((f=(s=t.model).index)===null||f===void 0?void 0:f.call(s))})},r.prototype.finalizeMove=function(){var t,e;(t=this.em)===null||t===void 0||t.Canvas.removeSpots(Bc),(e=this.sourceNodes)===null||e===void 0||e.forEach(function(n){return n.restNodeState()}),this.setAutoCanvasScroll(!1),i.prototype.finalizeMove.call(this)},r.prototype.updateTextViewCursorPosition=function(t){var e=this.em;if(e){var n=e.Canvas,o=n.getDocument(),l=null,s=(0,ue.G2)(t);if(o.caretPositionFromPoint){var f=o.caretPositionFromPoint(s.clientX,s.clientY);f&&(l=o.createRange(),l.setStart(f.offsetNode,f.offset))}else o.caretRangeFromPoint?l=o.caretRangeFromPoint(s.clientX,s.clientY):t.rangeParent&&(l=o.createRange(),l.setStart(t.rangeParent,t.rangeOffset));var u=n.getWindow().getSelection();n.getFrameEl().focus(),u?.removeAllRanges(),l&&u?.addRange(l)}},r.prototype.setAutoCanvasScroll=function(t){var e=this.em,n=e?.Canvas;n&&(t?n.startAutoscroll():n.stopAutoscroll())},r})(ov);const Sh=gC;var mC=(function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}})(),pu=function(){return pu=Object.assign||function(i){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])}return i},pu.apply(this,arguments)},yC=(function(i){mC(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.defaults=function(){return{values:{}}},r.prototype.initialize=function(){var t=this.collection;this.prop=t?.prop},r.prototype.getId=function(){return this.cid},r.prototype.getIndex=function(){var t=this.collection;return t?t.indexOf(this):-1},r.prototype.getValues=function(t){t===void 0&&(t={});var e=this.get("values");return t.camelCase?Object.keys(e).reduce(function(n,o){return n[(0,qt.camelCase)(o)]=e[o],n},{}):e},r.prototype.getLabel=function(){var t;return(t=this.prop)===null||t===void 0?void 0:t.getLayerLabel(this)},r.prototype.isSelected=function(){var t;return((t=this.prop)===null||t===void 0?void 0:t.getSelectedLayer())===this},r.prototype.select=function(){var t;return(t=this.prop)===null||t===void 0?void 0:t.selectLayer(this)},r.prototype.remove=function(){var t;return(t=this.prop)===null||t===void 0?void 0:t.removeLayer(this)},r.prototype.move=function(t){var e;return(e=this.prop)===null||e===void 0?void 0:e.moveLayer(this,t)},r.prototype.getStylePreview=function(t){var e;return t===void 0&&(t={}),(e=this.prop)===null||e===void 0?void 0:e.getStylePreview(this,t)},r.prototype.hasPreview=function(){var t;return!!(!((t=this.prop)===null||t===void 0)&&t.get("preview"))},r.prototype.upValues=function(t){return t===void 0&&(t={}),this.set("values",pu(pu({},this.getValues()),t))},r})(ae.Kx);const is=yC;var _C=(function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}})(),iv=(function(i){_C(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.initialize=function(t,e){e===void 0&&(e={}),this.prop=e.prop},r})(ae.pM);const Cl=iv;iv.prototype.model=is;var bC=qe(3178),TC=(function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}})(),CC=(function(i){TC(r,i);function r(t){return i.call(this,t)||this}return r.prototype.getChildren=function(){return this.model instanceof Cl?this.model.models.map(function(t){return new r(t)}):null},r.prototype.getParent=function(){var t=this.model instanceof is?this.model.collection:null;return t?new r(t):null},r.prototype.addChildAt=function(t,e){if(this.model instanceof is)throw Error("Cannot add a layer model to another layer model");var n=this.model.add(t.model,{at:e});return new r(n)},r.prototype.removeChildAt=function(t){if(this.model instanceof is)throw Error("Cannot remove a layer model from another layer model");var e=this.model.at(t);e&&this.model.remove(e)},r.prototype.indexOfChild=function(t){return!(t.model instanceof is)||!(this.model instanceof Cl)?-1:this.model.indexOf(t.model)},r.prototype.canMove=function(t,e){return this.model instanceof Cl&&!!t.model},Object.defineProperty(r.prototype,"view",{get:function(){return this.model.view},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"element",{get:function(){var t;return(t=this.view)===null||t===void 0?void 0:t.el},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"model",{get:function(){return this._model},enumerable:!1,configurable:!0}),r})(bC.$),wC=(function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}})(),Mf=function(){return Mf=Object.assign||function(i){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])}return i},Mf.apply(this,arguments)},SC=(function(i){wC(r,i);function r(t){var e=t.em,n=t.containerContext,o=t.dragBehavior,l=t.positionOptions,s=l===void 0?{}:l,f=t.eventHandlers,u=f===void 0?{}:f,p=i.call(this,{em:e,treeClass:CC,containerContext:n,positionOptions:s,dragBehavior:o,eventHandlers:Mf({onStartSort:function(d,h){var v;(v=u.onStartSort)===null||v===void 0||v.call(u,d,h),p.onLayerStartSort(d)},onDrop:function(d,h,v){var _;(_=u.onDrop)===null||_===void 0||_.call(u,d,h,v),p.onLayerDrop(d,h,v)},onEnd:function(){p.placeholder.hide()}},u)})||this;return p.onLayerStartSort=function(d){p.em.clearSelection();var h=d[0];p.em.trigger("sorter:drag:start",h?.element,h?.model),p.placeholder.show()},p.onLayerDrop=function(d,h,v){if(d){v=typeof v=="number"?v:-1;for(var _=0;_<h.length;_++){var T=h[_];if(d.canMove(T,_)){var w=T.getParent(),C=-1;w&&(C=w.indexOfChild(T),w.removeChildAt(C)),v=C<v?v-1:v,d.addChildAt(T,v)}}p.placeholder.hide()}},p}return r})(ov);const EC=SC;var xC=(function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}})(),Nf=function(){return Nf=Object.assign||function(i){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])}return i},Nf.apply(this,arguments)},OC=(function(i){xC(r,i);function r(t){var e=i.call(this,t,"Utils")||this;return e.Sorter=Sh,e.Resizer=QT,e.Dragger=h1.A,e.ComponentSorter=Sh,e.StyleManagerSorter=EC,e.helpers=Nf({},qt),e}return r.prototype.destroy=function(){},r})(Cn);const AC=OC;var bn,Ln={},an={16:!1,18:!1,17:!1,91:!1},av="all",xi={"⇧":16,shift:16,"⌥":18,alt:18,option:18,"⌃":17,ctrl:17,control:17,"⌘":91,command:91},sv={backspace:8,tab:9,clear:12,enter:13,return:13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,del:46,delete:46,home:36,end:35,pageup:33,pagedown:34,",":188,".":190,"/":191,"`":192,"-":189,"=":187,";":186,"'":222,"[":219,"]":221,"\\":220},$f=function(i){return sv[i]||i.toUpperCase().charCodeAt(0)},Ta=[];for(bn=1;bn<20;bn++)sv["f"+bn]=111+bn;function vs(i,r){for(var t=i.length;t--;)if(i[t]===r)return t;return-1}function PC(i,r){if(i.length!=r.length)return!1;for(var t=0;t<i.length;t++)if(i[t]!==r[t])return!1;return!0}var kC={16:"shiftKey",18:"altKey",17:"ctrlKey",91:"metaKey"};function MC(i){for(bn in an)an[bn]=i[kC[bn]]}function NC(i){var r,t,e,n,o,l;if(r=i.keyCode,vs(Ta,r)==-1&&Ta.push(r),(r==93||r==224)&&(r=91),r in an){an[r]=!0;for(e in xi)xi[e]==r&&(un[e]=!0);return}if(MC(i),!!un.filter.call(this,i)&&r in Ln){for(l=Zf(),n=0;n<Ln[r].length;n++)if(t=Ln[r][n],t.scope==l||t.scope=="all"){o=t.mods.length>0;for(e in an)(!an[e]&&vs(t.mods,+e)>-1||an[e]&&vs(t.mods,+e)==-1)&&(o=!1);(t.mods.length==0&&!an[16]&&!an[18]&&!an[17]&&!an[91]||o)&&t.method(i,t)===!1&&(i.preventDefault?i.preventDefault():i.returnValue=!1,i.stopPropagation&&i.stopPropagation(),i.cancelBubble&&(i.cancelBubble=!0))}}}function LC(i){var r=i.keyCode,t,e=vs(Ta,r);if(e>=0&&Ta.splice(e,1),(r==93||r==224)&&(r=91),r in an){an[r]=!1;for(t in xi)xi[t]==r&&(un[t]=!1)}}function IC(){for(bn in an)an[bn]=!1;for(bn in xi)un[bn]=!1}function un(i,r,t){var e,n;e=lv(i),t===void 0&&(t=r,r="all");for(var o=0;o<e.length;o++)n=[],i=e[o].split("+"),i.length>1&&(n=uv(i),i=[i[i.length-1]]),i=i[0],i=$f(i),i in Ln||(Ln[i]=[]),Ln[i].push({shortcut:e[o],scope:r,method:t,key:e[o],mods:n})}function DC(i,r){var t,e,n=[],o,l,s;for(t=lv(i),l=0;l<t.length;l++){if(e=t[l].split("+"),e.length>1&&(n=uv(e)),i=e[e.length-1],i=$f(i),r===void 0&&(r=Zf()),!Ln[i])return;for(o=0;o<Ln[i].length;o++)s=Ln[i][o],s.scope===r&&PC(s.mods,n)&&(Ln[i][o]={})}}function RC(i){return typeof i=="string"&&(i=$f(i)),vs(Ta,i)!=-1}function jC(){return Ta.slice(0)}function HC(i){var r=(i.target||i.srcElement).tagName;return!(r=="INPUT"||r=="SELECT"||r=="TEXTAREA")}for(bn in xi)un[bn]=!1;function FC(i){av=i||"all"}function Zf(){return av||"all"}function VC(i){var r,t,e;for(r in Ln)for(t=Ln[r],e=0;e<t.length;)t[e].scope===i?t.splice(e,1):e++}function lv(i){var r;return i=i.replace(/\s/g,""),r=i.split(","),r[r.length-1]==""&&(r[r.length-2]+=","),r}function uv(i){for(var r=i.slice(0,i.length-1),t=0;t<r.length;t++)r[t]=xi[r[t]];return r}function Wc(i,r,t){i.addEventListener?i.addEventListener(r,t,!1):i.attachEvent&&i.attachEvent("on"+r,function(){t(window.event)})}un.setScope=FC;un.getScope=Zf;un.deleteScope=VC;un.filter=HC;un.isPressed=RC;un.getPressedKeyCodes=jC;un.unbind=DC;un.handlers=Ln;un.init=function(i){Wc(i.document,"keydown",function(r){NC(r)}),Wc(i.document,"keyup",LC),Wc(i,"focus",IC)};const as=un;var UC=function(){return{defaults:{"core:undo":{keys:"⌘+z, ctrl+z",handler:"core:undo",opts:{prevent:!0}},"core:redo":{keys:"⌘+shift+z, ctrl+shift+z",handler:"core:redo",opts:{prevent:!0}},"core:copy":{keys:"⌘+c, ctrl+c",handler:"core:copy"},"core:paste":{keys:"⌘+v, ctrl+v",handler:"core:paste"},"core:component-next":{keys:"s",handler:"core:component-next"},"core:component-prev":{keys:"w",handler:"core:component-prev"},"core:component-enter":{keys:"d",handler:"core:component-enter"},"core:component-exit":{keys:"a",handler:"core:component-exit"},"core:component-delete":{keys:"backspace, delete",handler:"core:component-delete",opts:{prevent:!0}}}}};const BC=UC;var Lf;(function(i){i.add="keymap:add",i.remove="keymap:remove",i.emit="keymap:emit",i.emitId="keymap:emit:"})(Lf||(Lf={}));var WC=(function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}})(),Eh=function(i,r,t){if(t||arguments.length===2)for(var e=0,n=r.length,o;e<n;e++)(o||!(e in r))&&(o||(o=Array.prototype.slice.call(r,0,e)),o[e]=r[e]);return i.concat(o||Array.prototype.slice.call(r))};(0,qt.hasWin)()&&as.init(window);var zC=(function(i){WC(r,i);function r(t){var e=i.call(this,t,"Keymaps",BC())||this;return e.keymaster=as,e.events=Lf,e.keymaps={},e}return r.prototype.onLoad=function(){if(!this.em.isHeadless){var t=this.config.defaults;for(var e in t){var n=t[e];this.add(e,n.keys,n.handler,n.opts||{})}}},r.prototype.add=function(t,e,n,o){o===void 0&&(o={});var l=this,s=l.em,f=l.events,u=s.Commands,p=s.getEditor(),d=s.Canvas,h={id:t,keys:e,handler:n},v=this.keymaps[t];return v&&this.remove(t),this.keymaps[t]=h,as(e,function(_,T){var w,C={event:_,h:T},A=(0,X.isString)(n)?u.get(n):n,S=!s.isEditing()&&!p.Canvas.isInputFocused();if(S||o.force){o.prevent&&((w=d.getCanvasView())===null||w===void 0||w.preventDefault(_)),(0,X.isFunction)(A)?A(p,0,C):u.runCommand(A,C);var x=[t,T.shortcut,_];s.trigger.apply(s,Eh([f.emit],x,!1)),s.trigger.apply(s,Eh(["".concat(f.emitId).concat(t)],x,!1))}},void 0),s.trigger(f.add,h),h},r.prototype.get=function(t){return this.keymaps[t]},r.prototype.getAll=function(){return this.keymaps},r.prototype.remove=function(t){var e=this,n=e.em,o=e.events,l=this.get(t);if(l)return delete this.keymaps[t],l.keys.split(", ").forEach(function(s){as.unbind(s.trim())}),n?.trigger(o.remove,l),l},r.prototype.removeAll=function(){var t=this;return Object.keys(this.keymaps).forEach(function(e){return t.remove(e)}),as.handlers={},this},r.prototype.destroy=function(){this.removeAll(),this.keymaps={}},r})(Cn);const KC=zC;var GC=function(){return{stylePrefix:"mdl-",title:"",content:"",backdrop:!0,custom:!1,extend:{}}};const qC=GC;var YC=(function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}})(),XC=(function(i){YC(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.defaults=function(){return{title:"",content:"",attributes:{},open:!1}},r.prototype.open=function(){this.set("open",!0)},r.prototype.close=function(){this.set("open",!1)},r})(Jo.A);const $C=XC;var If;(function(i){i.open="modal:open",i.close="modal:close",i.all="modal"})(If||(If={}));var ZC=(function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}})(),du=function(){return du=Object.assign||function(i){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])}return i},du.apply(this,arguments)},QC=(function(i){ZC(r,i);function r(t){var e=i.call(this,t)||this,n=e.model;return e.listenTo(n,"change:open",e.updateOpen),e.listenTo(n,"change:title",e.updateTitle),e.listenTo(n,"change:content",e.updateContent),e}return r.prototype.template=function(t){var e=t.pfx,n=t.ppfx,o=t.content,l=t.title;return'<div class="'.concat(e,"dialog ").concat(n,"one-bg ").concat(n,`two-color">
      <div class="`).concat(e,`header">
        <div class="`).concat(e,'title">').concat(l,`</div>
        <div class="`).concat(e,`btn-close" data-close-modal>&Cross;</div>
      </div>
      <div class="`).concat(e,`content">
        <div id="`).concat(e,'c">').concat(o,`</div>
        <div style="clear:both"></div>
      </div>
    </div>
    <div class="`).concat(e,'collector" style="display: none"></div>')},r.prototype.events=function(){return{click:"onClick","click [data-close-modal]":"hide"}},r.prototype.onClick=function(t){var e=this.config.backdrop;e&&t.target===this.el&&this.hide()},r.prototype.getCollector=function(){return this.$collector||(this.$collector=this.$el.find("."+this.pfx+"collector")),this.$collector},r.prototype.getContent=function(){var t=this.pfx;return this.$content||(this.$content=this.$el.find(".".concat(t,"content #").concat(t,"c"))),this.$content},r.prototype.getTitle=function(t){return t===void 0&&(t={}),this.$title||(this.$title=this.$el.find("."+this.pfx+"title")),t.$?this.$title:this.$title.get(0)},r.prototype.updateContent=function(){var t=this.getContent(),e=t.children(),n=this.getCollector(),o=this.model.get("content");e.length&&n.append(e),t.empty().append(o)},r.prototype.updateTitle=function(){var t=this.getTitle({$:!0});t&&t.empty().append(this.model.get("title"))},r.prototype.updateOpen=function(){this.el.style.display=this.model.get("open")?"":"none"},r.prototype.hide=function(){this.model.close()},r.prototype.show=function(){this.model.open()},r.prototype.updateAttr=function(t){var e=this,n=e.pfx,o=e.$el,l=e.el,s=[].slice.call(l.attributes).map(function(f){return f.name});o.removeAttr(s.join(" ")),o.attr(du(du({},t||{}),{class:"".concat(n,"container ").concat(t&&t.class||"").trim()}))},r.prototype.render=function(){var t=this.$el,e=this.model.toJSON();return e.pfx=this.pfx,e.ppfx=this.ppfx,t.html(this.template(e)),this.updateAttr(),this.updateOpen(),this},r})(Bn);const JC=QC;var tw=(function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}})(),ew=(function(i){tw(r,i);function r(t){var e=i.call(this,t,"Modal",qC())||this;e.events=If;var n=e.events;return e.model=new $C(e),e.model.on("change:open",function(o,l){t.trigger(l?n.open:n.close)}),e.model.on("change",(0,X.debounce)(function(){var o=e._evData(),l=e.config.custom;(0,X.isFunction)(l)&&l(o),t.trigger(n.all,o)},0)),e}return r.prototype._evData=function(){var t=this,e=this.getTitle(),n=this.getContent(),o=this.model.attributes,l=o.open,s=o.attributes;return{open:l,attributes:s,title:(0,X.isString)(e)?(0,ue.GZ)(e):e,content:(0,X.isString)(n)?(0,ue.GZ)(n):n.get?n.get(0):n,close:function(){t.close()}}},r.prototype.postRender=function(t){var e=t.model.config.el||t.el,n=this.render();n&&e?.appendChild(n)},r.prototype.open=function(t){t===void 0&&(t={});var e=t.attributes||{};return t.title&&this.setTitle(t.title),t.content&&this.setContent(t.content),this.model.set("attributes",e),this.model.open(),this.modal&&this.modal.updateAttr(e),this},r.prototype.close=function(){return this.model.close(),this},r.prototype.onceClose=function(t){var e=this,n=e.em,o=e.events;return n.once(o.close,t),this},r.prototype.onceOpen=function(t){var e=this,n=e.em,o=e.events;return n.once(o.open,t),this},r.prototype.isOpen=function(){return!!this.model.get("open")},r.prototype.setTitle=function(t){return this.model.set("title",t),this},r.prototype.getTitle=function(){return this.model.get("title")},r.prototype.setContent=function(t){return this.model.set("content"," "),this.model.set("content",t),this},r.prototype.getContent=function(){return this.model.get("content")},r.prototype.getContentEl=function(){var t;return(t=this.modal)===null||t===void 0?void 0:t.getContent().get(0)},r.prototype.getModel=function(){return this.model},r.prototype.render=function(){var t;if(!this.config.custom){var e=JC.extend(this.config.extend),n=this.modal&&this.modal.el;return this.modal=new e({el:n,model:this.model,config:this.config}),(t=this.modal)===null||t===void 0?void 0:t.render().el}},r.prototype.destroy=function(){var t;(t=this.modal)===null||t===void 0||t.remove()},r})(Cn);const rw=ew;var xh="sw-visibility",Oh="export-template",Ah="open-sm",Ph="open-tm",kh="open-layers",Mh="open-blocks",zc="fullscreen",Kc="preview",nw=function(){return{stylePrefix:"pn-",defaults:[{id:"commands",buttons:[{}]},{id:"options",buttons:[{active:!0,id:xh,className:"fa fa-square-o",command:"core:component-outline",context:xh,attributes:{title:"View components"}},{id:Kc,className:"fa fa-eye",command:Kc,context:Kc,attributes:{title:"Preview"}},{id:zc,className:"fa fa-arrows-alt",command:zc,context:zc,attributes:{title:"Fullscreen"}},{id:Oh,className:"fa fa-code",command:Oh,attributes:{title:"View code"}}]},{id:"views",buttons:[{id:Ah,className:"fa fa-paint-brush",command:Ah,active:!0,togglable:!1,attributes:{title:"Open Style Manager"}},{id:Ph,className:"fa fa-cog",command:Ph,togglable:!1,attributes:{title:"Settings"}},{id:kh,className:"fa fa-bars",command:kh,togglable:!1,attributes:{title:"Open Layer Manager"}},{id:Mh,className:"fa fa-th-large",command:Mh,togglable:!1,attributes:{title:"Open Blocks"}}]}]}};const ow=nw;var iw=(function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}})(),aw=(function(i){iw(r,i);function r(t,e){var n=i.call(this,t,e)||this;return n.get("buttons").length&&n.set("buttons",new pv(n.module,n.get("buttons"))),n}return r.prototype.defaults=function(){return{id:"",label:"",tagName:"span",className:"",command:"",context:"",buttons:[],attributes:{},options:{},active:!1,dragDrop:!1,togglable:!0,runDefaultCommand:!0,stopDefaultCommand:!1,disable:!1}},Object.defineProperty(r.prototype,"className",{get:function(){return this.get("className")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"command",{get:function(){return this.get("command")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"active",{get:function(){return this.get("active")},set:function(t){this.set("active",t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"togglable",{get:function(){return this.get("togglable")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"runDefaultCommand",{get:function(){return this.get("runDefaultCommand")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"stopDefaultCommand",{get:function(){return this.get("stopDefaultCommand")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"disable",{get:function(){return this.get("disable")},enumerable:!1,configurable:!0}),r})(Jo.A);const cv=aw;var sw=(function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}})(),fv=(function(i){sw(r,i);function r(t,e){return i.call(this,t,e,cv)||this}return r.prototype.deactivateAllExceptOne=function(t,e){this.forEach(function(n,o){n!==t&&(n.set("active",!1),e&&n.get("buttons").length&&n.get("buttons").deactivateAllExceptOne(t,e))})},r.prototype.deactivateAll=function(t,e){var n=t||"";this.forEach(function(o){o.get("context")==n&&o!==e&&o.set("active",!1,{fromCollection:!0})})},r.prototype.disableAllButtons=function(t){var e=t||"";this.forEach(function(n,o){n.get("context")==e&&n.set("disable",!0)})},r.prototype.disableAllButtonsExceptOne=function(t,e){this.forEach(function(n,o){n!==t&&(n.set("disable",!0),e&&n.get("buttons").length&&n.get("buttons").disableAllButtonsExceptOne(t,e))})},r})(Nu);const pv=fv;fv.prototype.model=cv;var lw=(function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}})(),uw=(function(i){lw(r,i);function r(t,e){var n=i.call(this,t,e)||this,o=n.get("buttons")||[];return n.buttons=new pv(t,o),n}return r.prototype.defaults=function(){return{id:"",content:"",visible:!0,buttons:[],attributes:{}}},Object.defineProperty(r.prototype,"buttons",{get:function(){return this.get("buttons")},set:function(t){this.set("buttons",t)},enumerable:!1,configurable:!0}),r})(Jo.A);const dv=uw;var cw=(function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}})(),hv=(function(i){cw(r,i);function r(t,e){return i.call(this,t,e,dv)||this}return r})(Nu);const fw=hv;hv.prototype.model=dv;var pw=(function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}})(),fa=function(){return fa=Object.assign||function(i){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])}return i},fa.apply(this,arguments)},dw=(function(i){pw(r,i);function r(t){var e=i.call(this,t)||this,n=e,o=n.model,l=n.em,s=n.pfx,f=n.ppfx,u=o.className,p=o.attributes,d=p.command,h=p.listen;if(e.id=s+o.get("id"),e.activeCls="".concat(s,"active ").concat(f,"four-color"),e.disableCls="".concat(f,"disabled"),e.btnsVisCls="".concat(s,"visible"),e.className=s+"btn"+(u?" "+u:""),e.listenTo(o,"change",e.render),e.listenTo(o,"change:active updateActive",e.updateActive),e.listenTo(o,"checkActive",e.checkActive),e.listenTo(o,"change:bntsVis",e.updateBtnsVis),e.listenTo(o,"change:attributes",e.updateAttributes),e.listenTo(o,"change:className",e.updateClassName),e.listenTo(o,"change:disable",e.updateDisable),l&&(0,X.isString)(d)&&h){var v={fromListen:!0};e.listenTo(l,"run:".concat(d),function(){return o.set("active",!0,v)}),e.listenTo(l,"stop:".concat(d),function(){return o.set("active",!1,v)})}return l&&l.get&&(e.commands=l.get("Commands")),e}return r.prototype.tagName=function(){return this.model.get("tagName")},r.prototype.events=function(){return{click:"clicked"}},r.prototype.updateClassName=function(){var t=this,e=t.model,n=t.pfx,o=e.className,l=e.get("attributes").class,s="".concat(l||""," ").concat(n,"btn ").concat(o||"");this.$el.attr("class",s.trim())},r.prototype.updateAttributes=function(){var t=this,e=t.em,n=t.model,o=t.$el,l=n.get("attributes")||{},s=e&&e.t&&e.t("panels.buttons.titles.".concat(n.id));o.attr(l),s&&o.attr({title:s}),this.updateClassName()},r.prototype.updateBtnsVis=function(){this.$buttons&&(this.model.get("bntsVis")?this.$buttons.addClass(this.btnsVisCls):this.$buttons.removeClass(this.btnsVisCls))},r.prototype.updateActive=function(t,e,n){var o;n===void 0&&(n={});var l=this,s=l.model,f=l.commands,u=l.$el,p=l.activeCls,d=n.fromCollection,h=n.fromListen,v=s.get("context"),_=s.get("options"),T=s.command,w={};T&&(f&&(0,X.isString)(T)?w=f.get(T)||{}:(0,X.isFunction)(T)?w=f.create({run:T}):T!==null&&(0,X.isObject)(T)&&(w=f.create(T)),s.active?(!d&&((o=s.collection)===null||o===void 0||o.deactivateAll(v,s)),s.set("active",!0,{silent:!0}).trigger("checkActive"),!h&&f.runCommand(w,fa(fa({},_),{sender:s})),w.noStop&&s.set("active",!1)):(u.removeClass(p),!h&&f.stopCommand(w,fa(fa({},_),{sender:s,force:1}))))},r.prototype.updateDisable=function(){var t=this,e=t.disableCls,n=t.model,o=n.disable;this.$el[o?"addClass":"removeClass"](e)},r.prototype.checkActive=function(){var t=this,e=t.model,n=t.$el,o=t.activeCls;e.active?n.addClass(o):n.removeClass(o)},r.prototype.clicked=function(){var t=this.model;t.get("bntsVis")||t.disable||!t.command||this.toggleActive()},r.prototype.toggleActive=function(){var t=this,e=t.model,n=t.em,o=e.active,l=e.togglable;o&&!l||(e.active=!o,o?e.runDefaultCommand&&n.runDefault():e.stopDefaultCommand&&n.stopDefault())},r.prototype.render=function(){var t=this.model,e=t.get("label"),n=this.$el;return!t.get("el")&&n.empty(),this.updateAttributes(),e&&n.append(e),this.checkActive(),this.updateDisable(),this},r})(Bn);const hw=dw;var vw=(function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}})(),gw=(function(i){vw(r,i);function r(t){var e=i.call(this,{collection:t})||this;return e.listenTo(e.collection,"add",e.addTo),e.listenTo(e.collection,"reset remove",e.render),e.className=e.pfx+"buttons",e}return r.prototype.addTo=function(t){this.addToCollection(t)},r.prototype.addToCollection=function(t,e){var n=e||null,o=t.get("el"),l=new hw({el:o,model:t}),s=l.render().el;return n?n.appendChild(s):this.$el.append(s),s},r.prototype.render=function(){var t=this,e=document.createDocumentFragment();return this.$el.empty(),this.collection.each(function(n){return t.addToCollection(n,e)}),this.$el.append(e),this.$el.attr("class",(0,X.result)(this,"className")),this},r})(Bn);const mw=gw;var yw=(function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}})(),Df=function(){return Df=Object.assign||function(i){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])}return i},Df.apply(this,arguments)},_w=(function(i){yw(r,i);function r(t){var e=i.call(this,{model:t,el:t.get("el")})||this;return e.className=e.pfx+"panel",e.id=e.pfx+t.get("id"),e.listenTo(t,"change:appendContent",e.appendContent),e.listenTo(t,"change:content",e.updateContent),e.listenTo(t,"change:visible",e.toggleVisible),t.view=e,e}return r.prototype.appendContent=function(){this.$el.append(this.model.get("appendContent"))},r.prototype.updateContent=function(){this.$el.html(this.model.get("content"))},r.prototype.toggleVisible=function(){if(!this.model.get("visible")){this.$el.addClass("".concat(this.ppfx,"hidden"));return}this.$el.removeClass("".concat(this.ppfx,"hidden"))},r.prototype.attributes=function(){return this.model.get("attributes")},r.prototype.initResize=function(){var t=this.em,e=t?.Editor,n=this.model.get("resizable");if(e&&n){var o=n===!0?[!0,!0,!0,!0]:n,l=o.length,s=void 0,f=void 0,u=void 0,p=!1;if(l==2){var d=o;s=d[0],u=d[0],f=d[1],p=d[1]}else if(l==4){var d=o;s=d[0],f=d[1],u=d[2],p=d[3]}var h=new e.Utils.Resizer(Df({tc:s,cr:f,bc:u,cl:p,tl:!1,tr:!1,bl:!1,br:!1,appendTo:this.el,silentFrames:!0,avoidContainerUpdate:!0,prefix:e.getConfig().stylePrefix,onEnd:function(){t.Canvas.refresh({all:!0})},posFetcher:function(v,_){var T=_.target,w=v.style,C=h.getConfig(),A=C.keyWidth,S=C.keyHeight,x=v.getBoundingClientRect(),N=T=="container",b=w[A],L=w[S],k=b&&!N?parseFloat(b):x.width,P=L&&!N?parseFloat(L):x.height;return{left:0,top:0,width:k,height:P}}},n&&typeof n!="boolean"?n:{}));h.blur=function(){},h.focus(this.el)}},r.prototype.render=function(){var t=this.model.buttons,e=this.$el,n=this.ppfx,o="".concat(this.className," ").concat(this.id," ").concat(n,"one-bg ").concat(n,"two-color");if(e.addClass(o),this.toggleVisible(),t.length){var l=new mw(t);e.append(l.render().el)}return e.append(this.model.get("content")),this},r})(Bn);const bw=_w;var Tw=(function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}})(),Cw=(function(i){Tw(r,i);function r(t){var e=i.call(this,{collection:t})||this;return e.listenTo(t,"add",e.addTo),e.listenTo(t,"reset",e.render),e.listenTo(t,"remove",e.onRemove),e.className=e.pfx+"panels",e}return r.prototype.onRemove=function(t){var e=t.view;e&&e.remove()},r.prototype.addTo=function(t){this.addToCollection(t)},r.prototype.addToCollection=function(t,e){var n=e||null,o=t.get("el"),l=new bw(t),s=l.render().el,f=t.get("appendTo");if(!o)if(f){var u=document.querySelector(f);u?.appendChild(s)}else n?n.appendChild(s):this.$el.append(s);return l.initResize(),s},r.prototype.render=function(){var t=this,e=this.$el,n=document.createDocumentFragment();return e.empty(),this.collection.each(function(o){return t.addToCollection(o,n)}),e.append(n),e.attr("class",this.className),this},r})(Bn);const ww=Cw;var Sw=(function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}})(),Ew=(function(i){Sw(r,i);function r(t){var e=i.call(this,t,"Panels",ow())||this;return e.panels=new fw(e,e.config.defaults),e}return r.prototype.getPanels=function(){return this.panels},r.prototype.getPanelsEl=function(){var t;return(t=this.PanelsViewObj)===null||t===void 0?void 0:t.el},r.prototype.addPanel=function(t){return this.panels.add(t)},r.prototype.removePanel=function(t){return this.panels.remove(t)},r.prototype.getPanel=function(t){var e=this.panels.where({id:t});return e.length?e[0]:null},r.prototype.addButton=function(t,e){var n=this.getPanel(t);return n?n.buttons.add(e):null},r.prototype.removeButton=function(t,e){var n=this.getPanel(t);return n&&n.buttons.remove(e)},r.prototype.getButton=function(t,e){var n=this.getPanel(t);if(n){var o=n.buttons.where({id:e});return o.length?o[0]:null}return null},r.prototype.render=function(){var t;return(t=this.PanelsViewObj)===null||t===void 0||t.remove(),this.PanelsViewObj=new ww(this.panels),this.PanelsViewObj.render().el},r.prototype.active=function(){this.getPanels().each(function(t){t.buttons.each(function(e){e.get("active")&&e.trigger("updateActive")})})},r.prototype.disableButtons=function(){this.getPanels().each(function(t){t.buttons.each(function(e){e.get("disable")&&e.trigger("change:disable")})})},r.prototype.destroy=function(){this.panels.reset(),this.panels.stopListening(),this.PanelsViewObj&&this.PanelsViewObj.remove()},r})(Cn);const xw=Ew;var Ow=function(){return{stylePrefix:"cm-",optsCodeViewer:{}}};const Aw=Ow;var Pw=(function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}})(),kw=function(i,r){var t={};for(var e in i)Object.prototype.hasOwnProperty.call(i,e)&&r.indexOf(e)<0&&(t[e]=i[e]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,e=Object.getOwnPropertySymbols(i);n<e.length;n++)r.indexOf(e[n])<0&&Object.prototype.propertyIsEnumerable.call(i,e[n])&&(t[e[n]]=i[e[n]]);return t},Mw=(function(i){Pw(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.build=function(t,e){e===void 0&&(e={});var n=e.em,o=kw(e,["em"]),l=o;if(e.cleanId&&n){var s=n.Css.getAll(),f=s.toJSON().map(function(p){var d=p.selectors,h=d&&d.length===1&&d.models[0];return h&&h.isId()&&h.get("name")}).filter(Boolean),u=l.attributes;l.attributes=function(p,d){d=typeof u=="function"?u(p,d):d;var h=d.id;return h&&h[0]==="i"&&!p.get("script")&&!p.get("script-export")&&!p.get("attributes").id&&f.indexOf(h)<0&&delete d.id,d}}return t.toHTML(l)},r})(ae.Kx);const Nw=Mw;var Lw=(function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}})(),Iw=(function(i){Lw(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.build=function(t){var e=this,n=t.toJSON();return this.beforeEach(n),(0,X.each)(n,function(o,l){var s=n[l];if(s instanceof ae.Kx)n[l]=e.build(s);else if(s instanceof ae.pM){var f=s;n[l]=[],f.length&&f.forEach(function(u,p){n[l][p]=e.build(u)})}}),n},r.prototype.beforeEach=function(t){delete t.status},r})(ae.Kx);const Dw=Iw;var Rw=(function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}})();function jw(i){var r,t=((r=i.toString().match(/\{([\s\S]*)\}/m))===null||r===void 0?void 0:r[1])||"";return t.replace(/^\s*\/\/.*$/gm,"").trim().length===0}var Hw=(function(i){Rw(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.mapModel=function(t){var e,n=this,o="",l=t.get("script-export")||t.get("script"),s=t.get("type"),f=t.get("components"),u=t.getId();if(l){var p=t.get("attributes");p=(0,X.extend)({},p,{id:u}),t.set("attributes",p,{silent:!0});var d=t.getScriptString(l),h=t.get("script-props");if(t.get("scriptUpdated")&&!h)this.mapJs[s+"-"+u]={ids:[u],code:d};else{var v=void 0,_=this.mapJs[s];if(h&&(v=t.__getScriptProps()),_)_.ids.push(u),v&&(_.props[u]=v);else{var T={ids:[u],code:d};v&&(T.props=(e={},e[u]=v,e)),this.mapJs[s]=T}}}return f.forEach(function(w){o+=n.mapModel(w)}),o},r.prototype.build=function(t){this.mapJs={},this.mapModel(t);var e="";for(var n in this.mapJs){var o=this.mapJs[n];if(o.code)if(o.props){if(jw(o.code))continue;e+=`
          var props = `.concat(JSON.stringify(o.props),`;
          var ids = Object.keys(props).map(function(id) { return '#'+id }).join(',');
          var els = document.querySelectorAll(ids);
          for (var i = 0, len = els.length; i < len; i++) {
            var el = els[i];
            (`).concat(o.code,`.bind(el))(props[el.id]);
          }`)}else{var l="#"+o.ids.join(", #");e+=`
          var items = document.querySelectorAll('`.concat(l,`');
          for (var i = 0, len = items.length; i < len; i++) {
            (function(){
`).concat(o.code,`
}.bind(items[i]))();
          }`)}}return e},r})(ae.Kx);const Fw=Hw;var Vw=(function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}})(),Rf=function(){return Rf=Object.assign||function(i){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])}return i},Rf.apply(this,arguments)},gs;(0,qt.hasWin)()&&(gs=qe(4408),qe(8253),qe(7389),qe(3640));var vv=(function(i){Vw(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.defaults=function(){return{input:"",label:"",codeName:"",theme:"hopscotch",readOnly:!0,lineNumbers:!0,autoFormat:!0}},r.prototype.init=function(t){return(0,X.bindAll)(this,"onChange"),this.editor=gs.fromTextArea(t,Rf({dragDrop:!1,lineWrapping:!0,mode:this.get("codeName")},this.attributes)),this.element=t,this.editor.on("change",this.onChange),this},r.prototype.onChange=function(){this.trigger("update",this)},r.prototype.getEditor=function(){return this.editor},r.prototype.getElement=function(){return this.element},r.prototype.setElement=function(t){return this.element=t,this},r.prototype.refresh=function(){return this.getEditor().refresh(),this},r.prototype.focus=function(){return this.getEditor().focus(),this},r.prototype.getContent=function(){var t=this.getEditor();return t&&t.getValue()},r.prototype.setContent=function(t,e){var n=this;e===void 0&&(e={});var o=this.editor;if(o){o.setValue(t);var l=this.get("autoFormat"),s=o.autoFormatRange&&(l===!0||Array.isArray(l)&&l.includes(this.get("codeName")));s&&(gs.commands.selectAll(o),o.autoFormatRange(o.getCursor(!0),o.getCursor(!1)),gs.commands.goDocStart(o)),!e.noRefresh&&setTimeout(function(){return n.refresh()})}},r})(ae.Kx);const Uw=vv;vv.prototype.CodeMirror=gs;var Bw=(function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}})(),Ww=function(i,r){return Object.defineProperty?Object.defineProperty(i,"raw",{value:r}):i.raw=r,i},zw=(function(i){Bw(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.template=function(t){var e=t.pfx,n=t.codeName,o=t.label;return _n(Nh||(Nh=Ww([`
      <div class="`,'editor" id="',"",`">
        <div id="`,'title">',`</div>
        <div id="`,`code"></div>
      </div>
    `],[`
      <div class="`,'editor" id="',"",`">
        <div id="`,'title">',`</div>
        <div id="`,`code"></div>
      </div>
    `])),e,e,n,e,o,e)},r.prototype.initialize=function(t){this.config=t.config||{},this.pfx=this.config.stylePrefix},r.prototype.render=function(){var t,e,n=this,o=n.model,l=n.pfx,s=n.$el,f=o.toJSON(),u=o.get("input")||((e=(t=o).getElement)===null||e===void 0?void 0:e.call(t));return f.pfx=l,s.html(this.template(f)),s.attr("class","".concat(l,"editor-c")),s.find("#".concat(l,"code")).append(u),this},r})(ae.Ss);const Kw=zw;var Nh,Gw=(function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}})(),hu=function(){return hu=Object.assign||function(i){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])}return i},hu.apply(this,arguments)},qw="CodeMirror",Yw=(function(i){Gw(r,i);function r(t){var e=i.call(this,t,"CodeManager",Aw())||this;e.EditorView=Kw;var n=e.config,o=n.pStylePrefix;return o&&(n.stylePrefix=o+n.stylePrefix),e.generators={},e.viewers={},e.defGenerators={html:new Nw,css:new U9,json:new Dw,js:new Fw},e.defViewers={CodeMirror:new Uw},e.loadDefaultGenerators().loadDefaultViewers(),e}return r.prototype.addGenerator=function(t,e){return this.generators[t]=e,this},r.prototype.getGenerator=function(t){return this.generators[t]},r.prototype.getGenerators=function(){return this.generators},r.prototype.addViewer=function(t,e){return this.viewers[t]=e,this},r.prototype.getViewer=function(t){return this.viewers[t]},r.prototype.getViewers=function(){return this.viewers},r.prototype.createViewer=function(t){t===void 0&&(t={});var e=(0,X.isUndefined)(t.type)?qw:t.type,n=this.getViewer(e)&&this.getViewer(e).clone(),o=document.createElement("div"),l=document.createElement("textarea");return o.appendChild(l),n.set(hu(hu({},this.config.optsCodeViewer),t)),n.init(l),n.setElement(o),n},r.prototype.updateViewer=function(t,e){t.setContent(e)},r.prototype.getCode=function(t,e,n){n===void 0&&(n={}),n.em=this.em;var o=this.getGenerator(e);return o?o.build(t,n):""},r.prototype.loadDefaultGenerators=function(){for(var t in this.defGenerators)this.addGenerator(t,this.defGenerators[t]);return this},r.prototype.loadDefaultViewers=function(){for(var t in this.defViewers)this.addViewer(t,this.defViewers[t]);return this},r.prototype.destroy=function(){},r})(Cn);const Xw=Yw;var $w=qe(4729),Zw=qe.n($w),Qw=function(){return{maximumStackLength:500,trackSelection:!0}};const Jw=Qw;var sn;(function(i){i.update="update",i.updateBefore="updateBefore",i.undo="undo",i.redo="redo",i.load="load",i.projectLoad="project:load",i.projectLoaded="project:loaded",i.projectGet="project:get",i.log="log",i.telemetryInit="telemetry:init",i.destroy="destroy",i.destroyed="destroyed"})(sn||(sn={}));var tS=(function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}})(),bo=function(){return bo=Object.assign||function(i){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])}return i},bo.apply(this,arguments)},eS=function(i,r,t){if(t||arguments.length===2)for(var e=0,n=r.length,o;e<n;e++)(o||!(e in r))&&(o||(o=Array.prototype.slice.call(r,0,e)),o[e]=r[e]);return i.concat(o||Array.prototype.slice.call(r))},vl=function(i){return i.avoidStore||i.noUndo||i.partial},Lh=function(i){return Object.keys(i.changedAttributes())},gl=new WeakMap,rS=(function(i){tS(r,i);function r(t){var e=i.call(this,t,"UndoManager",Jw())||this;e.config._disable&&(e.config.maximumStackLength=0);var n=!0;return e.um=new(Zw())(bo({track:!0,register:[]},e.config)),e.um.changeUndoType("change",{condition:function(o){var l=o.get("_undo");if(l){var s=o.get("_undoexc");if((0,X.isArray)(s)&&Lh(o).some(function(f){return s.indexOf(f)>=0}))return!1;if((0,X.isBoolean)(l)||(0,X.isArray)(l)&&Lh(o).some(function(f){return l.indexOf(f)>=0}))return!0}return!1},on:function(o,l,s){var f=gl.get(o);f||(f=o.previousAttributes(),gl.set(o,f));var u=s||l||{};if(u.noUndo&&setTimeout(function(){gl.delete(o)}),!vl(u)){var p=o.toJSON({fromUndo:n}),d={object:o,before:f,after:p};return gl.delete(o),(0,X.isEmpty)(p)?void 0:d}}}),e.um.changeUndoType("add",{on:function(o,l,s){if(s===void 0&&(s={}),!(vl(s)||!e.isRegistered(l)))return{object:l,before:void 0,after:o,options:bo(bo({},s),{fromUndo:n})}}}),e.um.changeUndoType("remove",{on:function(o,l,s){if(s===void 0&&(s={}),!(vl(s)||!e.isRegistered(l)))return{object:l,before:o,after:void 0,options:bo(bo({},s),{fromUndo:n})}}}),e.um.changeUndoType("reset",{undo:function(o,l){o.reset(l,{fromUndo:n})},redo:function(o,l,s){o.reset(s,{fromUndo:n})},on:function(o,l){if(l===void 0&&(l={}),!(vl(l)||!e.isRegistered(o)))return{object:o,before:l.previousModels,after:eS([],o.models,!0),options:bo(bo({},l),{fromUndo:n})}}}),e.um.on("undo redo",function(){t.getSelectedAll().map(function(o){return o.trigger("rerender:layer")})}),[sn.undo,sn.redo].forEach(function(o){return e.um.on(o,function(){return t.trigger(o)})}),e}return r.prototype.postLoad=function(){var t=this,e=t.config,n=t.em;e.trackSelection&&n&&this.add(n.get("selected"))},r.prototype.add=function(t){return this.um.register(t),this},r.prototype.remove=function(t){return this.um.unregister(t),this},r.prototype.removeAll=function(){return this.um.unregisterAll(),this},r.prototype.start=function(){return this.um.startTracking(),this},r.prototype.stop=function(){return this.um.stopTracking(),this},r.prototype.undo=function(t){t===void 0&&(t=!0);var e=this,n=e.em,o=e.um;return!n.isEditing()&&o.undo(t),this},r.prototype.undoAll=function(){return this.um.undoAll(),this},r.prototype.redo=function(t){t===void 0&&(t=!0);var e=this,n=e.em,o=e.um;return!n.isEditing()&&o.redo(t),this},r.prototype.redoAll=function(){return this.um.redoAll(),this},r.prototype.hasUndo=function(){return!!this.um.isAvailable("undo")},r.prototype.hasRedo=function(){return!!this.um.isAvailable("redo")},r.prototype.isRegistered=function(t){return!!this.getInstance().objectRegistry.isRegistered(t)},r.prototype.getStack=function(){return this.um.stack},r.prototype.getStackGroup=function(){var t=[],e=[];return this.getStack().forEach(function(n){var o=n.get("magicFusionIndex");e.indexOf(o)<0&&(e.push(o),t.push(n))}),t},r.prototype.skip=function(t){var e=!!this.um.isTracking();e&&this.stop(),t(),e&&this.start()},r.prototype.getGroupedStack=function(){var t={},e=this.getStack(),n=function(o,l){var s=o.attributes,f=s.type,u=s.after,p=s.before,d=s.object,h=s.options,v=h===void 0?{}:h;return{index:l,type:f,after:u,before:p,object:d,options:v}};return e.forEach(function(o,l){var s=o.get("magicFusionIndex"),f=n(o,l);t[s]?t[s].push(f):t[s]=[f]}),Object.keys(t).map(function(o){var l=t[o];return{index:l[l.length-1].index,actions:l,labels:(0,X.unique)(l.reduce(function(s,f){var u,p=(u=f.options)===null||u===void 0?void 0:u.action;return p&&s.push(p),s},[]))}})},r.prototype.goToGroup=function(t){var e=this;if(t){var n=this.getPointer(),o=t.index-n;(0,X.times)(Math.abs(o),function(){e[o<0?"undo":"redo"](!1)})}},r.prototype.getPointer=function(){return this.getStack().pointer},r.prototype.clear=function(){return this.um.clear(),this},r.prototype.getInstance=function(){return this.um},r.prototype.destroy=function(){this.clear().removeAll()},r})(Cn);const nS=rS;var oS=function(){return{stylePrefix:"rte-",adjustToolbar:!0,actions:["bold","italic","underline","strikethrough","link","wrap"],custom:!1}};const iS=oS;var pa=function(){return pa=Object.assign||function(i){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])}return i},pa.apply(this,arguments)},vu;(function(i){i[i.ACTIVE=1]="ACTIVE",i[i.INACTIVE=0]="INACTIVE",i[i.DISABLED=-1]="DISABLED"})(vu||(vu={}));var Gc="_rte",Ci={ACTIVE:1,INACTIVE:0,DISABLED:-1},ml=function(i,r){r===void 0&&(r="A");var t=i.selection()||{},e=t.anchorNode,n=t.focusNode,o=e?.parentNode,l=n?.parentNode;return o?.nodeName==r||l?.nodeName==r},gu="data-selectme",ns={bold:{name:"bold",icon:"<b>B</b>",attributes:{title:"Bold"},result:function(i){return i.exec("bold")}},italic:{name:"italic",icon:"<i>I</i>",attributes:{title:"Italic"},result:function(i){return i.exec("italic")}},underline:{name:"underline",icon:"<u>U</u>",attributes:{title:"Underline"},result:function(i){return i.exec("underline")}},strikethrough:{name:"strikethrough",icon:"<s>S</s>",attributes:{title:"Strike-through"},result:function(i){return i.exec("strikeThrough")}},link:{icon:`<svg viewBox="0 0 24 24">
          <path fill="currentColor" d="M3.9,12C3.9,10.29 5.29,8.9 7,8.9H11V7H7A5,5 0 0,0 2,12A5,5 0 0,0 7,17H11V15.1H7C5.29,15.1 3.9,13.71 3.9,12M8,13H16V11H8V13M17,7H13V8.9H17C18.71,8.9 20.1,10.29 20.1,12C20.1,13.71 18.71,15.1 17,15.1H13V17H17A5,5 0 0,0 22,12A5,5 0 0,0 17,7Z" />
        </svg>`,name:"link",attributes:{style:"font-size:1.4rem;padding:0 4px 2px;",title:"Link"},state:function(i){return i&&i.selection()&&ml(i)?Ci.ACTIVE:Ci.INACTIVE},result:function(i){ml(i)?i.exec("unlink"):i.insertHTML('<a href="" '.concat(gu,">").concat(i.selection(),"</a>"),{select:!0})}},wrap:{name:"wrap",icon:`<svg viewBox="0 0 24 24">
            <path fill="currentColor" d="M20.71,4.63L19.37,3.29C19,2.9 18.35,2.9 17.96,3.29L9,12.25L11.75,15L20.71,6.04C21.1,5.65 21.1,5 20.71,4.63M7,14A3,3 0 0,0 4,17C4,18.31 2.84,19 2,19C2.92,20.22 4.5,21 6,21A4,4 0 0,0 10,17A3,3 0 0,0 7,14Z" />
        </svg>`,attributes:{title:"Wrap for style"},state:function(i){return i?.selection()&&ml(i,"SPAN")?Ci.DISABLED:Ci.INACTIVE},result:function(i){!ml(i,"SPAN")&&i.insertHTML("<span ".concat(gu,">").concat(i.selection(),"</span>"),{select:!0})}}},aS=(function(){function i(r,t,e){e===void 0&&(e={});var n=this;if(this.em=r,this.settings=e,t[Gc])return t[Gc];t[Gc]=this,this.setEl(t),this.updateActiveActions=this.updateActiveActions.bind(this),this.__onKeydown=this.__onKeydown.bind(this),this.__onPaste=this.__onPaste.bind(this);var o=(e.actions||[]).map(function(p){var d=p;return(0,X.isString)(p)?d=pa({},ns[p]):ns[p.name]&&(d=pa(pa({},ns[p.name]),p)),d}),l=o.length?o:Object.keys(ns).map(function(p){return ns[p]});e.classes=pa({actionbar:"actionbar",button:"action",active:"active",disabled:"disabled",inactive:"inactive"},e.classes);var s=e.classes,f=e.actionbar;if(this.actionbar=f,this.classes=s,this.actions=l,!f){if(!this.isCustom(e.module)){var u=e.actionbarContainer;f=document.createElement("div"),f.className=s.actionbar,u?.appendChild(f),this.actionbar=f}l.forEach(function(p){return n.addAction(p)})}return e.styleWithCSS&&this.exec("styleWithCSS"),this}return i.prototype.isCustom=function(r){var t=r||this.em.RichTextEditor;return!!(t?.config.custom||t?.customRte)},i.prototype.destroy=function(){},i.prototype.setEl=function(r){this.el=r,this.doc=r.ownerDocument},i.prototype.updateActiveActions=function(){var r=this,t=this.getActions();t.forEach(function(e){var n=e.update,o=e.btn,l=r.classes,s=l.active,f=l.inactive,u=l.disabled,p=e.state,d=e.name,h=r.doc,v=vu.INACTIVE;if(o&&(o.className=o.className.replace(s,"").trim(),o.className=o.className.replace(f,"").trim(),o.className=o.className.replace(u,"").trim()),p){var _=p(r,h);if(v=_,o)switch(_){case Ci.ACTIVE:o.className+=" ".concat(s);break;case Ci.INACTIVE:o.className+=" ".concat(f);break;case Ci.DISABLED:o.className+=" ".concat(u);break}}else h.queryCommandSupported(d)&&h.queryCommandState(d)&&(o&&(o.className+=" ".concat(s)),v=vu.ACTIVE);e.currentState=v,n?.(r,e)}),t.length&&this.em.RichTextEditor.__dbdTrgCustom()},i.prototype.enable=function(r){return this.enabled?this:this.__toggleEffects(!0,r)},i.prototype.disable=function(){return this.__toggleEffects(!1)},i.prototype.__toggleEffects=function(r,t){r===void 0&&(r=!1),t===void 0&&(t={});var e=r?ue.on:ue.AU,n=this,o=n.el,l=n.doc,s=this.actionbarEl();if(s&&(s.style.display=r?"":"none"),o.contentEditable="".concat(!!r),e(o,"mouseup keyup",this.updateActiveActions),e(l,"keydown",this.__onKeydown),e(l,"paste",this.__onPaste),this.enabled=r,r){var f=t.event;if(this.syncActions(),this.updateActiveActions(),f){var u=null;if(l.caretRangeFromPoint){var p=(0,ue.G2)(f);u=l.caretRangeFromPoint(p.clientX,p.clientY)}else f.rangeParent&&(u=l.createRange(),u.setStart(f.rangeParent,f.rangeOffset));var d=l.getSelection();d?.removeAllRanges(),u&&d?.addRange(u)}o.focus()}return this},i.prototype.__onKeydown=function(r){var t=this.em,e=t.RichTextEditor.getConfig().onKeydown;if(e)return e({ev:r,rte:this,editor:t.getEditor()});var n=this.doc,o=["insertOrderedList","insertUnorderedList"];r.key==="Enter"&&!o.some(function(l){return n.queryCommandState(l)})&&(n.execCommand("insertLineBreak"),r.preventDefault())},i.prototype.__onPaste=function(r){var t=this.em,e=t.RichTextEditor.getConfig().onPaste;if(e)return e({ev:r,rte:this,editor:t.getEditor()});var n=r.clipboardData,o=n.getData("text"),l=n.getData("text/html");if(o&&!l){r.preventDefault();var s=o.replace(/(?:\r\n|\r|\n)/g,"<br/>");this.doc.execCommand("insertHTML",!1,s)}},i.prototype.syncActions=function(){var r=this;this.getActions().forEach(function(t){if(r.actionbar&&(!t.state||t.state&&t.state(r,r.doc)>=0)){var e=t.event||"click",n=t.btn;n&&(n["on".concat(e)]=function(){t.result(r,t),r.updateActiveActions()})}})},i.prototype.addAction=function(r,t){t===void 0&&(t={});var e=t.sync,n=this.actionbarEl();if(n){var o=r.icon,l=r.attributes,s=l===void 0?{}:l,f=document.createElement("span");f.className=this.classes.button,r.btn=f;for(var u in s)f.setAttribute(u,s[u]);typeof o=="string"?f.innerHTML=o:f.appendChild(o),n.appendChild(f)}e&&(this.actions.push(r),this.syncActions())},i.prototype.getActions=function(){return this.actions},i.prototype.selection=function(){return this.doc.getSelection()},i.prototype.exec=function(r,t){this.doc.execCommand(r,!1,t)},i.prototype.actionbarEl=function(){return this.actionbar},i.prototype.insertHTML=function(r,t){var e=t===void 0?{}:t,n=e.select,o=this,l=o.em,s=o.doc,f=o.el,u=s.getSelection();if(u&&u.rangeCount){var p=(0,qt.getComponentModel)(f)||l.getSelected(),d=s.createElement("div"),h=u.getRangeAt(0);h.deleteContents(),(0,X.isString)(r)?d.innerHTML=r:r&&d.appendChild(r),Array.prototype.slice.call(d.childNodes).forEach(function(v){h.insertNode(v)}),u.removeAllRanges(),u.addRange(h),f.focus(),n&&p&&(p.once("rte:disable",function(){var v=p.find("[".concat(gu,"]"))[0];v&&(l.setSelected(v),v.removeAttributes(gu))}),p.trigger("disable"))}},i})();const sS=aS;var jf;(function(i){i.enable="rte:enable",i.disable="rte:disable",i.custom="rte:custom"})(jf||(jf={}));var lS=(function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}})(),mu=function(){return mu=Object.assign||function(i){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])}return i},mu.apply(this,arguments)},qc=function(i,r,t,e){function n(o){return o instanceof t?o:new t(function(l){l(o)})}return new(t||(t=Promise))(function(o,l){function s(p){try{u(e.next(p))}catch(d){l(d)}}function f(p){try{u(e.throw(p))}catch(d){l(d)}}function u(p){p.done?o(p.value):n(p.value).then(s,f)}u((e=e.apply(i,r||[])).next())})},Yc=function(i,r){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},e,n,o,l;return l={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function s(u){return function(p){return f([u,p])}}function f(u){if(e)throw new TypeError("Generator is already executing.");for(;l&&(l=0,u[0]&&(t=0)),t;)try{if(e=1,n&&(o=u[0]&2?n.return:u[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,u[1])).done)return o;switch(n=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return t.label++,{value:u[1],done:!1};case 5:t.label++,n=u[1],u=[0];continue;case 7:u=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){t=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){t.label=u[1];break}if(u[0]===6&&t.label<o[1]){t.label=o[1],o=u;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(u);break}o[2]&&t.ops.pop(),t.trys.pop();continue}u=r.call(i,t)}catch(p){u=[6,p],n=0}finally{e=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},uS=function(i,r,t){if(t||arguments.length===2)for(var e=0,n=r.length,o;e<n;e++)(o||!(e in r))&&(o||(o=Array.prototype.slice.call(r,0,e)),o[e]=r[e]);return i.concat(o||Array.prototype.slice.call(r))},Xc="".concat(ls.refresh," frame:scroll ").concat(Xe.I.update),cS=(function(i){lS(r,i);function r(t){var e=i.call(this,t,"RichTextEditor",iS())||this;e.events=jf;var n=e.config,o=n.pStylePrefix;o&&(n.stylePrefix=o+n.stylePrefix),e.pfx=n.stylePrefix,e.actions=n.actions||[];var l=new ae.Kx;return e.model=l,l.on("change:currentView",e.__trgCustom,e),e.__dbdTrgCustom=(0,X.debounce)(function(){return e.__trgCustom()},0),e}return r.prototype.onLoad=function(){if((0,qt.hasWin)()){var t=this.config,e=t.pStylePrefix,n=t.custom,o=(0,ue.a_)("div",{class:(0,ue.cx)("".concat(e,"rte-toolbar"),!n&&"".concat(e,"one-bg ").concat(e,"rte-toolbar-ui"))});this.toolbar=o,this.initRte((0,ue.a_)("div")),(0,ue.on)(o,"mousedown",function(l){return l.stopPropagation()})}},r.prototype.__trgCustom=function(){var t=this,e=t.model,n=t.em,o=t.events;n.trigger(o.custom,{enabled:!!e.get("currentView"),container:this.getToolbarEl(),actions:this.getAll()})},r.prototype.destroy=function(){var t,e,n;(t=this.globalRte)===null||t===void 0||t.destroy(),(n=(e=this.customRte)===null||e===void 0?void 0:e.destroy)===null||n===void 0||n.call(e),this.model.stopListening().clear({silent:!0}),this.__dbdTrgCustom.cancel(),(0,ue.YZ)(this.toolbar)},r.prototype.postRender=function(t){var e=t.model.get("Canvas");this.toolbar.style.pointerEvents="all",this.hideToolbar(),e.getToolsEl().appendChild(this.toolbar)},r.prototype.initRte=function(t){var e=this.globalRte,n=this,o=n.em,l=n.pfx,s=n.actionbar,f=n.config,u=this.actions||uS([],f.actions,!0),p={actionbar:"".concat(l,"actionbar"),button:"".concat(l,"action"),active:"".concat(l,"active"),inactive:"".concat(l,"inactive"),disabled:"".concat(l,"disabled")};return e?(e.em=o,e.setEl(t)):(e=new sS(o,t,{classes:p,actions:u,actionbar:s,actionbarContainer:this.toolbar,module:this}),this.globalRte=e),e.actionbar&&(this.actionbar=e.actionbar),e.actions&&(this.actions=e.actions),e},r.prototype.add=function(t,e){var n;e===void 0&&(e={}),e.name=t,(n=this.globalRte)===null||n===void 0||n.addAction(e,{sync:!0})},r.prototype.get=function(t){var e,n;return(e=this.globalRte)===null||e===void 0||e.getActions().forEach(function(o){o.name==t&&(n=o)}),n},r.prototype.getAll=function(){var t;return((t=this.globalRte)===null||t===void 0?void 0:t.getActions())||[]},r.prototype.remove=function(t){var e,n=this.getAll(),o=this.get(t);if(o){var l=o.btn,s=n.indexOf(o);(e=l?.parentNode)===null||e===void 0||e.removeChild(l),n.splice(s,1)}return o},r.prototype.run=function(t){var e=this.globalRte,n=(0,X.isString)(t)?this.get(t):t;e&&n&&(n.result(e,n),e.updateActiveActions())},r.prototype.getToolbarEl=function(){return this.toolbar},r.prototype.updatePosition=function(){var t=this,e=t.em,n=t.toolbar,o="px",l=e.Canvas,s=n.style,f=l.getTargetToElementFixed(this.lastEl,n,{event:"rteToolbarPosUpdate",left:0});["top","left","bottom","right"].forEach(function(u){var p=f[u];(0,qt.isDef)(p)&&(s[u]=(0,X.isString)(p)?p:(p||0)+o)})},r.prototype.enable=function(t,e,n){return qc(this,void 0,void 0,function(){var o,l,s,f,u,p;return Yc(this,function(d){switch(d.label){case 0:return this.lastEl=t.el,o=this,l=o.customRte,s=o.em,f=o.events,u=t.getChildrenContainer(),this.toolbar.style.display="",[4,l?l.enable(u,e,n):this.initRte(u).enable(n)];case 1:return p=d.sent(),s&&(setTimeout(this.updatePosition.bind(this),0),s.off(Xc,this.updatePosition,this),s.on(Xc,this.updatePosition,this),s.trigger(f.enable,t,p)),this.model.set({currentView:t}),[2,p]}})})},r.prototype.getContent=function(t,e){return qc(this,void 0,void 0,function(){var n,o;return Yc(this,function(l){switch(l.label){case 0:return n=this.customRte,o=t.getChildrenContainer(),n&&e&&(0,X.isFunction)(n.getContent)?[4,n.getContent(o,e,{view:t})]:[3,2];case 1:return[2,l.sent()];case 2:return[2,o.innerHTML]}})})},r.prototype.hideToolbar=function(){var t=this.toolbar.style,e="-1000px";t.top=e,t.left=e,t.display="none"},r.prototype.disable=function(t,e){return qc(this,arguments,void 0,function(n,o,l){var s,f,u,p,d,h;return l===void 0&&(l={}),Yc(this,function(v){switch(v.label){case 0:return s={},f=this,u=f.em,p=f.events,d=this.customRte,d?[4,d.disable(n.getChildrenContainer(),o,mu(mu({},l),{view:n}))]:[3,2];case 1:return h=v.sent(),h&&(s=h),[3,3];case 2:o&&o.disable(),v.label=3;case 3:return this.hideToolbar(),u&&(u.off(Xc,this.updatePosition,this),!l.fromMove&&u.trigger(p.disable,n,o)),this.model.unset("currentView"),[2,s]}})})},r})(Cn);const fS=cS;var pS=function(){return{sectors:[{name:"General",open:!1,properties:["display","float","position","top","right","left","bottom"]},{name:"Flex",open:!1,properties:["flex-direction","flex-wrap","justify-content","align-items","align-content","order","flex-basis","flex-grow","flex-shrink","align-self"]},{name:"Dimension",open:!1,properties:["width","height","max-width","min-height","margin","padding"]},{name:"Typography",open:!1,properties:["font-family","font-size","font-weight","letter-spacing","color","line-height","text-align","text-shadow"]},{name:"Decorations",open:!1,properties:["background-color","border-radius","border","box-shadow","background"]},{name:"Extra",open:!1,properties:["opacity","transition","transform"]}],appendTo:"",stylePrefix:"sm-",custom:!1,hideNotStylable:!0,highlightChanged:!0,highlightComputed:!0,showComputed:!0,clearProperties:!0,avoidComputed:["width","height"]}};const dS=pS;var hS=(function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}})(),nn=function(){return nn=Object.assign||function(i){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])}return i},nn.apply(this,arguments)},vS=function(i,r){var t={};for(var e in i)Object.prototype.hasOwnProperty.call(i,e)&&r.indexOf(e)<0&&(t[e]=i[e]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,e=Object.getOwnPropertySymbols(i);n<e.length;n++)r.indexOf(e[n])<0&&Object.prototype.propertyIsEnumerable.call(i,e[n])&&(t[e[n]]=i[e[n]]);return t},Ih=function(i,r,t){if(t||arguments.length===2)for(var e=0,n=r.length,o;e<n;e++)(o||!(e in r))&&(o||(o=Array.prototype.slice.call(r,0,e)),o[e]=r[e]);return i.concat(o||Array.prototype.slice.call(r))},Qf=(function(i){hS(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.getDefaults=function(){return(0,X.result)(this.prototype,"defaults")},r.prototype.defaults=function(){return{name:"",property:"",type:"",defaults:"",info:"",value:"",icon:"",functionName:"",status:"",visible:!0,fixedValues:["initial","inherit"],full:!1,important:!1,toRequire:!1,requires:void 0,requiresParent:null,parentTarget:null}},r.prototype.initialize=function(t,e){t===void 0&&(t={}),e===void 0&&(e={}),this.em=e.em;var n=this.getId()||"",o=this.get("name")||this.get("label")||"";!this.get("property")&&this.set("property",(o||n).replace(/ /g,"-"));var l=this.get("property");!this.get("id")&&this.set("id",l),!o&&this.set("name",(0,qt.capitalize)(l).replace(/-/g," ")),this.on("change",this.__upTargets),r.callInit(this,t,e)},r.prototype.__getParentProp=function(){var t,e;return(e=(t=this.collection)===null||t===void 0?void 0:t.opts)===null||e===void 0?void 0:e.parentProp},r.prototype.__upTargets=function(t,e){var n,o=this;e===void 0&&(e={});var l=this.em,s=l.Styles,f=this.getName(),u=e.__clear,p=u?"":this.__getFullValue(e),d=this.__getParentProp(),h=this.changedAttributes(),v=(0,X.keys)(h).reduce(function(S,x){return S[x]=o.previous(x),S},{}),_=Ih(Ih([],(0,X.keys)(this.__getClearProps()),!0),["__p"],!1),T=(0,X.keys)(h),w=!e.__up&&!d&&(u||_.some(function(S){return T.indexOf(S)>=0})),C=this.get("onChange"),A={property:this,from:v,to:h,value:p,opts:e};s.__trgEv(s.events.propertyUpdate,A),C&&C(A),w&&this.__upTargetsStyle((n={},n[f]=p,n),e)},r.prototype.__upTargetsStyle=function(t,e){var n,o=(n=this.em)===null||n===void 0?void 0:n.get("StyleManager");o?.addStyleTargets(nn(nn({},t),{__p:!!e.avoidStore}),e)},r.prototype._up=function(t,e){e===void 0&&(e={}),e.noTarget&&(e.__up=!0);var n=e.partial,o=vS(e,["partial"]);return t.__p=!!(o.avoidStore||n),this.set(t,nn(nn({},o),{avoidStore:t.__p}))},r.prototype.up=function(t,e){e===void 0&&(e={}),this.set(t,nn(nn({},e),{__up:!0}))},r.prototype.init=function(){},r.prototype.getId=function(){return this.get("id")},r.prototype.getType=function(){return this.get("type")},r.prototype.getName=function(){return this.get("property")},r.prototype.getLabel=function(t){var e;t===void 0&&(t={});var n=t.locale,o=n===void 0?!0:n,l=this.getId(),s=this.get("name")||this.get("label");return o&&((e=this.em)===null||e===void 0?void 0:e.t("styleManager.properties.".concat(l)))||s},r.prototype.getValue=function(t){t===void 0&&(t={});var e=t.noDefault,n=this.get("value");return!this.hasValue()&&!e?this.getDefaultValue():n},r.prototype.hasValue=function(t){t===void 0&&(t={});var e=t.noParent,n=e&&this.getParentTarget(),o=this.get("value");return!(0,X.isUndefined)(o)&&o!==""&&!n},r.prototype.hasValueParent=function(){return this.hasValue()&&!this.hasValue({noParent:!0})},r.prototype.getStyle=function(t){var e;t===void 0&&(t={});var n=this.getName(),o=t.camelCase?(0,qt.camelCase)(n):n;return e={},e[o]=this.__getFullValue(t),e},r.prototype.getDefaultValue=function(){var t=this.get("default");return"".concat((0,X.isUndefined)(t)?this.get("defaults"):t)},r.prototype.upValue=function(t,e){e===void 0&&(e={});var n=t===null||t===""?this.__getClearProps():this.__parseValue(t,e);return this._up(n,e)},r.prototype.isVisible=function(){return!!this.get("visible")},r.prototype.clear=function(t){return t===void 0&&(t={}),this._up(this.__getClearProps(),nn(nn({},t),{__clear:!0})),this},r.prototype.canClear=function(){var t=this.getParent();return t?t.__canClearProp(this):this.hasValue({noParent:!0})},r.prototype.getParent=function(){return this.__getParentProp()},r.prototype.isFull=function(){return!!this.get("full")},r.prototype.__parseValue=function(t,e){return this.parseValue(t,e)},r.prototype.__getClearProps=function(){return{value:"",important:!1}},r.prototype.setValue=function(t,e,n){e===void 0&&(e=!0),n===void 0&&(n={});var o=this.parseValue(t),l=!e;!l&&this.set({value:void 0},{avoidStore:l,silent:!0}),this.set(o,nn({avoidStore:l},n))},r.prototype.setValueFromInput=function(t,e,n){n===void 0&&(n={}),this.setValue(t,e,nn(nn({},n),{fromInput:1}))},r.prototype.parseValue=function(t,e){e===void 0&&(e={});var n={value:t},o="!important",l=this.get("functionName")||"";if((0,X.isString)(t)&&t.indexOf(o)!==-1&&(n.value=t.replace(o,"").trim(),n.important=!0),!l&&!e.complete)return n;var s=[],f="".concat(n.value).trim(),u=f.indexOf("(")+1,p=l||f.substring(0,u-1);if(p&&(n.functionName=p),!l||f.indexOf("".concat(l,"("))===0){var d=f.lastIndexOf(")");s.push(u),d>=0&&s.push(d),n.value=String.prototype.substring.apply(f,s)}if(e.numeric){var h=parseFloat(n.value);n.unit=n.value.replace(h,""),n.value=h}return n},r.prototype.__getFullValue=function(t){var e=t===void 0?{}:t,n=e.withDefault;return!this.hasValue()&&n?this.getDefaultValue():this.getFullValue()},r.prototype.getFullValue=function(t,e){e===void 0&&(e={});var n=this.get("functionName"),o=this.getDefaultValue(),l=(0,X.isUndefined)(t)?this.get("value"):t,s=this.hasValue();if(l&&o&&l===o)return o;if(n&&s){var f=n==="url"?"'".concat(l.replace(/'|"/g,""),"'"):l;l="".concat(n,"(").concat(f,")")}return s&&this.get("important")&&!e.skipImportant&&(l="".concat(l," !important")),l||""},r.prototype.__setParentTarget=function(t){this.up({parentTarget:t})},r.prototype.getParentTarget=function(){return this.get("parentTarget")||null},r.prototype.__parseFn=function(t){t===void 0&&(t="");var e=t.indexOf("(")+1,n=t.lastIndexOf(")");return{name:t.substring(0,e-1).trim(),value:String.prototype.substring.apply(t,[e,n>=0?n:void 0]).trim()}},r.prototype.__checkVisibility=function(t){var e=t.target,n=t.component,o=t.sector,l=t.sectors,s=n||e;if(!s)return!1;var f=this.getId(),u=this.getName(),p=this.attributes,d=p.requires,h=p.requiresParent,v=p.toRequire,_=p.isVisible,T=s.get("unstylable"),w=s.get("stylable-require"),C=s.get("stylable");if((0,X.isFunction)(_))return!!_({property:this,sector:o,target:e,component:n});if((0,X.isArray)(C)&&(C=C.indexOf(u)>=0),(0,X.isArray)(T)&&(C=T.indexOf(u)<0),v&&(C=!e||w&&(w.indexOf(f)>=0||w.indexOf(u)>=0)),l&&d){var A=(0,X.keys)(d);l.forEach(function(b){b.getProperties().forEach(function(L){if((0,X.includes)(A,L.id)){var k=d[L.id];C=C&&(0,X.includes)(k,L.get("value"))}})})}if(h){var S=n&&n.parent(),x=S&&S.getEl();if(x){var N=(0,qt.hasWin)()?window.getComputedStyle(x):{};(0,X.each)(h,function(b,L){C=C&&N[L]&&(0,X.includes)(b,N[L])})}else C=!1}return!!C},r})(ae.Kx);const pr=Qf;Qf.callParentInit=function(i,r,t,e){e===void 0&&(e={}),i.prototype.initialize.apply(r,[t,nn(nn({},e),{skipInit:1})])};Qf.callInit=function(i,r,t){t===void 0&&(t={}),!t.skipInit&&i.init(r,t)};var gS=(function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}})(),da=function(){return da=Object.assign||function(i){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])}return i},da.apply(this,arguments)},Dh=function(i,r,t){if(t||arguments.length===2)for(var e=0,n=r.length,o;e<n;e++)(o||!(e in r))&&(o||(o=Array.prototype.slice.call(r,0,e)),o[e]=r[e]);return i.concat(o||Array.prototype.slice.call(r))},gv=function(i){return i==="integer"||i==="number"},mS=(function(i){gS(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.defaults=function(){return da(da({},pr.getDefaults()),{detached:!1,properties:[],separator:" ",join:null,fromStyle:null,toStyle:null,full:!0})},r.prototype.initialize=function(t,e){t===void 0&&(t={}),e===void 0&&(e={}),pr.callParentInit(pr,this,t,e);var n=this.em,o=new tp(this.get("properties")||[],{em:n,parentProp:this});this.set("properties",o,{silent:!0}),this.listenTo(o,"change",this.__upProperties),pr.callInit(this,t,e)},Object.defineProperty(r.prototype,"properties",{get:function(){return this.get("properties")||[]},enumerable:!1,configurable:!0}),r.prototype.getProperties=function(){return Dh([],this.get("properties").models,!0)},r.prototype.getProperty=function(t){return this.properties.filter(function(e){return e.getId()===t||e.getName()===t})[0]},r.prototype.getPropertyAt=function(t){return this.get("properties").at(t)},r.prototype.isDetached=function(){return!!this.get("detached")},r.prototype.getValues=function(t){var e=t===void 0?{}:t,n=e.byName;return this.getProperties().reduce(function(o,l){var s=n?l.getName():l.getId();return o[s]="".concat(l.__getFullValue()),o},{})},r.prototype.getSeparator=function(){return this.getSplitSeparator()},r.prototype.getJoin=function(){return this.__getJoin()},r.prototype.getStyleFromProps=function(t){var e;t===void 0&&(t={});var n=this.getName(),o=this.__getJoin(),l=this.get("toStyle"),s=this.getValues(),f={};if(l)f=l(s,{join:o,name:n,property:this});else if(s=this.getValues({byName:!0}),this.isDetached())f=s;else{var u=this.getProperties().map(function(p){return p.__getFullValue({withDefault:1})}).filter(Boolean).join(o);f=(e={},e[n]=u,e)}return this.isDetached()?f[n]="":(f[n]=f[n]||"",f=da(da({},f),this.getProperties().reduce(function(p,d){return p[d.getName()]="",p},{}))),t.camelCase?Object.keys(f).reduce(function(p,d){return p[(0,qt.camelCase)(d)]=f[d],p},{}):f},r.prototype.getSplitSeparator=function(){return new RegExp("".concat(this.get("separator"),"(?![^\\(]*\\))"))},r.prototype.__upProperties=function(t,e){if(e===void 0&&(e={}),!(e.__up||e.__clearIn)){var n=this.__getParentProp();if(n)return n.__upProperties(this,e);this.__upTargetsStyleProps(e,t)}},r.prototype.__upTargetsStyleProps=function(t,e){var n;t===void 0&&(t={});var o=this.getStyleFromProps();if(this.isDetached()&&e){var l=e.getName();o=(n={},n[l]=o[l],n)}this.__upTargetsStyle(o,t)},r.prototype._up=function(t,e){return e===void 0&&(e={}),this.__setProperties(this.__getSplitValue(t.value),e),pr.prototype._up.call(this,t,e),this},r.prototype.getStyle=function(t){return this.getStyleFromProps(t)},r.prototype.__getFullValue=function(t){if(t===void 0&&(t={}),this.isDetached()||t.__clear)return"";var e=this.getStyleFromProps()[this.getName()]||"";return lf(e)},r.prototype.__getJoin=function(){var t=this.get("join");return(0,X.isString)(t)?t:this.get("separator")},r.prototype.__styleHasProps=function(t){t===void 0&&(t={});var e=this.getName(),n=this.getProperties(),o=n.map(function(s){return s.getName()}),l=Dh([e],o,!0);return l.some(function(s){return!(0,X.isUndefined)(t[s])&&t[s]!==""})},r.prototype.__splitValue=function(t,e){return lf(t).split(e).map(function(n){return n.trim()}).filter(Boolean)},r.prototype.__splitStyleName=function(t,e,n){var o=t[e];return this.__splitValue(o||"",n)},r.prototype.__getSplitValue=function(t,e){t===void 0&&(t="");var n=e===void 0?{}:e,o=n.byName,l=this.getProperties(),s=l.length===4&&l.every(function(p){return gv(p.getType())}),f=this.__splitValue(t,this.getSplitSeparator()),u={};return l.forEach(function(p,d){var h=f[d],v=(0,X.isUndefined)(h)?"":h;if(s){var _=f.length;v=f[d]||f[d%_+(_!=1&&_%2?1:0)]||v}var T=o?p.getName():p.getId();u[T]=v||""}),u},r.prototype.__getPropsFromStyle=function(t,e){if(t===void 0&&(t={}),e===void 0&&(e={}),!this.__styleHasProps(t))return null;var n=e.byName,o=this.getName(),l=this.getProperties(),s=this.getSplitSeparator(),f=this.get("fromStyle"),u=f?f(t,{property:this,name:o,separator:s}):{};if(!f){var p=t[o];u=this.__getSplitValue(p||"",{byName:n}),l.forEach(function(d){var h=t[d.getName()],v=n?d.getName():d.getId();!(0,X.isUndefined)(h)&&h!==""&&(u[v]=h)})}return u},r.prototype.__setProperties=function(t,e){t===void 0&&(t={}),e===void 0&&(e={}),this.getProperties().forEach(function(o){var l=t[o.getId()];o.__getFullValue()!==l&&o.upValue(l,e)});var n=(0,X.keys)(t).map(function(o){return t[o]}).join(" ");this.set("value",n,{silent:!0})},r.prototype.clear=function(){var t=this;return this.getProperties().map(function(e){return e.clear({__clearIn:!t.isDetached()})}),pr.prototype.clear.call(this),this},r.prototype.hasValue=function(t){return this.getProperties().some(function(e){return e.hasValue(t)})},r.prototype.getFullValue=function(){return this.__getFullValue()},r.prototype.__canClearProp=function(t){return this.isDetached()&&t.hasValue({noParent:!0})},r})(pr);const Ji=mS;var yS=(function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}})(),gn=function(){return gn=Object.assign||function(i){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])}return i},gn.apply(this,arguments)},_S=function(i,r){var t={};for(var e in i)Object.prototype.hasOwnProperty.call(i,e)&&r.indexOf(e)<0&&(t[e]=i[e]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,e=Object.getOwnPropertySymbols(i);n<e.length;n++)r.indexOf(e[n])<0&&Object.prototype.propertyIsEnumerable.call(i,e[n])&&(t[e[n]]=i[e[n]]);return t},bS=/,(?![^\(]*\))/,TS=/\s(?![^(]*\))/,CS=(function(i){yS(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.defaults=function(){return gn(gn({},Ji.getDefaults()),{layers:[],emptyValue:"unset",layerSeparator:", ",layerJoin:"",prepend:0,preview:!1,layerLabel:null,selectedLayer:null})},r.prototype.initialize=function(t,e){t===void 0&&(t={}),e===void 0&&(e={}),Ji.callParentInit(Ji,this,t,e);var n=this.get("layers"),o=new Cl(n,{prop:this});o.property=this,o.properties=this.get("properties"),this.set("layers",o,{silent:!0}),this.on("change:selectedLayer",this.__upSelected),this.listenTo(o,"add remove",this.__upLayers),Ji.callInit(this,t,e)},Object.defineProperty(r.prototype,"layers",{get:function(){return this.get("layers")},enumerable:!1,configurable:!0}),r.prototype.getLayers=function(){return this.layers.models},r.prototype.hasLayers=function(){return this.getLayers().length>0},r.prototype.getLayer=function(t){return t===void 0&&(t=0),this.layers.at(t)||void 0},r.prototype.getSelectedLayer=function(){var t=this.get("selectedLayer");return t&&t.getIndex()>=0?t:void 0},r.prototype.selectLayer=function(t){return this.set("selectedLayer",t,{__select:!0})},r.prototype.selectLayerAt=function(t){t===void 0&&(t=0);var e=this.getLayer(t);return e&&this.selectLayer(e)},r.prototype.moveLayer=function(t,e){e===void 0&&(e=0);var n=this.layers,o=t?t.getIndex():-1;o>=0&&(0,X.isNumber)(e)&&e>=0&&e<n.length&&o!==e&&(this.removeLayer(t),n.add(t,{at:e}))},r.prototype.addLayer=function(t,e){t===void 0&&(t={}),e===void 0&&(e={});var n={};this.getProperties().forEach(function(l){var s=l.getId(),f=t[s];n[s]=(0,X.isUndefined)(f)?l.getDefaultValue():f});var o=this.layers.push({values:n},e);return o},r.prototype.removeLayer=function(t){return this.layers.remove(t)},r.prototype.removeLayerAt=function(t){t===void 0&&(t=0);var e=this.getLayer(t);return e?this.removeLayer(e):null},r.prototype.getLayerLabel=function(t){var e="";if(t){var n=this.get("layerLabel"),o=t.getValues(),l=t.getIndex();if(n)e=n(t,{index:l,values:o,property:this});else{var s=[];this.getProperties().map(function(f){s.push(o[f.getId()])}),e=s.filter(Boolean).join(" ")}}return e},r.prototype.getStyleFromLayer=function(t,e){var n;e===void 0&&(e={});var o=this.__getJoin(),l=this.__getJoinLayers(),s=this.get("toStyle"),f=this.getName(),u=t.getValues(),p;if(s)p=s(u,{join:o,joinLayers:l,name:f,layer:t,property:this});else{var d=this.getProperties().map(function(h){var v=h.getName(),_=u[h.getId()],T=(0,X.isUndefined)(_)?h.getDefaultValue():_;if(e.number&&gv(h.getType())){var w=h.parseValue(_,e.number);T="".concat(w.value).concat(w.unit)}return{name:v,value:T}});p=this.isDetached()?d.reduce(function(h,v){return h[v.name]=v.value,h},{}):(n={},n[this.getName()]=d.map(function(h){return h.value}).join(o),n)}return e.camelCase?Object.keys(p).reduce(function(h,v){return h[(0,qt.camelCase)(v)]=p[v],h},{}):p},r.prototype.getStylePreview=function(t,e){e===void 0&&(e={});var n={},o=this.get("preview");return o&&(n=this.getStyleFromLayer(t,e)),n},r.prototype.getLayerSeparator=function(){var t=this.get("layerSeparator");return(0,X.isString)(t)?new RegExp("".concat(t,"(?![^\\(]*\\))")):t},r.prototype.hasEmptyValue=function(){return!this.hasLayers()&&!!this.attributes.isEmptyValue},r.prototype.__upProperties=function(t,e){var n;e===void 0&&(e={});var o=this.getSelectedLayer();o&&(o.upValues((n={},n[t.getId()]=t.__getFullValue(),n)),!e.__up&&this.__upTargetsStyleProps(e))},r.prototype.__upLayers=function(t,e,n){this.__upTargetsStyleProps(n||e)},r.prototype.__upTargets=function(t,e){if(e===void 0&&(e={}),!e.__select)return pr.prototype.__upTargets.call(this,t,e)},r.prototype.__upTargetsStyleProps=function(t){t===void 0&&(t={}),this.__upTargetsStyle(this.getStyleFromLayers(t),t)},r.prototype.__upTargetsStyle=function(t,e){return pr.prototype.__upTargetsStyle.call(this,t,e)},r.prototype.__upSelected=function(t,e){var n=t===void 0?{}:t,o=n.noEvent;e===void 0&&(e={});var l=this.em.Styles,s=this.getSelectedLayer(),f=s?.getValues();f&&this.getProperties().forEach(function(u){var p,d=(p=f[u.getId()])!==null&&p!==void 0?p:"";u.__getFullValue()!==d&&u.upValue(d,gn(gn({},e),{__up:!0}))}),!o&&l.__trgEv(l.events.layerSelect,{property:this})},r.prototype._up=function(t,e){e===void 0&&(e={});var n=t.__layers,o=n===void 0?[]:n,l=_S(t,["__layers"]);return!this.isDetached()&&this.__setLayers(o),this.__upSelected({noEvent:!0},e),pr.prototype._up.call(this,l,e),this},r.prototype.__setLayers=function(t,e){t===void 0&&(t=[]),e===void 0&&(e={});var n=this.layers,o=t.map(function(l){return{values:l}});n.length===o.length?o.map(function(l,s){var f;return(f=n.at(s))===null||f===void 0?void 0:f.upValues(l.values)}):n.reset(o),this.set({isEmptyValue:!!e.isEmptyValue}),this.__upSelected({noEvent:!0})},r.prototype.__parseValue=function(t){var e=this,n=this.parseValue(t);return n.__layers=t.split(bS).map(function(o){return o.trim()}).map(function(o){return e.__parseLayer(o)}).filter(Boolean),n},r.prototype.__parseLayer=function(t){var e=this.get("parseLayer"),n=t.split(TS),o=this.getProperties();return e?e({value:t,values:n}):o.reduce(function(l,s,f){var u=n[f];return l[s.getId()]=(0,X.isUndefined)(u)?s.getDefaultValue():u,l},{})},r.prototype.__getLayersFromStyle=function(t){var e=this;if(t===void 0&&(t={}),!this.__styleHasProps(t))return null;if(this.isEmptyValueStyle(t))return[];var n=this.getName(),o=this.getProperties(),l=this.getLayerSeparator(),s=this.attributes.fromStyle,f=s?s(t,{property:this,name:n,separatorLayers:l}):[];if(!s){var u=this.__splitStyleName(t,n,l).map(function(p){return p.split(e.getSplitSeparator())}).map(function(p){var d={};return o.forEach(function(h,v){var _=p[v];d[h.getId()]=(0,X.isUndefined)(_)?h.getDefaultValue():_}),d});o.forEach(function(p){var d=p.getId();e.__splitStyleName(t,p.getName(),l).map(function(h){var v;return v={},v[d]=h||p.getDefaultValue(),v}).forEach(function(h,v){u[v]=u[v]?gn(gn({},u[v]),h):h})}),f=u}return(0,X.isArray)(f)?f:[f]},r.prototype.getStyle=function(t){return t===void 0&&(t={}),this.getStyleFromLayers(t)},r.prototype.getStyleFromLayers=function(t){var e=this;t===void 0&&(t={});var n={},o=this.getName(),l=this.getLayers(),s=this.getProperties(),f=l.map(function(p){return e.getStyleFromLayer(p,t)});if(f.forEach(function(p){(0,X.keys)(p).map(function(d){n[d]||(n[d]=[]),n[d].push(p[d])})}),(0,X.keys)(n).map(function(p){n[p]=n[p].join(e.__getJoinLayers())}),this.isDetached())n[o]="",!l.length&&s.map(function(p){n[p.getName()]=""});else{var u=s.reduce(function(p,d){return p[d.getName()]="",p},{});n[o]=n[o]||"",n=gn(gn({},n),u)}return gn(gn({},n),t.__clear?{}:this.getEmptyValueStyle())},r.prototype.isEmptyValueStyle=function(t){t===void 0&&(t={});var e=this.getEmptyValueStyle({force:!0}),n=(0,X.keys)(e);return!!n.length&&n.every(function(o){return e[o]===t[o]})},r.prototype.getEmptyValueStyle=function(t){t===void 0&&(t={});var e=this.attributes.emptyValue;if(e&&(!this.hasLayers()||t.force)){var n=this.getName(),o=this.getProperties(),l=(0,X.isString)(e)?e:e({property:this});if((0,X.isString)(l)){var s={};return this.isDetached()?o.map(function(f){s[f.getName()]=l}):s[n]=l,s}else return l}else return{}},r.prototype.__getJoinLayers=function(){var t=this.get("layerJoin"),e=this.get("layerSeparator");return t||((0,X.isString)(e)?e:t)},r.prototype.__getFullValue=function(){if(this.get("detached"))return"";var t=this.getStyleFromLayers();return lf(t[this.getName()])},r.prototype.hasValue=function(t){t===void 0&&(t={});var e=t.noParent,n=e&&this.getParentTarget();return(this.hasLayers()||this.hasEmptyValue())&&!n},r.prototype.clear=function(t){return t===void 0&&(t={}),this.layers.reset(),this.__upTargetsStyleProps(gn(gn({},t),{__clear:!0})),pr.prototype.clear.call(this),this},r.prototype.__canClearProp=function(){return!1},r.prototype.__getLayers=function(){return this.layers},r})(Ji);const wS=CS;var SS=(function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}})(),yu=function(){return yu=Object.assign||function(i){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])}return i},yu.apply(this,arguments)},ES=function(i,r){var t={};for(var e in i)Object.prototype.hasOwnProperty.call(i,e)&&r.indexOf(e)<0&&(t[e]=i[e]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,e=Object.getOwnPropertySymbols(i);n<e.length;n++)r.indexOf(e[n])<0&&Object.prototype.propertyIsEnumerable.call(i,e[n])&&(t[e[n]]=i[e[n]]);return t},xS=function(i,r,t){if(t||arguments.length===2)for(var e=0,n=r.length,o;e<n;e++)(o||!(e in r))&&(o||(o=Array.prototype.slice.call(r,0,e)),o[e]=r[e]);return i.concat(o||Array.prototype.slice.call(r))},$c="data-clear-style",OS=(function(i){SS(r,i);function r(t){t===void 0&&(t={});var e=i.call(this,t)||this;(0,X.bindAll)(e,"__change","__updateStyle");var n=t.config||{},o=n.em;e.config=n,e.em=o,e.pfx=n.stylePrefix||"",e.ppfx=n.pStylePrefix||"",e.__destroyFn=e.destroy?e.destroy.bind(e):function(){};var l=e.model;l.view=e,e.onValueChange=(0,X.debounce)(e.onValueChange.bind(e),10),e.updateStatus=(0,X.debounce)(e.updateStatus.bind(e),0),e.listenTo(l,"destroy remove",e.remove),e.listenTo(l,"change:visible",e.updateVisibility),e.listenTo(l,"change:name change:className change:full",e.render),e.listenTo(l,"change:value",e.onValueChange),e.listenTo(l,"change:parentTarget",e.updateStatus),e.listenTo(o,"change:device",e.onValueChange);var s=e.init&&e.init.bind(e);return s&&s(),e}return r.prototype.events=function(){var t;return t={change:"inputValueChanged"},t["click [".concat($c,"]")]="clear",t},r.prototype.template=function(t){var e=this,n=e.pfx,o=e.ppfx;return`
      <div class="`.concat(n,`label" data-sm-label></div>
      <div class="`).concat(o,`fields" data-sm-fields></div>
    `)},r.prototype.templateLabel=function(t){var e=this,n=e.pfx,o=e.em,l=t.parent,s=t.attributes,f=s.icon,u=f===void 0?"":f,p=s.info,d=p===void 0?"":p,h=o?.getConfig().icons,v=h?.close||"";return`
      <span class="`.concat(n,"icon ").concat(u,'" title="').concat(d,`">
        `).concat(t.getLabel(),`
      </span>
      `).concat(l?"":'<div class="'.concat(n,'clear" style="display: none" ').concat($c,">").concat(v,"</div>"),`
    `)},r.prototype.templateInput=function(t){return`
      <div class="`.concat(this.ppfx,`field">
        <input placeholder="`).concat(t.getDefaultValue(),`"/>
      </div>
    `)},r.prototype.remove=function(){var t=this;return ae.Ss.prototype.remove.apply(this,arguments),["em","input","$input","view"].forEach(function(e){return t[e]=null}),this.__destroyFn(this._getClbOpts()),this},r.prototype.updateStatus=function(){var t,e=this,n=e.model,o=e.pfx,l=e.ppfx,s=e.config,f="".concat(l,"four-color"),u="".concat(l,"color-warn"),p=this.$el.children(".".concat(o,"label")),d=this.getClearEl(),h=d?d.style:{};p.removeClass("".concat(f," ").concat(u)),h.display="none",n.hasValue({noParent:!0})&&s.highlightChanged?(p.addClass(f),s.clearProperties&&(h.display="")):n.hasValue()&&s.highlightComputed&&p.addClass(u),(t=this.parent)===null||t===void 0||t.updateStatus()},r.prototype.clear=function(t){t&&t.stopPropagation(),this.model.clear()},r.prototype.getClearEl=function(){return this.clearEl||(this.clearEl=this.el.querySelector("[".concat($c,"]"))),this.clearEl},r.prototype.inputValueChanged=function(t){t&&t.stopPropagation(),!this.emit&&this.model.upValue(t.target.value)},r.prototype.onValueChange=function(t,e,n){this.setValue(this.model.getFullValue(void 0,{skipImportant:!0})),this.updateStatus()},r.prototype.setValue=function(t){var e=this.model,n=(0,X.isUndefined)(t)||t===""?e.getDefaultValue():t;if(this.update)return this.__update(n);this.__setValueInput(n)},r.prototype.__setValueInput=function(t){var e=this.getInputEl();e&&(e.value=t)},r.prototype.getInputEl=function(){return this.input||(this.input=this.el.querySelector("input")),this.input},r.prototype.updateVisibility=function(){this.el.style.display=this.model.isVisible()?"":"none"},r.prototype.clearCached=function(){delete this.clearEl,delete this.input,delete this.$input},r.prototype.__unset=function(){var t=this.unset&&this.unset.bind(this);t&&t(this._getClbOpts())},r.prototype.__update=function(t){var e=this.update&&this.update.bind(this);e&&e(yu(yu({},this._getClbOpts()),{value:t}))},r.prototype.__change=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this.emit&&this.emit.bind(this);n&&n.apply(void 0,xS([this._getClbOpts()],t,!1))},r.prototype.__updateStyle=function(t,e){e===void 0&&(e={});var n=e.complete,o=e.partial;ES(e,["complete","partial"]);var l=this.model,s=n!==!1&&o!==!0;(0,qt.isObject)(t)?l.__upTargetsStyle(t,{avoidStore:!s}):l.upValue(t,{partial:!s})},r.prototype._getClbOpts=function(){var t=this,e=t.model,n=t.el,o=t.createdEl;return{el:n,createdEl:o,property:e,props:e.attributes,change:this.__change,updateStyle:this.__updateStyle}},r.prototype.render=function(){this.clearCached();var t=this,e=t.pfx,n=t.model,o=t.el,l=t.$el,s=n.getName(),f=n.getType(),u=n.get("className")||"",p="".concat(e,"property"),d=f==="number"?"".concat(e).concat(f," ").concat(e,"integer"):"".concat(e).concat(f);this.createdEl&&this.__destroyFn(this._getClbOpts()),l.empty().append(this.template(n)),l.find("[data-sm-label]").append(this.templateLabel(n));var h=this.create&&this.create.bind(this);this.createdEl=h&&h(this._getClbOpts()),l.find("[data-sm-fields]").append(this.createdEl||this.templateInput(n)),o.className="".concat(p," ").concat(d," ").concat(p,"__").concat(s," ").concat(u).trim(),o.className+=n.isFull()?" ".concat(p,"--full"):"";var v=this.onRender&&this.onRender.bind(this);return v&&v(),this.setValue(n.getValue()),this},r.prototype.onRender=function(){},r})(ae.Ss);const So=OS;var AS=(function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}})(),PS=(function(i){AS(r,i);function r(t){var e=i.call(this,t)||this;e.config=t.config||{},e.pfx=e.config.stylePrefix||"",e.properties=[],e.parent=t.parent;var n=e.collection;return e.listenTo(n,"add",e.addTo),e.listenTo(n,"reset",e.render),e}return r.prototype.addTo=function(t,e,n){this.add(t,null,n)},r.prototype.add=function(t,e,n){n===void 0&&(n={});var o=this,l=o.parent,s=o.config,f=e||this.el,u=new t.typeView({model:t,config:s});l&&(u.parent=l),u.render();var p=u.el;this.properties.push(u),(0,ue.Sc)(f,p,n.at)},r.prototype.remove=function(){return ae.Ss.prototype.remove.apply(this,arguments),this.clearItems(),this},r.prototype.clearItems=function(){this.properties.forEach(function(t){return t.remove()}),this.properties=[]},r.prototype.render=function(){var t=this,e=this,n=e.$el,o=e.pfx;this.clearItems();var l=document.createDocumentFragment();return this.collection.forEach(function(s){return t.add(s,l)}),n.empty(),n.append(l),n.attr("class","".concat(o,"properties")),this},r})(ae.Ss);const Jf=PS;var kS=(function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}})(),_u=function(){return _u=Object.assign||function(i){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])}return i},_u.apply(this,arguments)},MS=(function(i){kS(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.templateInput=function(){var t=this.pfx;return`
      <div class="`.concat(t,"field ").concat(t,`composite">
        <span id="`).concat(t,`input-holder"></span>
      </div>
    `)},r.prototype.remove=function(){var t;return(t=this.props)===null||t===void 0||t.remove(),So.prototype.remove.apply(this,arguments),this},r.prototype.onValueChange=function(){},r.prototype.onRender=function(){var t=this.pfx,e=this.model,n=e.get("properties");if(n.length&&!this.props){var o=e.isDetached(),l=new Jf({config:_u(_u({},this.config),{highlightComputed:o,highlightChanged:o}),collection:n,parent:this});l.render(),this.$el.find("#".concat(t,"input-holder")).append(l.el),this.props=l}},r.prototype.clearCached=function(){So.prototype.clearCached.apply(this,arguments),delete this.props},r})(So);const ss=MS;var NS=(function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}})(),LS=(function(i){NS(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.events=function(){return{click:"select","click [data-close-layer]":"removeItem","mousedown [data-move-layer]":"initSorter","touchstart [data-move-layer]":"initSorter"}},r.prototype.template=function(){var t=this,e=t.pfx,n=t.ppfx,o=t.em,l=o?.getConfig().icons,s=l?.close||"",f=l?.move||"";return`
      <div class="`.concat(e,`label-wrp">
        <div id="`).concat(e,'move" class="').concat(n,`no-touch-actions" data-move-layer>
          `).concat(f,`
        </div>
        <div id="`).concat(e,`label" data-label></div>
        <div id="`).concat(e,'preview-box" class="').concat(e,`layer-preview" style="display: none" data-preview-box>
          <div id="`).concat(e,'preview" class="').concat(e,`layer-preview-cnt" data-preview></div>
        </div>
        <div id="`).concat(e,'close-layer" class="').concat(e,`btn-close" data-close-layer>
          `).concat(s,`
        </div>
      </div>
      <div id="`).concat(e,`inputs" data-properties></div>
    `)},r.prototype.initialize=function(t){t===void 0&&(t={});var e=this.model,n=t.config||{};this.em=n.em,this.config=n,this.sorter=t.sorter,this.pfx=n.stylePrefix||"",this.ppfx=n.pStylePrefix||"",this.propertyView=t.propertyView;var o=this.propertyView.model;this.listenTo(e,"destroy remove",this.remove),this.listenTo(e,"change:values",this.updateLabel),this.listenTo(o,"change:selectedLayer",this.updateVisibility),e.view=this,e.set({droppable:0,draggable:1}),this.$el.data("model",e)},r.prototype.initSorter=function(){var t;(t=this.sorter)===null||t===void 0||t.startSort([{element:this.el}])},r.prototype.removeItem=function(t){t&&t.stopPropagation(),this.model.remove()},r.prototype.select=function(){this.model.select()},r.prototype.getPropertiesWrapper=function(){return this.propsWrapEl||(this.propsWrapEl=this.el.querySelector("[data-properties]")),this.propsWrapEl},r.prototype.getPreviewEl=function(){return this.previewEl||(this.previewEl=this.el.querySelector("[data-preview]")),this.previewEl},r.prototype.getLabelEl=function(){return this.labelEl||(this.labelEl=this.el.querySelector("[data-label]")),this.labelEl},r.prototype.updateLabel=function(){var t=this.model,e=t.getLabel();if(this.getLabelEl().innerHTML=e,t.hasPreview()){var n=this.getPreviewEl(),o=t.getStylePreview({number:{min:-3,max:3}}),l=(0,X.keys)(o).map(function(s){return"".concat(s,":").concat(o[s])}).join(";");n.setAttribute("style",l)}},r.prototype.updateVisibility=function(){var t,e=this,n=e.pfx,o=e.model,l=e.propertyView,s=this.getPropertiesWrapper(),f=o.isSelected();s.style.display=f?"":"none",this.$el[f?"addClass":"removeClass"]("".concat(n,"active")),f&&s.appendChild((t=l.props)===null||t===void 0?void 0:t.el)},r.prototype.render=function(){var t=this,e=t.el,n=t.pfx,o=t.model;return e.innerHTML=this.template(),e.className="".concat(n,"layer"),o.hasPreview()&&(e.querySelector("[data-preview-box]").style.display=""),this.updateLabel(),this.updateVisibility(),this},r})(ae.Ss);const IS=LS;var DS=(function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}})(),RS=(function(i){DS(r,i);function r(t){var e=i.call(this,t)||this,n=e.collection,o=t.config||{},l=o.em,s=o.stylePrefix||"",f=o.pStylePrefix||"";e.config=o,e.pfx=s,e.ppfx=f,e.propertyView=t.propertyView,e.className="".concat(s,"layers ").concat(f,"field"),e.listenTo(n,"add",e.addTo),e.listenTo(n,"reset",e.reset),e.items=[];var u=e.createPlaceholder(o.pStylePrefix);e.$el.append(u);var p=l?.Utils;return e.sorter=p?new p.StyleManagerSorter({em:l,containerContext:{container:e.el,containerSel:".".concat(s,"layers"),itemSel:".".concat(s,"layer"),pfx:o.pStylePrefix,document,placeholderElement:u},dragBehavior:{dragDirection:Si.A.Vertical,nested:!1}}):void 0,n.view=e,e.$el.data("model",n),e.$el.data("collection",n),e}return r.prototype.addTo=function(t){var e=this.collection.indexOf(t);this.addToCollection(t,null,e)},r.prototype.addToCollection=function(t,e,n){var o=e||null,l=this,s=l.propertyView,f=l.config,u=l.sorter,p=l.$el,d=new IS({model:t,config:f,sorter:u,propertyView:s}),h=d.render().el;if(this.items.push(d),o)o.appendChild(h);else if(typeof n<"u"){var v="before";p.children().length===n&&(n--,v="after"),n<0?p.append(h):p.children().eq(n)[v](h)}else p.append(h);return h},r.prototype.reset=function(t,e){this.clearItems(),this.render()},r.prototype.remove=function(){return this.clearItems(),ae.Ss.prototype.remove.apply(this,arguments),this},r.prototype.clearItems=function(){this.items.forEach(function(t){return t.remove()}),this.items=[]},r.prototype.render=function(){var t=this,e=this.$el,n=document.createDocumentFragment();return e.empty(),this.collection.forEach(function(o){return t.addToCollection(o,n)}),e.append(n),e.attr("class",this.className),this},r.prototype.createPlaceholder=function(t){var e=document.createElement("div"),n=document.createElement("div");return this.el.parentNode,e.className=t+"placeholder",e.style.display="none",e.style.pointerEvents="none",n.className=t+"placeholder-int",e.appendChild(n),e},r})(ae.Ss);const jS=RS;var HS=(function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}})(),ha=function(){return ha=Object.assign||function(i){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])}return i},ha.apply(this,arguments)},FS=(function(i){HS(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.events=function(){return ha(ha({},ss.prototype.events()),{"click [data-add-layer]":"addLayer",change:""})},r.prototype.templateInput=function(){var t=this,e=t.pfx,n=t.em,o=n?.getConfig().icons,l=o?.plus||"+";return`
      <div class="`.concat(e,"field ").concat(e,`stack">
        <button type="button" id="`).concat(e,`add" data-add-layer>
          `).concat(l,`
        </button>
        <div data-layers-wrapper></div>
      </div>
    `)},r.prototype.init=function(){var t=this.model;this.listenTo(t.layers,"change reset",this.updateStatus),this.listenTo(t,"change:isEmptyValue",this.updateStatus)},r.prototype.addLayer=function(){this.model.addLayer({},{at:0})},r.prototype.setValue=function(){},r.prototype.remove=function(){var t;return(t=this.layersView)===null||t===void 0||t.remove(),ss.prototype.remove.apply(this,arguments),this},r.prototype.clearCached=function(){ss.prototype.clearCached.apply(this,arguments),delete this.layersView},r.prototype.onRender=function(){var t=this,e=t.model,n=t.el,o=t.config,l=e.get("properties");if(l.length&&!this.props){var s=new Jf({config:ha(ha({},o),{highlightComputed:!1,highlightChanged:!1}),collection:l,parent:this});s.render();var f=new jS({collection:e.layers,config:o,propertyView:this});f.render();var u=n.querySelector("[data-layers-wrapper]");u.appendChild(f.el),this.props=s,this.layersView=f}},r})(ss);const VS=FS;var US=(function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}})(),bu=function(){return bu=Object.assign||function(i){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])}return i},bu.apply(this,arguments)},BS=(function(i){US(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.events=function(){return bu(bu({},So.prototype.events()),{"click [data-clear-asset]":"clear","click [data-open-assets]":"openAssetManager"})},r.prototype.templateInput=function(){var t,e=this,n=e.pfx,o=e.em,l=(t=this.em)===null||t===void 0?void 0:t.getConfig().icons,s=l?.close;return`
      <div class="`.concat(n,"field ").concat(n,`file">
        <div id='`).concat(n,`input-holder'>
          <div class="`).concat(n,`btn-c">
            <button class="`).concat(n,'btn" id="').concat(n,`images" type="button" data-open-assets>
              `).concat(o.t("styleManager.fileButton"),`
            </button>
          </div>
          <div style="clear:both;"></div>
        </div>
        <div id="`).concat(n,'preview-box" class="').concat(n,`preview-file" data-preview-box>
          <div id="`).concat(n,'preview-file" class="').concat(n,`preview-file-cnt" data-preview></div>
          <div id="`).concat(n,'close" class="').concat(n,'preview-file-close" data-clear-asset>').concat(s,`</div>
        </div>
      </div>
    `)},r.prototype.__setValueInput=function(t){var e=this,n=e.model,o=e.el,l=n.getDefaultValue(),s=o.querySelector("[data-preview-box]"),f=o.querySelector("[data-preview]");s.style.display=!t||t===l?"none":"",f.style.backgroundImage=t||n.getDefaultValue()},r.prototype.openAssetManager=function(){var t=this,e,n=(e=this.em)===null||e===void 0?void 0:e.Assets;n?.open({select:function(o,l){var s=(0,X.isString)(o)?o:o.get("src");t.model.upValue(s,{partial:!l}),l&&n.close()},types:["image"],accept:"image/*"})},r})(So);const WS=BS;var zS=(function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}})(),KS=(function(i){zS(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.templateInput=function(t){return""},r.prototype.init=function(){var t=this.model;this.listenTo(t,"change:unit",this.onValueChange),this.listenTo(t,"change:units",this.render)},r.prototype.setValue=function(t){},r.prototype.onRender=function(){var t=this,e=t.ppfx,n=t.model,o=t.el;if(!this.inputInst){var l=n.input;l.ppfx=e,l.render();var s=o.querySelector(".".concat(e,"fields"));s.appendChild(l.el),this.input=l.inputEl.get(0),this.inputInst=l}},r.prototype.clearCached=function(){So.prototype.clearCached.apply(this,arguments),this.inputInst=null},r})(So);const To=KS;var GS=(function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}})(),qS=(function(i){GS(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.setValue=function(t){var e;(e=this.inputInst)===null||e===void 0||e.setValue(t,{fromTarget:1,def:this.model.getDefaultValue()})},r.prototype.remove=function(){var t=this;To.prototype.remove.apply(this,arguments);var e=this.inputInst;return e&&e.remove&&e.remove(),["inputInst","$color"].forEach(function(n){return t[n]=null}),this},r.prototype.__handleChange=function(t,e){this.model.upValue(t,{partial:e})},r.prototype.onRender=function(){var t;if(!this.inputInst){this.__handleChange=this.__handleChange.bind(this);var e=this,n=e.ppfx,o=e.model,l=e.em,s=e.el,f=new B1({target:l,model:o,ppfx:n,onChange:this.__handleChange}),u=f.render();s.querySelector(".".concat(n,"fields")).appendChild(u.el),this.input=(t=u.inputEl)===null||t===void 0?void 0:t.get(0),this.inputInst=u}},r})(To);const YS=qS;var XS=(function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}})(),Tu=function(){return Tu=Object.assign||function(i){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])}return i},Tu.apply(this,arguments)},Rh=function(i,r,t){if(t||arguments.length===2)for(var e=0,n=r.length,o;e<n;e++)(o||!(e in r))&&(o||(o=Array.prototype.slice.call(r,0,e)),o[e]=r[e]);return i.concat(o||Array.prototype.slice.call(r))},$S=(function(i){XS(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.defaults=function(){return Tu(Tu({},pr.getDefaults()),{options:[],full:0})},r.prototype.getOptions=function(){var t=this.attributes,e=t.options,n=t.list;return(e&&e.length?e:n)||[]},r.prototype.getOption=function(t){var e=this,n=(0,qt.isDef)(t)?t:this.getValue();return this.getOptions().filter(function(o){return e.getOptionId(o)===n})[0]||null},r.prototype.setOptions=function(t){return t===void 0&&(t=[]),this.set("options",t),this},r.prototype.addOption=function(t){if(t){var e=this.getOptions();this.setOptions(Rh(Rh([],e,!0),[t],!1))}return this},r.prototype.getOptionId=function(t){return(0,qt.isDef)(t.id)?t.id:t.value},r.prototype.getOptionLabel=function(t,e){var n;e===void 0&&(e={});var o=e.locale,l=o===void 0?!0:o,s=((0,X.isString)(t)?this.getOption(t):t)||{},f=this.getOptionId(s),u=s.label||s.name||f,p=e.property||this.getId();return l&&((n=this.em)===null||n===void 0?void 0:n.t("styleManager.options.".concat(p,".").concat(f)))||u},r.prototype.initialize=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];pr.prototype.initialize.apply(this,t),this.listenTo(this,"change:options",this.__onOptionChange)},r.prototype.__onOptionChange=function(){this.set("list",this.get("options"))},r})(pr);const Hf=$S;var ZS=(function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}})(),QS=(function(i){ZS(r,i);function r(t){var e=i.call(this,t)||this;return e.listenTo(e.model,"change:options",e.updateOptions),e}return r.prototype.templateInput=function(){var t=this,e=t.pfx,n=t.ppfx;return`
      <div class="`.concat(n,"field ").concat(n,`select">
        <span id="`).concat(e,`input-holder"></span>
        <div class="`).concat(n,`sel-arrow">
          <div class="`).concat(n,`d-s-arrow"></div>
        </div>
      </div>
    `)},r.prototype.updateOptions=function(){delete this.input,this.onRender()},r.prototype.onRender=function(){var t=this.pfx,e=this.model,n=e.getOptions();if(!this.input){var o=[];n.forEach(function(s){var f=e.getOptionId(s),u=e.getOptionLabel(f),p=s.style?s.style.replace(/"/g,"&quot;"):"",d=p?'style="'.concat(p,'"'):"",h=f.replace(/"/g,"&quot;");o.push('<option value="'.concat(h,'" ').concat(d,">").concat(u,"</option>"))});var l=this.el.querySelector("#".concat(t,"input-holder"));l.innerHTML="<select>".concat(o.join(""),"</select>"),this.input=l.firstChild}},r.prototype.__setValueInput=function(t){var e=this.model,n=this.getInputEl(),o=e.getOptions()[0],l=o?e.getOptionId(o):"";n&&(n.value=t||l)},r})(So);const mv=QS;var JS=(function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}})(),Cu=function(){return Cu=Object.assign||function(i){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])}return i},Cu.apply(this,arguments)},t2=(function(i){JS(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.defaults=function(){return Cu(Cu({},Hf.getDefaults()),{full:1})},r})(Hf);const e2=t2;var r2=(function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}})(),n2=(function(i){r2(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.templateInput=function(){var t=this.ppfx;return'<div class="'.concat(t,"field ").concat(t,'field-radio"></div>')},r.prototype.onRender=function(){var t=this,e=t.pfx,n=t.ppfx,o=this.model,l="".concat(n,"radio-item-label"),s=o.getName(),f=o.getOptions(),u="".concat(e,"radio ").concat(e,"radio-").concat(s),p=o.cid;if(!this.input){var d=[];f.forEach(function(v){var _=v.className?"".concat(v.className," ").concat(e,"icon ").concat(l):"",T=o.getOptionId(v),w="".concat(s,"-").concat(T,"-").concat(p),C=_?"":o.getOptionLabel(T),A=v.title?'title="'.concat(v.title,'"'):"",S=o.getValue()===T?"checked":"";d.push(`
          <div class="`.concat(n,`radio-item">
            <input type="radio" class="`).concat(u,'" id="').concat(w,'" name="').concat(s,"-").concat(p,'" value="').concat(T,'" ').concat(S,`/>
            <label class="`).concat(_||l,'" ').concat(A,' for="').concat(w,'">').concat(C,`</label>
          </div>
        `))});var h=this.el.querySelector(".".concat(n,"field"));h.innerHTML='<div class="'.concat(n,'radio-items">').concat(d.join(""),"</div>"),this.input=h.firstChild}},r.prototype.__setValueInput=function(t){var e,n=this.model,o=t||n.getDefaultValue(),l=(e=this.getInputEl())===null||e===void 0?void 0:e.querySelector('[value="'.concat(o,'"]'));l&&(l.checked=!0)},r})(mv);const o2=n2;var i2=(function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}})(),yi=function(){return yi=Object.assign||function(i){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])}return i},yi.apply(this,arguments)},a2=(function(i){i2(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.defaults=function(){return yi(yi({},pr.getDefaults()),{units:[],unit:"",min:"",max:"",step:1})},r.prototype.getUnits=function(){return this.get("units")||[]},r.prototype.getUnit=function(){return this.get("unit")},r.prototype.getMin=function(){return this.get("min")},r.prototype.getMax=function(){return this.get("max")},r.prototype.getStep=function(){return this.get("step")},r.prototype.upUnit=function(t,e){return e===void 0&&(e={}),this._up({unit:t},e)},r.prototype.initialize=function(t,e){t===void 0&&(t={}),e===void 0&&(e={}),pr.callParentInit(pr,this,t,e);var n=this.get("unit"),o=this.getUnits();this.input=(0,qt.hasWin)()?new z1({model:this}):void 0,o.length&&!n&&this.set("unit",o[0],{silent:!0}),pr.callInit(this,t,e)},r.prototype.__getClearProps=function(){return yi(yi({},pr.prototype.__getClearProps()),{unit:""})},r.prototype.parseValue=function(t,e){e===void 0&&(e={});var n=pr.prototype.parseValue.apply(this,arguments),o=this.input.validateInputValue(n.value,yi({deepCheck:1},e)),l=o.value,s=o.unit;return n.value=l,n.unit=s,n},r.prototype.getFullValue=function(){var t=this.get("value"),e=this.get("unit"),n=(0,X.isUndefined)(t)?"":"".concat(t),o=!(0,X.isUndefined)(e)&&n?e:"",l="".concat(n).concat(o);return pr.prototype.getFullValue.apply(this,[l])},r})(pr);const wu=a2;var s2=(function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}})(),Su=function(){return Su=Object.assign||function(i){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])}return i},Su.apply(this,arguments)},l2=(function(i){s2(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.defaults=function(){return Su(Su({},wu.getDefaults()),{showInput:1})},r})(wu);const u2=l2;var c2=(function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}})(),Eu=function(){return Eu=Object.assign||function(i){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])}return i},Eu.apply(this,arguments)},f2=(function(i){c2(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.events=function(){return Eu(Eu({},To.prototype.events()),{"change [type=range]":"inputValueChanged","input [type=range]":"inputValueChangedSoft",change:""})},r.prototype.templateInput=function(t){var e=this.ppfx;return`
      <div class="`.concat(e,"field ").concat(e,`field-range">
        <input type="range" min="`).concat(t.get("min"),'" max="').concat(t.get("max"),'" step="').concat(t.get("step"),`"/>
      </div>
    `)},r.prototype.getSliderEl=function(){return this.slider||(this.slider=this.el.querySelector("input[type=range]")),this.slider},r.prototype.inputValueChanged=function(t){t.stopPropagation(),this.model.upValue(this.getSliderEl().value)},r.prototype.inputValueChangedSoft=function(t){t.stopPropagation(),this.model.upValue(this.getSliderEl().value,{partial:!0})},r.prototype.setValue=function(t){var e=this.model,n=e.parseValue(t);this.getSliderEl().value=t===""?e.getDefaultValue():parseFloat(n.value),To.prototype.setValue.apply(this,arguments)},r.prototype.onRender=function(){To.prototype.onRender.apply(this,arguments),this.model.get("showInput")||(this.inputInst.el.style.display="none")},r.prototype.clearCached=function(){To.prototype.clearCached.apply(this,arguments),delete this.slider},r})(To);const p2=f2;var d2=ae.pM.extend(Q1),h2=d2.extend({extendViewApi:1,init:function(){var i=this,r=i.opts,t=i.em,e=r.module||t?.get("StyleManager");e&&(e.__listenAdd(this,e.events.propertyAdd),e.__listenRemove(this,e.events.propertyRemove))},types:[{id:"stack",model:wS,view:VS,isType:function(i){if(i&&i.type=="stack")return i}},{id:"composite",model:Ji,view:ss,isType:function(i){if(i&&i.type=="composite")return i}},{id:"file",model:pr,view:WS,isType:function(i){if(i&&i.type=="file")return i}},{id:"color",model:pr,view:YS,isType:function(i){if(i&&i.type=="color")return i}},{id:"select",model:Hf,view:mv,isType:function(i){if(i&&i.type=="select")return i}},{id:"radio",model:e2,view:o2,isType:function(i){if(i&&i.type=="radio")return i}},{id:"slider",model:u2,view:p2,isType:function(i){if(i&&i.type=="slider")return i}},{id:"integer",model:wu,view:To,isType:function(i){if(i&&i.type=="integer")return i}},{id:"number",model:wu,view:To,isType:function(i){if(i&&i.type=="number")return i}},{id:"base",model:pr,view:So,isType:function(i){return i.type="base",i}}]});const tp=h2;var Xo=function(){return Xo=Object.assign||function(i){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])}return i},Xo.apply(this,arguments)},v2=function(i,r){var t={};for(var e in i)Object.prototype.hasOwnProperty.call(i,e)&&r.indexOf(e)<0&&(t[e]=i[e]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,e=Object.getOwnPropertySymbols(i);n<e.length;n++)r.indexOf(e[n])<0&&Object.prototype.propertyIsEnumerable.call(i,e[n])&&(t[e[n]]=i[e[n]]);return t},di=function(i,r,t){if(t||arguments.length===2)for(var e=0,n=r.length,o;e<n;e++)(o||!(e in r))&&(o||(o=Array.prototype.slice.call(r,0,e)),o[e]=r[e]);return i.concat(o||Array.prototype.slice.call(r))},Dr=function(i){return i.map(function(r){return{id:r}})},g2=(function(){function i(){this.props={},this.typeNumber="number",this.typeColor="color",this.typeRadio="radio",this.typeSelect="select",this.typeFile="file",this.typeSlider="slider",this.typeComposite="composite",this.typeStack="stack",this.unitsSize=["px","%","em","rem","vh","vw"],this.unitsSizeNoPerc=["px","em","rem","vh","vw"],this.unitsTime=["s","ms"],this.unitsAngle=["deg","rad","grad"],this.fixedValues=["initial","inherit","auto"];var r=", sans-serif",t=["flex-start","flex-end","center"],e=di(di([],t,!0),["baseline","stretch"],!1);this.optsBgSize=Dr(["auto","cover","contain"]),this.optsBgAttach=Dr(["scroll","fixed","local"]),this.optsBgRepeat=Dr(["repeat","repeat-x","repeat-y","no-repeat"]),this.optsWrap=Dr(["nowrap","wrap","wrap-reverse"]),this.optsOverflow=Dr(["visible","hidden","scroll","auto"]),this.optsDir=Dr(["row","row-reverse","column","column-reverse"]),this.opstDisplay=Dr(["block","inline","inline-block","flex","none"]),this.optsTransitFn=Dr(["linear","ease","ease-in","ease-out","ease-in-out"]),this.optsCursor=Dr(["auto","pointer","copy","crosshair","grab","grabbing","help","move","text"]),this.optsFloat=Dr(["none","left","right"]),this.optsPos=Dr(["static","relative","absolute","fixed"]),this.optsTextAlign=Dr(["left","center","right","justify"]),this.optsFlexAlign=Dr(e),this.optsJustCont=Dr(di(di([],t,!0),["space-between","space-around","space-evenly"],!1)),this.optsAlignCont=Dr(di(di([],t,!0),["space-between","space-around","stretch"],!1)),this.optsAlignSelf=Dr(di(["auto"],e,!0)),this.optsTransitProp=Dr(["all","width","height","background-color","transform","box-shadow","opacity"]),this.optsBorderStyle=Dr(["none","solid","dotted","dashed","double","groove","ridge","inset","outset"]),this.optsBgPos=Dr(["left top","left center","left bottom","right top","right center","right bottom","center top","center center","center bottom"]),this.optsWeight=[{id:"100",label:"Thin"},{id:"200",label:"Extra-Light"},{id:"300",label:"Light"},{id:"400",label:"Normal"},{id:"500",label:"Medium"},{id:"600",label:"Semi-Bold"},{id:"700",label:"Bold"},{id:"800",label:"Extra-Bold"},{id:"900",label:"Ultra-Bold"}],this.optsShadowType=[{id:"",label:"Outside"},{id:"inset",label:"Inside"}],this.optsFonts=["Arial, Helvetica"+r,"Arial Black, Gadget"+r,"Brush Script MT"+r,"Comic Sans MS, cursive"+r,"Courier New, Courier, monospace","Georgia, serif","Helvetica"+r,"Impact, Charcoal"+r,"Lucida Sans Unicode, Lucida Grande"+r,"Tahoma, Geneva"+r,"Times New Roman, Times, serif","Trebuchet MS, Helvetica"+r,"Verdana, Geneva"+r].map(function(n){return{id:n,label:n.split(",")[0]}}),this.fixedFontSizes=["medium","xx-small","x-small","small","large","x-large","xx-large","smaller","larger","length","initial","inherit"],this.fixedLetSpace=["normal","initial","inherit"],this.requireFlex={display:["flex"]},this.init()}return i.prototype.__sub=function(r){var t=this;return function(){return r.map(function(e){if((0,X.isString)(e))return t.get(e);var n=e.extend,o=v2(e,["extend"]);return Xo(Xo({},t.get(n)),o)})}},i.prototype.init=function(){var r=this,t=this,e=t.fixedValues,n=t.requireFlex,o=t.typeNumber;this.props={};var l=[["text-shadow-h",{type:o,default:"0",units:this.unitsSizeNoPerc}],["top",{default:"auto",units:this.unitsSize,fixedValues:e},"text-shadow-h"],["right",{},"top"],["bottom",{},"top"],["left",{},"top"],["margin-top",{default:"0"},"top"],["margin-right",{},"margin-top"],["margin-bottom",{},"margin-top"],["margin-left",{},"margin-top"],["padding-top",{min:0},"margin-top"],["padding-right",{},"padding-top"],["padding-bottom",{},"padding-top"],["padding-left",{},"padding-top"],["width",{min:0},"top"],["min-width",{},"width"],["max-width",{},"width"],["height",{},"width"],["min-height",{},"width"],["max-height",{},"width"],["flex-basis",{requiresParent:n},"width"],["font-size",{default:"medium",fixedValues:this.fixedFontSizes},"width"],["letter-spacing",{default:"normal",fixedValues:this.fixedLetSpace},"top"],["line-height",{},"letter-spacing"],["text-shadow-v",{},"text-shadow-h"],["text-shadow-blur",{min:0},"text-shadow-h"],["border-radius-c",{property:"border-radius",fixedValues:void 0},"padding-top"],["border-top-left-radius",{},"border-radius-c"],["border-top-right-radius",{},"border-radius-c"],["border-bottom-left-radius",{},"border-radius-c"],["border-bottom-right-radius",{},"border-radius-c"],["border-width",{units:this.unitsSizeNoPerc},"border-radius-c"],["box-shadow-h",{},"text-shadow-h"],["box-shadow-v",{},"text-shadow-h"],["box-shadow-blur",{default:"5px"},"text-shadow-blur"],["box-shadow-spread",{},"text-shadow-h"],["transition-duration",{default:"2s",units:this.unitsTime},"border-radius-c"],["perspective",{},"border-radius-c"],["order",{type:o,default:"0",requiresParent:n}],["flex-grow",{},"order"],["flex-shrink",{default:"1"},"order"],["float",{type:this.typeRadio,default:"none",options:this.optsFloat}],["position",{default:"static",options:this.optsPos},"float"],["text-align",{default:"left",options:this.optsTextAlign},"float"],["color",{type:this.typeColor,default:"black",full:!0}],["text-shadow-color",{},"color"],["border-color",{},"color"],["box-shadow-color",{},"color"],["background-color",{default:"none"},"color"],["background-image",{type:this.typeFile,functionName:"url",default:"none",full:!0}],["opacity",{type:this.typeSlider,default:"1",min:0,max:1,step:.01,full:!0}],["display",{type:this.typeSelect,default:"block",options:this.opstDisplay}],["flex-direction",{default:"row",options:this.optsDir,requires:n},"display"],["flex-wrap",{default:"nowrap",options:this.optsWrap},"flex-direction"],["justify-content",{default:"flex-start",options:this.optsJustCont},"flex-wrap"],["align-items",{default:"stretch",options:this.optsFlexAlign},"flex-wrap"],["align-content",{options:this.optsAlignCont},"align-items"],["align-self",{default:"auto",options:this.optsAlignSelf,requiresParent:n},"display"],["font-family",{default:"Arial, Helvetica, sans-serif",options:this.optsFonts},"display"],["font-weight",{default:"400",options:this.optsWeight},"display"],["border-style",{default:"solid",options:this.optsBorderStyle},"display"],["box-shadow-type",{default:"",options:this.optsShadowType},"display"],["background-repeat",{default:"repeat",options:this.optsBgRepeat},"display"],["background-position",{default:"left top",options:this.optsBgPos},"display"],["background-attachment",{default:"scroll",options:this.optsBgAttach},"display"],["background-size",{default:"auto",options:this.optsBgSize},"display"],["transition-property",{default:"width",options:this.optsTransitProp},"display"],["transition-timing-function",{default:"ease",options:this.optsTransitFn},"display"],["cursor",{default:"auto",options:this.optsCursor},"display"],["overflow",{default:"visible",options:this.optsOverflow},"display"],["overflow-x",{},"overflow"],["overflow-y",{},"overflow"],["margin",{type:this.typeComposite,properties:this.__sub([{extend:"margin-top",id:"margin-top-sub"},{extend:"margin-right",id:"margin-right-sub"},{extend:"margin-bottom",id:"margin-bottom-sub"},{extend:"margin-left",id:"margin-left-sub"}])}],["padding",{properties:this.__sub([{extend:"padding-top",id:"padding-top-sub"},{extend:"padding-right",id:"padding-right-sub"},{extend:"padding-bottom",id:"padding-bottom-sub"},{extend:"padding-left",id:"padding-left-sub"}])},"margin"],["border",{properties:this.__sub([{extend:"border-width",id:"border-width-sub"},{extend:"border-style",id:"border-style-sub"},{extend:"border-color",id:"border-color-sub"}])},"margin"],["border-radius",{properties:this.__sub([{extend:"border-top-left-radius",id:"border-top-left-radius-sub"},{extend:"border-top-right-radius",id:"border-top-right-radius-sub"},{extend:"border-bottom-left-radius",id:"border-bottom-left-radius-sub"},{extend:"border-bottom-right-radius",id:"border-bottom-right-radius-sub"}])},"margin"],["transition",{type:this.typeStack,properties:this.__sub([{extend:"transition-property",id:"transition-property-sub"},{extend:"transition-duration",id:"transition-duration-sub"},{extend:"transition-timing-function",id:"transition-timing-function-sub"}])}],["box-shadow",{preview:!0,layerLabel:function(s,f){var u=f.values,p=u["box-shadow-h"],d=u["box-shadow-v"],h=u["box-shadow-blur"],v=u["box-shadow-spread"];return"".concat(p," ").concat(d," ").concat(h," ").concat(v)},properties:this.__sub(["box-shadow-h","box-shadow-v","box-shadow-blur","box-shadow-spread","box-shadow-color","box-shadow-type"])},"transition"],["text-shadow",{default:"none",layerLabel:function(s,f){var u=f.values,p=u["text-shadow-h"],d=u["text-shadow-v"],h=u["text-shadow-blur"];return"".concat(p," ").concat(d," ").concat(h)},properties:this.__sub(["text-shadow-h","text-shadow-v","text-shadow-blur","text-shadow-color"])},"box-shadow"],["background",{detached:!0,layerLabel:function(s,f){var u=f.values,p=u["background-repeat-sub"]||"",d=u["background-position-sub"]||"",h=u["background-attachment-sub"]||"",v=u["background-size-sub"]||"";return[p,d,h,v].join(" ")},properties:this.__sub([{extend:"background-image",id:"background-image-sub"},{extend:"background-repeat",id:"background-repeat-sub"},{extend:"background-position",id:"background-position-sub"},{extend:"background-attachment",id:"background-attachment-sub"},{extend:"background-size",id:"background-size-sub"}])},"box-shadow"],["transform",{type:"stack",layerSeparator:" ",fromStyle:function(s,f){var u=f.property,p=f.name,d=s[p]||"",h=u.getLayerSeparator();return d?d.split(h).map(function(v){var _=u.__parseFn(v),T=_.name,w=_.value;return{"transform-type":T,"transform-value":w}}):[]},toStyle:function(s,f){var u,p=f.name;return u={},u[p]="".concat(s["transform-type"],"(").concat(s["transform-value"],")"),u},properties:[{property:"transform-type",name:"Type",type:this.typeSelect,default:"rotateZ",full:!0,options:[{id:"scaleX",propValue:{units:[""],step:.01}},{id:"scaleY",propValue:{units:[""],step:.01}},{id:"scaleZ",propValue:{units:[""],step:.01}},{id:"rotateX",propValue:{units:this.unitsAngle,step:1}},{id:"rotateY",propValue:{units:this.unitsAngle,step:1}},{id:"rotateZ",propValue:{units:this.unitsAngle,step:1}},{id:"translateX",propValue:{units:this.unitsSize,step:1}},{id:"translateY",propValue:{units:this.unitsSize,step:1}}],onChange:function(s){var f=s.property,u=s.to;if(u.value){var p=f.getOption(),d=Xo({},p.propValue||{}),h=f.getParent().getProperty("transform-value"),v=h.getUnit();(!v||d?.units.indexOf(v)<0)&&(d.unit=d?.units[0]||""),h.up(d)}}},{property:"transform-value",type:this.typeNumber,default:"0",full:!0}]}]];return l.forEach(function(s){var f=s[0],u=s[1],p=s[2];r.add(f,u||{},{from:p})}),this},i.prototype.add=function(r,t,e){t===void 0&&(t={}),e===void 0&&(e={});var n=e.from||"",o=this.props[n||r]||{},l=Xo(Xo(Xo({},o),{property:r}),t);return l.properties&&(0,X.isFunction)(l.properties)&&(l.properties=l.properties()),this.props[r]=l,l},i.prototype.get=function(r){return this.props[r]},i.prototype.build=function(r){var t=this,e=[],n=(0,X.isString)(r)?[r]:r;return n.forEach(function(o){e.push(t.get(o)||{property:o})}),e},i})();const m2=g2;var y2=(function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}})(),xu=function(){return xu=Object.assign||function(i){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])}return i},xu.apply(this,arguments)},_2=function(i,r){var t={};for(var e in i)Object.prototype.hasOwnProperty.call(i,e)&&r.indexOf(e)<0&&(t[e]=i[e]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,e=Object.getOwnPropertySymbols(i);n<e.length;n++)r.indexOf(e[n])<0&&Object.prototype.propertyIsEnumerable.call(i,e[n])&&(t[e[n]]=i[e[n]]);return t},b2=function(i,r,t){if(t||arguments.length===2)for(var e=0,n=r.length,o;e<n;e++)(o||!(e in r))&&(o||(o=Array.prototype.slice.call(r,0,e)),o[e]=r[e]);return i.concat(o||Array.prototype.slice.call(r))},T2=(function(i){y2(r,i);function r(t,e){e===void 0&&(e={});var n=i.call(this,t)||this,o=e.em;n.em=o;var l=t||{},s=n.buildProperties(l.buildProps),f=n.get("name")||"",u=[];!n.get("id")&&n.set("id",f.replace(/ /g,"_").toLowerCase()),s?u=n.extendProperties(s):u=n.get("properties").map(function(d){return(0,X.isString)(d)?n.buildProperties(d)[0]:d}).filter(Boolean),u=u.map(function(d){return n.checkExtend(d)});var p=new tp(u,{em:o});return p.sector=n,n.set("properties",p),n}return r.prototype.defaults=function(){return{id:"",name:"",open:!0,visible:!0,extendBuilded:!0,properties:[]}},Object.defineProperty(r.prototype,"properties",{get:function(){return this.get("properties")},enumerable:!1,configurable:!0}),r.prototype.getId=function(){return this.get("id")},r.prototype.getName=function(){var t,e=this.getId();return((t=this.em)===null||t===void 0?void 0:t.t("styleManager.sectors.".concat(e)))||this.get("name")},r.prototype.setName=function(t){return this.set("name",t)},r.prototype.isOpen=function(){return!!this.get("open")},r.prototype.setOpen=function(t){return this.set("open",t)},r.prototype.isVisible=function(){return!!this.get("visible")},r.prototype.getProperties=function(t){t===void 0&&(t={});var e=this.properties,n=e.models?b2([],e.models,!0):e;return n.filter(function(o){var l=!0;if(t.withValue&&(l=o.hasValue({noParent:!0})),t.withParentValue){var s=o.hasValue({noParent:!0});l=!s&&o.hasValue()}return l})},r.prototype.getProperty=function(t){return this.getProperties().filter(function(e){return e.get("id")===t})[0]||void 0},r.prototype.addProperty=function(t,e){return this.properties.add(this.checkExtend(t),e)},r.prototype.extendProperties=function(t,e,n){n===void 0&&(n=!1);for(var o=t.length,l=e||this.get("properties"),s=this.get("extendBuilded"),f=[],u=0,p=l.length;u<p;u++){for(var d=l[u],h=0,v=0;v<o;v++){var _=t[v];if(d.property==_.property||d.id==_.property){var T=d.properties;T&&T.length&&(d.properties=this.extendProperties(_.properties||[],T,1)),t[v]=s?(0,X.extend)(_,d):d,f[v]=t[v],h=1;continue}}h||(t.push(d),f.push(d))}return n?f.filter(function(w){return w}):t},r.prototype.checkExtend=function(t){var e=((0,X.isString)(t)?{extend:t}:t)||{},n=e.extend,o=_2(e,["extend"]);return n?xu(xu({},this.buildProperties([n])[0]||{}),o):t},r.prototype.buildProperties=function(t){var e,n=t||[];if(!n.length)return[];var o=(e=this.em)===null||e===void 0?void 0:e.Styles.builtIn;return o?.build(n)},r})(ae.Kx);const yv=T2;var C2=(function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}})(),Ou=function(){return Ou=Object.assign||function(i){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])}return i},Ou.apply(this,arguments)},w2=(function(i){C2(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.initialize=function(t,e){e===void 0&&(e={});var n=e.module,o=e.em;this.em=o,this.module=n,this.listenTo(this,"reset",this.onReset)},r.prototype.model=function(t,e){e===void 0&&(e={});var n=e.collection.em;return new yv(t,Ou(Ou({},e),{em:n}))},r.prototype.onReset=function(t,e){e===void 0&&(e={});var n=e.previousModels||[];n.forEach(function(o){return o.get("properties").reset()})},r})(ae.pM);const S2=w2;var Au;(function(i){i.sectorAdd="style:sector:add",i.sectorRemove="style:sector:remove",i.sectorUpdate="style:sector:update",i.propertyAdd="style:property:add",i.propertyRemove="style:property:remove",i.propertyUpdate="style:property:update",i.target="style:target",i.layerSelect="style:layer:select",i.custom="style:custom",i.all="style"})(Au||(Au={}));var E2=(function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}})(),x2=function(i,r){return Object.defineProperty?Object.defineProperty(i,"raw",{value:r}):i.raw=r,i},O2=(function(i){E2(r,i);function r(t){var e=i.call(this,t)||this,n=t.config||{},o=e.model,l=n.em;return e.config=n,e.em=l,e.pfx=n.stylePrefix||"",e.listenTo(o,"destroy remove",e.remove),e.listenTo(o,"change:open",e.updateOpen),e.listenTo(o,"change:visible",e.updateVisibility),e}return r.prototype.template=function(t){var e,n=t.pfx,o=t.label,l=(e=this.em)===null||e===void 0?void 0:e.getConfig().icons,s=l?.caret||"",f="".concat(n,"sector-");return _n(jh||(jh=x2([`
      <div class="`,`title" data-sector-title>
        <div class="`,'caret">$',`</div>
        <div class="`,'label">',`</div>
      </div>
    `],[`
      <div class="`,`title" data-sector-title>
        <div class="`,'caret">$',`</div>
        <div class="`,'label">',`</div>
      </div>
    `])),f,f,s,f,o)},r.prototype.events=function(){return{"click [data-sector-title]":"toggle"}},r.prototype.updateOpen=function(){var t=this,e=t.$el,n=t.model,o=t.pfx,l=n.isOpen();e[l?"addClass":"removeClass"]("".concat(o,"open")),this.getPropertiesEl().style.display=l?"":"none"},r.prototype.updateVisibility=function(){this.el.style.display=this.model.isVisible()?"":"none"},r.prototype.getPropertiesEl=function(){var t=this,e=t.$el,n=t.pfx;return e.find(".".concat(n,"properties")).get(0)},r.prototype.toggle=function(){var t=this.model;t.setOpen(!t.get("open"))},r.prototype.renderProperties=function(){var t=this,e=t.model,n=t.config,o=e.get("properties");if(o){var l=new Jf({collection:o,config:n});this.$el.append(l.render().el)}},r.prototype.render=function(){var t=this,e=t.pfx,n=t.model,o=t.$el,l=n.getId(),s=n.getName();return o.html(this.template({pfx:e,label:s})),this.renderProperties(),o.attr("class","".concat(e,"sector ").concat(e,"sector__").concat(l," no-select")),this.updateOpen(),this},r})(ae.Ss);const A2=O2;var jh,P2=(function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}})(),k2=(function(i){P2(r,i);function r(t){t===void 0&&(t={});var e=i.call(this,t)||this,n=t.module,o=t.config,l=e.collection;return e.pfx=o?.stylePrefix||"",e.ppfx=o?.pStylePrefix||"",e.config=o,e.module=n,e.listenTo(l,"add",e.addTo),e.listenTo(l,"reset",e.render),e}return r.prototype.remove=function(){var t=this;return ae.Ss.prototype.remove.apply(this,arguments),["config","module","em"].forEach(function(e){return t[e]={}}),this},r.prototype.addTo=function(t,e,n){n===void 0&&(n={}),this.addToCollection(t,null,n)},r.prototype.addToCollection=function(t,e,n){n===void 0&&(n={});var o=this,l=o.config,s=o.el,f=e||s,u=new A2({model:t,config:l}).render().el;return(0,ue.Sc)(f,u,n.at),u},r.prototype.render=function(){var t=this,e=this,n=e.$el,o=e.pfx,l=e.ppfx;n.empty();var s=document.createDocumentFragment();return this.collection.each(function(f){return t.addToCollection(f,s)}),n.append(s),n.addClass("".concat(o,"sectors ").concat(l,"one-bg ").concat(l,"two-color")),this},r})(ae.Ss);const M2=k2;var N2=(function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}})(),$o=function(){return $o=Object.assign||function(i){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])}return i},$o.apply(this,arguments)},Hh=function(i,r,t){if(t||arguments.length===2)for(var e=0,n=r.length,o;e<n;e++)(o||!(e in r))&&(o||(o=Array.prototype.slice.call(r,0,e)),o[e]=r[e]);return i.concat(o||Array.prototype.slice.call(r))},Fh=function(i){return i||i===0},L2=(function(i){N2(r,i);function r(t){var e=i.call(this,t,"StyleManager",new S2([],{em:t}),Au,dS())||this;e.events=Au,e.Sector=yv,e.storageKey="",(0,X.bindAll)(e,"__clearStateTarget");var n=e.events,o=e.config,l=o.pStylePrefix;l&&(o.stylePrefix=l+o.stylePrefix),e.builtIn=new m2,e.properties=new tp([],{em:t,module:e}),e.sectors=e.all;var s=new ae.Kx({targets:[]});e.model=s;var f=Xe.I.update,u="component:toggled ".concat(f,":classes change:state change:device frame:resized selector:type");e.upAll=(0,X.debounce)(function(){return e.__upSel()},0),s.listenTo(t,u,e.upAll),s.listenTo(t,"component:toggled",e.__clearStateTarget);var p=(0,X.debounce)(function(){e.__upProps(),e.__trgCustom()},0);s.listenTo(t,"styleable:change undo redo",p);var d=(0,X.debounce)(function(){return e.__trgCustom()},0);return s.listenTo(t,"".concat(n.layerSelect," ").concat(n.target),d),s.on("change:lastTarget",function(){return t.trigger(n.target,e.getSelected())}),e}return r.prototype.__upSel=function(){this.select(this.em.getSelectedAll())},r.prototype.__trgCustom=function(t){t===void 0&&(t={}),this.__ctn=this.__ctn||t.container,this.em.trigger(this.events.custom,{container:this.__ctn})},r.prototype.__trgEv=function(t){for(var e,n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];(e=this.em).trigger.apply(e,Hh([t],n,!1))},r.prototype.__clearStateTarget=function(){var t=this,e=this.em,n=this.__getStateTarget();n&&e?.skip(function(){e.Css.remove(n),t.model.set({stateTarget:null})})},r.prototype.onLoad=function(){this.sectors.add(this.config.sectors,{silent:!0})},r.prototype.postRender=function(){this.__appendTo()},r.prototype.addSector=function(t,e,n){n===void 0&&(n={});var o=this.getSector(t);return o||(e.id=t,o=this.sectors.add(e,n)),o},r.prototype.getSector=function(t,e){e===void 0&&(e={});var n=this.sectors.where({id:t})[0];return!n&&e.warn&&this._logNoSector(t),n||null},r.prototype.getSectors=function(t){t===void 0&&(t={});var e=this.sectors,n=e&&e.models?t.array?Hh([],e.models,!0):e:[];return t.visible?n.filter(function(o){return o.isVisible()}):n},r.prototype.removeSector=function(t){return this.getSectors().remove(this.getSector(t,{warn:!0}))},r.prototype.addProperty=function(t,e,n){n===void 0&&(n={});var o=this.getSector(t,{warn:!0}),l;return o&&(l=o.addProperty(e,n)),l},r.prototype.getProperty=function(t,e){var n=this.getSector(t,{warn:!0}),o;return n&&(o=n.properties.filter(function(l){return l.get("property")===e||l.get("id")===e})[0]),o},r.prototype.getProperties=function(t){var e,n=this.getSector(t,{warn:!0});return n&&(e=n.properties),e},r.prototype.removeProperty=function(t,e){var n=this.getProperties(t);return n?n.remove(this.getProperty(t,e)):null},r.prototype.select=function(t,e){var n=this;e===void 0&&(e={});var o=this.em,l=(0,X.isArray)(t)?t:[t],s=e.stylable,f=o.Css,u=[];l.filter(Boolean).forEach(function(T){var w=T;if((0,X.isString)(T)){var C=f.getRule(T)||f.setRule(T);!(0,X.isUndefined)(s)&&C.set({stylable:s}),w=C}u.push(w)});var p=e.component||u.filter(function(T){return(0,qt.isComponent)(T)}).reverse()[0];u=u.map(function(T){return n.getModelToStyle(T)});var d=o.getState(),h=u.slice().reverse()[0],v=this.getParentRules(h,{state:d,component:p}),_=this.__getStateTarget();return o.skip(function(){var T;if(d&&(!((T=h?.getState)===null||T===void 0)&&T.call(h))){var w=h.getStyle();_?_.setStyle(w):_=f.getAll().add({selectors:"gjs-selected",style:w,shallow:!0,important:!0})}else _&&(f.remove(_),_=void 0)}),this.model.set({targets:u,lastTarget:h,lastTargetParents:v,stateTarget:_,component:p}),this.__upProps(e),u},r.prototype.getSelected=function(){return this.model.get("lastTarget")},r.prototype.getSelectedAll=function(){return this.model.get("targets")},r.prototype.getSelectedParents=function(){return this.model.get("lastTargetParents")||[]},r.prototype.__getStateTarget=function(){return this.model.get("stateTarget")},r.prototype.addStyleTargets=function(t,e){this.getSelectedAll().map(function(l){return l.addStyle(t,e)});var n=this.getSelected();n&&this.__emitCmpStyleUpdate(t);var o=this.__getStateTarget();n&&o?.setStyle(n.getStyle(),e)},r.prototype.getBuiltIn=function(t){return this.builtIn.get(t)},r.prototype.getBuiltInAll=function(){return this.builtIn.props},r.prototype.addBuiltIn=function(t,e){return this.builtIn.add(t,e)},r.prototype.getModelToStyle=function(t,e){e===void 0&&(e={});var n=this.em,o=e.skipAdd;if(n&&t?.toHTML){var l=n.getConfig(),s=n.UndoManager,f=n.Css,u=n.Selectors,p=u?u.getConfig():{},d=l.devicePreviewMode?"":n.get("state"),h=t.get("classes"),v=h.getStyleable(),_=v.length,T=!p.componentFirst||e.useClasses,w={noCount:1},C={state:d,addOpts:w};s.skip(function(){var A;if(_&&T){var S=n.getCurrentMedia();A=f.get(v,d,S),!A&&!o&&(A=f.add(v,d,S,{},w))}else if(l.avoidInlineStyle){var x=t.getId();A=f.getIdRule(x,C),!A&&!o&&(A=f.setIdRule(x,{},C)),t.is("wrapper")&&A.set("wrapper",1,w)}A&&(t=A)})}return t},r.prototype.getParentRules=function(t,e){var n=e===void 0?{}:e,o=n.state,l=n.component,s=this.em,f=[];if(s&&t){var u=l,p=s.Css,d=s.CodeManager.getGenerator("css"),h=t.toHTML?t:t.getComponent(),v={array:!0},_=[],T=[],w=[],C=[],A=[],S=function(k){return k.length?p.getRules().filter(function(P){var D=P.getSelectors().map(function(R){return R.getFullName()});return D.length===0?!1:D.every(function(R){return k.indexOf(R)>=0})}):[]},x=function(k){return k?p.getRules().filter(function(P){return P.selectorsToString()===k}):[]};if(h)_=p.getRules("#".concat(h.getId())),T=x(h.get("tagName")),C=u?S(u.getSelectors().getFullName(v)):[],A=C.concat(T).concat(_);else{_=u?p.getRules("#".concat(u.getId())):[],T=x(u?.get("tagName")||"");var N=u?.getSelectors().getFullName(v)||[],b=N.filter(function(k){return t.getSelectors().getFullName(v).findIndex(function(P){return P===k})===-1});w=S(b.concat(t.getSelectors().getFullName(v))),A=T.concat(_).concat(w)}var L=A.filter(function(k){return(0,X.isUndefined)(o)?1:k.get("state")===o}).sort(d.sortRules).reverse();f=L.slice(L.indexOf(t)+1)}return f},r.prototype.addType=function(t,e){this.properties.addType(t,e)},r.prototype.getType=function(t){return this.properties.getType(t)},r.prototype.getTypes=function(){return this.properties.getTypes()},r.prototype.createType=function(t,e){var n=e===void 0?{}:e,o=n.model,l=o===void 0?{}:o,s=n.view,f=s===void 0?{}:s,u=this.config,p=this.getType(t);if(p)return new p.view($o({model:new p.model(l),config:u},f))},r.prototype.render=function(){var t=this,e=t.config,n=t.em,o=t.SectView,l=o&&o.el;return this.SectView=new M2({el:l,em:n,config:e,module:this,collection:this.sectors}),this.SectView.render().el},r.prototype._logNoSector=function(t){var e=this.em;e&&e.logWarning("'".concat(t,"' sector not found"))},r.prototype.__emitCmpStyleUpdate=function(t,e){e===void 0&&(e={});var n=this.em;if(!t.__p){var o=this.getSelectedAll(),l=e.components||n.getSelectedAll(),s=Array.isArray(l)?l:[l],f=$o({},t);delete f.__p,s.forEach(function(u){return!o.includes(u)&&u.__onStyleChange(f)})}},r.prototype.__upProps=function(t){var e=this;t===void 0&&(t={});var n=this.getSelected();if(n){var o=this.sectors,l=this.model.get("component"),s=this.getSelectedParents(),f=n.getStyle(),u=s.map(function(p){return{target:p,style:p.getStyle()}});o.map(function(p){p.getProperties().map(function(d){e.__upProp(d,f,u,t)})}),o.forEach(function(p){var d=p.getProperties();d.forEach(function(v){var _=v.__checkVisibility({target:n,sector:p,component:l,sectors:o.models});v.set("visible",_)});var h=d.some(function(v){return v.isVisible()});p.set("visible",h)})}},r.prototype.__upProp=function(t,e,n,o){var l=this,s=t.getName(),f=e[s],u=Fh(f),p=t.getType()==="stack",d=t.getType()==="composite",h=$o($o({},o),{__up:!0}),v=!d&&!p,_=t,T=t,w=p?_.__getLayersFromStyle(e):[],C=d?T.__getPropsFromStyle(e):{},A=u?f:null,S=null;if(p&&w===null||d&&C===null){var x=p?"__getLayersFromStyle":"__getPropsFromStyle",N=n.filter(function(D){return _[x](D.style)!==null})[0];if(N){A=N.style[s],S=N.target;var b=_[x](N.style);p?w=b:C=b}}else if(!u){A=null;var N=n.filter(function(R){return Fh(R.style[s])})[0];N&&(A=N.style[s],S=N.target)}if(t.__setParentTarget(S),v&&t.__getFullValue()!==A&&t.upValue(A,h),p&&_.__setLayers(w||[],{isEmptyValue:_.isEmptyValueStyle(e)}),d){var L=T.getProperties();if(T.isDetached()){var k=T.__getPropsFromStyle(e,{byName:!0})||{},P=n.map(function(D){return $o($o({},D),{style:T.__getPropsFromStyle(D.style,{byName:!0})||{}})});L.map(function(D){return l.__upProp(D,k,P,o)})}else T.__setProperties(C||{},h),T.getProperties().map(function(D){return D.__setParentTarget(S)})}},r.prototype.destroy=function(){var t;[this.properties,this.sectors].forEach(function(e){e.reset(),e.stopListening()}),(t=this.SectView)===null||t===void 0||t.remove(),this.model.stopListening(),this.upAll.cancel()},r})(xo);const I2=L2;var D2=function(){return{autoloadProviders:!1}};const R2=D2;var Ff;(function(i){i.currentIndex="currentIndex",i.startIndex="startIndex",i.currentItem="currentItem",i.currentKey="currentKey",i.endIndex="endIndex",i.collectionId="collectionId",i.totalItems="totalItems",i.remainingItems="remainingItems"})(Ff||(Ff={}));var j2=(function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}})(),Pu=function(){return Pu=Object.assign||function(i){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])}return i},Pu.apply(this,arguments)},H2=(function(i){j2(r,i);function r(t,e){var n=i.call(this,t,e)||this;return n.em=e,n.model=function(o,l){return l===void 0&&(l={}),new m1(o,Pu(Pu({},l),{em:e}))},n}return r})(ae.pM);const F2=H2;var V2=(function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}})(),va=function(){return va=Object.assign||function(i){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])}return i},va.apply(this,arguments)},U2=function(i,r,t,e){function n(o){return o instanceof t?o:new t(function(l){l(o)})}return new(t||(t=Promise))(function(o,l){function s(p){try{u(e.next(p))}catch(d){l(d)}}function f(p){try{u(e.throw(p))}catch(d){l(d)}}function u(p){p.done?o(p.value):n(p.value).then(s,f)}u((e=e.apply(i,r||[])).next())})},B2=function(i,r){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},e,n,o,l;return l={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function s(u){return function(p){return f([u,p])}}function f(u){if(e)throw new TypeError("Generator is already executing.");for(;l&&(l=0,u[0]&&(t=0)),t;)try{if(e=1,n&&(o=u[0]&2?n.return:u[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,u[1])).done)return o;switch(n=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return t.label++,{value:u[1],done:!1};case 5:t.label++,n=u[1],u=[0];continue;case 7:u=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){t=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){t.label=u[1];break}if(u[0]===6&&t.label<o[1]){t.label=o[1],o=u;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(u);break}o[2]&&t.ops.pop(),t.trys.pop();continue}u=r.call(i,t)}catch(p){u=[6,p],n=0}finally{e=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},W2=function(i,r){var t={};for(var e in i)Object.prototype.hasOwnProperty.call(i,e)&&r.indexOf(e)<0&&(t[e]=i[e]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,e=Object.getOwnPropertySymbols(i);n<e.length;n++)r.indexOf(e[n])<0&&Object.prototype.propertyIsEnumerable.call(i,e[n])&&(t[e[n]]=i[e[n]]);return t},z2=function(i,r,t){if(t||arguments.length===2)for(var e=0,n=r.length,o;e<n;e++)(o||!(e in r))&&(o||(o=Array.prototype.slice.call(r,0,e)),o[e]=r[e]);return i.concat(o||Array.prototype.slice.call(r))},K2=(function(i){V2(r,i);function r(t){var e=i.call(this,t,"DataSources",new F2([],t),wo,R2())||this;return e.storageKey="dataSources",e.events=wo,e.dataComponentTypes=Sr,e.dataCollectionKeys=ys,e.dataCollectionStateTypes=Ff,e.dataOperationTypes={any:_s,boolean:_i,number:io,string:Fn},Object.assign(e,Uf.Events),e}return r.prototype.destroy=function(){},r.prototype.add=function(t,e){e===void 0&&(e={});var n=this.all;return t.id=t.id||this._createId(),n.add(t,e)},r.prototype.get=function(t){return this.all.get(t)},r.prototype.getAll=function(){return z2([],this.all.models,!0)},r.prototype.getValue=function(t,e,n){return(0,qt.get)(n?.context||this.getContext(),t,e)},r.prototype.setValue=function(t,e){var n=this.fromPath(t);n[0];var o=n[1],l=n[2];if(o&&(l||l==="")){var s=va({},o.attributes);if((0,qt.set)(s,l||"",e))return o.set(s),!0}return!1},r.prototype.getContext=function(){return this.all.reduce(function(t,e){return t[e.id]=e.records.reduce(function(n,o,l){var s=o,f=va({},s.attributes);return delete f.__p,n[s.id||l]=f,n},{}),t},{})},r.prototype.remove=function(t,e){return this.__remove(t,e)},r.prototype.fromPath=function(t){var e=[],n=(0,qt.stringToPath)(t||""),o=n[0],l=n[1],s=n.slice(2),f=this.get(o),u=f?.records.get(l);return f&&e.push(f),u&&(e.push(u),s.length&&e.push(s.join("."))),e},r.prototype.store=function(){var t,e=[];return this.all.forEach(function(n){var o=n.attributes,l=o.skipFromStorage;o.transformers;var s=o.records,f=o.schema,u=W2(o,["skipFromStorage","transformers","records","schema"]);l||e.push(va(va({},u),{id:u.id,schema:(0,X.isEmpty)(f)?void 0:f,records:u.provider?void 0:s}))}),t={},t[this.storageKey]=e,t},r.prototype.load=function(t){var e=this,n=this,o=n.config,l=n.all,s=n.events,f=n.em,u=this.loadProjectData(t);if(o.autoloadProviders){var p=l.filter(function(h){return h.hasProvider});if(p.length){var d=function(){return U2(e,void 0,void 0,function(){var h;return B2(this,function(v){switch(v.label){case 0:return f.trigger(s.providerLoadAllBefore),h=p.map(function(_){return _.loadProvider()}),[4,Promise.all(h)];case 1:return v.sent(),f.trigger(s.providerLoadAll),[2]}})})};d()}}return u},r.prototype.postLoad=function(){var t=this,e=t.em,n=t.all;e.listenTo(n,ae.e2,function(o,l,s){var f=s||l;e.changesUp(f,{dataSource:o,options:f})}),this.em.UndoManager.add(n)},r})(xo);const _v=K2;var G2=(function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}})(),Vr=function(){return Vr=Object.assign||function(i){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])}return i},Vr.apply(this,arguments)},Zc=function(i,r,t,e){function n(o){return o instanceof t?o:new t(function(l){l(o)})}return new(t||(t=Promise))(function(o,l){function s(p){try{u(e.next(p))}catch(d){l(d)}}function f(p){try{u(e.throw(p))}catch(d){l(d)}}function u(p){p.done?o(p.value):n(p.value).then(s,f)}u((e=e.apply(i,r||[])).next())})},Qc=function(i,r){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},e,n,o,l;return l={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function s(u){return function(p){return f([u,p])}}function f(u){if(e)throw new TypeError("Generator is already executing.");for(;l&&(l=0,u[0]&&(t=0)),t;)try{if(e=1,n&&(o=u[0]&2?n.return:u[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,u[1])).done)return o;switch(n=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return t.label++,{value:u[1],done:!1};case 5:t.label++,n=u[1],u=[0];continue;case 7:u=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){t=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){t.label=u[1];break}if(u[0]===6&&t.label<o[1]){t.label=o[1],o=u;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(u);break}o[2]&&t.ops.pop(),t.trys.pop();continue}u=r.call(i,t)}catch(p){u=[6,p],n=0}finally{e=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},q2=function(i,r){var t={};for(var e in i)Object.prototype.hasOwnProperty.call(i,e)&&r.indexOf(e)<0&&(t[e]=i[e]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,e=Object.getOwnPropertySymbols(i);n<e.length;n++)r.indexOf(e[n])<0&&Object.prototype.propertyIsEnumerable.call(i,e[n])&&(t[e[n]]=i[e[n]]);return t},Y2=function(i,r,t){if(t||arguments.length===2)for(var e=0,n=r.length,o;e<n;e++)(o||!(e in r))&&(o||(o=Array.prototype.slice.call(r,0,e)),o[e]=r[e]);return i.concat(o||Array.prototype.slice.call(r))};Kg().$=Rr.default;var X2=[AC,YT,KC,nS,J5,MT,I5,I2,k1,rw,Xw,xw,fS,Ob,$b,Y0,Bb,f5,_v],$2=[_v,_T,X9,UT,I9,k1];Gg({$:Rr.default});var Vh={debug:console.log,info:console.info,warning:console.warn,error:console.error},Z2=(function(i){G2(r,i);function r(t){t===void 0&&(t={});var e=i.call(this)||this;e.Model=ae.Kx,e.Collection=ae.pM,e.events=sn,e.__skip=!1,e.defaultRunning=!1,e.loadTriggered=!1,e.destroyed=!1,e._isStoring=!1,e._config=t;var n=e.config;e.set("Config",t),e.set("modules",[]),e.set("toLoad",[]),e.set("storables",[]),e.set("selected",new Xg),e.set("dmode",n.dragMode);var o=n.el,l=n.log,s=l===!0?(0,X.keys)(Vh):(0,X.isArray)(l)?l:[];return(0,X.bindAll)(e,"initBaseColorPicker"),o&&n.fromElement&&(n.components=o.innerHTML),e.attrsOrig=o?(0,X.toArray)(o.attributes).reduce(function(f,u){return f[u.nodeName]=u.nodeValue,f},{}):"",n.components&&!n.pageManager&&(n.pageManager={pages:[{component:n.components}]}),X2.forEach(function(f){return e.loadModule(f)}),$2.forEach(function(f){return e.loadStorableModule(f)}),e.on("change:componentHovered",e.componentHovered,e),e.on("change:changesCount",e.updateChanges,e),e.on("change:readyLoad change:readyCanvas",e._checkReady,e),s.forEach(function(f){return e.listenLog(f)}),[{from:"change:selectedComponent",to:"component:toggled"}].forEach(function(f){var u=f.from,p=f.to;e.listenTo(e,u,function(){for(var d=[],h=0;h<arguments.length;h++)d[h]=arguments[h];e.trigger.apply(e,Y2([p],d,!1)),e.logWarning("The event '".concat(u,"' is deprecated, replace it with '").concat(p,"'"))})}),e}return r.prototype.defaults=function(){return{editing:0,selected:0,clipboard:null,dmode:0,componentHovered:null,previousModel:null,changesCount:0,storables:[],modules:[],toLoad:[],opened:{},device:""}},Object.defineProperty(r.prototype,"storables",{get:function(){return this.get("storables")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"modules",{get:function(){return this.get("modules")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"toLoad",{get:function(){return this.get("toLoad")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"selected",{get:function(){return this.get("selected")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"shallow",{get:function(){return this.get("shallow")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"I18n",{get:function(){return this.get("I18n")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"Utils",{get:function(){return this.get("Utils")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"Commands",{get:function(){return this.get("Commands")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"Keymaps",{get:function(){return this.get("Keymaps")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"Modal",{get:function(){return this.get("Modal")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"Panels",{get:function(){return this.get("Panels")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"CodeManager",{get:function(){return this.get("CodeManager")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"UndoManager",{get:function(){return this.get("UndoManager")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"RichTextEditor",{get:function(){return this.get("RichTextEditor")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"Canvas",{get:function(){return this.get("Canvas")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"Editor",{get:function(){return this.get("Editor")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"Components",{get:function(){return this.get("DomComponents")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"Css",{get:function(){return this.get("CssComposer")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"Blocks",{get:function(){return this.get("BlockManager")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"Selectors",{get:function(){return this.get("SelectorManager")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"Storage",{get:function(){return this.get("StorageManager")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"Traits",{get:function(){return this.get("TraitManager")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"Parser",{get:function(){return this.get("Parser")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"Layers",{get:function(){return this.get("LayerManager")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"Assets",{get:function(){return this.get("AssetManager")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"Devices",{get:function(){return this.get("DeviceManager")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"Pages",{get:function(){return this.get("PageManager")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"Styles",{get:function(){return this.get("StyleManager")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"DataSources",{get:function(){return this.get("DataSources")},enumerable:!1,configurable:!0}),r.prototype._checkReady=function(){this.get("readyLoad")&&this.get("readyCanvas")&&!this.get("ready")&&this.set("ready",!0)},r.prototype.getContainer=function(){return this.config.el},r.prototype.listenLog=function(t){var e=this;this.listenTo(this,"log:".concat(t),function(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];if(e.config.log){var l=Vh[t];l?.apply(void 0,n)}})},Object.defineProperty(r.prototype,"config",{get:function(){return this._config},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"version",{get:function(){var t;return((t=this.config.grapesjs)===null||t===void 0?void 0:t.version)||""},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"isHeadless",{get:function(){return!!this.config.headless},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"isShallow",{get:function(){return!!this.get("isShallow")},enumerable:!1,configurable:!0}),r.prototype.initModules=function(){this.modules.forEach(function(t){return t.onInit()})},r.prototype.getConfig=function(t){var e=this.config;return(0,X.isUndefined)(t)?e:e[t]},r.prototype.loadOnStart=function(){var t=this,e=this.config,n=e.projectData,o=e.headless,l={initial:!0},s=this.Storage;this.toLoad.reverse().forEach(function(p){return p.onLoad()});var f=function(){t.modules.forEach(function(p){return p.postLoad&&p.postLoad(t)}),t.set("readyLoad",1)};o?(n&&this.loadData(n,l),f()):this._storageTimeout=setTimeout(function(){return Zc(t,void 0,void 0,function(){var p;return Qc(this,function(d){switch(d.label){case 0:return n?(this.loadData(n,l),[3,5]):[3,1];case 1:if(!s?.canAutoload())return[3,5];d.label=2;case 2:return d.trys.push([2,4,,5]),[4,this.load({},l)];case 3:return d.sent(),[3,5];case 4:return p=d.sent(),this.logError(p),[3,5];case 5:return f(),[2]}})})});var u=new r({noticeOnUnload:!1,storageManager:!1,undoManager:!1});u.set({isShallow:!0}),u.Pages.onLoad(),u.Canvas.postLoad(),this.set("shallow",u)},r.prototype.updateChanges=function(t,e,n){var o=this,l=this.Storage,s=this.getDirtyCount();n.isClear||(this.updateItr&&clearTimeout(this.updateItr),this.updateItr=setTimeout(function(){return o.trigger(sn.update)})),this.config.noticeOnUnload&&(window.onbeforeunload=s?function(){return!0}:null),l.isAutosave()&&s>=l.getStepsBeforeSave()&&this.store().catch(function(f){return o.logError(f)})},r.prototype.loadModule=function(t){var e=new t(this);return this.set(e.name,e),e.onLoad&&this.toLoad.push(e),this.modules.push(e),e},r.prototype.loadStorableModule=function(t){var e=this.loadModule(t);return this.storables.push(e),e},r.prototype.init=function(t,e){e===void 0&&(e={}),this.destroyed&&(this.initialize(e),this.destroyed=!1),this.set("Editor",t)},r.prototype.getEditor=function(){return this.get("Editor")},r.prototype.handleUpdates=function(t,e){var n=this;t===void 0&&(t={}),!(this.__skip||!this.loadTriggered||t.temporary||t.noCount||t.avoidStore||t.partial)&&(this.trigger(this.events.updateBefore,e),this.timedInterval&&clearTimeout(this.timedInterval),this.timedInterval=setTimeout(function(){var o=n.getDirtyCount()||0;t.unset;var l=q2(t,["unset"]);n.set("changesCount",o+1,l)},0))},r.prototype.changesUp=function(t,e){this.handleUpdates(t,e)},r.prototype.componentHovered=function(t,e,n){var o=this.previous("componentHovered");o&&this.trigger("component:unhovered",o,n),e&&this.trigger("component:hovered",e,n)},r.prototype.getSelected=function(){return this.selected.lastComponent()},r.prototype.getSelectedAll=function(){return this.selected.allComponents()},r.prototype.setSelected=function(t,e){var n=this;e===void 0&&(e={});var o=e.event,l=o&&(o.ctrlKey||o.metaKey),s=(o||{}).shiftKey,f=((0,X.isArray)(t)?t:[t]).map(function(h){var v,_;return((_=(v=h?.delegate)===null||v===void 0?void 0:v.select)===null||_===void 0?void 0:_.call(v,h))||h}).filter(Boolean),u=this.getSelectedAll(),p=this.getConfig().multipleSelection,d=(0,X.isArray)(t);(d||!t)&&this.removeSelected(u.filter(function(h){return!(0,X.contains)(f,h)})),f.forEach(function(h){if(h&&(n.trigger(Xe.I.selectBefore,h,e),!h.get("selectable")||e.abort))if(e.useValid){for(var v=h.parent();v&&!v.get("selectable");)v=v.parent();h=v}else return;if(l&&p)return n.toggleSelected(h);if(s&&p){if(n.isEditing())return;n.clearSelection(n.Canvas.getWindow());var _=h.collection,T=h.index(),w,C;if(n.getSelectedAll().forEach(function(A){var S=A.collection,x=A.index();S===_&&(x<T?w=(0,X.isUndefined)(w)?x:Math.max(w,x):x>T&&(C=(0,X.isUndefined)(C)?x:Math.min(C,x)))}),!(0,X.isUndefined)(w))for(;w!==T;)n.addSelected(_.at(w),e),w++;if(!(0,X.isUndefined)(C))for(;C!==T;)n.addSelected(_.at(C),e),C--;return n.addSelected(h,e)}!d&&n.removeSelected(u.filter(function(A){return A!==h})),n.addSelected(h,e)})},r.prototype.addSelected=function(t,e){var n=this;e===void 0&&(e={});var o=(0,X.isArray)(t)?t:[t];o.forEach(function(l){var s=n.selected;if(!(!l||!l.get("selectable")||l.parents().some(function(p){return s.hasComponent(p)}))){e.forceChange&&n.removeSelected(l,e);var f=s.allComponents().filter(function(p){return(0,X.contains)(p.parents(),l)});if(f.forEach(function(p){return n.removeSelected(p,e)}),s.addComponent(l,e),n.trigger(Xe.I.select,l,e),n.Canvas.addSpot({type:Vn.F.Select,component:l}),e.activate){var u=l.getView();u?.rendered?u.onActive(e.event):l.once(Xe.I.render,function(p){var d=p.view;return d.onActive(e.event)})}}})},r.prototype.removeSelected=function(t,e){var n=this;e===void 0&&(e={}),this.selected.removeComponent(t,e);var o=(0,X.isArray)(t)?t:[t];o.forEach(function(l){return n.Canvas.removeSpots({type:Vn.F.Select,component:l})})},r.prototype.toggleSelected=function(t,e){var n=this;e===void 0&&(e={});var o=(0,X.isArray)(t)?t:[t];o.forEach(function(l){n.selected.hasComponent(l)?n.removeSelected(l,e):n.addSelected(l,e)})},r.prototype.setHovered=function(t,e){var n=this;e===void 0&&(e={});var o=function(f,u){var p=n,d=p.config,h=p.Canvas,v=n.getHovered(),_=n.getSelectedAll(),T=Vn.F.Hover,w=Vn.F.Spacing;n.set("componentHovered",f||null,u),v&&(h.removeSpots({type:T,component:v}),h.removeSpots({type:w,component:v})),f&&(h.addSpot({type:T,component:f}),(!_.includes(f)||d.showOffsetsSelected)&&h.addSpot({type:w,component:f}))};if(!t)return o();var l="component:hover";if(e.forceChange&&o(),this.trigger("".concat(l,":before"),t,e),!t.get("hoverable"))if(e.useValid&&!e.abort){for(var s=t.parent();s&&!s.get("hoverable");)s=s.parent();t=s}else return;e.abort||(o(t,e),this.trigger(l,t,e))},r.prototype.getHovered=function(){return this.get("componentHovered")},r.prototype.setComponents=function(t,e){return e===void 0&&(e={}),this.Components.setComponents(t,e)},r.prototype.getComponents=function(){var t=this.Components,e=this.CodeManager;if(!(!t||!e)){var n=t.getComponents();return e.getCode(n,"json")}},r.prototype.setStyle=function(t,e){e===void 0&&(e={});var n=this.Css;return n.clear(e),n.getAll().add(t,e),this},r.prototype.addStyle=function(t,e){e===void 0&&(e={});var n=this.getStyle().add(t,e);return(0,X.isArray)(n)?n:[n]},r.prototype.getStyle=function(){return this.Css.getAll()},r.prototype.setState=function(t){return this.set("state",t),this},r.prototype.getState=function(){return this.get("state")||""},r.prototype.getHtml=function(t){t===void 0&&(t={});var e=this.config,n=e.optsHtml,o=e.jsInHtml?this.getJs(t):"",l=t.component||this.Components.getComponent(),s=l?this.CodeManager.getCode(l,"html",Vr(Vr({},n),t)):"";return s+=o?"<script>".concat(o,"<\/script>"):"",s},r.prototype.getCss=function(t){t===void 0&&(t={});var e=this.config,n=e.optsCss,o=t.avoidProtected,l=(0,X.isUndefined)(t.keepUnusedStyles)?e.keepUnusedStyles:t.keepUnusedStyles,s=this.Css,f=t.component||this.Components.getComponent(),u=o?"":e.protectedCss||"",p=f&&this.CodeManager.getCode(f,"css",Vr(Vr({cssc:s,keepUnusedStyles:l},n),t));return f?t.json?p:u+p:""},r.prototype.getJs=function(t){t===void 0&&(t={});var e=t.component||this.Components.getWrapper();return e?this.CodeManager.getCode(e,"js").trim():""},r.prototype.store=function(t){return Zc(this,void 0,void 0,function(){var e,n=this;return Qc(this,function(o){switch(o.label){case 0:return this._isStoring?[2]:(this._isStoring=!0,setTimeout(function(){n.clearDirtyCount()},1),e=this.storeData(),[4,this.Storage.store(e,t)]);case 1:return o.sent(),setTimeout(function(){n._isStoring=!1},1),[2,e]}})})},r.prototype.load=function(t){return Zc(this,arguments,void 0,function(e,n){var o;return n===void 0&&(n={}),Qc(this,function(l){switch(l.label){case 0:return[4,this.Storage.load(e)];case 1:return o=l.sent(),this.loadData(o,n),[4,(0,qt.wait)()];case 2:return l.sent(),n.clear&&(this.UndoManager.clear(),this.clearDirtyCount()),[2,o]}})})},r.prototype.storeData=function(){var t={},e=this.getEditing();e&&e.trigger("sync:content",{noCount:!0}),this.storables.forEach(function(o){t=Vr(Vr({},t),o.store(1))});var n=JSON.parse(JSON.stringify(t));return this.trigger(sn.projectGet,{project:n}),n},r.prototype.loadData=function(t,e){t===void 0&&(t={}),e===void 0&&(e={});var n={project:t,options:e,initial:!!e.initial},o=!1;return(0,qt.isEmptyObj)(t)||(this.storables.forEach(function(l){return l.clear()}),this.storables.forEach(function(l){return l.load(t)}),o=!0),this.trigger(sn.projectLoad,Vr(Vr({},n),{loaded:o})),o&&this.trigger(sn.projectLoaded,n),t},r.prototype.getDeviceModel=function(){var t=this.get("device");return this.Devices.get(t)},r.prototype.runDefault=function(t){t===void 0&&(t={});var e=this.Commands.get(this.config.defaultCommand);!e||this.defaultRunning||(e.stop(this,this,t),e.run(this,this,t),this.defaultRunning=!0)},r.prototype.stopDefault=function(t){t===void 0&&(t={});var e=this.Commands;if(e){var n=e.get(this.config.defaultCommand);!n||!this.defaultRunning||(n.stop(this,this,t),this.defaultRunning=!1)}},r.prototype.refreshCanvas=function(t){t===void 0&&(t={}),this.Canvas.refresh({spots:t.tools})},r.prototype.clearSelection=function(t){var e,n=t||window;(e=n.getSelection())===null||e===void 0||e.removeAllRanges()},r.prototype.getCurrentMedia=function(){var t=this.config,e=this.getDeviceModel(),n=t.mediaCondition,o=t.devicePreviewMode,l=e&&e.get("widthMedia");return e&&l&&!o?"(".concat(n,": ").concat(l,")"):""},r.prototype.getWrapper=function(){return this.Components.getWrapper()},r.prototype.setCurrentFrame=function(t){return this.set("currentFrame",t)},r.prototype.getCurrentFrame=function(){return this.get("currentFrame")},r.prototype.getCurrentFrameModel=function(){var t;return(t=this.getCurrentFrame()||{})===null||t===void 0?void 0:t.model},r.prototype.getIcon=function(t){var e=this.config.icons||{};return e[t]||""},r.prototype.getDirtyCount=function(){return this.get("changesCount")},r.prototype.clearDirtyCount=function(){return this.set({changesCount:0},{isClear:!0})},r.prototype.getZoomDecimal=function(){return this.Canvas.getZoomDecimal()},r.prototype.getZoomMultiplier=function(){return this.Canvas.getZoomMultiplier()},r.prototype.setDragMode=function(t){return this.set("dmode",t)},r.prototype.getDragMode=function(t){var e=t?.getDragMode()||this.get("dmode");return e||""},r.prototype.t=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this.get("I18n");return n?.t.apply(n,t)},r.prototype.inAbsoluteMode=function(t){return this.getDragMode(t)==="absolute"},r.prototype.destroyAll=function(){var t=this,e=this,n=e.config,o=e.view;this.trigger(sn.destroy);var l=this.getEditor(),s=(n.grapesjs||{}).editors,f=s===void 0?[]:s,u=this.get("shallow");this._storageTimeout&&clearTimeout(this._storageTimeout),u?.destroyAll(),this.stopListening(),this.stopDefault(),(this.modules||[]).slice().reverse().forEach(function(p){return p.destroy()}),o?.remove&&o.remove(),this.clear({silent:!0}),this.destroyed=!0,["_config","view","_previousAttributes","_events","_listeners"].forEach(function(p){return t[p]={}}),f.splice(f.indexOf(l),1),(0,qt.hasWin)()&&(0,Rr.default)(n.el).empty().attr(this.attrsOrig),this.trigger(sn.destroyed)},r.prototype.getEditing=function(){var t=this.get("editing");return t&&t.model||void 0},r.prototype.setEditing=function(t){return this.set("editing",t),this},r.prototype.isEditing=function(){return!!this.get("editing")},r.prototype.log=function(t,e){e===void 0&&(e={});var n=sn.log,o=e.ns,l=e.level,s=l===void 0?"debug":l;if(this.trigger(n,t,e),s&&this.trigger("".concat(n,":").concat(s),t,e),o){var f="".concat(n,"-").concat(o);this.trigger(f,t,e),s&&this.trigger("".concat(f,":").concat(s),t,e)}},r.prototype.logInfo=function(t,e){this.log(t,Vr(Vr({},e),{level:"info"}))},r.prototype.logWarning=function(t,e){this.log(t,Vr(Vr({},e),{level:"warning"}))},r.prototype.logError=function(t,e){this.log(t,Vr(Vr({},e),{level:"error"}))},r.prototype.initBaseColorPicker=function(t,e){e===void 0&&(e={});var n=this.config,o=n.colorPicker,l=o===void 0?{}:o,s=n.el,f=n.stylePrefix;return(0,Rr.default)(t).spectrum(Vr(Vr({containerClassName:"".concat(f,"one-bg ").concat(f,"two-color"),appendTo:s||"body",maxSelectionSize:8,showPalette:!0,palette:[],showAlpha:!0,chooseText:"Ok",cancelText:"⨯"},e),l))},r.prototype.skip=function(t){this.__skip=!0;var e=this.UndoManager;e?e.skip(t):t(),this.__skip=!1},r.prototype.data=function(t,e,n){var o="_gjs-data";if(t[o]||(t[o]={}),(0,X.isUndefined)(n))return t[o][e];t[o][e]=n},r})(ae.Kx);const Q2=Z2;function J2(){return window.location.hostname}var tE=(function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}})(),eE=function(i,r,t,e){function n(o){return o instanceof t?o:new t(function(l){l(o)})}return new(t||(t=Promise))(function(o,l){function s(p){try{u(e.next(p))}catch(d){l(d)}}function f(p){try{u(e.throw(p))}catch(d){l(d)}}function u(p){p.done?o(p.value):n(p.value).then(s,f)}u((e=e.apply(i,r||[])).next())})},rE=function(i,r){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},e,n,o,l;return l={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function s(u){return function(p){return f([u,p])}}function f(u){if(e)throw new TypeError("Generator is already executing.");for(;l&&(l=0,u[0]&&(t=0)),t;)try{if(e=1,n&&(o=u[0]&2?n.return:u[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,u[1])).done)return o;switch(n=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return t.label++,{value:u[1],done:!1};case 5:t.label++,n=u[1],u=[0];continue;case 7:u=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){t=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){t.label=u[1];break}if(u[0]===6&&t.label<o[1]){t.label=o[1],o=u;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(u);break}o[2]&&t.ops.pop(),t.trys.pop();continue}u=r.call(i,t)}catch(p){u=[6,p],n=0}finally{e=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},nE=(function(i){tE(r,i);function r(t){var e=i.call(this,{model:t})||this,n=t.Panels,o=t.UndoManager;return t.view=e,t.once("change:ready",function(){n.active(),n.disableButtons(),t.getConfig().telemetry&&e.sendTelemetryData().catch(function(){}),setTimeout(function(){t.trigger(sn.load,t.Editor),t.loadTriggered=!0,o.clear(),t.clearDirtyCount()})}),e}return r.prototype.render=function(){var t=this,e=this,n=e.$el,o=e.model,l=o.Panels,s=o.Canvas,f=o.config,u=o.modules,p=f.stylePrefix,d=["".concat(p,"editor")];!f.customUI&&d.push("".concat(p,"one-bg ").concat(p,"two-color"));var h=(0,Rr.default)(f.el||"body ".concat(f.container));f.cssIcons&&(0,qt.appendStyles)(f.cssIcons,{unique:!0,prepand:!0}),n.empty(),f.width&&h.css("width",f.width),f.height&&h.css("height",f.height),n.append(s.render()),n.append(l.render());var v=o.shallow,_=v.Canvas.render();return _.style.display="none",n.append(_),n.attr("class",d.join(" ")),h.addClass("".concat(p,"editor-cont")).empty().append(n),u.forEach(function(T){var w;return(w=T.postRender)===null||w===void 0?void 0:w.call(T,t)}),this},r.prototype.sendTelemetryData=function(){return eE(this,void 0,void 0,function(){var t,e,n,o,l,s,f,u;return rE(this,function(p){switch(p.label){case 0:return t=J2(),t==="localhost"||t.includes("localhost")?[2]:(e="gjs_telemetry_sent_",n=this.model.version,o="".concat(e).concat(n),sessionStorage.getItem(o)?[2]:(l="https://app.grapesjs.com",[4,fetch("".concat(l,"/api/gjs/telemetry/collect"),{method:"POST",body:JSON.stringify({domain:t,version:n})})]));case 1:return s=p.sent(),s.ok?[3,3]:(f=Error.bind,u="Failed to send telemetry data ".concat,[4,s.text()]);case 2:throw new(f.apply(Error,[void 0,u.apply("Failed to send telemetry data ",[p.sent()])]));case 3:return sessionStorage.setItem(o,"true"),Object.keys(sessionStorage).forEach(function(d){d.startsWith(e)&&d!==o&&sessionStorage.removeItem(d)}),this.trigger(sn.telemetryInit),[2]}})})},r})(ae.Ss);const oE=nE;var ms=function(){return ms=Object.assign||function(i){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])}return i},ms.apply(this,arguments)},Uh=function(i,r,t,e){function n(o){return o instanceof t?o:new t(function(l){l(o)})}return new(t||(t=Promise))(function(o,l){function s(p){try{u(e.next(p))}catch(d){l(d)}}function f(p){try{u(e.throw(p))}catch(d){l(d)}}function u(p){p.done?o(p.value):n(p.value).then(s,f)}u((e=e.apply(i,r||[])).next())})},Bh=function(i,r){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},e,n,o,l;return l={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function s(u){return function(p){return f([u,p])}}function f(u){if(e)throw new TypeError("Generator is already executing.");for(;l&&(l=0,u[0]&&(t=0)),t;)try{if(e=1,n&&(o=u[0]&2?n.return:u[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,u[1])).done)return o;switch(n=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return t.label++,{value:u[1],done:!1};case 5:t.label++,n=u[1],u=[0];continue;case 7:u=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){t=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){t.label=u[1];break}if(u[0]===6&&t.label<o[1]){t.label=o[1],o=u;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(u);break}o[2]&&t.ops.pop(),t.trys.pop();continue}u=r.call(i,t)}catch(p){u=[6,p],n=0}finally{e=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},iE=function(i,r,t){if(t||arguments.length===2)for(var e=0,n=r.length,o;e<n;e++)(o||!(e in r))&&(o||(o=Array.prototype.slice.call(r,0,e)),o[e]=r[e]);return i.concat(o||Array.prototype.slice.call(r))},aE=(function(){function i(r,t){r===void 0&&(r={}),t===void 0&&(t={});var e;this.events=sn,this.html=_n;var n=zg();this.config=ms(ms(ms({},n),r),{pStylePrefix:(e=r.stylePrefix)!==null&&e!==void 0?e:n.stylePrefix}),this.em=new Q2(this.config),this.$=t.$,this.em.init(this),this.editor=this.em}return Object.defineProperty(i.prototype,"Config",{get:function(){return this.em.config},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"I18n",{get:function(){return this.em.I18n},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"Utils",{get:function(){return this.em.Utils},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"Commands",{get:function(){return this.em.Commands},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"Keymaps",{get:function(){return this.em.Keymaps},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"Modal",{get:function(){return this.em.Modal},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"Panels",{get:function(){return this.em.Panels},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"Canvas",{get:function(){return this.em.Canvas},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"Parser",{get:function(){return this.em.Parser},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"CodeManager",{get:function(){return this.em.CodeManager},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"UndoManager",{get:function(){return this.em.UndoManager},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"RichTextEditor",{get:function(){return this.em.RichTextEditor},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"Pages",{get:function(){return this.em.Pages},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"Components",{get:function(){return this.em.Components},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"DomComponents",{get:function(){return this.em.Components},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"Layers",{get:function(){return this.em.Layers},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"LayerManager",{get:function(){return this.em.Layers},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"Css",{get:function(){return this.em.Css},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"CssComposer",{get:function(){return this.em.Css},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"Storage",{get:function(){return this.em.Storage},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"StorageManager",{get:function(){return this.em.Storage},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"Assets",{get:function(){return this.em.Assets},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"AssetManager",{get:function(){return this.em.Assets},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"Blocks",{get:function(){return this.em.Blocks},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"BlockManager",{get:function(){return this.em.Blocks},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"Traits",{get:function(){return this.em.Traits},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"TraitManager",{get:function(){return this.em.Traits},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"Selectors",{get:function(){return this.em.Selectors},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"SelectorManager",{get:function(){return this.em.Selectors},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"Styles",{get:function(){return this.em.Styles},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"StyleManager",{get:function(){return this.em.Styles},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"Devices",{get:function(){return this.em.Devices},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"DeviceManager",{get:function(){return this.em.Devices},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"DataSources",{get:function(){return this.em.DataSources},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"EditorModel",{get:function(){return this.em},enumerable:!1,configurable:!0}),i.prototype.getConfig=function(r){return this.em.getConfig(r)},i.prototype.getHtml=function(r){return this.em.getHtml(r)},i.prototype.getCss=function(r){return this.em.getCss(r)},i.prototype.getJs=function(r){return this.em.getJs(r)},i.prototype.getComponents=function(){return this.Components.getComponents()},i.prototype.getWrapper=function(){return this.Components.getWrapper()},i.prototype.setComponents=function(r,t){return t===void 0&&(t={}),this.em.setComponents(r,t),this},i.prototype.addComponents=function(r,t){return this.getWrapper().append(r,t)},i.prototype.getStyle=function(){return this.em.Css.getAll()},i.prototype.setStyle=function(r,t){return t===void 0&&(t={}),this.em.setStyle(r,t),this},i.prototype.addStyle=function(r,t){return t===void 0&&(t={}),this.em.addStyle(r,t)},i.prototype.getSelected=function(){return this.em.getSelected()},i.prototype.getSelectedAll=function(){return this.em.getSelectedAll()},i.prototype.getSelectedToStyle=function(){var r=this.em.getSelected();if(r)return this.StyleManager.getModelToStyle(r)},i.prototype.select=function(r,t){return this.em.setSelected(r,t),this},i.prototype.selectAdd=function(r){return this.em.addSelected(r),this},i.prototype.selectRemove=function(r){return this.em.removeSelected(r),this},i.prototype.selectToggle=function(r){return this.em.toggleSelected(r),this},i.prototype.getEditing=function(){return this.em.getEditing()},i.prototype.setDevice=function(r){return this.em.set("device",r),this},i.prototype.getDevice=function(){return this.em.get("device")},i.prototype.runCommand=function(r,t){return t===void 0&&(t={}),this.Commands.run(r,t)},i.prototype.stopCommand=function(r,t){return t===void 0&&(t={}),this.Commands.stop(r,t)},i.prototype.store=function(r){return Uh(this,void 0,void 0,function(){return Bh(this,function(t){switch(t.label){case 0:return[4,this.em.store(r)];case 1:return[2,t.sent()]}})})},i.prototype.load=function(r){return Uh(this,arguments,void 0,function(t,e){return e===void 0&&(e={}),Bh(this,function(n){switch(n.label){case 0:return[4,this.em.load(t,e)];case 1:return[2,n.sent()]}})})},i.prototype.getProjectData=function(){return this.em.storeData()},i.prototype.loadProjectData=function(r,t){return t===void 0&&(t={}),this.em.loadData(r,t)},i.prototype.storeData=function(){return this.em.storeData()},i.prototype.loadData=function(r){return this.em.loadData(r)},i.prototype.getContainer=function(){return this.config.el},i.prototype.getDirtyCount=function(){return this.em.getDirtyCount()},i.prototype.clearDirtyCount=function(){return this.em.clearDirtyCount()},i.prototype.refresh=function(r){this.em.refreshCanvas(r)},i.prototype.setCustomRte=function(r){this.RichTextEditor.customRte=r},i.prototype.setCustomParserCss=function(r){return this.Parser.getConfig().parserCss=r,this},i.prototype.setDragMode=function(r){return this.em.setDragMode(r),this},i.prototype.log=function(r,t){return t===void 0&&(t={}),this.em.log(r,t),this},i.prototype.t=function(){for(var r,t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return(r=this.em).t.apply(r,t)},i.prototype.on=function(r,t){return this.em.on(r,t),this},i.prototype.once=function(r,t){return this.em.once(r,t),this},i.prototype.off=function(r,t){return this.em.off(r,t),this},i.prototype.trigger=function(r){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];return this.em.trigger.apply(this.em,iE([r],t,!0)),this},i.prototype.destroy=function(){this.em&&(this.em.destroyAll(),this.editorView=void 0)},i.prototype.getEl=function(){var r;return(r=this.editorView)===null||r===void 0?void 0:r.el},i.prototype.getModel=function(){return this.em},i.prototype.render=function(){var r;return(r=this.editorView)===null||r===void 0||r.remove(),this.editorView=new oE(this.em),this.editorView.render().el},i.prototype.onReady=function(r){this.em.get("ready")?r(this):this.em.on("load",r)},i})();const sE=aE;var lE=function(i,r){var t=r.get(i);if(!t){var e=(0,qt.getGlobal)()[i];t=e?.default||e}return t},bv=function(i,r){return(0,X.isString)(i)?lE(i,r):i?.default||i},Tv=function(i,r){i.getModel().logWarning("Plugin ".concat(r," not found"),{context:"plugins",plugin:r})},uE=(function(){function i(){this.plugins={}}return i.prototype.add=function(r,t){var e=this.get(r);return e||(this.plugins[r]=t,t)},i.prototype.get=function(r){return this.plugins[r]},i.prototype.getAll=function(){return this.plugins},i})();const cE=uE,fE=(function(){var i=function(){for(var t,e=window.navigator.userAgent,n=[["edge",/Edge\/([0-9\._]+)/],["ie",/MSIE\s(7\.0)/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/]],o=0;o<n.length;o++){var l=n[o];if(t=l[1].exec(e),t)break}return!!t};if((0,qt.hasWin)()&&i()){var r=DOMImplementation.prototype.createHTMLDocument;DOMImplementation.prototype.createHTMLDocument=function(t){return t||(t=""),r.apply(document.implementation,[t])}}});var ku=function(){return ku=Object.assign||function(i){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])}return i},ku.apply(this,arguments)};fE();var Vf=new cE,Wh=[],Cv=function(i,r){var t=bv(i,Vf);return function(e){t?t(e,r||{}):Tv(e,i)}},wv={$:Rr.default,editors:Wh,plugins:Vf,usePlugin:Cv,version:"0.22.14",init:function(i){i===void 0&&(i={});var r=i.headless,t=i.container;if(!t&&!r)throw new Error("'container' is required");var e=ku(ku({autorender:!0,plugins:[],pluginsOpts:{}},i),{grapesjs:this,el:r?void 0:(0,X.isElement)(t)?t:document.querySelector(t)}),n=new sE(e,{$:Rr.default}),o=n.getModel();return o.initModules(),e.plugins.forEach(function(l){var s=bv(l,Vf),f=e.pluginsOpts[l]||{};s?s(n,f):Tv(n,l)}),o.loadOnStart(),e.autorender&&!r&&n.render(),Wh.push(n),n}};const pE=wv;var dE=Mu.Ay;Mu.I0;Mu.nu;var wl={exports:{}};var hE=wl.exports,zh;function vE(){return zh||(zh=1,(function(i,r){(function(t,e){i.exports=e()})(typeof globalThis<"u"?globalThis:typeof window<"u"?window:hE,(()=>(()=>{var t={1073:l=>{l.exports={trueFunc:function(){return!0},falseFunc:function(){return!1}}},9125:(l,s,f)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.groupSelectors=s.getDocumentRoot=void 0;var u=f(2515);s.getDocumentRoot=function(p){for(;p.parent;)p=p.parent;return p},s.groupSelectors=function(p){for(var d=[],h=[],v=0,_=p;v<_.length;v++){var T=_[v];T.some(u.isFilter)?d.push(T):h.push(T)}return[h,d]}},7248:function(l,s,f){var u=this&&this.__assign||function(){return u=Object.assign||function(rt){for(var q,st=1,vt=arguments.length;st<vt;st++)for(var St in q=arguments[st])Object.prototype.hasOwnProperty.call(q,St)&&(rt[St]=q[St]);return rt},u.apply(this,arguments)},p=this&&this.__createBinding||(Object.create?function(rt,q,st,vt){vt===void 0&&(vt=st);var St=Object.getOwnPropertyDescriptor(q,st);St&&!("get"in St?!q.__esModule:St.writable||St.configurable)||(St={enumerable:!0,get:function(){return q[st]}}),Object.defineProperty(rt,vt,St)}:function(rt,q,st,vt){vt===void 0&&(vt=st),rt[vt]=q[st]}),d=this&&this.__setModuleDefault||(Object.create?function(rt,q){Object.defineProperty(rt,"default",{enumerable:!0,value:q})}:function(rt,q){rt.default=q}),h=this&&this.__importStar||function(rt){if(rt&&rt.__esModule)return rt;var q={};if(rt!=null)for(var st in rt)st!=="default"&&Object.prototype.hasOwnProperty.call(rt,st)&&p(q,rt,st);return d(q,rt),q},v=this&&this.__spreadArray||function(rt,q,st){if(st||arguments.length===2)for(var vt,St=0,pt=q.length;St<pt;St++)!vt&&St in q||(vt||(vt=Array.prototype.slice.call(q,0,St)),vt[St]=q[St]);return rt.concat(vt||Array.prototype.slice.call(q))};Object.defineProperty(s,"__esModule",{value:!0}),s.select=s.filter=s.some=s.is=s.aliases=s.pseudos=s.filters=void 0;var _=f(7763),T=f(5366),w=h(f(9432)),C=f(9125),A=f(2515),S=f(5366);Object.defineProperty(s,"filters",{enumerable:!0,get:function(){return S.filters}}),Object.defineProperty(s,"pseudos",{enumerable:!0,get:function(){return S.pseudos}}),Object.defineProperty(s,"aliases",{enumerable:!0,get:function(){return S.aliases}});var x={type:_.SelectorType.Pseudo,name:"scope",data:null},N=u({},x),b={type:_.SelectorType.Universal,namespace:null};function L(rt,q,st){if(st===void 0&&(st={}),typeof q=="function")return rt.some(q);var vt=(0,C.groupSelectors)((0,_.parse)(q)),St=vt[0],pt=vt[1];return St.length>0&&rt.some((0,T._compileToken)(St,st))||pt.some((function(bt){return P(bt,rt,st).length>0}))}function k(rt,q,st){if(q.length===0)return[];var vt,St=(0,C.groupSelectors)(rt),pt=St[0],bt=St[1];if(pt.length){var at=j(q,pt,st);if(bt.length===0)return at;at.length&&(vt=new Set(at))}for(var lt=0;lt<bt.length&&vt?.size!==q.length;lt++){var Et=bt[lt];if((vt?q.filter((function(yt){return w.isTag(yt)&&!vt.has(yt)})):q).length===0)break;if((at=P(Et,q,st)).length)if(vt)at.forEach((function(yt){return vt.add(yt)}));else{if(lt===bt.length-1)return at;vt=new Set(at)}}return vt!==void 0?vt.size===q.length?q:q.filter((function(yt){return vt.has(yt)})):[]}function P(rt,q,st){var vt;return rt.some(_.isTraversal)?z((vt=st.root)!==null&&vt!==void 0?vt:(0,C.getDocumentRoot)(q[0]),v(v([],rt,!0),[N],!1),st,!0,q):z(q,rt,st,!1)}s.is=function(rt,q,st){return st===void 0&&(st={}),L([rt],q,st)},s.some=L,s.filter=function(rt,q,st){return st===void 0&&(st={}),k((0,_.parse)(rt),q,st)},s.select=function(rt,q,st){if(st===void 0&&(st={}),typeof rt=="function")return $(q,rt);var vt=(0,C.groupSelectors)((0,_.parse)(rt)),St=vt[0],pt=vt[1].map((function(bt){return z(q,bt,st,!0)}));return St.length&&pt.push(H(q,St,st,1/0)),pt.length===0?[]:pt.length===1?pt[0]:w.uniqueSort(pt.reduce((function(bt,at){return v(v([],bt,!0),at,!0)})))};var D=new Set([_.SelectorType.Descendant,_.SelectorType.Adjacent]);function R(rt){return rt!==x&&rt.type==="pseudo"&&(rt.name==="scope"||Array.isArray(rt.data)&&rt.data.some((function(q){return q.some(R)})))}function M(rt,q,st){return st&&rt.some(R)?u(u({},q),{context:st}):q}function z(rt,q,st,vt,St){var pt=q.findIndex(A.isFilter),bt=q.slice(0,pt),at=q[pt],lt=(0,A.getLimit)(at.name,at.data);if(lt===0)return[];var Et=M(bt,st,St),yt=(bt.length!==0||Array.isArray(rt)?bt.length===0||bt.length===1&&bt[0]===x?(Array.isArray(rt)?rt:[rt]).filter(w.isTag):vt||bt.some(_.isTraversal)?H(rt,[bt],Et,lt):j(rt,[bt],Et):w.getChildren(rt).filter(w.isTag)).slice(0,lt),Ot=(function(xt,ot,Vt,mt){var Ft=typeof Vt=="string"?parseInt(Vt,10):NaN;switch(xt){case"first":case"lt":return ot;case"last":return ot.length>0?[ot[ot.length-1]]:ot;case"nth":case"eq":return isFinite(Ft)&&Math.abs(Ft)<ot.length?[Ft<0?ot[ot.length+Ft]:ot[Ft]]:[];case"gt":return isFinite(Ft)?ot.slice(Ft+1):[];case"even":return ot.filter((function(W,Z){return Z%2==0}));case"odd":return ot.filter((function(W,Z){return Z%2==1}));case"not":var Kt=new Set(k(Vt,ot,mt));return ot.filter((function(W){return!Kt.has(W)}))}})(at.name,yt,at.data,st);if(Ot.length===0||q.length===pt+1)return Ot;var zt=q.slice(pt+1),Bt=zt.some(_.isTraversal),Ut=M(zt,st,St);return Bt&&(D.has(zt[0].type)&&zt.unshift(b),zt.unshift(x)),zt.some(A.isFilter)?z(Ot,zt,st,!1,St):Bt?H(Ot,[zt],Ut,1/0):j(Ot,[zt],Ut)}function H(rt,q,st,vt){return vt===0?[]:$(rt,(0,T._compileToken)(q,st,rt),vt)}function $(rt,q,st){st===void 0&&(st=1/0);var vt=(0,T.prepareContext)(rt,w,q.shouldTestNextSiblings);return w.find((function(St){return w.isTag(St)&&q(St)}),vt,!0,st)}function j(rt,q,st){var vt=(Array.isArray(rt)?rt:[rt]).filter(w.isTag);if(vt.length===0)return vt;var St=(0,T._compileToken)(q,st);return vt.filter(St)}},2515:(l,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.getLimit=s.isFilter=s.filterNames=void 0,s.filterNames=new Set(["first","last","eq","gt","nth","lt","even","odd"]),s.isFilter=function f(u){return u.type==="pseudo"&&(!!s.filterNames.has(u.name)||!(u.name!=="not"||!Array.isArray(u.data))&&u.data.some((function(p){return p.some(f)})))},s.getLimit=function(f,u){var p=u!=null?parseInt(u,10):NaN;switch(f){case"first":return 1;case"nth":case"eq":return isFinite(p)?p>=0?p+1:1/0:0;case"lt":return isFinite(p)?p>=0?p:1/0:0;case"gt":return isFinite(p)?1/0:0;default:return 1/0}}},6451:(l,s,f)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.toggleClass=s.removeClass=s.addClass=s.hasClass=s.removeAttr=s.val=s.data=s.prop=s.attr=void 0;var u=f(6634),p=f(5633),d=Object.prototype.hasOwnProperty,h=/\s+/,v="data-",_={null:null,true:!0,false:!1},T=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,w=/^{[^]*}$|^\[[^]*]$/;function C(P,D,R){var M;if(P&&p.isTag(P))return(M=P.attribs)!==null&&M!==void 0||(P.attribs={}),D?d.call(P.attribs,D)?!R&&T.test(D)?D:P.attribs[D]:P.name==="option"&&D==="value"?u.text(P.children):P.name!=="input"||P.attribs.type!=="radio"&&P.attribs.type!=="checkbox"||D!=="value"?void 0:"on":P.attribs}function A(P,D,R){R===null?L(P,D):P.attribs[D]=""+R}function S(P,D,R){if(P&&p.isTag(P))return D in P?P[D]:!R&&T.test(D)?C(P,D,!1)!==void 0:C(P,D,R)}function x(P,D,R,M){D in P?P[D]=R:A(P,D,!M&&T.test(D)?R?"":null:""+R)}function N(P,D,R){var M,z=P;(M=z.data)!==null&&M!==void 0||(z.data={}),typeof D=="object"?Object.assign(z.data,D):typeof D=="string"&&R!==void 0&&(z.data[D]=R)}function b(P,D){var R,M,z;D==null?M=(R=Object.keys(P.attribs).filter((function(rt){return rt.startsWith(v)}))).map((function(rt){return p.camelCase(rt.slice(v.length))})):(R=[v+p.cssCase(D)],M=[D]);for(var H=0;H<R.length;++H){var $=R[H],j=M[H];if(d.call(P.attribs,$)&&!d.call(P.data,j)){if(z=P.attribs[$],d.call(_,z))z=_[z];else if(z===String(Number(z)))z=Number(z);else if(w.test(z))try{z=JSON.parse(z)}catch{}P.data[j]=z}}return D==null?P.data:z}function L(P,D){P.attribs&&d.call(P.attribs,D)&&delete P.attribs[D]}function k(P){return P?P.trim().split(h):[]}s.attr=function(P,D){if(typeof P=="object"||D!==void 0){if(typeof D=="function"){if(typeof P!="string")throw new Error("Bad combination of arguments.");return p.domEach(this,(function(R,M){p.isTag(R)&&A(R,P,D.call(R,M,R.attribs[P]))}))}return p.domEach(this,(function(R){p.isTag(R)&&(typeof P=="object"?Object.keys(P).forEach((function(M){var z=P[M];A(R,M,z)})):A(R,P,D))}))}return arguments.length>1?this:C(this[0],P,this.options.xmlMode)},s.prop=function(P,D){var R=this;if(typeof P=="string"&&D===void 0)switch(P){case"style":var M=this.css(),z=Object.keys(M);return z.forEach((function($,j){M[j]=$})),M.length=z.length,M;case"tagName":case"nodeName":var H=this[0];return p.isTag(H)?H.name.toUpperCase():void 0;case"outerHTML":return this.clone().wrap("<container />").parent().html();case"innerHTML":return this.html();default:return S(this[0],P,this.options.xmlMode)}if(typeof P=="object"||D!==void 0){if(typeof D=="function"){if(typeof P=="object")throw new Error("Bad combination of arguments.");return p.domEach(this,(function($,j){p.isTag($)&&x($,P,D.call($,j,S($,P,R.options.xmlMode)),R.options.xmlMode)}))}return p.domEach(this,(function($){p.isTag($)&&(typeof P=="object"?Object.keys(P).forEach((function(j){var rt=P[j];x($,j,rt,R.options.xmlMode)})):x($,P,D,R.options.xmlMode))}))}},s.data=function(P,D){var R,M=this[0];if(M&&p.isTag(M)){var z=M;return(R=z.data)!==null&&R!==void 0||(z.data={}),P?typeof P=="object"||D!==void 0?(p.domEach(this,(function(H){p.isTag(H)&&(typeof P=="object"?N(H,P):N(H,P,D))})),this):d.call(z.data,P)?z.data[P]:b(z,P):b(z)}},s.val=function(P){var D=arguments.length===0,R=this[0];if(!R||!p.isTag(R))return D?void 0:this;switch(R.name){case"textarea":return this.text(P);case"select":var M=this.find("option:selected");if(!D){if(this.attr("multiple")==null&&typeof P=="object")return this;this.find("option").removeAttr("selected");for(var z=typeof P!="object"?[P]:P,H=0;H<z.length;H++)this.find('option[value="'+z[H]+'"]').attr("selected","");return this}return this.attr("multiple")?M.toArray().map((function($){return u.text($.children)})):M.attr("value");case"input":case"option":return D?this.attr("value"):this.attr("value",P)}},s.removeAttr=function(P){for(var D=k(P),R=function(H){p.domEach(M,(function($){p.isTag($)&&L($,D[H])}))},M=this,z=0;z<D.length;z++)R(z);return this},s.hasClass=function(P){return this.toArray().some((function(D){var R=p.isTag(D)&&D.attribs.class,M=-1;if(R&&P.length)for(;(M=R.indexOf(P,M+1))>-1;){var z=M+P.length;if((M===0||h.test(R[M-1]))&&(z===R.length||h.test(R[z])))return!0}return!1}))},s.addClass=function P(D){if(typeof D=="function")return p.domEach(this,(function(st,vt){if(p.isTag(st)){var St=st.attribs.class||"";P.call([st],D.call(st,vt,St))}}));if(!D||typeof D!="string")return this;for(var R=D.split(h),M=this.length,z=0;z<M;z++){var H=this[z];if(p.isTag(H)){var $=C(H,"class",!1);if($){for(var j=" "+$+" ",rt=0;rt<R.length;rt++){var q=R[rt]+" ";j.includes(" "+q)||(j+=q)}A(H,"class",j.trim())}else A(H,"class",R.join(" ").trim())}}return this},s.removeClass=function P(D){if(typeof D=="function")return p.domEach(this,(function(H,$){p.isTag(H)&&P.call([H],D.call(H,$,H.attribs.class||""))}));var R=k(D),M=R.length,z=arguments.length===0;return p.domEach(this,(function(H){if(p.isTag(H))if(z)H.attribs.class="";else{for(var $=k(H.attribs.class),j=!1,rt=0;rt<M;rt++){var q=$.indexOf(R[rt]);q>=0&&($.splice(q,1),j=!0,rt--)}j&&(H.attribs.class=$.join(" "))}}))},s.toggleClass=function P(D,R){if(typeof D=="function")return p.domEach(this,(function(St,pt){p.isTag(St)&&P.call([St],D.call(St,pt,St.attribs.class||"",R),R)}));if(!D||typeof D!="string")return this;for(var M=D.split(h),z=M.length,H=typeof R=="boolean"?R?1:-1:0,$=this.length,j=0;j<$;j++){var rt=this[j];if(p.isTag(rt)){for(var q=k(rt.attribs.class),st=0;st<z;st++){var vt=q.indexOf(M[st]);H>=0&&vt<0?q.push(M[st]):H<=0&&vt>=0&&q.splice(vt,1)}rt.attribs.class=q.join(" ")}}return this}},9806:(l,s,f)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.css=void 0;var u=f(5633);function p(h,v,_,T){if(typeof v=="string"){var w=d(h),C=typeof _=="function"?_.call(h,T,w[v]):_;C===""?delete w[v]:C!=null&&(w[v]=C),h.attribs.style=(A=w,Object.keys(A).reduce((function(S,x){return S+(S?" ":"")+x+": "+A[x]+";"}),""))}else typeof v=="object"&&Object.keys(v).forEach((function(S,x){p(h,S,v[S],x)}));var A}function d(h,v){if(h&&u.isTag(h)){var _=(function(w){return w=(w||"").trim(),w?w.split(";").reduce((function(C,A){var S=A.indexOf(":");return S<1||S===A.length-1||(C[A.slice(0,S).trim()]=A.slice(S+1).trim()),C}),{}):{}})(h.attribs.style);if(typeof v=="string")return _[v];if(Array.isArray(v)){var T={};return v.forEach((function(w){_[w]!=null&&(T[w]=_[w])})),T}return _}}s.css=function(h,v){return h!=null&&v!=null||typeof h=="object"&&!Array.isArray(h)?u.domEach(this,(function(_,T){u.isTag(_)&&p(_,h,v,T)})):d(this[0],h)}},3432:(l,s,f)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.serializeArray=s.serialize=void 0;var u=f(5633),p="input,select,textarea,keygen",d=/%20/g,h=/\r?\n/g;s.serialize=function(){return this.serializeArray().map((function(v){return encodeURIComponent(v.name)+"="+encodeURIComponent(v.value)})).join("&").replace(d,"+")},s.serializeArray=function(){var v=this;return this.map((function(_,T){var w=v._make(T);return u.isTag(T)&&T.name==="form"?w.find(p).toArray():w.filter(p).toArray()})).filter('[name!=""]:enabled:not(:submit, :button, :image, :reset, :file):matches([checked], :not(:checkbox, :radio))').map((function(_,T){var w,C=v._make(T),A=C.attr("name"),S=(w=C.val())!==null&&w!==void 0?w:"";return Array.isArray(S)?S.map((function(x){return{name:A,value:x.replace(h,`\r
`)}})):{name:A,value:S.replace(h,`\r
`)}})).toArray()}},848:(l,s,f)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.clone=s.text=s.toString=s.html=s.empty=s.replaceWith=s.remove=s.insertBefore=s.before=s.insertAfter=s.after=s.wrapAll=s.unwrap=s.wrapInner=s.wrap=s.prepend=s.append=s.prependTo=s.appendTo=s._makeDomArray=void 0;var u=f(655),p=f(7915),d=f(7915),h=u.__importStar(f(5012)),v=f(6634),_=f(5633),T=f(3719);function w(S){return function(){for(var x=this,N=[],b=0;b<arguments.length;b++)N[b]=arguments[b];var L=this.length-1;return _.domEach(this,(function(k,P){if(p.hasChildren(k)){var D=typeof N[0]=="function"?N[0].call(k,P,v.html(k.children)):N,R=x._makeDomArray(D,P<L);S(R,k.children,k)}}))}}function C(S,x,N,b,L){for(var k,P,D=u.__spreadArray([x,N],b),R=S[x-1]||null,M=S[x+N]||null,z=0;z<b.length;++z){var H=b[z],$=H.parent;if($){var j=$.children.indexOf(b[z]);j>-1&&($.children.splice(j,1),L===$&&x>j&&D[0]--)}H.parent=L,H.prev&&(H.prev.next=(k=H.next)!==null&&k!==void 0?k:null),H.next&&(H.next.prev=(P=H.prev)!==null&&P!==void 0?P:null),H.prev=b[z-1]||R,H.next=b[z+1]||M}return R&&(R.next=b[0]),M&&(M.prev=b[b.length-1]),S.splice.apply(S,D)}function A(S){return function(x){for(var N=this.length-1,b=this.parents().last(),L=0;L<this.length;L++){var k=this[L],P=typeof x=="function"?x.call(k,L,k):typeof x!="string"||_.isHtml(x)?x:b.find(x).clone(),D=this._makeDomArray(P,L<N)[0];if(D&&T.DomUtils.hasChildren(D)){for(var R=D,M=0;M<R.children.length;){var z=R.children[M];_.isTag(z)?(R=z,M=0):M++}S(k,R,[D])}}return this}}s._makeDomArray=function(S,x){var N=this;return S==null?[]:_.isCheerio(S)?x?_.cloneDom(S.get()):S.get():Array.isArray(S)?S.reduce((function(b,L){return b.concat(N._makeDomArray(L,x))}),[]):typeof S=="string"?h.default(S,this.options,!1).children:x?_.cloneDom([S]):[S]},s.appendTo=function(S){return(_.isCheerio(S)?S:this._make(S)).append(this),this},s.prependTo=function(S){return(_.isCheerio(S)?S:this._make(S)).prepend(this),this},s.append=w((function(S,x,N){C(x,x.length,0,S,N)})),s.prepend=w((function(S,x,N){C(x,0,0,S,N)})),s.wrap=A((function(S,x,N){var b=S.parent;if(b){var L=b.children,k=L.indexOf(S);h.update([S],x),C(L,k,0,N,b)}})),s.wrapInner=A((function(S,x,N){p.hasChildren(S)&&(h.update(S.children,x),h.update(N,S))})),s.unwrap=function(S){var x=this;return this.parent(S).not("body").each((function(N,b){x._make(b).replaceWith(b.children)})),this},s.wrapAll=function(S){var x=this[0];if(x){for(var N=this._make(typeof S=="function"?S.call(x,0,x):S).insertBefore(x),b=void 0,L=0;L<N.length;L++)N[L].type==="tag"&&(b=N[L]);for(var k=0;b&&k<b.children.length;){var P=b.children[k];P.type==="tag"?(b=P,k=0):k++}b&&this._make(b).append(this)}return this},s.after=function(){for(var S=this,x=[],N=0;N<arguments.length;N++)x[N]=arguments[N];var b=this.length-1;return _.domEach(this,(function(L,k){var P=L.parent;if(T.DomUtils.hasChildren(L)&&P){var D=P.children,R=D.indexOf(L);if(!(R<0)){var M=typeof x[0]=="function"?x[0].call(L,k,v.html(L.children)):x;C(D,R+1,0,S._makeDomArray(M,k<b),P)}}}))},s.insertAfter=function(S){var x=this;typeof S=="string"&&(S=this._make(S)),this.remove();var N=[];return this._makeDomArray(S).forEach((function(b){var L=x.clone().toArray(),k=b.parent;if(k){var P=k.children,D=P.indexOf(b);D<0||(C(P,D+1,0,L,k),N.push.apply(N,L))}})),this._make(N)},s.before=function(){for(var S=this,x=[],N=0;N<arguments.length;N++)x[N]=arguments[N];var b=this.length-1;return _.domEach(this,(function(L,k){var P=L.parent;if(T.DomUtils.hasChildren(L)&&P){var D=P.children,R=D.indexOf(L);if(!(R<0)){var M=typeof x[0]=="function"?x[0].call(L,k,v.html(L.children)):x;C(D,R,0,S._makeDomArray(M,k<b),P)}}}))},s.insertBefore=function(S){var x=this,N=this._make(S);this.remove();var b=[];return _.domEach(N,(function(L){var k=x.clone().toArray(),P=L.parent;if(P){var D=P.children,R=D.indexOf(L);R<0||(C(D,R,0,k,P),b.push.apply(b,k))}})),this._make(b)},s.remove=function(S){var x=S?this.filter(S):this;return _.domEach(x,(function(N){T.DomUtils.removeElement(N),N.prev=N.next=N.parent=null})),this},s.replaceWith=function(S){var x=this;return _.domEach(this,(function(N,b){var L=N.parent;if(L){var k=L.children,P=typeof S=="function"?S.call(N,b,N):S,D=x._makeDomArray(P);h.update(D,null);var R=k.indexOf(N);C(k,R,1,D,L),D.includes(N)||(N.parent=N.prev=N.next=null)}}))},s.empty=function(){return _.domEach(this,(function(S){T.DomUtils.hasChildren(S)&&(S.children.forEach((function(x){x.next=x.prev=x.parent=null})),S.children.length=0)}))},s.html=function(S){if(S===void 0){var x=this[0];return x&&T.DomUtils.hasChildren(x)?v.html(x.children,this.options):null}var N=u.__assign(u.__assign({},this.options),{context:null});return _.domEach(this,(function(b){if(T.DomUtils.hasChildren(b)){b.children.forEach((function(k){k.next=k.prev=k.parent=null})),N.context=b;var L=_.isCheerio(S)?S.toArray():h.default(""+S,N,!1).children;h.update(L,b)}}))},s.toString=function(){return v.html(this,this.options)},s.text=function S(x){var N=this;return x===void 0?v.text(this):typeof x=="function"?_.domEach(this,(function(b,L){S.call(N._make(b),x.call(b,L,v.text([b])))})):_.domEach(this,(function(b){if(T.DomUtils.hasChildren(b)){b.children.forEach((function(k){k.next=k.prev=k.parent=null}));var L=new d.Text(x);h.update(L,b)}}))},s.clone=function(){return this._make(_.cloneDom(this.get()))}},1042:(l,s,f)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.addBack=s.add=s.end=s.slice=s.index=s.toArray=s.get=s.eq=s.last=s.first=s.has=s.not=s.is=s.filterArray=s.filter=s.map=s.each=s.contents=s.children=s.siblings=s.prevUntil=s.prevAll=s.prev=s.nextUntil=s.nextAll=s.next=s.closest=s.parentsUntil=s.parents=s.parent=s.find=void 0;var u=f(655),p=f(7915),d=u.__importStar(f(7248)),h=f(5633),v=f(6634),_=f(3719),T=_.DomUtils.uniqueSort,w=/^\s*[~+]/;function C(k){return function(P){for(var D=[],R=1;R<arguments.length;R++)D[R-1]=arguments[R];return function(M){var z,H=k(P,this);return M&&(H=L(H,M,this.options.xmlMode,(z=this._root)===null||z===void 0?void 0:z[0])),this._make(this.length>1&&H.length>1?D.reduce((function($,j){return j($)}),H):H)}}}s.find=function(k){var P;if(!k)return this._make([]);var D=this.toArray();if(typeof k!="string"){var R=h.isCheerio(k)?k.toArray():[k];return this._make(R.filter((function(H){return D.some((function($){return v.contains($,H)}))})))}var M=w.test(k)?D:this.children().toArray(),z={context:D,root:(P=this._root)===null||P===void 0?void 0:P[0],xmlMode:this.options.xmlMode};return this._make(d.select(k,M,z))};var A=C((function(k,P){for(var D,R=[],M=0;M<P.length;M++){var z=k(P[M]);R.push(z)}return(D=new Array).concat.apply(D,R)})),S=C((function(k,P){for(var D=[],R=0;R<P.length;R++){var M=k(P[R]);M!==null&&D.push(M)}return D}));function x(k){for(var P=[],D=1;D<arguments.length;D++)P[D-1]=arguments[D];var R=null,M=C((function(z,H){var $=[];return h.domEach(H,(function(j){for(var rt;(rt=z(j))&&!R?.(rt,$.length);j=rt)$.push(rt)})),$})).apply(void 0,u.__spreadArray([k],P));return function(z,H){var $=this;R=typeof z=="string"?function(rt){return d.is(rt,z,$.options)}:z?b(z):null;var j=M.call(this,H);return R=null,j}}function N(k){return Array.from(new Set(k))}function b(k){return typeof k=="function"?function(P,D){return k.call(P,D,P)}:h.isCheerio(k)?function(P){return Array.prototype.includes.call(k,P)}:function(P){return k===P}}function L(k,P,D,R){return typeof P=="string"?d.filter(P,k,{xmlMode:D,root:R}):k.filter(b(P))}s.parent=S((function(k){var P=k.parent;return P&&!p.isDocument(P)?P:null}),N),s.parents=A((function(k){for(var P=[];k.parent&&!p.isDocument(k.parent);)P.push(k.parent),k=k.parent;return P}),T,(function(k){return k.reverse()})),s.parentsUntil=x((function(k){var P=k.parent;return P&&!p.isDocument(P)?P:null}),T,(function(k){return k.reverse()})),s.closest=function(k){var P=this,D=[];return k?(h.domEach(this,(function(R){for(var M;R&&R.type!=="root";){if(!k||L([R],k,P.options.xmlMode,(M=P._root)===null||M===void 0?void 0:M[0]).length){R&&!D.includes(R)&&D.push(R);break}R=R.parent}})),this._make(D)):this._make(D)},s.next=S((function(k){return _.DomUtils.nextElementSibling(k)})),s.nextAll=A((function(k){for(var P=[];k.next;)k=k.next,h.isTag(k)&&P.push(k);return P}),N),s.nextUntil=x((function(k){return _.DomUtils.nextElementSibling(k)}),N),s.prev=S((function(k){return _.DomUtils.prevElementSibling(k)})),s.prevAll=A((function(k){for(var P=[];k.prev;)k=k.prev,h.isTag(k)&&P.push(k);return P}),N),s.prevUntil=x((function(k){return _.DomUtils.prevElementSibling(k)}),N),s.siblings=A((function(k){return _.DomUtils.getSiblings(k).filter((function(P){return h.isTag(P)&&P!==k}))}),T),s.children=A((function(k){return _.DomUtils.getChildren(k).filter(h.isTag)}),N),s.contents=function(){var k=this.toArray().reduce((function(P,D){return p.hasChildren(D)?P.concat(D.children):P}),[]);return this._make(k)},s.each=function(k){for(var P=0,D=this.length;P<D&&k.call(this[P],P,this[P])!==!1;)++P;return this},s.map=function(k){for(var P=[],D=0;D<this.length;D++){var R=this[D],M=k.call(R,D,R);M!=null&&(P=P.concat(M))}return this._make(P)},s.filter=function(k){var P;return this._make(L(this.toArray(),k,this.options.xmlMode,(P=this._root)===null||P===void 0?void 0:P[0]))},s.filterArray=L,s.is=function(k){var P=this.toArray();return typeof k=="string"?d.some(P.filter(h.isTag),k,this.options):!!k&&P.some(b(k))},s.not=function(k){var P=this.toArray();if(typeof k=="string"){var D=new Set(d.filter(k,P,this.options));P=P.filter((function(M){return!D.has(M)}))}else{var R=b(k);P=P.filter((function(M,z){return!R(M,z)}))}return this._make(P)},s.has=function(k){var P=this;return this.filter(typeof k=="string"?":has("+k+")":function(D,R){return P._make(R).find(k).length>0})},s.first=function(){return this.length>1?this._make(this[0]):this},s.last=function(){return this.length>0?this._make(this[this.length-1]):this},s.eq=function(k){var P;return(k=+k)==0&&this.length<=1?this:(k<0&&(k=this.length+k),this._make((P=this[k])!==null&&P!==void 0?P:[]))},s.get=function(k){return k==null?this.toArray():this[k<0?this.length+k:k]},s.toArray=function(){return Array.prototype.slice.call(this)},s.index=function(k){var P,D;return k==null?(P=this.parent().children(),D=this[0]):typeof k=="string"?(P=this._make(k),D=this[0]):(P=this,D=h.isCheerio(k)?k[0]:k),Array.prototype.indexOf.call(P,D)},s.slice=function(k,P){return this._make(Array.prototype.slice.call(this,k,P))},s.end=function(){var k;return(k=this.prevObject)!==null&&k!==void 0?k:this._make([])},s.add=function(k,P){var D=this._make(k,P),R=T(u.__spreadArray(u.__spreadArray([],this.get()),D.get()));return this._make(R)},s.addBack=function(k){return this.prevObject?this.add(k?this.prevObject.filter(k):this.prevObject):this}},7911:(l,s,f)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.Cheerio=void 0;var u=f(655),p=u.__importDefault(f(5012)),d=u.__importDefault(f(2754)),h=f(5633),v=u.__importStar(f(6451)),_=u.__importStar(f(1042)),T=u.__importStar(f(848)),w=u.__importStar(f(9806)),C=u.__importStar(f(3432)),A=(function(){function S(x,N,b,L){var k=this;if(L===void 0&&(L=d.default),this.length=0,this.options=L,!x)return this;if(b&&(typeof b=="string"&&(b=p.default(b,this.options,!1)),this._root=new this.constructor(b,null,null,this.options),this._root._root=this._root),h.isCheerio(x))return x;var P,D=typeof x=="string"&&h.isHtml(x)?p.default(x,this.options,!1).children:(P=x).name||P.type==="root"||P.type==="text"||P.type==="comment"?[x]:Array.isArray(x)?x:null;if(D)return D.forEach((function(z,H){k[H]=z})),this.length=D.length,this;var R=x,M=N?typeof N=="string"?h.isHtml(N)?this._make(p.default(N,this.options,!1)):(R=N+" "+R,this._root):h.isCheerio(N)?N:this._make(N):this._root;return M?M.find(R):this}return S.prototype._make=function(x,N){var b=new this.constructor(x,N,this._root,this.options);return b.prevObject=this,b},S})();s.Cheerio=A,A.prototype.cheerio="[cheerio object]",A.prototype.splice=Array.prototype.splice,A.prototype[Symbol.iterator]=Array.prototype[Symbol.iterator],Object.assign(A.prototype,v,_,T,w,C)},7503:(l,s,f)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.root=s.parseHTML=s.merge=s.contains=void 0;var u=f(655);u.__exportStar(f(8701),s),u.__exportStar(f(3434),s);var p=f(3434);s.default=p.load([]);var d=u.__importStar(f(6634));s.contains=d.contains,s.merge=d.merge,s.parseHTML=d.parseHTML,s.root=d.root},3434:(l,s,f)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.load=void 0;var u=f(655),p=u.__importStar(f(2754)),d=u.__importStar(f(6634)),h=f(7911),v=u.__importDefault(f(5012));s.load=function _(T,w,C){if(C===void 0&&(C=!0),T==null)throw new Error("cheerio.load() expects a string");var A=u.__assign(u.__assign({},p.default),p.flatten(w)),S=v.default(T,A,C),x=(function(b){function L(){return b!==null&&b.apply(this,arguments)||this}return u.__extends(L,b),L})(h.Cheerio);function N(b,L,k,P){return k===void 0&&(k=S),new x(b,L,k,u.__assign(u.__assign({},A),p.flatten(P)))}return Object.assign(N,d,{load:_,_root:S,_options:A,fn:x.prototype,prototype:x.prototype}),N}},2754:(l,s,f)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.flatten=void 0;var u=f(655);s.default={xml:!1,decodeEntities:!0};var p={_useHtmlParser2:!0,xmlMode:!0};s.flatten=function(d){return d?.xml?typeof d.xml=="boolean"?p:u.__assign(u.__assign({},p),d.xml):d??void 0}},5012:(l,s,f)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.update=void 0;var u=f(3719),p=f(8585),d=f(7957),h=f(7915);function v(_,T){var w=Array.isArray(_)?_:[_];T?T.children=w:T=null;for(var C=0;C<w.length;C++){var A=w[C];A.parent&&A.parent.children!==w&&u.DomUtils.removeElement(A),T?(A.prev=w[C-1]||null,A.next=w[C+1]||null):A.prev=A.next=null,A.parent=T}return T}s.default=function(_,T,w){if(typeof Buffer<"u"&&Buffer.isBuffer(_)&&(_=_.toString()),typeof _=="string")return T.xmlMode||T._useHtmlParser2?p.parse(_,T):d.parse(_,T,w);var C=_;if(!Array.isArray(C)&&h.isDocument(C))return C;var A=new h.Document([]);return v(C,A),A},s.update=v},8585:function(l,s,f){var u=this&&this.__importDefault||function(h){return h&&h.__esModule?h:{default:h}};Object.defineProperty(s,"__esModule",{value:!0}),s.render=s.parse=void 0;var p=f(3719);Object.defineProperty(s,"parse",{enumerable:!0,get:function(){return p.parseDocument}});var d=f(7220);Object.defineProperty(s,"render",{enumerable:!0,get:function(){return u(d).default}})},7957:(l,s,f)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.render=s.parse=void 0;var u=f(655),p=f(7915),d=f(2394),h=u.__importDefault(f(1906));s.parse=function(v,_,T){var w={scriptingEnabled:typeof _.scriptingEnabled!="boolean"||_.scriptingEnabled,treeAdapter:h.default,sourceCodeLocationInfo:_.sourceCodeLocationInfo},C=_.context;return T?d.parse(v,w):d.parseFragment(C,v,w)},s.render=function(v){for(var _,T=("length"in v)?v:[v],w=0;w<T.length;w+=1){var C=T[w];p.isDocument(C)&&(_=Array.prototype.splice).call.apply(_,u.__spreadArray([T,w,1],C.children))}return d.serialize({children:T},{treeAdapter:h.default})}},6634:(l,s,f)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.merge=s.contains=s.root=s.parseHTML=s.text=s.xml=s.html=void 0;var u=f(655),p=u.__importStar(f(2754)),d=f(7248),h=f(3719),v=f(7957),_=f(8585);function T(C,A,S){var x,N=A?typeof A=="string"?d.select(A,(x=C?._root)!==null&&x!==void 0?x:[],S):A:C?._root.children;return N?S.xmlMode||S._useHtmlParser2?_.render(N,S):v.render(N):""}function w(C){if(Array.isArray(C))return!0;if(typeof C!="object"||!Object.prototype.hasOwnProperty.call(C,"length")||typeof C.length!="number"||C.length<0)return!1;for(var A=0;A<C.length;A++)if(!(A in C))return!1;return!0}s.html=function(C,A){return!A&&(function(S){return typeof S=="object"&&S!=null&&!("length"in S)&&!("type"in S)})(C)&&(A=C,C=void 0),T(this||void 0,C,u.__assign(u.__assign(u.__assign({},p.default),this?this._options:{}),p.flatten(A??{})))},s.xml=function(C){return T(this,C,u.__assign(u.__assign({},this._options),{xmlMode:!0}))},s.text=function C(A){for(var S=A||(this?this.root():[]),x="",N=0;N<S.length;N++){var b=S[N];h.DomUtils.isText(b)?x+=b.data:h.DomUtils.hasChildren(b)&&b.type!==h.ElementType.Comment&&b.type!==h.ElementType.Script&&b.type!==h.ElementType.Style&&(x+=C(b.children))}return x},s.parseHTML=function(C,A,S){if(S===void 0&&(S=typeof A=="boolean"&&A),!C||typeof C!="string")return null;typeof A=="boolean"&&(S=A);var x=this.load(C,p.default,!1);return S||x("script").remove(),x.root()[0].children.slice()},s.root=function(){return this(this._root)},s.contains=function(C,A){if(A===C)return!1;for(var S=A;S&&S!==S.parent;)if((S=S.parent)===C)return!0;return!1},s.merge=function(C,A){if(w(C)&&w(A)){for(var S=C.length,x=+A.length,N=0;N<x;N++)C[S++]=A[N];return C.length=S,C}}},8701:(l,s)=>{Object.defineProperty(s,"__esModule",{value:!0})},5633:(l,s,f)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.isHtml=s.cloneDom=s.domEach=s.cssCase=s.camelCase=s.isCheerio=s.isTag=void 0;var u=f(3719),p=f(7915);s.isTag=u.DomUtils.isTag,s.isCheerio=function(h){return h.cheerio!=null},s.camelCase=function(h){return h.replace(/[_.-](\w|$)/g,(function(v,_){return _.toUpperCase()}))},s.cssCase=function(h){return h.replace(/[A-Z]/g,"-$&").toLowerCase()},s.domEach=function(h,v){for(var _=h.length,T=0;T<_;T++)v(h[T],T);return h},s.cloneDom=function(h){var v="length"in h?Array.prototype.map.call(h,(function(T){return p.cloneNode(T,!0)})):[p.cloneNode(h,!0)],_=new p.Document(v);return v.forEach((function(T){T.parent=_})),v};var d=/<[a-zA-Z][^]*>/;s.isHtml=function(h){return d.test(h)}},996:(l,s,f)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.attributeRules=void 0;var u=f(1073),p=/[-[\]{}()*+?.,\\^$|#\s]/g;function d(_){return _.replace(p,"\\$&")}var h=new Set(["accept","accept-charset","align","alink","axis","bgcolor","charset","checked","clear","codetype","color","compact","declare","defer","dir","direction","disabled","enctype","face","frame","hreflang","http-equiv","lang","language","link","media","method","multiple","nohref","noresize","noshade","nowrap","readonly","rel","rev","rules","scope","scrolling","selected","shape","target","text","type","valign","valuetype","vlink"]);function v(_,T){return typeof _.ignoreCase=="boolean"?_.ignoreCase:_.ignoreCase==="quirks"?!!T.quirksMode:!T.xmlMode&&h.has(_.name)}s.attributeRules={equals:function(_,T,w){var C=w.adapter,A=T.name,S=T.value;return v(T,w)?(S=S.toLowerCase(),function(x){var N=C.getAttributeValue(x,A);return N!=null&&N.length===S.length&&N.toLowerCase()===S&&_(x)}):function(x){return C.getAttributeValue(x,A)===S&&_(x)}},hyphen:function(_,T,w){var C=w.adapter,A=T.name,S=T.value,x=S.length;return v(T,w)?(S=S.toLowerCase(),function(N){var b=C.getAttributeValue(N,A);return b!=null&&(b.length===x||b.charAt(x)==="-")&&b.substr(0,x).toLowerCase()===S&&_(N)}):function(N){var b=C.getAttributeValue(N,A);return b!=null&&(b.length===x||b.charAt(x)==="-")&&b.substr(0,x)===S&&_(N)}},element:function(_,T,w){var C=w.adapter,A=T.name,S=T.value;if(/\s/.test(S))return u.falseFunc;var x=new RegExp("(?:^|\\s)".concat(d(S),"(?:$|\\s)"),v(T,w)?"i":"");return function(N){var b=C.getAttributeValue(N,A);return b!=null&&b.length>=S.length&&x.test(b)&&_(N)}},exists:function(_,T,w){var C=T.name,A=w.adapter;return function(S){return A.hasAttrib(S,C)&&_(S)}},start:function(_,T,w){var C=w.adapter,A=T.name,S=T.value,x=S.length;return x===0?u.falseFunc:v(T,w)?(S=S.toLowerCase(),function(N){var b=C.getAttributeValue(N,A);return b!=null&&b.length>=x&&b.substr(0,x).toLowerCase()===S&&_(N)}):function(N){var b;return!!(!((b=C.getAttributeValue(N,A))===null||b===void 0)&&b.startsWith(S))&&_(N)}},end:function(_,T,w){var C=w.adapter,A=T.name,S=T.value,x=-S.length;return x===0?u.falseFunc:v(T,w)?(S=S.toLowerCase(),function(N){var b;return((b=C.getAttributeValue(N,A))===null||b===void 0?void 0:b.substr(x).toLowerCase())===S&&_(N)}):function(N){var b;return!!(!((b=C.getAttributeValue(N,A))===null||b===void 0)&&b.endsWith(S))&&_(N)}},any:function(_,T,w){var C=w.adapter,A=T.name,S=T.value;if(S==="")return u.falseFunc;if(v(T,w)){var x=new RegExp(d(S),"i");return function(N){var b=C.getAttributeValue(N,A);return b!=null&&b.length>=S.length&&x.test(b)&&_(N)}}return function(N){var b;return!!(!((b=C.getAttributeValue(N,A))===null||b===void 0)&&b.includes(S))&&_(N)}},not:function(_,T,w){var C=w.adapter,A=T.name,S=T.value;return S===""?function(x){return!!C.getAttributeValue(x,A)&&_(x)}:v(T,w)?(S=S.toLowerCase(),function(x){var N=C.getAttributeValue(x,A);return(N==null||N.length!==S.length||N.toLowerCase()!==S)&&_(x)}):function(x){return C.getAttributeValue(x,A)!==S&&_(x)}}}},8866:function(l,s,f){var u=this&&this.__importDefault||function(L){return L&&L.__esModule?L:{default:L}};Object.defineProperty(s,"__esModule",{value:!0}),s.compileToken=s.compileUnsafe=s.compile=void 0;var p=f(7763),d=f(1073),h=u(f(7353)),v=f(7177),_=f(3621),T=f(1768);function w(L,k,P){return N(typeof L=="string"?(0,p.parse)(L):L,k,P)}function C(L){return L.type==="pseudo"&&(L.name==="scope"||Array.isArray(L.data)&&L.data.some((function(k){return k.some(C)})))}s.compile=function(L,k,P){var D=w(L,k,P);return(0,T.ensureIsTag)(D,k.adapter)},s.compileUnsafe=w;var A={type:p.SelectorType.Descendant},S={type:"_flexibleDescendant"},x={type:p.SelectorType.Pseudo,name:"scope",data:null};function N(L,k,P){var D;(L=L.filter((function($){return $.length>0}))).forEach(h.default),P=(D=k.context)!==null&&D!==void 0?D:P;var R=Array.isArray(P),M=P&&(Array.isArray(P)?P:[P]);(function($,j,rt){for(var q=j.adapter,st=!!rt?.every((function(bt){var at=q.isTag(bt)&&q.getParent(bt);return bt===T.PLACEHOLDER_ELEMENT||at&&q.isTag(at)})),vt=0,St=$;vt<St.length;vt++){var pt=St[vt];if(!(pt.length>0&&(0,v.isTraversal)(pt[0])&&pt[0].type!=="descendant")){if(!st||pt.some(C))continue;pt.unshift(A)}pt.unshift(x)}})(L,k,M);var z=!1,H=L.map((function($){if($.length>=2){var j=$[0],rt=$[1];j.type!=="pseudo"||j.name!=="scope"||(R&&rt.type==="descendant"?$[1]=S:rt.type!=="adjacent"&&rt.type!=="sibling"||(z=!0))}return(function(q,st,vt){var St;return q.reduce((function(pt,bt){return pt===d.falseFunc?d.falseFunc:(0,_.compileGeneralSelector)(pt,bt,st,vt,N)}),(St=st.rootFunc)!==null&&St!==void 0?St:d.trueFunc)})($,k,M)})).reduce(b,d.falseFunc);return H.shouldTestNextSiblings=z,H}function b(L,k){return k===d.falseFunc||L===d.trueFunc?L:L===d.falseFunc||k===d.trueFunc?k:function(P){return L(P)||k(P)}}s.compileToken=N},3621:(l,s,f)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.compileGeneralSelector=void 0;var u=f(996),p=f(8677),d=f(7763);s.compileGeneralSelector=function(h,v,_,T,w){var C=_.adapter,A=_.equals;switch(v.type){case d.SelectorType.PseudoElement:throw new Error("Pseudo-elements are not supported by css-select");case d.SelectorType.ColumnCombinator:throw new Error("Column combinators are not yet supported by css-select");case d.SelectorType.Attribute:if(v.namespace!=null)throw new Error("Namespaced attributes are not yet supported by css-select");return _.xmlMode&&!_.lowerCaseAttributeNames||(v.name=v.name.toLowerCase()),u.attributeRules[v.action](h,v,_);case d.SelectorType.Pseudo:return(0,p.compilePseudoSelector)(h,v,_,T,w);case d.SelectorType.Tag:if(v.namespace!=null)throw new Error("Namespaced tag names are not yet supported by css-select");var S=v.name;return _.xmlMode&&!_.lowerCaseTags||(S=S.toLowerCase()),function(N){return C.getName(N)===S&&h(N)};case d.SelectorType.Descendant:if(_.cacheResults===!1||typeof WeakSet>"u")return function(N){for(var b=N;b=C.getParent(b);)if(C.isTag(b)&&h(b))return!0;return!1};var x=new WeakSet;return function(N){for(var b=N;b=C.getParent(b);)if(!x.has(b)){if(C.isTag(b)&&h(b))return!0;x.add(b)}return!1};case"_flexibleDescendant":return function(N){var b=N;do if(C.isTag(b)&&h(b))return!0;while(b=C.getParent(b));return!1};case d.SelectorType.Parent:return function(N){return C.getChildren(N).some((function(b){return C.isTag(b)&&h(b)}))};case d.SelectorType.Child:return function(N){var b=C.getParent(N);return b!=null&&C.isTag(b)&&h(b)};case d.SelectorType.Sibling:return function(N){for(var b=C.getSiblings(N),L=0;L<b.length;L++){var k=b[L];if(A(N,k))break;if(C.isTag(k)&&h(k))return!0}return!1};case d.SelectorType.Adjacent:return C.prevElementSibling?function(N){var b=C.prevElementSibling(N);return b!=null&&h(b)}:function(N){for(var b,L=C.getSiblings(N),k=0;k<L.length;k++){var P=L[k];if(A(N,P))break;C.isTag(P)&&(b=P)}return!!b&&h(b)};case d.SelectorType.Universal:if(v.namespace!=null&&v.namespace!=="*")throw new Error("Namespaced universal selectors are not yet supported by css-select");return h}}},5366:function(l,s,f){var u=this&&this.__createBinding||(Object.create?function(L,k,P,D){D===void 0&&(D=P);var R=Object.getOwnPropertyDescriptor(k,P);R&&!("get"in R?!k.__esModule:R.writable||R.configurable)||(R={enumerable:!0,get:function(){return k[P]}}),Object.defineProperty(L,D,R)}:function(L,k,P,D){D===void 0&&(D=P),L[D]=k[P]}),p=this&&this.__setModuleDefault||(Object.create?function(L,k){Object.defineProperty(L,"default",{enumerable:!0,value:k})}:function(L,k){L.default=k}),d=this&&this.__importStar||function(L){if(L&&L.__esModule)return L;var k={};if(L!=null)for(var P in L)P!=="default"&&Object.prototype.hasOwnProperty.call(L,P)&&u(k,L,P);return p(k,L),k};Object.defineProperty(s,"__esModule",{value:!0}),s.aliases=s.pseudos=s.filters=s.is=s.selectOne=s.selectAll=s.prepareContext=s._compileToken=s._compileUnsafe=s.compile=void 0;var h=d(f(9432)),v=f(1073),_=f(8866),T=f(1768),w=function(L,k){return L===k},C={adapter:h,equals:w};function A(L){var k,P,D,R,M=L??C;return(k=M.adapter)!==null&&k!==void 0||(M.adapter=h),(P=M.equals)!==null&&P!==void 0||(M.equals=(R=(D=M.adapter)===null||D===void 0?void 0:D.equals)!==null&&R!==void 0?R:w),M}function S(L){return function(k,P,D){var R=A(P);return L(k,R,D)}}function x(L){return function(k,P,D){var R=A(D);typeof k!="function"&&(k=(0,_.compileUnsafe)(k,R,P));var M=N(P,R.adapter,k.shouldTestNextSiblings);return L(k,M,R)}}function N(L,k,P){return P===void 0&&(P=!1),P&&(L=(function(D,R){for(var M=Array.isArray(D)?D.slice(0):[D],z=M.length,H=0;H<z;H++){var $=(0,T.getNextSiblings)(M[H],R);M.push.apply(M,$)}return M})(L,k)),Array.isArray(L)?k.removeSubsets(L):k.getChildren(L)}s.compile=S(_.compile),s._compileUnsafe=S(_.compileUnsafe),s._compileToken=S(_.compileToken),s.prepareContext=N,s.selectAll=x((function(L,k,P){return L!==v.falseFunc&&k&&k.length!==0?P.adapter.findAll(L,k):[]})),s.selectOne=x((function(L,k,P){return L!==v.falseFunc&&k&&k.length!==0?P.adapter.findOne(L,k):null})),s.is=function(L,k,P){var D=A(P);return(typeof k=="function"?k:(0,_.compile)(k,D))(L)},s.default=s.selectAll;var b=f(8677);Object.defineProperty(s,"filters",{enumerable:!0,get:function(){return b.filters}}),Object.defineProperty(s,"pseudos",{enumerable:!0,get:function(){return b.pseudos}}),Object.defineProperty(s,"aliases",{enumerable:!0,get:function(){return b.aliases}})},7177:(l,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.isTraversal=s.procedure=void 0,s.procedure={universal:50,tag:30,attribute:1,pseudo:0,"pseudo-element":0,"column-combinator":-1,descendant:-1,child:-1,parent:-1,sibling:-1,adjacent:-1,_flexibleDescendant:-1},s.isTraversal=function(f){return s.procedure[f.type]<0}},2968:(l,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.aliases=void 0,s.aliases={"any-link":":is(a, area, link)[href]",link:":any-link:not(:visited)",disabled:`:is(
        :is(button, input, select, textarea, optgroup, option)[disabled],
        optgroup[disabled] > option,
        fieldset[disabled]:not(fieldset[disabled] legend:first-of-type *)
    )`,enabled:":not(:disabled)",checked:":is(:is(input[type=radio], input[type=checkbox])[checked], option:selected)",required:":is(input, select, textarea)[required]",optional:":is(input, select, textarea):not([required])",selected:"option:is([selected], select:not([multiple]):not(:has(> option[selected])) > :first-of-type)",checkbox:"[type=checkbox]",file:"[type=file]",password:"[type=password]",radio:"[type=radio]",reset:"[type=reset]",image:"[type=image]",submit:"[type=submit]",parent:":not(:empty)",header:":is(h1, h2, h3, h4, h5, h6)",button:":is(button, input[type=button])",input:":is(input, textarea, select, button)",text:"input:is(:not([type!='']), [type=text])"}},7689:function(l,s,f){var u=this&&this.__importDefault||function(_){return _&&_.__esModule?_:{default:_}};Object.defineProperty(s,"__esModule",{value:!0}),s.filters=void 0;var p=u(f(7540)),d=f(1073);function h(_,T){return function(w){var C=T.getParent(w);return C!=null&&T.isTag(C)&&_(w)}}function v(_){return function(T,w,C){var A=C.adapter[_];return typeof A!="function"?d.falseFunc:function(S){return A(S)&&T(S)}}}s.filters={contains:function(_,T,w){var C=w.adapter;return function(A){return _(A)&&C.getText(A).includes(T)}},icontains:function(_,T,w){var C=w.adapter,A=T.toLowerCase();return function(S){return _(S)&&C.getText(S).toLowerCase().includes(A)}},"nth-child":function(_,T,w){var C=w.adapter,A=w.equals,S=(0,p.default)(T);return S===d.falseFunc?d.falseFunc:S===d.trueFunc?h(_,C):function(x){for(var N=C.getSiblings(x),b=0,L=0;L<N.length&&!A(x,N[L]);L++)C.isTag(N[L])&&b++;return S(b)&&_(x)}},"nth-last-child":function(_,T,w){var C=w.adapter,A=w.equals,S=(0,p.default)(T);return S===d.falseFunc?d.falseFunc:S===d.trueFunc?h(_,C):function(x){for(var N=C.getSiblings(x),b=0,L=N.length-1;L>=0&&!A(x,N[L]);L--)C.isTag(N[L])&&b++;return S(b)&&_(x)}},"nth-of-type":function(_,T,w){var C=w.adapter,A=w.equals,S=(0,p.default)(T);return S===d.falseFunc?d.falseFunc:S===d.trueFunc?h(_,C):function(x){for(var N=C.getSiblings(x),b=0,L=0;L<N.length;L++){var k=N[L];if(A(x,k))break;C.isTag(k)&&C.getName(k)===C.getName(x)&&b++}return S(b)&&_(x)}},"nth-last-of-type":function(_,T,w){var C=w.adapter,A=w.equals,S=(0,p.default)(T);return S===d.falseFunc?d.falseFunc:S===d.trueFunc?h(_,C):function(x){for(var N=C.getSiblings(x),b=0,L=N.length-1;L>=0;L--){var k=N[L];if(A(x,k))break;C.isTag(k)&&C.getName(k)===C.getName(x)&&b++}return S(b)&&_(x)}},root:function(_,T,w){var C=w.adapter;return function(A){var S=C.getParent(A);return(S==null||!C.isTag(S))&&_(A)}},scope:function(_,T,w,C){var A=w.equals;return C&&C.length!==0?C.length===1?function(S){return A(C[0],S)&&_(S)}:function(S){return C.includes(S)&&_(S)}:s.filters.root(_,T,w)},hover:v("isHovered"),visited:v("isVisited"),active:v("isActive")}},8677:(l,s,f)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.compilePseudoSelector=s.aliases=s.pseudos=s.filters=void 0;var u=f(1073),p=f(7763),d=f(7689);Object.defineProperty(s,"filters",{enumerable:!0,get:function(){return d.filters}});var h=f(7221);Object.defineProperty(s,"pseudos",{enumerable:!0,get:function(){return h.pseudos}});var v=f(2968);Object.defineProperty(s,"aliases",{enumerable:!0,get:function(){return v.aliases}});var _=f(1768);s.compilePseudoSelector=function(T,w,C,A,S){var x=w.name,N=w.data;if(Array.isArray(N))return _.subselects[x](T,N,C,A,S);if(x in v.aliases){if(N!=null)throw new Error("Pseudo ".concat(x," doesn't have any arguments"));var b=(0,p.parse)(v.aliases[x]);return _.subselects.is(T,b,C,A,S)}if(x in d.filters)return d.filters[x](T,N,C,A);if(x in h.pseudos){var L=h.pseudos[x];return(0,h.verifyPseudoArgs)(L,x,N),L===u.falseFunc?u.falseFunc:T===u.trueFunc?function(k){return L(k,C,N)}:function(k){return L(k,C,N)&&T(k)}}throw new Error("unmatched pseudo-class :".concat(x))}},7221:(l,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.verifyPseudoArgs=s.pseudos=void 0,s.pseudos={empty:function(f,u){var p=u.adapter;return!p.getChildren(f).some((function(d){return p.isTag(d)||p.getText(d)!==""}))},"first-child":function(f,u){var p=u.adapter,d=u.equals,h=p.getSiblings(f).find((function(v){return p.isTag(v)}));return h!=null&&d(f,h)},"last-child":function(f,u){for(var p=u.adapter,d=u.equals,h=p.getSiblings(f),v=h.length-1;v>=0;v--){if(d(f,h[v]))return!0;if(p.isTag(h[v]))break}return!1},"first-of-type":function(f,u){for(var p=u.adapter,d=u.equals,h=p.getSiblings(f),v=p.getName(f),_=0;_<h.length;_++){var T=h[_];if(d(f,T))return!0;if(p.isTag(T)&&p.getName(T)===v)break}return!1},"last-of-type":function(f,u){for(var p=u.adapter,d=u.equals,h=p.getSiblings(f),v=p.getName(f),_=h.length-1;_>=0;_--){var T=h[_];if(d(f,T))return!0;if(p.isTag(T)&&p.getName(T)===v)break}return!1},"only-of-type":function(f,u){var p=u.adapter,d=u.equals,h=p.getName(f);return p.getSiblings(f).every((function(v){return d(f,v)||!p.isTag(v)||p.getName(v)!==h}))},"only-child":function(f,u){var p=u.adapter,d=u.equals;return p.getSiblings(f).every((function(h){return d(f,h)||!p.isTag(h)}))}},s.verifyPseudoArgs=function(f,u,p){if(p===null){if(f.length>2)throw new Error("pseudo-selector :".concat(u," requires an argument"))}else if(f.length===2)throw new Error("pseudo-selector :".concat(u," doesn't have any arguments"))}},1768:function(l,s,f){var u=this&&this.__spreadArray||function(T,w,C){if(C||arguments.length===2)for(var A,S=0,x=w.length;S<x;S++)!A&&S in w||(A||(A=Array.prototype.slice.call(w,0,S)),A[S]=w[S]);return T.concat(A||Array.prototype.slice.call(w))};Object.defineProperty(s,"__esModule",{value:!0}),s.subselects=s.getNextSiblings=s.ensureIsTag=s.PLACEHOLDER_ELEMENT=void 0;var p=f(1073),d=f(7177);function h(T,w){return T===p.falseFunc?p.falseFunc:function(C){return w.isTag(C)&&T(C)}}function v(T,w){var C=w.getSiblings(T);if(C.length<=1)return[];var A=C.indexOf(T);return A<0||A===C.length-1?[]:C.slice(A+1).filter(w.isTag)}s.PLACEHOLDER_ELEMENT={},s.ensureIsTag=h,s.getNextSiblings=v;var _=function(T,w,C,A,S){var x=S(w,{xmlMode:!!C.xmlMode,adapter:C.adapter,equals:C.equals},A);return function(N){return x(N)&&T(N)}};s.subselects={is:_,matches:_,where:_,not:function(T,w,C,A,S){var x=S(w,{xmlMode:!!C.xmlMode,adapter:C.adapter,equals:C.equals},A);return x===p.falseFunc?T:x===p.trueFunc?p.falseFunc:function(N){return!x(N)&&T(N)}},has:function(T,w,C,A,S){var x=C.adapter,N={xmlMode:!!C.xmlMode,adapter:x,equals:C.equals},b=w.some((function(R){return R.some(d.isTraversal)}))?[s.PLACEHOLDER_ELEMENT]:void 0,L=S(w,N,b);if(L===p.falseFunc)return p.falseFunc;if(L===p.trueFunc)return function(R){return x.getChildren(R).some(x.isTag)&&T(R)};var k=h(L,x),P=L.shouldTestNextSiblings,D=P!==void 0&&P;return b?function(R){b[0]=R;var M=x.getChildren(R),z=D?u(u([],M,!0),v(R,x),!0):M;return T(R)&&x.existsOne(k,z)}:function(R){return T(R)&&x.existsOne(k,x.getChildren(R))}}}},7353:(l,s,f)=>{Object.defineProperty(s,"__esModule",{value:!0});var u=f(7763),p=f(7177),d={exists:10,equals:8,not:7,start:6,end:6,any:5,hyphen:4,element:4};function h(v){var _=p.procedure[v.type];if(v.type===u.SelectorType.Attribute)(_=d[v.action])===d.equals&&v.name==="id"&&(_=9),v.ignoreCase&&(_>>=1);else if(v.type===u.SelectorType.Pseudo)if(v.data)if(v.name==="has"||v.name==="contains")_=0;else if(Array.isArray(v.data)){_=0;for(var T=0;T<v.data.length;T++)if(v.data[T].length===1){var w=h(v.data[T][0]);if(w===0){_=0;break}w>_&&(_=w)}v.data.length>1&&_>0&&(_-=1)}else _=1;else _=3;return _}s.default=function(v){for(var _=v.map(h),T=1;T<v.length;T++){var w=_[T];if(!(w<0))for(var C=T-1;C>=0&&w<_[C];C--){var A=v[C+1];v[C+1]=v[C],v[C]=A,_[C+1]=_[C],_[C]=w}}}},7763:(l,s,f)=>{var u;f.r(s),f.d(s,{AttributeAction:()=>d,IgnoreCaseMode:()=>p,SelectorType:()=>u,isTraversal:()=>w,parse:()=>b,stringify:()=>z}),(function(q){q.Attribute="attribute",q.Pseudo="pseudo",q.PseudoElement="pseudo-element",q.Tag="tag",q.Universal="universal",q.Adjacent="adjacent",q.Child="child",q.Descendant="descendant",q.Parent="parent",q.Sibling="sibling",q.ColumnCombinator="column-combinator"})(u||(u={}));const p={Unknown:null,QuirksMode:"quirks",IgnoreCase:!0,CaseSensitive:!1};var d;(function(q){q.Any="any",q.Element="element",q.End="end",q.Equals="equals",q.Exists="exists",q.Hyphen="hyphen",q.Not="not",q.Start="start"})(d||(d={}));const h=/^[^\\#]?(?:\\(?:[\da-f]{1,6}\s?|.)|[\w\-\u00b0-\uFFFF])+/,v=/\\([\da-f]{1,6}\s?|(\s)|.)/gi,_=new Map([[126,d.Element],[94,d.Start],[36,d.End],[42,d.Any],[33,d.Not],[124,d.Hyphen]]),T=new Set(["has","not","matches","is","where","host","host-context"]);function w(q){switch(q.type){case u.Adjacent:case u.Child:case u.Descendant:case u.Parent:case u.Sibling:case u.ColumnCombinator:return!0;default:return!1}}const C=new Set(["contains","icontains"]);function A(q,st,vt){const St=parseInt(st,16)-65536;return St!=St||vt?st:St<0?String.fromCharCode(St+65536):String.fromCharCode(St>>10|55296,1023&St|56320)}function S(q){return q.replace(v,A)}function x(q){return q===39||q===34}function N(q){return q===32||q===9||q===10||q===12||q===13}function b(q){const st=[],vt=L(st,`${q}`,0);if(vt<q.length)throw new Error(`Unmatched selector: ${q.slice(vt)}`);return st}function L(q,st,vt){let St=[];function pt(Bt){const Ut=st.slice(vt+Bt).match(h);if(!Ut)throw new Error(`Expected name, found ${st.slice(vt)}`);const[xt]=Ut;return vt+=Bt+xt.length,S(xt)}function bt(Bt){for(vt+=Bt;vt<st.length&&N(st.charCodeAt(vt));)vt++}function at(){const Bt=vt+=1;let Ut=1;for(;Ut>0&&vt<st.length;vt++)st.charCodeAt(vt)!==40||lt(vt)?st.charCodeAt(vt)!==41||lt(vt)||Ut--:Ut++;if(Ut)throw new Error("Parenthesis not matched");return S(st.slice(Bt,vt-1))}function lt(Bt){let Ut=0;for(;st.charCodeAt(--Bt)===92;)Ut++;return(1&Ut)==1}function Et(){if(St.length>0&&w(St[St.length-1]))throw new Error("Did not expect successive traversals.")}function yt(Bt){St.length>0&&St[St.length-1].type===u.Descendant?St[St.length-1].type=Bt:(Et(),St.push({type:Bt}))}function Ot(Bt,Ut){St.push({type:u.Attribute,name:Bt,action:Ut,value:pt(1),namespace:null,ignoreCase:"quirks"})}function zt(){if(St.length&&St[St.length-1].type===u.Descendant&&St.pop(),St.length===0)throw new Error("Empty sub-selector");q.push(St)}if(bt(0),st.length===vt)return vt;t:for(;vt<st.length;){const Bt=st.charCodeAt(vt);switch(Bt){case 32:case 9:case 10:case 12:case 13:St.length!==0&&St[0].type===u.Descendant||(Et(),St.push({type:u.Descendant})),bt(1);break;case 62:yt(u.Child),bt(1);break;case 60:yt(u.Parent),bt(1);break;case 126:yt(u.Sibling),bt(1);break;case 43:yt(u.Adjacent),bt(1);break;case 46:Ot("class",d.Element);break;case 35:Ot("id",d.Equals);break;case 91:{let Ut;bt(1);let xt=null;st.charCodeAt(vt)===124?Ut=pt(1):st.startsWith("*|",vt)?(xt="*",Ut=pt(2)):(Ut=pt(0),st.charCodeAt(vt)===124&&st.charCodeAt(vt+1)!==61&&(xt=Ut,Ut=pt(1))),bt(0);let ot=d.Exists;const Vt=_.get(st.charCodeAt(vt));if(Vt){if(ot=Vt,st.charCodeAt(vt+1)!==61)throw new Error("Expected `=`");bt(2)}else st.charCodeAt(vt)===61&&(ot=d.Equals,bt(1));let mt="",Ft=null;if(ot!=="exists"){if(x(st.charCodeAt(vt))){const Z=st.charCodeAt(vt);let it=vt+1;for(;it<st.length&&(st.charCodeAt(it)!==Z||lt(it));)it+=1;if(st.charCodeAt(it)!==Z)throw new Error("Attribute value didn't end");mt=S(st.slice(vt+1,it)),vt=it+1}else{const Z=vt;for(;vt<st.length&&(!N(st.charCodeAt(vt))&&st.charCodeAt(vt)!==93||lt(vt));)vt+=1;mt=S(st.slice(Z,vt))}bt(0);const W=32|st.charCodeAt(vt);W===115?(Ft=!1,bt(1)):W===105&&(Ft=!0,bt(1))}if(st.charCodeAt(vt)!==93)throw new Error("Attribute selector didn't terminate");vt+=1;const Kt={type:u.Attribute,name:Ut,action:ot,value:mt,namespace:xt,ignoreCase:Ft};St.push(Kt);break}case 58:{if(st.charCodeAt(vt+1)===58){St.push({type:u.PseudoElement,name:pt(2).toLowerCase(),data:st.charCodeAt(vt)===40?at():null});continue}const Ut=pt(1).toLowerCase();let xt=null;if(st.charCodeAt(vt)===40)if(T.has(Ut)){if(x(st.charCodeAt(vt+1)))throw new Error(`Pseudo-selector ${Ut} cannot be quoted`);if(xt=[],vt=L(xt,st,vt+1),st.charCodeAt(vt)!==41)throw new Error(`Missing closing parenthesis in :${Ut} (${st})`);vt+=1}else{if(xt=at(),C.has(Ut)){const ot=xt.charCodeAt(0);ot===xt.charCodeAt(xt.length-1)&&x(ot)&&(xt=xt.slice(1,-1))}xt=S(xt)}St.push({type:u.Pseudo,name:Ut,data:xt});break}case 44:zt(),St=[],bt(1);break;default:{if(st.startsWith("/*",vt)){const ot=st.indexOf("*/",vt+2);if(ot<0)throw new Error("Comment was not terminated");vt=ot+2,St.length===0&&bt(0);break}let Ut,xt=null;if(Bt===42)vt+=1,Ut="*";else if(Bt===124){if(Ut="",st.charCodeAt(vt+1)===124){yt(u.ColumnCombinator),bt(2);break}}else{if(!h.test(st.slice(vt)))break t;Ut=pt(0)}st.charCodeAt(vt)===124&&st.charCodeAt(vt+1)!==124&&(xt=Ut,st.charCodeAt(vt+1)===42?(Ut="*",vt+=2):Ut=pt(1)),St.push(Ut==="*"?{type:u.Universal,namespace:xt}:{type:u.Tag,name:Ut,namespace:xt})}}}return zt(),vt}const k=["\\",'"'],P=[...k,"(",")"],D=new Set(k.map((q=>q.charCodeAt(0)))),R=new Set(P.map((q=>q.charCodeAt(0)))),M=new Set([...P,"~","^","$","*","+","!","|",":","[","]"," ","."].map((q=>q.charCodeAt(0))));function z(q){return q.map((st=>st.map(H).join(""))).join(", ")}function H(q,st,vt){switch(q.type){case u.Child:return st===0?"> ":" > ";case u.Parent:return st===0?"< ":" < ";case u.Sibling:return st===0?"~ ":" ~ ";case u.Adjacent:return st===0?"+ ":" + ";case u.Descendant:return" ";case u.ColumnCombinator:return st===0?"|| ":" || ";case u.Universal:return q.namespace==="*"&&st+1<vt.length&&"name"in vt[st+1]?"":`${j(q.namespace)}*`;case u.Tag:return $(q);case u.PseudoElement:return`::${rt(q.name,M)}${q.data===null?"":`(${rt(q.data,R)})`}`;case u.Pseudo:return`:${rt(q.name,M)}${q.data===null?"":`(${typeof q.data=="string"?rt(q.data,R):z(q.data)})`}`;case u.Attribute:{if(q.name==="id"&&q.action===d.Equals&&q.ignoreCase==="quirks"&&!q.namespace)return`#${rt(q.value,M)}`;if(q.name==="class"&&q.action===d.Element&&q.ignoreCase==="quirks"&&!q.namespace)return`.${rt(q.value,M)}`;const St=$(q);return q.action===d.Exists?`[${St}]`:`[${St}${(function(pt){switch(pt){case d.Equals:return"";case d.Element:return"~";case d.Start:return"^";case d.End:return"$";case d.Any:return"*";case d.Not:return"!";case d.Hyphen:return"|";case d.Exists:throw new Error("Shouldn't be here")}})(q.action)}="${rt(q.value,D)}"${q.ignoreCase===null?"":q.ignoreCase?" i":" s"}]`}}}function $(q){return`${j(q.namespace)}${rt(q.name,M)}`}function j(q){return q!==null?`${q==="*"?"*":rt(q,M)}|`:""}function rt(q,st){let vt=0,St="";for(let pt=0;pt<q.length;pt++)st.has(q.charCodeAt(pt))&&(St+=`${q.slice(vt,pt)}\\${q.charAt(pt)}`,vt=pt+1);return St.length>0?St+q.slice(vt):q}},7837:(l,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.attributeNames=s.elementNames=void 0,s.elementNames=new Map([["altglyph","altGlyph"],["altglyphdef","altGlyphDef"],["altglyphitem","altGlyphItem"],["animatecolor","animateColor"],["animatemotion","animateMotion"],["animatetransform","animateTransform"],["clippath","clipPath"],["feblend","feBlend"],["fecolormatrix","feColorMatrix"],["fecomponenttransfer","feComponentTransfer"],["fecomposite","feComposite"],["feconvolvematrix","feConvolveMatrix"],["fediffuselighting","feDiffuseLighting"],["fedisplacementmap","feDisplacementMap"],["fedistantlight","feDistantLight"],["fedropshadow","feDropShadow"],["feflood","feFlood"],["fefunca","feFuncA"],["fefuncb","feFuncB"],["fefuncg","feFuncG"],["fefuncr","feFuncR"],["fegaussianblur","feGaussianBlur"],["feimage","feImage"],["femerge","feMerge"],["femergenode","feMergeNode"],["femorphology","feMorphology"],["feoffset","feOffset"],["fepointlight","fePointLight"],["fespecularlighting","feSpecularLighting"],["fespotlight","feSpotLight"],["fetile","feTile"],["feturbulence","feTurbulence"],["foreignobject","foreignObject"],["glyphref","glyphRef"],["lineargradient","linearGradient"],["radialgradient","radialGradient"],["textpath","textPath"]]),s.attributeNames=new Map([["definitionurl","definitionURL"],["attributename","attributeName"],["attributetype","attributeType"],["basefrequency","baseFrequency"],["baseprofile","baseProfile"],["calcmode","calcMode"],["clippathunits","clipPathUnits"],["diffuseconstant","diffuseConstant"],["edgemode","edgeMode"],["filterunits","filterUnits"],["glyphref","glyphRef"],["gradienttransform","gradientTransform"],["gradientunits","gradientUnits"],["kernelmatrix","kernelMatrix"],["kernelunitlength","kernelUnitLength"],["keypoints","keyPoints"],["keysplines","keySplines"],["keytimes","keyTimes"],["lengthadjust","lengthAdjust"],["limitingconeangle","limitingConeAngle"],["markerheight","markerHeight"],["markerunits","markerUnits"],["markerwidth","markerWidth"],["maskcontentunits","maskContentUnits"],["maskunits","maskUnits"],["numoctaves","numOctaves"],["pathlength","pathLength"],["patterncontentunits","patternContentUnits"],["patterntransform","patternTransform"],["patternunits","patternUnits"],["pointsatx","pointsAtX"],["pointsaty","pointsAtY"],["pointsatz","pointsAtZ"],["preservealpha","preserveAlpha"],["preserveaspectratio","preserveAspectRatio"],["primitiveunits","primitiveUnits"],["refx","refX"],["refy","refY"],["repeatcount","repeatCount"],["repeatdur","repeatDur"],["requiredextensions","requiredExtensions"],["requiredfeatures","requiredFeatures"],["specularconstant","specularConstant"],["specularexponent","specularExponent"],["spreadmethod","spreadMethod"],["startoffset","startOffset"],["stddeviation","stdDeviation"],["stitchtiles","stitchTiles"],["surfacescale","surfaceScale"],["systemlanguage","systemLanguage"],["tablevalues","tableValues"],["targetx","targetX"],["targety","targetY"],["textlength","textLength"],["viewbox","viewBox"],["viewtarget","viewTarget"],["xchannelselector","xChannelSelector"],["ychannelselector","yChannelSelector"],["zoomandpan","zoomAndPan"]])},7220:function(l,s,f){var u=this&&this.__assign||function(){return u=Object.assign||function(b){for(var L,k=1,P=arguments.length;k<P;k++)for(var D in L=arguments[k])Object.prototype.hasOwnProperty.call(L,D)&&(b[D]=L[D]);return b},u.apply(this,arguments)},p=this&&this.__createBinding||(Object.create?function(b,L,k,P){P===void 0&&(P=k),Object.defineProperty(b,P,{enumerable:!0,get:function(){return L[k]}})}:function(b,L,k,P){P===void 0&&(P=k),b[P]=L[k]}),d=this&&this.__setModuleDefault||(Object.create?function(b,L){Object.defineProperty(b,"default",{enumerable:!0,value:L})}:function(b,L){b.default=L}),h=this&&this.__importStar||function(b){if(b&&b.__esModule)return b;var L={};if(b!=null)for(var k in b)k!=="default"&&Object.prototype.hasOwnProperty.call(b,k)&&p(L,b,k);return d(L,b),L};Object.defineProperty(s,"__esModule",{value:!0});var v=h(f(9960)),_=f(5863),T=f(7837),w=new Set(["style","script","xmp","iframe","noembed","noframes","plaintext","noscript"]),C=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]);function A(b,L){L===void 0&&(L={});for(var k=("length"in b)?b:[b],P="",D=0;D<k.length;D++)P+=S(k[D],L);return P}function S(b,L){switch(b.type){case v.Root:return A(b.children,L);case v.Directive:case v.Doctype:return"<"+b.data+">";case v.Comment:return(function(k){return"<!--"+k.data+"-->"})(b);case v.CDATA:return(function(k){return"<![CDATA["+k.children[0].data+"]]>"})(b);case v.Script:case v.Style:case v.Tag:return(function(k,P){var D;P.xmlMode==="foreign"&&(k.name=(D=T.elementNames.get(k.name))!==null&&D!==void 0?D:k.name,k.parent&&x.has(k.parent.name)&&(P=u(u({},P),{xmlMode:!1}))),!P.xmlMode&&N.has(k.name)&&(P=u(u({},P),{xmlMode:"foreign"}));var R="<"+k.name,M=(function(z,H){if(z)return Object.keys(z).map((function($){var j,rt,q=(j=z[$])!==null&&j!==void 0?j:"";return H.xmlMode==="foreign"&&($=(rt=T.attributeNames.get($))!==null&&rt!==void 0?rt:$),H.emptyAttrs||H.xmlMode||q!==""?$+'="'+(H.decodeEntities!==!1?_.encodeXML(q):q.replace(/"/g,"&quot;"))+'"':$})).join(" ")})(k.attribs,P);return M&&(R+=" "+M),k.children.length===0&&(P.xmlMode?P.selfClosingTags!==!1:P.selfClosingTags&&C.has(k.name))?(P.xmlMode||(R+=" "),R+="/>"):(R+=">",k.children.length>0&&(R+=A(k.children,P)),!P.xmlMode&&C.has(k.name)||(R+="</"+k.name+">")),R})(b,L);case v.Text:return(function(k,P){var D=k.data||"";return P.decodeEntities===!1||!P.xmlMode&&k.parent&&w.has(k.parent.name)||(D=_.encodeXML(D)),D})(b,L)}}s.default=A;var x=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignObject","desc","title"]),N=new Set(["svg","math"])},9960:(l,s)=>{var f;Object.defineProperty(s,"__esModule",{value:!0}),s.Doctype=s.CDATA=s.Tag=s.Style=s.Script=s.Comment=s.Directive=s.Text=s.Root=s.isTag=s.ElementType=void 0,(function(u){u.Root="root",u.Text="text",u.Directive="directive",u.Comment="comment",u.Script="script",u.Style="style",u.Tag="tag",u.CDATA="cdata",u.Doctype="doctype"})(f=s.ElementType||(s.ElementType={})),s.isTag=function(u){return u.type===f.Tag||u.type===f.Script||u.type===f.Style},s.Root=f.Root,s.Text=f.Text,s.Directive=f.Directive,s.Comment=f.Comment,s.Script=f.Script,s.Style=f.Style,s.Tag=f.Tag,s.CDATA=f.CDATA,s.Doctype=f.Doctype},7915:function(l,s,f){var u=this&&this.__createBinding||(Object.create?function(w,C,A,S){S===void 0&&(S=A);var x=Object.getOwnPropertyDescriptor(C,A);x&&!("get"in x?!C.__esModule:x.writable||x.configurable)||(x={enumerable:!0,get:function(){return C[A]}}),Object.defineProperty(w,S,x)}:function(w,C,A,S){S===void 0&&(S=A),w[S]=C[A]}),p=this&&this.__exportStar||function(w,C){for(var A in w)A==="default"||Object.prototype.hasOwnProperty.call(C,A)||u(C,w,A)};Object.defineProperty(s,"__esModule",{value:!0}),s.DomHandler=void 0;var d=f(9960),h=f(7790);p(f(7790),s);var v=/\s+/g,_={normalizeWhitespace:!1,withStartIndices:!1,withEndIndices:!1,xmlMode:!1},T=(function(){function w(C,A,S){this.dom=[],this.root=new h.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null,typeof A=="function"&&(S=A,A=_),typeof C=="object"&&(A=C,C=void 0),this.callback=C??null,this.options=A??_,this.elementCB=S??null}return w.prototype.onparserinit=function(C){this.parser=C},w.prototype.onreset=function(){this.dom=[],this.root=new h.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null},w.prototype.onend=function(){this.done||(this.done=!0,this.parser=null,this.handleCallback(null))},w.prototype.onerror=function(C){this.handleCallback(C)},w.prototype.onclosetag=function(){this.lastNode=null;var C=this.tagStack.pop();this.options.withEndIndices&&(C.endIndex=this.parser.endIndex),this.elementCB&&this.elementCB(C)},w.prototype.onopentag=function(C,A){var S=this.options.xmlMode?d.ElementType.Tag:void 0,x=new h.Element(C,A,void 0,S);this.addNode(x),this.tagStack.push(x)},w.prototype.ontext=function(C){var A=this.options.normalizeWhitespace,S=this.lastNode;if(S&&S.type===d.ElementType.Text)A?S.data=(S.data+C).replace(v," "):S.data+=C,this.options.withEndIndices&&(S.endIndex=this.parser.endIndex);else{A&&(C=C.replace(v," "));var x=new h.Text(C);this.addNode(x),this.lastNode=x}},w.prototype.oncomment=function(C){if(this.lastNode&&this.lastNode.type===d.ElementType.Comment)this.lastNode.data+=C;else{var A=new h.Comment(C);this.addNode(A),this.lastNode=A}},w.prototype.oncommentend=function(){this.lastNode=null},w.prototype.oncdatastart=function(){var C=new h.Text(""),A=new h.NodeWithChildren(d.ElementType.CDATA,[C]);this.addNode(A),C.parent=A,this.lastNode=C},w.prototype.oncdataend=function(){this.lastNode=null},w.prototype.onprocessinginstruction=function(C,A){var S=new h.ProcessingInstruction(C,A);this.addNode(S)},w.prototype.handleCallback=function(C){if(typeof this.callback=="function")this.callback(C,this.dom);else if(C)throw C},w.prototype.addNode=function(C){var A=this.tagStack[this.tagStack.length-1],S=A.children[A.children.length-1];this.options.withStartIndices&&(C.startIndex=this.parser.startIndex),this.options.withEndIndices&&(C.endIndex=this.parser.endIndex),A.children.push(C),S&&(C.prev=S,S.next=C),C.parent=A,this.lastNode=null},w})();s.DomHandler=T,s.default=T},7790:function(l,s,f){var u,p=this&&this.__extends||(u=function(H,$){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(j,rt){j.__proto__=rt}||function(j,rt){for(var q in rt)Object.prototype.hasOwnProperty.call(rt,q)&&(j[q]=rt[q])},u(H,$)},function(H,$){if(typeof $!="function"&&$!==null)throw new TypeError("Class extends value "+String($)+" is not a constructor or null");function j(){this.constructor=H}u(H,$),H.prototype=$===null?Object.create($):(j.prototype=$.prototype,new j)}),d=this&&this.__assign||function(){return d=Object.assign||function(H){for(var $,j=1,rt=arguments.length;j<rt;j++)for(var q in $=arguments[j])Object.prototype.hasOwnProperty.call($,q)&&(H[q]=$[q]);return H},d.apply(this,arguments)};Object.defineProperty(s,"__esModule",{value:!0}),s.cloneNode=s.hasChildren=s.isDocument=s.isDirective=s.isComment=s.isText=s.isCDATA=s.isTag=s.Element=s.Document=s.NodeWithChildren=s.ProcessingInstruction=s.Comment=s.Text=s.DataNode=s.Node=void 0;var h=f(9960),v=new Map([[h.ElementType.Tag,1],[h.ElementType.Script,1],[h.ElementType.Style,1],[h.ElementType.Directive,1],[h.ElementType.Text,3],[h.ElementType.CDATA,4],[h.ElementType.Comment,8],[h.ElementType.Root,9]]),_=(function(){function H($){this.type=$,this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}return Object.defineProperty(H.prototype,"nodeType",{get:function(){var $;return($=v.get(this.type))!==null&&$!==void 0?$:1},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"parentNode",{get:function(){return this.parent},set:function($){this.parent=$},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"previousSibling",{get:function(){return this.prev},set:function($){this.prev=$},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"nextSibling",{get:function(){return this.next},set:function($){this.next=$},enumerable:!1,configurable:!0}),H.prototype.cloneNode=function($){return $===void 0&&($=!1),M(this,$)},H})();s.Node=_;var T=(function(H){function $(j,rt){var q=H.call(this,j)||this;return q.data=rt,q}return p($,H),Object.defineProperty($.prototype,"nodeValue",{get:function(){return this.data},set:function(j){this.data=j},enumerable:!1,configurable:!0}),$})(_);s.DataNode=T;var w=(function(H){function $(j){return H.call(this,h.ElementType.Text,j)||this}return p($,H),$})(T);s.Text=w;var C=(function(H){function $(j){return H.call(this,h.ElementType.Comment,j)||this}return p($,H),$})(T);s.Comment=C;var A=(function(H){function $(j,rt){var q=H.call(this,h.ElementType.Directive,rt)||this;return q.name=j,q}return p($,H),$})(T);s.ProcessingInstruction=A;var S=(function(H){function $(j,rt){var q=H.call(this,j)||this;return q.children=rt,q}return p($,H),Object.defineProperty($.prototype,"firstChild",{get:function(){var j;return(j=this.children[0])!==null&&j!==void 0?j:null},enumerable:!1,configurable:!0}),Object.defineProperty($.prototype,"lastChild",{get:function(){return this.children.length>0?this.children[this.children.length-1]:null},enumerable:!1,configurable:!0}),Object.defineProperty($.prototype,"childNodes",{get:function(){return this.children},set:function(j){this.children=j},enumerable:!1,configurable:!0}),$})(_);s.NodeWithChildren=S;var x=(function(H){function $(j){return H.call(this,h.ElementType.Root,j)||this}return p($,H),$})(S);s.Document=x;var N=(function(H){function $(j,rt,q,st){q===void 0&&(q=[]),st===void 0&&(st=j==="script"?h.ElementType.Script:j==="style"?h.ElementType.Style:h.ElementType.Tag);var vt=H.call(this,st,q)||this;return vt.name=j,vt.attribs=rt,vt}return p($,H),Object.defineProperty($.prototype,"tagName",{get:function(){return this.name},set:function(j){this.name=j},enumerable:!1,configurable:!0}),Object.defineProperty($.prototype,"attributes",{get:function(){var j=this;return Object.keys(this.attribs).map((function(rt){var q,st;return{name:rt,value:j.attribs[rt],namespace:(q=j["x-attribsNamespace"])===null||q===void 0?void 0:q[rt],prefix:(st=j["x-attribsPrefix"])===null||st===void 0?void 0:st[rt]}}))},enumerable:!1,configurable:!0}),$})(S);function b(H){return(0,h.isTag)(H)}function L(H){return H.type===h.ElementType.CDATA}function k(H){return H.type===h.ElementType.Text}function P(H){return H.type===h.ElementType.Comment}function D(H){return H.type===h.ElementType.Directive}function R(H){return H.type===h.ElementType.Root}function M(H,$){var j;if($===void 0&&($=!1),k(H))j=new w(H.data);else if(P(H))j=new C(H.data);else if(b(H)){var rt=$?z(H.children):[],q=new N(H.name,d({},H.attribs),rt);rt.forEach((function(pt){return pt.parent=q})),H.namespace!=null&&(q.namespace=H.namespace),H["x-attribsNamespace"]&&(q["x-attribsNamespace"]=d({},H["x-attribsNamespace"])),H["x-attribsPrefix"]&&(q["x-attribsPrefix"]=d({},H["x-attribsPrefix"])),j=q}else if(L(H)){rt=$?z(H.children):[];var st=new S(h.ElementType.CDATA,rt);rt.forEach((function(pt){return pt.parent=st})),j=st}else if(R(H)){rt=$?z(H.children):[];var vt=new x(rt);rt.forEach((function(pt){return pt.parent=vt})),H["x-mode"]&&(vt["x-mode"]=H["x-mode"]),j=vt}else{if(!D(H))throw new Error("Not implemented yet: ".concat(H.type));var St=new A(H.name,H.data);H["x-name"]!=null&&(St["x-name"]=H["x-name"],St["x-publicId"]=H["x-publicId"],St["x-systemId"]=H["x-systemId"]),j=St}return j.startIndex=H.startIndex,j.endIndex=H.endIndex,H.sourceCodeLocation!=null&&(j.sourceCodeLocation=H.sourceCodeLocation),j}function z(H){for(var $=H.map((function(rt){return M(rt,!0)})),j=1;j<$.length;j++)$[j].prev=$[j-1],$[j-1].next=$[j];return $}s.Element=N,s.isTag=b,s.isCDATA=L,s.isText=k,s.isComment=P,s.isDirective=D,s.isDocument=R,s.hasChildren=function(H){return Object.prototype.hasOwnProperty.call(H,"children")},s.cloneNode=M},6996:(l,s,f)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.getFeed=void 0;var u=f(3346),p=f(3905);s.getFeed=function(A){var S=_(C,A);return S?S.name==="feed"?(function(x){var N,b=x.children,L={type:"atom",items:(0,p.getElementsByTagName)("entry",b).map((function(D){var R,M=D.children,z={media:v(M)};w(z,"id","id",M),w(z,"title","title",M);var H=(R=_("link",M))===null||R===void 0?void 0:R.attribs.href;H&&(z.link=H);var $=T("summary",M)||T("content",M);$&&(z.description=$);var j=T("updated",M);return j&&(z.pubDate=new Date(j)),z}))};w(L,"id","id",b),w(L,"title","title",b);var k=(N=_("link",b))===null||N===void 0?void 0:N.attribs.href;k&&(L.link=k),w(L,"description","subtitle",b);var P=T("updated",b);return P&&(L.updated=new Date(P)),w(L,"author","email",b,!0),L})(S):(function(x){var N,b,L=(b=(N=_("channel",x.children))===null||N===void 0?void 0:N.children)!==null&&b!==void 0?b:[],k={type:x.name.substr(0,3),id:"",items:(0,p.getElementsByTagName)("item",x.children).map((function(D){var R=D.children,M={media:v(R)};w(M,"id","guid",R),w(M,"title","title",R),w(M,"link","link",R),w(M,"description","description",R);var z=T("pubDate",R);return z&&(M.pubDate=new Date(z)),M}))};w(k,"title","title",L),w(k,"link","link",L),w(k,"description","description",L);var P=T("lastBuildDate",L);return P&&(k.updated=new Date(P)),w(k,"author","managingEditor",L,!0),k})(S):null};var d=["url","type","lang"],h=["fileSize","bitrate","framerate","samplingrate","channels","duration","height","width"];function v(A){return(0,p.getElementsByTagName)("media:content",A).map((function(S){for(var x=S.attribs,N={medium:x.medium,isDefault:!!x.isDefault},b=0,L=d;b<L.length;b++)x[D=L[b]]&&(N[D]=x[D]);for(var k=0,P=h;k<P.length;k++){var D;x[D=P[k]]&&(N[D]=parseInt(x[D],10))}return x.expression&&(N.expression=x.expression),N}))}function _(A,S){return(0,p.getElementsByTagName)(A,S,!0,1)[0]}function T(A,S,x){return x===void 0&&(x=!1),(0,u.textContent)((0,p.getElementsByTagName)(A,S,x,1)).trim()}function w(A,S,x,N,b){b===void 0&&(b=!1);var L=T(x,N,b);L&&(A[S]=L)}function C(A){return A==="rss"||A==="feed"||A==="rdf:RDF"}},4975:(l,s,f)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.uniqueSort=s.compareDocumentPosition=s.removeSubsets=void 0;var u=f(7915);function p(d,h){var v=[],_=[];if(d===h)return 0;for(var T=(0,u.hasChildren)(d)?d:d.parent;T;)v.unshift(T),T=T.parent;for(T=(0,u.hasChildren)(h)?h:h.parent;T;)_.unshift(T),T=T.parent;for(var w=Math.min(v.length,_.length),C=0;C<w&&v[C]===_[C];)C++;if(C===0)return 1;var A=v[C-1],S=A.children,x=v[C],N=_[C];return S.indexOf(x)>S.indexOf(N)?A===h?20:4:A===d?10:2}s.removeSubsets=function(d){for(var h=d.length;--h>=0;){var v=d[h];if(h>0&&d.lastIndexOf(v,h-1)>=0)d.splice(h,1);else for(var _=v.parent;_;_=_.parent)if(d.includes(_)){d.splice(h,1);break}}return d},s.compareDocumentPosition=p,s.uniqueSort=function(d){return(d=d.filter((function(h,v,_){return!_.includes(h,v+1)}))).sort((function(h,v){var _=p(h,v);return 2&_?-1:4&_?1:0})),d}},9432:function(l,s,f){var u=this&&this.__createBinding||(Object.create?function(h,v,_,T){T===void 0&&(T=_),Object.defineProperty(h,T,{enumerable:!0,get:function(){return v[_]}})}:function(h,v,_,T){T===void 0&&(T=_),h[T]=v[_]}),p=this&&this.__exportStar||function(h,v){for(var _ in h)_==="default"||Object.prototype.hasOwnProperty.call(v,_)||u(v,h,_)};Object.defineProperty(s,"__esModule",{value:!0}),s.hasChildren=s.isDocument=s.isComment=s.isText=s.isCDATA=s.isTag=void 0,p(f(3346),s),p(f(5010),s),p(f(6765),s),p(f(8043),s),p(f(3905),s),p(f(4975),s),p(f(6996),s);var d=f(7915);Object.defineProperty(s,"isTag",{enumerable:!0,get:function(){return d.isTag}}),Object.defineProperty(s,"isCDATA",{enumerable:!0,get:function(){return d.isCDATA}}),Object.defineProperty(s,"isText",{enumerable:!0,get:function(){return d.isText}}),Object.defineProperty(s,"isComment",{enumerable:!0,get:function(){return d.isComment}}),Object.defineProperty(s,"isDocument",{enumerable:!0,get:function(){return d.isDocument}}),Object.defineProperty(s,"hasChildren",{enumerable:!0,get:function(){return d.hasChildren}})},3905:(l,s,f)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.getElementsByTagType=s.getElementsByTagName=s.getElementById=s.getElements=s.testElement=void 0;var u=f(7915),p=f(8043),d={tag_name:function(T){return typeof T=="function"?function(w){return(0,u.isTag)(w)&&T(w.name)}:T==="*"?u.isTag:function(w){return(0,u.isTag)(w)&&w.name===T}},tag_type:function(T){return typeof T=="function"?function(w){return T(w.type)}:function(w){return w.type===T}},tag_contains:function(T){return typeof T=="function"?function(w){return(0,u.isText)(w)&&T(w.data)}:function(w){return(0,u.isText)(w)&&w.data===T}}};function h(T,w){return typeof w=="function"?function(C){return(0,u.isTag)(C)&&w(C.attribs[T])}:function(C){return(0,u.isTag)(C)&&C.attribs[T]===w}}function v(T,w){return function(C){return T(C)||w(C)}}function _(T){var w=Object.keys(T).map((function(C){var A=T[C];return Object.prototype.hasOwnProperty.call(d,C)?d[C](A):h(C,A)}));return w.length===0?null:w.reduce(v)}s.testElement=function(T,w){var C=_(T);return!C||C(w)},s.getElements=function(T,w,C,A){A===void 0&&(A=1/0);var S=_(T);return S?(0,p.filter)(S,w,C,A):[]},s.getElementById=function(T,w,C){return C===void 0&&(C=!0),Array.isArray(w)||(w=[w]),(0,p.findOne)(h("id",T),w,C)},s.getElementsByTagName=function(T,w,C,A){return C===void 0&&(C=!0),A===void 0&&(A=1/0),(0,p.filter)(d.tag_name(T),w,C,A)},s.getElementsByTagType=function(T,w,C,A){return C===void 0&&(C=!0),A===void 0&&(A=1/0),(0,p.filter)(d.tag_type(T),w,C,A)}},6765:(l,s)=>{function f(u){if(u.prev&&(u.prev.next=u.next),u.next&&(u.next.prev=u.prev),u.parent){var p=u.parent.children;p.splice(p.lastIndexOf(u),1)}}Object.defineProperty(s,"__esModule",{value:!0}),s.prepend=s.prependChild=s.append=s.appendChild=s.replaceElement=s.removeElement=void 0,s.removeElement=f,s.replaceElement=function(u,p){var d=p.prev=u.prev;d&&(d.next=p);var h=p.next=u.next;h&&(h.prev=p);var v=p.parent=u.parent;if(v){var _=v.children;_[_.lastIndexOf(u)]=p}},s.appendChild=function(u,p){if(f(p),p.next=null,p.parent=u,u.children.push(p)>1){var d=u.children[u.children.length-2];d.next=p,p.prev=d}else p.prev=null},s.append=function(u,p){f(p);var d=u.parent,h=u.next;if(p.next=h,p.prev=u,u.next=p,p.parent=d,h){if(h.prev=p,d){var v=d.children;v.splice(v.lastIndexOf(h),0,p)}}else d&&d.children.push(p)},s.prependChild=function(u,p){if(f(p),p.parent=u,p.prev=null,u.children.unshift(p)!==1){var d=u.children[1];d.prev=p,p.next=d}else p.next=null},s.prepend=function(u,p){f(p);var d=u.parent;if(d){var h=d.children;h.splice(h.indexOf(u),0,p)}u.prev&&(u.prev.next=p),p.parent=d,p.prev=u.prev,p.next=u,u.prev=p}},8043:(l,s,f)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.findAll=s.existsOne=s.findOne=s.findOneChild=s.find=s.filter=void 0;var u=f(7915);function p(d,h,v,_){for(var T=[],w=0,C=h;w<C.length;w++){var A=C[w];if(d(A)&&(T.push(A),--_<=0))break;if(v&&(0,u.hasChildren)(A)&&A.children.length>0){var S=p(d,A.children,v,_);if(T.push.apply(T,S),(_-=S.length)<=0)break}}return T}s.filter=function(d,h,v,_){return v===void 0&&(v=!0),_===void 0&&(_=1/0),Array.isArray(h)||(h=[h]),p(d,h,v,_)},s.find=p,s.findOneChild=function(d,h){return h.find(d)},s.findOne=function d(h,v,_){_===void 0&&(_=!0);for(var T=null,w=0;w<v.length&&!T;w++){var C=v[w];(0,u.isTag)(C)&&(h(C)?T=C:_&&C.children.length>0&&(T=d(h,C.children)))}return T},s.existsOne=function d(h,v){return v.some((function(_){return(0,u.isTag)(_)&&(h(_)||_.children.length>0&&d(h,_.children))}))},s.findAll=function(d,h){for(var v,_,T=[],w=h.filter(u.isTag);_=w.shift();){var C=(v=_.children)===null||v===void 0?void 0:v.filter(u.isTag);C&&C.length>0&&w.unshift.apply(w,C),d(_)&&T.push(_)}return T}},3346:function(l,s,f){var u=this&&this.__importDefault||function(_){return _&&_.__esModule?_:{default:_}};Object.defineProperty(s,"__esModule",{value:!0}),s.innerText=s.textContent=s.getText=s.getInnerHTML=s.getOuterHTML=void 0;var p=f(7915),d=u(f(7220)),h=f(9960);function v(_,T){return(0,d.default)(_,T)}s.getOuterHTML=v,s.getInnerHTML=function(_,T){return(0,p.hasChildren)(_)?_.children.map((function(w){return v(w,T)})).join(""):""},s.getText=function _(T){return Array.isArray(T)?T.map(_).join(""):(0,p.isTag)(T)?T.name==="br"?`
`:_(T.children):(0,p.isCDATA)(T)?_(T.children):(0,p.isText)(T)?T.data:""},s.textContent=function _(T){return Array.isArray(T)?T.map(_).join(""):(0,p.hasChildren)(T)&&!(0,p.isComment)(T)?_(T.children):(0,p.isText)(T)?T.data:""},s.innerText=function _(T){return Array.isArray(T)?T.map(_).join(""):(0,p.hasChildren)(T)&&(T.type===h.ElementType.Tag||(0,p.isCDATA)(T))?_(T.children):(0,p.isText)(T)?T.data:""}},5010:(l,s,f)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.prevElementSibling=s.nextElementSibling=s.getName=s.hasAttrib=s.getAttributeValue=s.getSiblings=s.getParent=s.getChildren=void 0;var u=f(7915),p=[];function d(v){var _;return(_=v.children)!==null&&_!==void 0?_:p}function h(v){return v.parent||null}s.getChildren=d,s.getParent=h,s.getSiblings=function(v){var _=h(v);if(_!=null)return d(_);for(var T=[v],w=v.prev,C=v.next;w!=null;)T.unshift(w),w=w.prev;for(;C!=null;)T.push(C),C=C.next;return T},s.getAttributeValue=function(v,_){var T;return(T=v.attribs)===null||T===void 0?void 0:T[_]},s.hasAttrib=function(v,_){return v.attribs!=null&&Object.prototype.hasOwnProperty.call(v.attribs,_)&&v.attribs[_]!=null},s.getName=function(v){return v.name},s.nextElementSibling=function(v){for(var _=v.next;_!==null&&!(0,u.isTag)(_);)_=_.next;return _},s.prevElementSibling=function(v){for(var _=v.prev;_!==null&&!(0,u.isTag)(_);)_=_.prev;return _}},4076:function(l,s,f){var u=this&&this.__importDefault||function(A){return A&&A.__esModule?A:{default:A}};Object.defineProperty(s,"__esModule",{value:!0}),s.decodeHTML=s.decodeHTMLStrict=s.decodeXML=void 0;var p=u(f(9323)),d=u(f(9591)),h=u(f(2586)),v=u(f(26)),_=/&(?:[a-zA-Z0-9]+|#[xX][\da-fA-F]+|#\d+);/g;function T(A){var S=C(A);return function(x){return String(x).replace(_,S)}}s.decodeXML=T(h.default),s.decodeHTMLStrict=T(p.default);var w=function(A,S){return A<S?1:-1};function C(A){return function(S){if(S.charAt(1)==="#"){var x=S.charAt(2);return x==="X"||x==="x"?v.default(parseInt(S.substr(3),16)):v.default(parseInt(S.substr(2),10))}return A[S.slice(1,-1)]||S}}s.decodeHTML=(function(){for(var A=Object.keys(d.default).sort(w),S=Object.keys(p.default).sort(w),x=0,N=0;x<S.length;x++)A[N]===S[x]?(S[x]+=";?",N++):S[x]+=";";var b=new RegExp("&(?:"+S.join("|")+"|#[xX][\\da-fA-F]+;?|#\\d+;?)","g"),L=C(p.default);function k(P){return P.substr(-1)!==";"&&(P+=";"),L(P)}return function(P){return String(P).replace(b,k)}})()},26:function(l,s,f){var u=this&&this.__importDefault||function(h){return h&&h.__esModule?h:{default:h}};Object.defineProperty(s,"__esModule",{value:!0});var p=u(f(3600)),d=String.fromCodePoint||function(h){var v="";return h>65535&&(h-=65536,v+=String.fromCharCode(h>>>10&1023|55296),h=56320|1023&h),v+=String.fromCharCode(h)};s.default=function(h){return h>=55296&&h<=57343||h>1114111?"�":(h in p.default&&(h=p.default[h]),d(h))}},7322:function(l,s,f){var u=this&&this.__importDefault||function(L){return L&&L.__esModule?L:{default:L}};Object.defineProperty(s,"__esModule",{value:!0}),s.escapeUTF8=s.escape=s.encodeNonAsciiHTML=s.encodeHTML=s.encodeXML=void 0;var p=w(u(f(2586)).default),d=C(p);s.encodeXML=b(p);var h,v,_=w(u(f(9323)).default),T=C(_);function w(L){return Object.keys(L).sort().reduce((function(k,P){return k[L[P]]="&"+P+";",k}),{})}function C(L){for(var k=[],P=[],D=0,R=Object.keys(L);D<R.length;D++){var M=R[D];M.length===1?k.push("\\"+M):P.push(M)}k.sort();for(var z=0;z<k.length-1;z++){for(var H=z;H<k.length-1&&k[H].charCodeAt(1)+1===k[H+1].charCodeAt(1);)H+=1;var $=1+H-z;$<3||k.splice(z,$,k[z]+"-"+k[H])}return P.unshift("["+k.join("")+"]"),new RegExp(P.join("|"),"g")}s.encodeHTML=(h=_,v=T,function(L){return L.replace(v,(function(k){return h[k]})).replace(A,x)}),s.encodeNonAsciiHTML=b(_);var A=/(?:[\x80-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/g,S=String.prototype.codePointAt!=null?function(L){return L.codePointAt(0)}:function(L){return 1024*(L.charCodeAt(0)-55296)+L.charCodeAt(1)-56320+65536};function x(L){return"&#x"+(L.length>1?S(L):L.charCodeAt(0)).toString(16).toUpperCase()+";"}var N=new RegExp(d.source+"|"+A.source,"g");function b(L){return function(k){return k.replace(N,(function(P){return L[P]||x(P)}))}}s.escape=function(L){return L.replace(N,x)},s.escapeUTF8=function(L){return L.replace(d,x)}},5863:(l,s,f)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.decodeXMLStrict=s.decodeHTML5Strict=s.decodeHTML4Strict=s.decodeHTML5=s.decodeHTML4=s.decodeHTMLStrict=s.decodeHTML=s.decodeXML=s.encodeHTML5=s.encodeHTML4=s.escapeUTF8=s.escape=s.encodeNonAsciiHTML=s.encodeHTML=s.encodeXML=s.encode=s.decodeStrict=s.decode=void 0;var u=f(4076),p=f(7322);s.decode=function(v,_){return(!_||_<=0?u.decodeXML:u.decodeHTML)(v)},s.decodeStrict=function(v,_){return(!_||_<=0?u.decodeXML:u.decodeHTMLStrict)(v)},s.encode=function(v,_){return(!_||_<=0?p.encodeXML:p.encodeHTML)(v)};var d=f(7322);Object.defineProperty(s,"encodeXML",{enumerable:!0,get:function(){return d.encodeXML}}),Object.defineProperty(s,"encodeHTML",{enumerable:!0,get:function(){return d.encodeHTML}}),Object.defineProperty(s,"encodeNonAsciiHTML",{enumerable:!0,get:function(){return d.encodeNonAsciiHTML}}),Object.defineProperty(s,"escape",{enumerable:!0,get:function(){return d.escape}}),Object.defineProperty(s,"escapeUTF8",{enumerable:!0,get:function(){return d.escapeUTF8}}),Object.defineProperty(s,"encodeHTML4",{enumerable:!0,get:function(){return d.encodeHTML}}),Object.defineProperty(s,"encodeHTML5",{enumerable:!0,get:function(){return d.encodeHTML}});var h=f(4076);Object.defineProperty(s,"decodeXML",{enumerable:!0,get:function(){return h.decodeXML}}),Object.defineProperty(s,"decodeHTML",{enumerable:!0,get:function(){return h.decodeHTML}}),Object.defineProperty(s,"decodeHTMLStrict",{enumerable:!0,get:function(){return h.decodeHTMLStrict}}),Object.defineProperty(s,"decodeHTML4",{enumerable:!0,get:function(){return h.decodeHTML}}),Object.defineProperty(s,"decodeHTML5",{enumerable:!0,get:function(){return h.decodeHTML}}),Object.defineProperty(s,"decodeHTML4Strict",{enumerable:!0,get:function(){return h.decodeHTMLStrict}}),Object.defineProperty(s,"decodeHTML5Strict",{enumerable:!0,get:function(){return h.decodeHTMLStrict}}),Object.defineProperty(s,"decodeXMLStrict",{enumerable:!0,get:function(){return h.decodeXML}})},3870:function(l,s,f){var u,p=this&&this.__extends||(u=function(M,z){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(H,$){H.__proto__=$}||function(H,$){for(var j in $)Object.prototype.hasOwnProperty.call($,j)&&(H[j]=$[j])},u(M,z)},function(M,z){if(typeof z!="function"&&z!==null)throw new TypeError("Class extends value "+String(z)+" is not a constructor or null");function H(){this.constructor=M}u(M,z),M.prototype=z===null?Object.create(z):(H.prototype=z.prototype,new H)}),d=this&&this.__createBinding||(Object.create?function(M,z,H,$){$===void 0&&($=H),Object.defineProperty(M,$,{enumerable:!0,get:function(){return z[H]}})}:function(M,z,H,$){$===void 0&&($=H),M[$]=z[H]}),h=this&&this.__setModuleDefault||(Object.create?function(M,z){Object.defineProperty(M,"default",{enumerable:!0,value:z})}:function(M,z){M.default=z}),v=this&&this.__importStar||function(M){if(M&&M.__esModule)return M;var z={};if(M!=null)for(var H in M)H!=="default"&&Object.prototype.hasOwnProperty.call(M,H)&&d(z,M,H);return h(z,M),z},_=this&&this.__importDefault||function(M){return M&&M.__esModule?M:{default:M}};Object.defineProperty(s,"__esModule",{value:!0}),s.parseFeed=s.FeedHandler=void 0;var T,w,C=_(f(7915)),A=v(f(9432)),S=f(763);(function(M){M[M.image=0]="image",M[M.audio=1]="audio",M[M.video=2]="video",M[M.document=3]="document",M[M.executable=4]="executable"})(T||(T={})),(function(M){M[M.sample=0]="sample",M[M.full=1]="full",M[M.nonstop=2]="nonstop"})(w||(w={}));var x=(function(M){function z(H,$){return typeof H=="object"&&($=H=void 0),M.call(this,H,$)||this}return p(z,M),z.prototype.onend=function(){var H,$,j=L(R,this.dom);if(j){var rt={};if(j.name==="feed"){var q=j.children;rt.type="atom",D(rt,"id","id",q),D(rt,"title","title",q);var st=P("href",L("link",q));st&&(rt.link=st),D(rt,"description","subtitle",q),(vt=k("updated",q))&&(rt.updated=new Date(vt)),D(rt,"author","email",q,!0),rt.items=b("entry",q).map((function(St){var pt={},bt=St.children;D(pt,"id","id",bt),D(pt,"title","title",bt);var at=P("href",L("link",bt));at&&(pt.link=at);var lt=k("summary",bt)||k("content",bt);lt&&(pt.description=lt);var Et=k("updated",bt);return Et&&(pt.pubDate=new Date(Et)),pt.media=N(bt),pt}))}else{var vt;q=($=(H=L("channel",j.children))===null||H===void 0?void 0:H.children)!==null&&$!==void 0?$:[],rt.type=j.name.substr(0,3),rt.id="",D(rt,"title","title",q),D(rt,"link","link",q),D(rt,"description","description",q),(vt=k("lastBuildDate",q))&&(rt.updated=new Date(vt)),D(rt,"author","managingEditor",q,!0),rt.items=b("item",j.children).map((function(St){var pt={},bt=St.children;D(pt,"id","guid",bt),D(pt,"title","title",bt),D(pt,"link","link",bt),D(pt,"description","description",bt);var at=k("pubDate",bt);return at&&(pt.pubDate=new Date(at)),pt.media=N(bt),pt}))}this.feed=rt,this.handleCallback(null)}else this.handleCallback(new Error("couldn't find root of feed"))},z})(C.default);function N(M){return b("media:content",M).map((function(z){var H={medium:z.attribs.medium,isDefault:!!z.attribs.isDefault};return z.attribs.url&&(H.url=z.attribs.url),z.attribs.fileSize&&(H.fileSize=parseInt(z.attribs.fileSize,10)),z.attribs.type&&(H.type=z.attribs.type),z.attribs.expression&&(H.expression=z.attribs.expression),z.attribs.bitrate&&(H.bitrate=parseInt(z.attribs.bitrate,10)),z.attribs.framerate&&(H.framerate=parseInt(z.attribs.framerate,10)),z.attribs.samplingrate&&(H.samplingrate=parseInt(z.attribs.samplingrate,10)),z.attribs.channels&&(H.channels=parseInt(z.attribs.channels,10)),z.attribs.duration&&(H.duration=parseInt(z.attribs.duration,10)),z.attribs.height&&(H.height=parseInt(z.attribs.height,10)),z.attribs.width&&(H.width=parseInt(z.attribs.width,10)),z.attribs.lang&&(H.lang=z.attribs.lang),H}))}function b(M,z){return A.getElementsByTagName(M,z,!0)}function L(M,z){return A.getElementsByTagName(M,z,!0,1)[0]}function k(M,z,H){return H===void 0&&(H=!1),A.getText(A.getElementsByTagName(M,z,H,1)).trim()}function P(M,z){return z?z.attribs[M]:null}function D(M,z,H,$,j){j===void 0&&(j=!1);var rt=k(H,$,j);rt&&(M[z]=rt)}function R(M){return M==="rss"||M==="feed"||M==="rdf:RDF"}s.FeedHandler=x,s.parseFeed=function(M,z){z===void 0&&(z={xmlMode:!0});var H=new x(z);return new S.Parser(H,z).end(M),H.feed}},763:function(l,s,f){var u=this&&this.__importDefault||function(S){return S&&S.__esModule?S:{default:S}};Object.defineProperty(s,"__esModule",{value:!0}),s.Parser=void 0;var p=u(f(9889)),d=new Set(["input","option","optgroup","select","button","datalist","textarea"]),h=new Set(["p"]),v={tr:new Set(["tr","th","td"]),th:new Set(["th"]),td:new Set(["thead","th","td"]),body:new Set(["head","link","script"]),li:new Set(["li"]),p:h,h1:h,h2:h,h3:h,h4:h,h5:h,h6:h,select:d,input:d,output:d,button:d,datalist:d,textarea:d,option:new Set(["option"]),optgroup:new Set(["optgroup","option"]),dd:new Set(["dt","dd"]),dt:new Set(["dt","dd"]),address:h,article:h,aside:h,blockquote:h,details:h,div:h,dl:h,fieldset:h,figcaption:h,figure:h,footer:h,form:h,header:h,hr:h,main:h,nav:h,ol:h,pre:h,section:h,table:h,ul:h,rt:new Set(["rt","rp"]),rp:new Set(["rt","rp"]),tbody:new Set(["thead","tbody"]),tfoot:new Set(["thead","tbody"])},_=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]),T=new Set(["math","svg"]),w=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignObject","desc","title"]),C=/\s|\//,A=(function(){function S(x,N){var b,L,k,P,D;N===void 0&&(N={}),this.startIndex=0,this.endIndex=null,this.tagname="",this.attribname="",this.attribvalue="",this.attribs=null,this.stack=[],this.foreignContext=[],this.options=N,this.cbs=x??{},this.lowerCaseTagNames=(b=N.lowerCaseTags)!==null&&b!==void 0?b:!N.xmlMode,this.lowerCaseAttributeNames=(L=N.lowerCaseAttributeNames)!==null&&L!==void 0?L:!N.xmlMode,this.tokenizer=new((k=N.Tokenizer)!==null&&k!==void 0?k:p.default)(this.options,this),(D=(P=this.cbs).onparserinit)===null||D===void 0||D.call(P,this)}return S.prototype.updatePosition=function(x){this.endIndex===null?this.tokenizer.sectionStart<=x?this.startIndex=0:this.startIndex=this.tokenizer.sectionStart-x:this.startIndex=this.endIndex+1,this.endIndex=this.tokenizer.getAbsoluteIndex()},S.prototype.ontext=function(x){var N,b;this.updatePosition(1),this.endIndex--,(b=(N=this.cbs).ontext)===null||b===void 0||b.call(N,x)},S.prototype.onopentagname=function(x){var N,b;if(this.lowerCaseTagNames&&(x=x.toLowerCase()),this.tagname=x,!this.options.xmlMode&&Object.prototype.hasOwnProperty.call(v,x))for(var L=void 0;this.stack.length>0&&v[x].has(L=this.stack[this.stack.length-1]);)this.onclosetag(L);!this.options.xmlMode&&_.has(x)||(this.stack.push(x),T.has(x)?this.foreignContext.push(!0):w.has(x)&&this.foreignContext.push(!1)),(b=(N=this.cbs).onopentagname)===null||b===void 0||b.call(N,x),this.cbs.onopentag&&(this.attribs={})},S.prototype.onopentagend=function(){var x,N;this.updatePosition(1),this.attribs&&((N=(x=this.cbs).onopentag)===null||N===void 0||N.call(x,this.tagname,this.attribs),this.attribs=null),!this.options.xmlMode&&this.cbs.onclosetag&&_.has(this.tagname)&&this.cbs.onclosetag(this.tagname),this.tagname=""},S.prototype.onclosetag=function(x){if(this.updatePosition(1),this.lowerCaseTagNames&&(x=x.toLowerCase()),(T.has(x)||w.has(x))&&this.foreignContext.pop(),!this.stack.length||!this.options.xmlMode&&_.has(x))this.options.xmlMode||x!=="br"&&x!=="p"||(this.onopentagname(x),this.closeCurrentTag());else{var N=this.stack.lastIndexOf(x);if(N!==-1)if(this.cbs.onclosetag)for(N=this.stack.length-N;N--;)this.cbs.onclosetag(this.stack.pop());else this.stack.length=N;else x!=="p"||this.options.xmlMode||(this.onopentagname(x),this.closeCurrentTag())}},S.prototype.onselfclosingtag=function(){this.options.xmlMode||this.options.recognizeSelfClosing||this.foreignContext[this.foreignContext.length-1]?this.closeCurrentTag():this.onopentagend()},S.prototype.closeCurrentTag=function(){var x,N,b=this.tagname;this.onopentagend(),this.stack[this.stack.length-1]===b&&((N=(x=this.cbs).onclosetag)===null||N===void 0||N.call(x,b),this.stack.pop())},S.prototype.onattribname=function(x){this.lowerCaseAttributeNames&&(x=x.toLowerCase()),this.attribname=x},S.prototype.onattribdata=function(x){this.attribvalue+=x},S.prototype.onattribend=function(x){var N,b;(b=(N=this.cbs).onattribute)===null||b===void 0||b.call(N,this.attribname,this.attribvalue,x),this.attribs&&!Object.prototype.hasOwnProperty.call(this.attribs,this.attribname)&&(this.attribs[this.attribname]=this.attribvalue),this.attribname="",this.attribvalue=""},S.prototype.getInstructionName=function(x){var N=x.search(C),b=N<0?x:x.substr(0,N);return this.lowerCaseTagNames&&(b=b.toLowerCase()),b},S.prototype.ondeclaration=function(x){if(this.cbs.onprocessinginstruction){var N=this.getInstructionName(x);this.cbs.onprocessinginstruction("!"+N,"!"+x)}},S.prototype.onprocessinginstruction=function(x){if(this.cbs.onprocessinginstruction){var N=this.getInstructionName(x);this.cbs.onprocessinginstruction("?"+N,"?"+x)}},S.prototype.oncomment=function(x){var N,b,L,k;this.updatePosition(4),(b=(N=this.cbs).oncomment)===null||b===void 0||b.call(N,x),(k=(L=this.cbs).oncommentend)===null||k===void 0||k.call(L)},S.prototype.oncdata=function(x){var N,b,L,k,P,D;this.updatePosition(1),this.options.xmlMode||this.options.recognizeCDATA?((b=(N=this.cbs).oncdatastart)===null||b===void 0||b.call(N),(k=(L=this.cbs).ontext)===null||k===void 0||k.call(L,x),(D=(P=this.cbs).oncdataend)===null||D===void 0||D.call(P)):this.oncomment("[CDATA["+x+"]]")},S.prototype.onerror=function(x){var N,b;(b=(N=this.cbs).onerror)===null||b===void 0||b.call(N,x)},S.prototype.onend=function(){var x,N;if(this.cbs.onclosetag)for(var b=this.stack.length;b>0;this.cbs.onclosetag(this.stack[--b]));(N=(x=this.cbs).onend)===null||N===void 0||N.call(x)},S.prototype.reset=function(){var x,N,b,L;(N=(x=this.cbs).onreset)===null||N===void 0||N.call(x),this.tokenizer.reset(),this.tagname="",this.attribname="",this.attribs=null,this.stack=[],(L=(b=this.cbs).onparserinit)===null||L===void 0||L.call(b,this)},S.prototype.parseComplete=function(x){this.reset(),this.end(x)},S.prototype.write=function(x){this.tokenizer.write(x)},S.prototype.end=function(x){this.tokenizer.end(x)},S.prototype.pause=function(){this.tokenizer.pause()},S.prototype.resume=function(){this.tokenizer.resume()},S.prototype.parseChunk=function(x){this.write(x)},S.prototype.done=function(x){this.end(x)},S})();s.Parser=A},9889:function(l,s,f){var u=this&&this.__importDefault||function(xt){return xt&&xt.__esModule?xt:{default:xt}};Object.defineProperty(s,"__esModule",{value:!0});var p=u(f(26)),d=u(f(9323)),h=u(f(9591)),v=u(f(2586));function _(xt){return xt===" "||xt===`
`||xt==="	"||xt==="\f"||xt==="\r"}function T(xt){return xt>="a"&&xt<="z"||xt>="A"&&xt<="Z"}function w(xt,ot,Vt){var mt=xt.toLowerCase();return xt===mt?function(Ft,Kt){Kt===mt?Ft._state=ot:(Ft._state=Vt,Ft._index--)}:function(Ft,Kt){Kt===mt||Kt===xt?Ft._state=ot:(Ft._state=Vt,Ft._index--)}}function C(xt,ot){var Vt=xt.toLowerCase();return function(mt,Ft){Ft===Vt||Ft===xt?mt._state=ot:(mt._state=3,mt._index--)}}var A=w("C",24,16),S=w("D",25,16),x=w("A",26,16),N=w("T",27,16),b=w("A",28,16),L=C("R",35),k=C("I",36),P=C("P",37),D=C("T",38),R=w("R",40,1),M=w("I",41,1),z=w("P",42,1),H=w("T",43,1),$=C("Y",45),j=C("L",46),rt=C("E",47),q=w("Y",49,1),st=w("L",50,1),vt=w("E",51,1),St=C("I",54),pt=C("T",55),bt=C("L",56),at=C("E",57),lt=w("I",58,1),Et=w("T",59,1),yt=w("L",60,1),Ot=w("E",61,1),zt=w("#",63,64),Bt=w("X",66,65),Ut=(function(){function xt(ot,Vt){var mt;this._state=1,this.buffer="",this.sectionStart=0,this._index=0,this.bufferOffset=0,this.baseState=1,this.special=1,this.running=!0,this.ended=!1,this.cbs=Vt,this.xmlMode=!!ot?.xmlMode,this.decodeEntities=(mt=ot?.decodeEntities)===null||mt===void 0||mt}return xt.prototype.reset=function(){this._state=1,this.buffer="",this.sectionStart=0,this._index=0,this.bufferOffset=0,this.baseState=1,this.special=1,this.running=!0,this.ended=!1},xt.prototype.write=function(ot){this.ended&&this.cbs.onerror(Error(".write() after done!")),this.buffer+=ot,this.parse()},xt.prototype.end=function(ot){this.ended&&this.cbs.onerror(Error(".end() after done!")),ot&&this.write(ot),this.ended=!0,this.running&&this.finish()},xt.prototype.pause=function(){this.running=!1},xt.prototype.resume=function(){this.running=!0,this._index<this.buffer.length&&this.parse(),this.ended&&this.finish()},xt.prototype.getAbsoluteIndex=function(){return this.bufferOffset+this._index},xt.prototype.stateText=function(ot){ot==="<"?(this._index>this.sectionStart&&this.cbs.ontext(this.getSection()),this._state=2,this.sectionStart=this._index):!this.decodeEntities||ot!=="&"||this.special!==1&&this.special!==4||(this._index>this.sectionStart&&this.cbs.ontext(this.getSection()),this.baseState=1,this._state=62,this.sectionStart=this._index)},xt.prototype.isTagStartChar=function(ot){return T(ot)||this.xmlMode&&!_(ot)&&ot!=="/"&&ot!==">"},xt.prototype.stateBeforeTagName=function(ot){ot==="/"?this._state=5:ot==="<"?(this.cbs.ontext(this.getSection()),this.sectionStart=this._index):ot===">"||this.special!==1||_(ot)?this._state=1:ot==="!"?(this._state=15,this.sectionStart=this._index+1):ot==="?"?(this._state=17,this.sectionStart=this._index+1):this.isTagStartChar(ot)?(this._state=this.xmlMode||ot!=="s"&&ot!=="S"?this.xmlMode||ot!=="t"&&ot!=="T"?3:52:32,this.sectionStart=this._index):this._state=1},xt.prototype.stateInTagName=function(ot){(ot==="/"||ot===">"||_(ot))&&(this.emitToken("onopentagname"),this._state=8,this._index--)},xt.prototype.stateBeforeClosingTagName=function(ot){_(ot)||(ot===">"?this._state=1:this.special!==1?this.special===4||ot!=="s"&&ot!=="S"?this.special!==4||ot!=="t"&&ot!=="T"?(this._state=1,this._index--):this._state=53:this._state=33:this.isTagStartChar(ot)?(this._state=6,this.sectionStart=this._index):(this._state=20,this.sectionStart=this._index))},xt.prototype.stateInClosingTagName=function(ot){(ot===">"||_(ot))&&(this.emitToken("onclosetag"),this._state=7,this._index--)},xt.prototype.stateAfterClosingTagName=function(ot){ot===">"&&(this._state=1,this.sectionStart=this._index+1)},xt.prototype.stateBeforeAttributeName=function(ot){ot===">"?(this.cbs.onopentagend(),this._state=1,this.sectionStart=this._index+1):ot==="/"?this._state=4:_(ot)||(this._state=9,this.sectionStart=this._index)},xt.prototype.stateInSelfClosingTag=function(ot){ot===">"?(this.cbs.onselfclosingtag(),this._state=1,this.sectionStart=this._index+1,this.special=1):_(ot)||(this._state=8,this._index--)},xt.prototype.stateInAttributeName=function(ot){(ot==="="||ot==="/"||ot===">"||_(ot))&&(this.cbs.onattribname(this.getSection()),this.sectionStart=-1,this._state=10,this._index--)},xt.prototype.stateAfterAttributeName=function(ot){ot==="="?this._state=11:ot==="/"||ot===">"?(this.cbs.onattribend(void 0),this._state=8,this._index--):_(ot)||(this.cbs.onattribend(void 0),this._state=9,this.sectionStart=this._index)},xt.prototype.stateBeforeAttributeValue=function(ot){ot==='"'?(this._state=12,this.sectionStart=this._index+1):ot==="'"?(this._state=13,this.sectionStart=this._index+1):_(ot)||(this._state=14,this.sectionStart=this._index,this._index--)},xt.prototype.handleInAttributeValue=function(ot,Vt){ot===Vt?(this.emitToken("onattribdata"),this.cbs.onattribend(Vt),this._state=8):this.decodeEntities&&ot==="&"&&(this.emitToken("onattribdata"),this.baseState=this._state,this._state=62,this.sectionStart=this._index)},xt.prototype.stateInAttributeValueDoubleQuotes=function(ot){this.handleInAttributeValue(ot,'"')},xt.prototype.stateInAttributeValueSingleQuotes=function(ot){this.handleInAttributeValue(ot,"'")},xt.prototype.stateInAttributeValueNoQuotes=function(ot){_(ot)||ot===">"?(this.emitToken("onattribdata"),this.cbs.onattribend(null),this._state=8,this._index--):this.decodeEntities&&ot==="&"&&(this.emitToken("onattribdata"),this.baseState=this._state,this._state=62,this.sectionStart=this._index)},xt.prototype.stateBeforeDeclaration=function(ot){this._state=ot==="["?23:ot==="-"?18:16},xt.prototype.stateInDeclaration=function(ot){ot===">"&&(this.cbs.ondeclaration(this.getSection()),this._state=1,this.sectionStart=this._index+1)},xt.prototype.stateInProcessingInstruction=function(ot){ot===">"&&(this.cbs.onprocessinginstruction(this.getSection()),this._state=1,this.sectionStart=this._index+1)},xt.prototype.stateBeforeComment=function(ot){ot==="-"?(this._state=19,this.sectionStart=this._index+1):this._state=16},xt.prototype.stateInComment=function(ot){ot==="-"&&(this._state=21)},xt.prototype.stateInSpecialComment=function(ot){ot===">"&&(this.cbs.oncomment(this.buffer.substring(this.sectionStart,this._index)),this._state=1,this.sectionStart=this._index+1)},xt.prototype.stateAfterComment1=function(ot){this._state=ot==="-"?22:19},xt.prototype.stateAfterComment2=function(ot){ot===">"?(this.cbs.oncomment(this.buffer.substring(this.sectionStart,this._index-2)),this._state=1,this.sectionStart=this._index+1):ot!=="-"&&(this._state=19)},xt.prototype.stateBeforeCdata6=function(ot){ot==="["?(this._state=29,this.sectionStart=this._index+1):(this._state=16,this._index--)},xt.prototype.stateInCdata=function(ot){ot==="]"&&(this._state=30)},xt.prototype.stateAfterCdata1=function(ot){this._state=ot==="]"?31:29},xt.prototype.stateAfterCdata2=function(ot){ot===">"?(this.cbs.oncdata(this.buffer.substring(this.sectionStart,this._index-2)),this._state=1,this.sectionStart=this._index+1):ot!=="]"&&(this._state=29)},xt.prototype.stateBeforeSpecialS=function(ot){ot==="c"||ot==="C"?this._state=34:ot==="t"||ot==="T"?this._state=44:(this._state=3,this._index--)},xt.prototype.stateBeforeSpecialSEnd=function(ot){this.special!==2||ot!=="c"&&ot!=="C"?this.special!==3||ot!=="t"&&ot!=="T"?this._state=1:this._state=48:this._state=39},xt.prototype.stateBeforeSpecialLast=function(ot,Vt){(ot==="/"||ot===">"||_(ot))&&(this.special=Vt),this._state=3,this._index--},xt.prototype.stateAfterSpecialLast=function(ot,Vt){ot===">"||_(ot)?(this.special=1,this._state=6,this.sectionStart=this._index-Vt,this._index--):this._state=1},xt.prototype.parseFixedEntity=function(ot){if(ot===void 0&&(ot=this.xmlMode?v.default:d.default),this.sectionStart+1<this._index){var Vt=this.buffer.substring(this.sectionStart+1,this._index);Object.prototype.hasOwnProperty.call(ot,Vt)&&(this.emitPartial(ot[Vt]),this.sectionStart=this._index+1)}},xt.prototype.parseLegacyEntity=function(){for(var ot=this.sectionStart+1,Vt=Math.min(this._index-ot,6);Vt>=2;){var mt=this.buffer.substr(ot,Vt);if(Object.prototype.hasOwnProperty.call(h.default,mt))return this.emitPartial(h.default[mt]),void(this.sectionStart+=Vt+1);Vt--}},xt.prototype.stateInNamedEntity=function(ot){ot===";"?(this.parseFixedEntity(),this.baseState===1&&this.sectionStart+1<this._index&&!this.xmlMode&&this.parseLegacyEntity(),this._state=this.baseState):(ot<"0"||ot>"9")&&!T(ot)&&(this.xmlMode||this.sectionStart+1===this._index||(this.baseState!==1?ot!=="="&&this.parseFixedEntity(h.default):this.parseLegacyEntity()),this._state=this.baseState,this._index--)},xt.prototype.decodeNumericEntity=function(ot,Vt,mt){var Ft=this.sectionStart+ot;if(Ft!==this._index){var Kt=this.buffer.substring(Ft,this._index),W=parseInt(Kt,Vt);this.emitPartial(p.default(W)),this.sectionStart=mt?this._index+1:this._index}this._state=this.baseState},xt.prototype.stateInNumericEntity=function(ot){ot===";"?this.decodeNumericEntity(2,10,!0):(ot<"0"||ot>"9")&&(this.xmlMode?this._state=this.baseState:this.decodeNumericEntity(2,10,!1),this._index--)},xt.prototype.stateInHexEntity=function(ot){ot===";"?this.decodeNumericEntity(3,16,!0):(ot<"a"||ot>"f")&&(ot<"A"||ot>"F")&&(ot<"0"||ot>"9")&&(this.xmlMode?this._state=this.baseState:this.decodeNumericEntity(3,16,!1),this._index--)},xt.prototype.cleanup=function(){this.sectionStart<0?(this.buffer="",this.bufferOffset+=this._index,this._index=0):this.running&&(this._state===1?(this.sectionStart!==this._index&&this.cbs.ontext(this.buffer.substr(this.sectionStart)),this.buffer="",this.bufferOffset+=this._index,this._index=0):this.sectionStart===this._index?(this.buffer="",this.bufferOffset+=this._index,this._index=0):(this.buffer=this.buffer.substr(this.sectionStart),this._index-=this.sectionStart,this.bufferOffset+=this.sectionStart),this.sectionStart=0)},xt.prototype.parse=function(){for(;this._index<this.buffer.length&&this.running;){var ot=this.buffer.charAt(this._index);this._state===1?this.stateText(ot):this._state===12?this.stateInAttributeValueDoubleQuotes(ot):this._state===9?this.stateInAttributeName(ot):this._state===19?this.stateInComment(ot):this._state===20?this.stateInSpecialComment(ot):this._state===8?this.stateBeforeAttributeName(ot):this._state===3?this.stateInTagName(ot):this._state===6?this.stateInClosingTagName(ot):this._state===2?this.stateBeforeTagName(ot):this._state===10?this.stateAfterAttributeName(ot):this._state===13?this.stateInAttributeValueSingleQuotes(ot):this._state===11?this.stateBeforeAttributeValue(ot):this._state===5?this.stateBeforeClosingTagName(ot):this._state===7?this.stateAfterClosingTagName(ot):this._state===32?this.stateBeforeSpecialS(ot):this._state===21?this.stateAfterComment1(ot):this._state===14?this.stateInAttributeValueNoQuotes(ot):this._state===4?this.stateInSelfClosingTag(ot):this._state===16?this.stateInDeclaration(ot):this._state===15?this.stateBeforeDeclaration(ot):this._state===22?this.stateAfterComment2(ot):this._state===18?this.stateBeforeComment(ot):this._state===33?this.stateBeforeSpecialSEnd(ot):this._state===53?lt(this,ot):this._state===39?R(this,ot):this._state===40?M(this,ot):this._state===41?z(this,ot):this._state===34?L(this,ot):this._state===35?k(this,ot):this._state===36?P(this,ot):this._state===37?D(this,ot):this._state===38?this.stateBeforeSpecialLast(ot,2):this._state===42?H(this,ot):this._state===43?this.stateAfterSpecialLast(ot,6):this._state===44?$(this,ot):this._state===29?this.stateInCdata(ot):this._state===45?j(this,ot):this._state===46?rt(this,ot):this._state===47?this.stateBeforeSpecialLast(ot,3):this._state===48?q(this,ot):this._state===49?st(this,ot):this._state===50?vt(this,ot):this._state===51?this.stateAfterSpecialLast(ot,5):this._state===52?St(this,ot):this._state===54?pt(this,ot):this._state===55?bt(this,ot):this._state===56?at(this,ot):this._state===57?this.stateBeforeSpecialLast(ot,4):this._state===58?Et(this,ot):this._state===59?yt(this,ot):this._state===60?Ot(this,ot):this._state===61?this.stateAfterSpecialLast(ot,5):this._state===17?this.stateInProcessingInstruction(ot):this._state===64?this.stateInNamedEntity(ot):this._state===23?A(this,ot):this._state===62?zt(this,ot):this._state===24?S(this,ot):this._state===25?x(this,ot):this._state===30?this.stateAfterCdata1(ot):this._state===31?this.stateAfterCdata2(ot):this._state===26?N(this,ot):this._state===27?b(this,ot):this._state===28?this.stateBeforeCdata6(ot):this._state===66?this.stateInHexEntity(ot):this._state===65?this.stateInNumericEntity(ot):this._state===63?Bt(this,ot):this.cbs.onerror(Error("unknown _state"),this._state),this._index++}this.cleanup()},xt.prototype.finish=function(){this.sectionStart<this._index&&this.handleTrailingData(),this.cbs.onend()},xt.prototype.handleTrailingData=function(){var ot=this.buffer.substr(this.sectionStart);this._state===29||this._state===30||this._state===31?this.cbs.oncdata(ot):this._state===19||this._state===21||this._state===22?this.cbs.oncomment(ot):this._state!==64||this.xmlMode?this._state!==65||this.xmlMode?this._state!==66||this.xmlMode?this._state!==3&&this._state!==8&&this._state!==11&&this._state!==10&&this._state!==9&&this._state!==13&&this._state!==12&&this._state!==14&&this._state!==6&&this.cbs.ontext(ot):(this.decodeNumericEntity(3,16,!1),this.sectionStart<this._index&&(this._state=this.baseState,this.handleTrailingData())):(this.decodeNumericEntity(2,10,!1),this.sectionStart<this._index&&(this._state=this.baseState,this.handleTrailingData())):(this.parseLegacyEntity(),this.sectionStart<this._index&&(this._state=this.baseState,this.handleTrailingData()))},xt.prototype.getSection=function(){return this.buffer.substring(this.sectionStart,this._index)},xt.prototype.emitToken=function(ot){this.cbs[ot](this.getSection()),this.sectionStart=-1},xt.prototype.emitPartial=function(ot){this.baseState!==1?this.cbs.onattribdata(ot):this.cbs.ontext(ot)},xt})();s.default=Ut},3719:function(l,s,f){var u=this&&this.__createBinding||(Object.create?function(x,N,b,L){L===void 0&&(L=b),Object.defineProperty(x,L,{enumerable:!0,get:function(){return N[b]}})}:function(x,N,b,L){L===void 0&&(L=b),x[L]=N[b]}),p=this&&this.__setModuleDefault||(Object.create?function(x,N){Object.defineProperty(x,"default",{enumerable:!0,value:N})}:function(x,N){x.default=N}),d=this&&this.__importStar||function(x){if(x&&x.__esModule)return x;var N={};if(x!=null)for(var b in x)b!=="default"&&Object.prototype.hasOwnProperty.call(x,b)&&u(N,x,b);return p(N,x),N},h=this&&this.__exportStar||function(x,N){for(var b in x)b==="default"||Object.prototype.hasOwnProperty.call(N,b)||u(N,x,b)},v=this&&this.__importDefault||function(x){return x&&x.__esModule?x:{default:x}};Object.defineProperty(s,"__esModule",{value:!0}),s.RssHandler=s.DefaultHandler=s.DomUtils=s.ElementType=s.Tokenizer=s.createDomStream=s.parseDOM=s.parseDocument=s.DomHandler=s.Parser=void 0;var _=f(763);Object.defineProperty(s,"Parser",{enumerable:!0,get:function(){return _.Parser}});var T=f(7915);function w(x,N){var b=new T.DomHandler(void 0,N);return new _.Parser(b,N).end(x),b.root}Object.defineProperty(s,"DomHandler",{enumerable:!0,get:function(){return T.DomHandler}}),Object.defineProperty(s,"DefaultHandler",{enumerable:!0,get:function(){return T.DomHandler}}),s.parseDocument=w,s.parseDOM=function(x,N){return w(x,N).children},s.createDomStream=function(x,N,b){var L=new T.DomHandler(x,N,b);return new _.Parser(L,N)};var C=f(9889);Object.defineProperty(s,"Tokenizer",{enumerable:!0,get:function(){return v(C).default}});var A=d(f(9960));s.ElementType=A,h(f(3870),s),s.DomUtils=d(f(9432));var S=f(3870);Object.defineProperty(s,"RssHandler",{enumerable:!0,get:function(){return S.FeedHandler}})},6094:(l,s,f)=>{var u=f(9018),p=f(8880)((function(h,v){return u(h,{xmlMode:v&&v.xmlMode},d,[v])})),d=function(h,v){return p.juiceDocument(h,v)};p.inlineContent=function(h,v,_){return u(h,{xmlMode:_&&_.xmlMode},p.inlineDocument,[v,_])},l.exports=p},9018:(l,s,f)=>{var u=f(7503);f(9671),l.exports=function(p,d,h,v){var _,T=(_=[],{encodeEntities:function(S){var x=l.exports.codeBlocks;return Object.keys(x).forEach((function(N){var b=new RegExp(x[N].start+"([\\S\\s]*?)"+x[N].end,"g");S=S.replace(b,(function(L,k){return _.push(L),"JUICE_CODE_BLOCK_"+(_.length-1)+"_"}))})),S},decodeEntities:function(S){for(var x=0;x<_.length;x++){var N=new RegExp("JUICE_CODE_BLOCK_"+x+'_(="")?',"gi");S=S.replace(N,(function(){return _[x]}))}return S}}),w=(function(S,x,N){return x=Object.assign({decodeEntities:!1,_useHtmlParser2:!0},x),S=N(S),u.load(S,x)})(p,d,T.encodeEntities),C=[w];C.push.apply(C,v);var A=h.apply(void 0,C)||w;return d&&d.xmlMode?T.decodeEntities(A.xml()):T.decodeEntities(A.html())},l.exports.codeBlocks={EJS:{start:"<%",end:"%>"},HBS:{start:"{{",end:"}}"}}},8880:(l,s,f)=>{var u=f(9671),p=f(5468);l.exports=function(d){function h(C,A,S){S=S||{};var x=u.parseCSS(A),N=[],b="style",L={};if(S.styleAttributeName&&(b=S.styleAttributeName),x.forEach((function(M){var z=M[0],H=M[1],$=new u.Selector(z),j=$.parsed();if(j){for(var rt,q=(function(lt){if(lt.length!==0){var Et=lt[lt.length-1].pseudos;if(Et){for(var yt=0;yt<Et.length;yt++)if(w(Et[yt]))return Et[yt].name}}})(j),st=0;st<j.length;++st){var vt=j[st];if(vt.pseudos)for(var St=0;St<vt.pseudos.length;++St){var pt=vt.pseudos[St];if(d.ignoredPseudos.indexOf(pt.name)>=0)return}}if(q){var bt=j[j.length-1],at=bt.pseudos;bt.pseudos=(function(lt){return lt.filter((function(Et){return!w(Et)}))})(bt.pseudos),z=j.toString(),bt.pseudos=at}try{rt=C(z)}catch{return}rt.each((function(){var lt=this;if(!(lt.name&&d.nonVisualElements.indexOf(lt.name.toUpperCase())>=0)){if(q){var Et="pseudo"+q,yt=lt[Et];yt||((yt=lt[Et]=C("<span />").get(0)).pseudoElementType=q,yt.pseudoElementParent=lt,yt.counterProps=lt.counterProps,lt[Et]=yt),lt=yt}if(!lt.styleProps){if(lt.styleProps={},C(lt).attr(b)){var Ot="* { "+C(lt).attr(b)+" } ";Ut(u.parseCSS(Ot)[0][1],new u.Selector("<style>",!0))}N.push(lt)}lt.counterProps||(lt.counterProps=lt.parent&&lt.parent.counterProps?Object.create(lt.parent.counterProps):{}),Ut(H,$)}function zt(xt,ot){for(var Vt=ot.split(/\s+/),mt=0;mt<Vt.length;mt++){var Ft=Vt[mt],Kt=parseInt(Vt[mt+1],10);isNaN(Kt)?xt.counterProps[Ft]=L[Ft]=0:xt.counterProps[Ft]=L[Vt[mt++]]=Kt}}function Bt(xt,ot){for(var Vt=ot.split(/\s+/),mt=0;mt<Vt.length;mt++){var Ft=Vt[mt];if(xt.counterProps[Ft]!==void 0){var Kt=parseInt(Vt[mt+1],10);isNaN(Kt)?xt.counterProps[Ft]=L[Ft]+=1:xt.counterProps[Ft]=L[Vt[mt++]]+=Kt}}}function Ut(xt,ot){for(var Vt=0,mt=xt.length;Vt<mt;Vt++)if(xt[Vt].type=="property"){var Ft=xt[Vt].name,Kt=xt[Vt].value;Ft==="counter-reset"&&zt(lt,Kt),Ft==="counter-increment"&&Bt(lt,Kt);var W=Kt.match(/!important$/)!==null;W&&!S.preserveImportant&&(Kt=v(Kt));var Z=[xt[Vt].position.start.line,xt[Vt].position.start.col],it=new u.Property(Ft,Kt,ot,W?2:0,Z),Ct=lt.styleProps[Ft];d.excludedProperties.indexOf(Ft)<0&&(Ct&&Ct.compare(it)===it||!Ct)&&(Ct&&Ct.selector!==ot?delete lt.styleProps[Ft]:Ct&&(it.nextProp=Ct),lt.styleProps[Ft]=it)}}}))}})),N.forEach((function(M){Object.keys(M.styleProps).length;var z=[];Object.keys(M.styleProps).forEach((function($){for(var j=M.styleProps[$];j!==void 0;)z.push(j),j=j.nextProp})),z.sort((function($,j){return $.compareFunc(j)}));var H=z.filter((function($){return $.prop!=="content"})).map((function($){return $.prop+": "+$.value.replace(/["]/g,"'")+";"})).join(" ");H&&C(M).attr(b,H)})),S.inlinePseudoElements&&N.forEach((function(M){if(M.pseudoElementType&&M.styleProps.content){var z=(function($){var j=$.styleProps.content.value;if(j==="none"||j==="normal")return"";var rt=j.match(/^\s*url\s*\(\s*(.*?)\s*\)\s*$/i);if(rt)return{img:rt[1].replace(/^['"]|['"]$/g,"")};for(var q=[],st=j.split(/['"]/),vt=0;vt<st.length;vt++)if(st[vt]!==""){var St=st[vt].match(/var\s*\(\s*(.*?)\s*(,\s*(.*?)\s*)?\s*\)/i);if(St){var pt=_($,St[1])||St[2];q.push(pt.replace(/^['"]|['"]$/g,""))}else{var bt=st[vt].match(/counter\s*\(\s*(.*?)\s*(,\s*(.*?)\s*)?\s*\)/i);if(bt&&bt[1]in $.counterProps){var at=$.counterProps[bt[1]];q.push(T(at,bt[3]))}else{var lt=st[vt].match(/attr\s*\(\s*(.*?)\s*\)/i);if(lt){var Et=lt[1];q.push($.pseudoElementParent?$.pseudoElementParent.attribs[Et]:$.attribs[Et])}else q.push(st[vt])}}}return j=q.join(""),j=j.replace(/\\/g,"")})(M);z.img?(M.name="img",C(M).attr("src",z.img)):C(M).text(z);var H=M.pseudoElementParent;M.pseudoElementType==="before"?C(H).prepend(M):C(H).append(M)}})),S.applyWidthAttributes&&N.forEach((function(M){D(M,"width")})),S.applyHeightAttributes&&N.forEach((function(M){D(M,"height")})),S.applyAttributesTableElements&&N.forEach((function(M){if(M.name){var z=M.name.toUpperCase(),H=Object.keys(d.styleToAttribute);if(d.tableElements.indexOf(z)>-1){for(var $ in M.styleProps)if(H.indexOf(M.styleProps[$].prop)>-1){var j=d.styleToAttribute[M.styleProps[$].prop],rt=M.styleProps[$].value;if(S.preserveImportant&&(rt=v(rt)),j==="background"&&(rt=R(rt)),/(linear|radial)-gradient\(/i.test(rt))continue;C(M).attr(j,rt)}}}})),S.insertPreservedExtraCss&&S.extraCss){var k=u.getPreservedText(S.extraCss,{mediaQueries:S.preserveMediaQueries,fontFaces:S.preserveFontFaces,keyFrames:S.preserveKeyFrames});if(k){var P=null;S.insertPreservedExtraCss!==!0?P=C(S.insertPreservedExtraCss):((P=C("head")).length||(P=C("body")),P.length||(P=C.root())),P.first().append("<style>"+k+"</style>")}}function D(M,z){if(M.name){var H=M.name.toUpperCase();if(d[z+"Elements"].indexOf(H)>-1){for(var $ in M.styleProps)if(M.styleProps[$].prop===z){var j=M.styleProps[$].value;if(S.preserveImportant&&(j=v(j)),j.match(/px/)){var rt=j.replace("px","");return void C(M).attr(z,rt)}if(d.tableElements.indexOf(H)>-1&&j.match(/\%/))return void C(M).attr(z,j)}}}}function R(M){return M.indexOf("url(")!==0?M:M.replace(/^url\((["'])?([^"']+)\1\)$/,"$2")}}function v(C){return C.replace(/\s*!important$/,"")}function _(C,A){for(;C;){if(A in C.styleProps)return C.styleProps[A].value;C=C.pseudoElementParent||C.parent}}function T(C,A){switch(A){case"lower-roman":return p.romanize(C).toLowerCase();case"upper-roman":return p.romanize(C);case"lower-latin":case"lower-alpha":return p.alphanumeric(C).toLowerCase();case"upper-latin":case"upper-alpha":return p.alphanumeric(C);default:return C.toString()}}function w(C){return C.name==="before"||C.name==="after"}return d.ignoredPseudos=["hover","active","focus","visited","link"],d.widthElements=["TABLE","TD","TH","IMG"],d.heightElements=["TABLE","TD","TH","IMG"],d.tableElements=["TABLE","TH","TR","TD","CAPTION","COLGROUP","COL","THEAD","TBODY","TFOOT"],d.nonVisualElements=["HEAD","TITLE","BASE","LINK","STYLE","META","SCRIPT","NOSCRIPT"],d.styleToAttribute={"background-color":"bgcolor","background-image":"background","text-align":"align","vertical-align":"valign"},d.excludedProperties=[],d.juiceDocument=function(C,A){A=u.getDefaultOptions(A);var S=(function(x,N){var b=(function(k,P){var D,R,M,z=[],H=k("style");return H.each((function(){var $=!!(M=this).childNodes;if((D=$?M.childNodes:M.children).length===1){if(R=D[0].data,P.applyStyleTags&&k(M).attr("data-embed")===void 0&&z.push(R),P.removeStyleTags&&k(M).attr("data-embed")===void 0){var j=$?M.childNodes[0].nodeValue:M.children[0].data,rt=u.getPreservedText(j,{mediaQueries:P.preserveMediaQueries,fontFaces:P.preserveFontFaces,keyFrames:P.preserveKeyFrames,pseudos:P.preservePseudos},d.ignoredPseudos);rt?$?M.childNodes[0].nodeValue=rt:M.children[0].data=rt:k(M).remove()}k(M).removeAttr("data-embed")}else P.removeStyleTags&&k(M).remove()})),z})(x,N),L=b.join(`
`);return L})(C,A);return S+=`
`+A.extraCss,h(C,S,A),C},d.inlineDocument=h,d}},5468:(l,s)=>{s.romanize=function(f){if(isNaN(f))return NaN;for(var u=String(+f).split(""),p=["","C","CC","CCC","CD","D","DC","DCC","DCCC","CM","","X","XX","XXX","XL","L","LX","LXX","LXXX","XC","","I","II","III","IV","V","VI","VII","VIII","IX"],d="",h=3;h--;)d=(p[+u.pop()+10*h]||"")+d;return Array(+u.join("")+1).join("M")+d},s.alphanumeric=function(f){for(var u,p="";f>0;)u=(f-1)%26,p=String.fromCharCode(65+u)+p,f=(f-u)/26|0;return p||void 0}},4777:(l,s,f)=>{l.exports=p;var u=f(9671);function p(d,h,v,_,T){this.prop=d,this.value=h,this.selector=v,this.priority=_||0,this.additionalPriority=T||[]}p.prototype.compareFunc=function(d){var h=[];h.push.apply(h,this.selector.specificity()),h.push.apply(h,this.additionalPriority),h[0]+=this.priority;var v=[];return v.push.apply(v,d.selector.specificity()),v.push.apply(v,d.additionalPriority),v[0]+=d.priority,u.compareFunc(h,v)},p.prototype.compare=function(d){return this.compareFunc(d)===1?this:d},p.prototype.toString=function(){return this.prop+": "+this.value.replace(/['"]+/g,"")+";"}},9240:(l,s,f)=>{var u=f(6585);function p(h,v){this.text=h,this.spec=void 0,this.styleAttribute=v||!1}function d(h){try{return u(h)[0]}catch{return[]}}l.exports=p,p.prototype.parsed=function(){return this.tokens||(this.tokens=d(this.text)),this.tokens},p.prototype.specificity=function(){var h=this.styleAttribute;return this.spec||(this.spec=(function v(_,T){for(var w=T||d(_),C=[h?1:0,0,0,0],A=[],S=0;S<w.length;S++){var x=w[S],N=x.pseudos;if(x.id&&C[1]++,x.attributes&&(C[2]+=x.attributes.length),x.classList&&(C[2]+=x.classList.length),x.tag&&x.tag!=="*"&&C[3]++,N){C[3]+=N.length;for(var b=0;b<N.length;b++)N[b].name==="not"&&(A.push(N[b].value),C[3]--)}}for(var L=A.length;L--;)for(var k=v(A[L]),P=4;P--;)C[P]+=k[P];return C})(this.text,this.parsed())),this.spec}},9671:(l,s,f)=>{var u=f(4984),p=f(9240),d=f(4777);s.Selector=p,s.Property=d,s.extract=function(h){for(var v=0,_=[],T="",w=0,C=h.length;w<C;w++){var A=h.charAt(w);v?(A!=="]"&&A!==")"||v--,T+=A):A===","?(_.push(T),T=""):(A!=="["&&A!=="("||v++,(T.length||A!==","&&A!==`
`&&A!==" ")&&(T+=A))}return T.length&&_.push(T),_},s.parseCSS=function(h){for(var v=u.parse(h,{position:!0,comments:!0}),_=v.stylesheet!==void 0&&v.stylesheet.rules?v.stylesheet.rules:[],T=[],w=0,C=_.length;w<C;w++)if(_[w].type=="rule")for(var A=_[w],S=A.selectors,x=0,N=S.length;x<N;x++)T.push([S[x],A.declarations]);return T},s.getPreservedText=function(h,v,_){for(var T=u.parse(h,{position:!0,comments:!0}),w=T.stylesheet!==void 0&&T.stylesheet.rules?T.stylesheet.rules:[],C=[],A=w.length-1;A>=0;A--)(v.fontFaces&&w[A].type==="font-face"||v.mediaQueries&&w[A].type==="media"||v.keyFrames&&w[A].type==="keyframes"||v.pseudos&&w[A].selectors&&this.matchesPseudo(w[A].selectors[0],_))&&C.unshift(u.stringify({stylesheet:{rules:[w[A]]}},{comments:!1,indentation:"  "})),w[A].position.start;return C.length!==0&&`
`+C.join(`
`)+`
`},s.normalizeLineEndings=function(h){return h.replace(/\r\n/g,`
`).replace(/\n/g,`\r
`)},s.matchesPseudo=function(h,v){return v.find((function(_){return h.indexOf(_)>-1}))},s.compareFunc=function(h,v){for(var _=Math.min(h.length,v.length),T=0;T<_;T++)if(h[T]!==v[T])return h[T]>v[T]?1:-1;return h.length-v.length},s.compare=function(h,v){return s.compareFunc(h,v)==1?h:v},s.getDefaultOptions=function(h){var v=Object.assign({extraCss:"",insertPreservedExtraCss:!0,applyStyleTags:!0,removeStyleTags:!0,preserveMediaQueries:!0,preserveFontFaces:!0,preserveKeyFrames:!0,preservePseudos:!0,applyWidthAttributes:!0,applyHeightAttributes:!0,applyAttributesTableElements:!0,url:""},h);return v.webResources=v.webResources||{},v}},4984:(l,s,f)=>{l.exports={lex:f(5625),parse:f(2579),stringify:f(7134)}},1514:(l,s)=>{function f(u){var p=[].slice.call(arguments,1);p.unshift("["+u+"]"),process.stderr.write(p.join(" ")+`
`)}l.exports=function(u){return f.bind(null,u)}},5625:(l,s,f)=>{f(1514)("lex"),l.exports=function(u){var p,d="",h=0,v=-1,_=0,T=1,w="before-selector",C=[w],A={},S=[],x=["media","keyframes",{name:"-webkit-keyframes",type:"keyframes",prefix:"-webkit-"},{name:"-moz-keyframes",type:"keyframes",prefix:"-moz-"},{name:"-ms-keyframes",type:"keyframes",prefix:"-ms-"},{name:"-o-keyframes",type:"keyframes",prefix:"-o-"},"font-face",{name:"import",state:"before-at-value"},{name:"charset",state:"before-at-value"},"supports","viewport",{name:"namespace",state:"before-at-value"},"document",{name:"-moz-document",type:"document",prefix:"-moz-"},"page"];function N(pt){return pt?C[C.length-1-pt]:w}function b(pt){var bt=v+1;return pt===u.slice(bt,bt+pt.length)}function L(pt){var bt=u.slice(v).indexOf(pt);return bt>0&&bt}function k(pt){return pt===P(1)}function P(pt){return u[v+(pt||1)]}function D(){var pt=C.pop();return w=C[C.length-1],pt}function R(pt){return w=pt,C.push(w),C.length}function M(pt){var bt=w;return C[C.length-1]=w=pt,bt}function z(pt){if((pt||1)==1)u[v]==`
`?(T++,h=1):h++,v++;else{var bt=u.slice(v,v+pt).split(`
`);bt.length>1&&(T+=bt.length-1,h=1),h+=bt[bt.length-1].length,v+=pt}}function H(){A.end={line:T,col:h},S.push(A),d="",A={}}function $(pt){A={type:pt,start:{line:T,col:h}}}for(;z(),p=u[v];)switch(p){case" ":switch(N()){case"selector":case"value":case"value-paren":case"at-group":case"at-value":case"comment":case"double-string":case"single-string":d+=p}break;case`
`:case"	":case"\r":case"\f":switch(N()){case"value":case"value-paren":case"at-group":case"comment":case"single-string":case"double-string":case"selector":d+=p;break;case"at-value":p===`
`&&(A.value=d.trim(),H(),D())}break;case":":switch(N()){case"name":A.name=d.trim(),d="",M("before-value");break;case"before-selector":d+=p,$("selector"),R("selector");break;case"before-value":M("value"),d+=p;break;default:d+=p}break;case";":switch(N()){case"name":case"before-value":case"value":d.trim().length>0&&(A.value=d.trim(),H()),M("before-name");break;case"value-paren":default:d+=p;break;case"at-value":A.value=d.trim(),H(),D();case"before-name":}break;case"{":switch(N()){case"selector":if(P(-1)==="\\"){d+=p;break}A.text=d.trim(),H(),M("before-name"),_+=1;break;case"at-group":switch(A.name=d.trim(),A.type){case"font-face":case"viewport":case"page":R("before-name");break;default:R("before-selector")}H(),_+=1;break;case"name":case"at-rule":A.name=d.trim(),H(),R("before-name"),_+=1;break;case"comment":case"double-string":case"single-string":d+=p;break;case"before-value":M("value"),d+=p}break;case"}":switch(N()){case"before-name":case"name":case"before-value":case"value":d&&(A.value=d.trim()),A.name&&A.value&&H(),$("end"),H(),D(),N()==="at-group"&&($("at-group-end"),H(),D()),_>0&&(_-=1);break;case"at-group":case"before-selector":case"selector":if(P(-1)==="\\"){d+=p;break}_>0&&N(1)==="at-group"&&($("at-group-end"),H()),_>1&&D(),_>0&&(_-=1);break;case"double-string":case"single-string":case"comment":d+=p}break;case'"':case"'":switch(N()){case"double-string":p==='"'&&P(-1)!=="\\"&&D();break;case"single-string":p==="'"&&P(-1)!=="\\"&&D();break;case"before-at-value":M("at-value"),R(p==='"'?"double-string":"single-string");break;case"before-value":M("value"),R(p==='"'?"double-string":"single-string");break;case"comment":break;default:P(-1)!=="\\"&&R(p==='"'?"double-string":"single-string")}d+=p;break;case"/":switch(N()){case"comment":case"double-string":case"single-string":d+=p;break;case"before-value":case"selector":case"name":case"value":if(k("*")){var j=L("*/");j&&z(j+1)}else N()=="before-value"&&M("value"),d+=p;break;default:k("*")?($("comment"),R("comment"),z()):d+=p}break;case"*":switch(N()){case"comment":k("/")?(A.text=d,z(),H(),D()):d+=p;break;case"before-selector":d+=p,$("selector"),R("selector");break;case"before-value":M("value"),d+=p;break;default:d+=p}break;case"@":switch(N()){case"comment":case"double-string":case"single-string":d+=p;break;case"before-value":M("value"),d+=p;break;default:for(var rt,q,st=!1,vt=0,St=x.length;!st&&vt<St;++vt)b(rt=(q=x[vt]).name||q)&&(st=!0,$(rt),R(q.state||"at-group"),z(rt.length),q.prefix&&(A.prefix=q.prefix),q.type&&(A.type=q.type));st||(d+=p)}break;case"(":switch(N()){case"value":R("value-paren");break;case"before-value":M("value")}d+=p;break;case")":switch(N()){case"value-paren":D();break;case"before-value":M("value")}d+=p;break;default:switch(N()){case"before-selector":$("selector"),R("selector");break;case"before-name":$("property"),M("name");break;case"before-value":M("value");break;case"before-at-value":M("at-value")}d+=p}return S}},2579:(l,s,f)=>{var u,p,d,h;f(1514)("parse");var v=f(5625);function _(x,N){var b;N||(N={});for(var L=["type","name","value"],k={},P=0;P<L.length;++P)x[b=L[P]]&&(k[b]=N[b]||x[b]);for(L=Object.keys(N),P=0;P<L.length;++P)k[b=L[P]]||(k[b]=N[b]);return d&&(k.position={start:x.start,end:x.end}),k}function T(){var x=h.shift();return x}function w(x){p+=1;var N={};switch(x.type){case"font-face":case"viewport":N.declarations=S();break;case"page":N.prefix=x.prefix,N.declarations=S();break;default:N.prefix=x.prefix,N.rules=A((function(){return p}))}return _(x,N)}function C(x){switch(x.type){case"property":case"charset":case"import":case"namespace":return(function(N){return _(N)})(x);case"selector":return(function(N){return _(N,{type:"rule",selectors:N.text.split(",").map((function(b){return b.trim()})),declarations:S()})})(x);case"at-group-end":return void(p-=1);case"media":case"keyframes":case"font-face":case"supports":case"viewport":case"document":case"page":return w(x);case"comment":if(u)return(function(N){return _(N,{text:N.text})})(x)}}function A(x){for(var N,b,L=[];(b=T())&&x&&x(b);)(N=C(b))&&L.push(N);return b&&b.type!=="end"&&h.unshift(b),L}function S(){return A((function(x){return x.type==="property"||x.type==="comment"}))}l.exports=function(x,N){var b;N||(N={}),u=!!N.comments,d=!!N.position,p=0,h=Array.isArray(x)?x.slice():v(x);for(var L,k=[];L=T();)(b=C(L))&&k.push(b);return{type:"stylesheet",stylesheet:{rules:k}}}},7134:(l,s,f)=>{var u,p,d,h,v,_;f(1514)("stringify");function T(L){if(!L)return p?"":Array(h).join(d||"");h+=L}function w(L){var k="",P=L.prefix||"";L.name&&(k=" "+L.name);var D=L.type!=="page";return"@"+P+L.type+k+_+x(L,D)+v}function C(L){return u?"/*"+(L.text||"")+"*/"+v:""}function A(L){var k;return L.selectors?k=L.selectors.join(","+v):(k="@"+L.type,k+=L.name?" "+L.name:""),T()+k+_+x(L)+v}function S(L,k){return L.reduce((function(P,D){var R=D.type==="comment"?C(D):k(D);return R&&P.push(R),P}),[])}function x(L,k){var P=L.declarations,D=N;return L.rules&&(P=L.rules,D=A),P=(function(R,M){if(!R)return"";T(1);var z=S(R,M);return T(-1),z.length?z.join(v):""})(P,D),P&&(P=v+P+(k?"":v)),"{"+P+T()+"}"}function N(L){if(L.type==="property")return(function(k){var P=k.name?k.name+":"+_:"";return T()+P+k.value+";"})(L)}function b(L){switch(L.type){case"rule":return A(L);case"media":case"keyframes":case"font-face":case"supports":case"viewport":case"document":case"page":return w(L);case"comment":return C(L);case"import":case"charset":case"namespace":return(function(k){return"@"+k.type+" "+k.value+";"+v})(L)}}l.exports=function(L,k){k||(k={}),d=k.indentation||"",p=!!k.compress,u=!!k.comments,h=1,p?v=_="":(v=`
`,_=" ");var P=S(L.stylesheet.rules,b).join(`
`).trim();return P}},9769:function(l,s,f){var u=this&&this.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(s,"__esModule",{value:!0}),s.generate=s.compile=void 0;var p=u(f(1073));s.compile=function(d){var h=d[0],v=d[1]-1;if(v<0&&h<=0)return p.default.falseFunc;if(h===-1)return function(w){return w<=v};if(h===0)return function(w){return w===v};if(h===1)return v<0?p.default.trueFunc:function(w){return w>=v};var _=Math.abs(h),T=(v%_+_)%_;return h>1?function(w){return w>=v&&w%_===T}:function(w){return w<=v&&w%_===T}},s.generate=function(d){var h=d[0],v=d[1]-1,_=0;if(h<0){var T=-h,w=(v%T+T)%T;return function(){var C=w+T*_++;return C>v?null:C}}return h===0?v<0?function(){return null}:function(){return _++==0?v:null}:(v<0&&(v+=h*Math.ceil(-v/h)),function(){return h*_+++v})}},7540:(l,s,f)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.sequence=s.generate=s.compile=s.parse=void 0;var u=f(7766);Object.defineProperty(s,"parse",{enumerable:!0,get:function(){return u.parse}});var p=f(9769);Object.defineProperty(s,"compile",{enumerable:!0,get:function(){return p.compile}}),Object.defineProperty(s,"generate",{enumerable:!0,get:function(){return p.generate}}),s.default=function(d){return(0,p.compile)((0,u.parse)(d))},s.sequence=function(d){return(0,p.generate)((0,u.parse)(d))}},7766:(l,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.parse=void 0;var f=new Set([9,10,12,13,32]),u=48,p=57;s.parse=function(d){if((d=d.trim().toLowerCase())==="even")return[2,0];if(d==="odd")return[2,1];var h=0,v=0,_=w(),T=C();if(h<d.length&&d.charAt(h)==="n"&&(h++,v=_*(T??1),A(),h<d.length?(_=w(),A(),T=C()):_=T=0),T===null||h<d.length)throw new Error("n-th rule couldn't be parsed ('".concat(d,"')"));return[v,_*T];function w(){return d.charAt(h)==="-"?(h++,-1):(d.charAt(h)==="+"&&h++,1)}function C(){for(var S=h,x=0;h<d.length&&d.charCodeAt(h)>=u&&d.charCodeAt(h)<=p;)x=10*x+(d.charCodeAt(h)-u),h++;return h===S?null:x}function A(){for(;h<d.length&&f.has(d.charCodeAt(h));)h++}}},1906:(l,s,f)=>{const u=f(1515),{DOCUMENT_MODE:p}=f(6152),d={element:1,text:3,cdata:4,comment:8},h={tagName:"name",childNodes:"children",parentNode:"parent",previousSibling:"prev",nextSibling:"next",nodeValue:"data"};class v{constructor(A){for(const S of Object.keys(A))this[S]=A[S]}get firstChild(){const A=this.children;return A&&A[0]||null}get lastChild(){const A=this.children;return A&&A[A.length-1]||null}get nodeType(){return d[this.type]||d.element}}Object.keys(h).forEach((C=>{const A=h[C];Object.defineProperty(v.prototype,C,{get:function(){return this[A]||null},set:function(S){return this[A]=S,S}})})),s.createDocument=function(){return new v({type:"root",name:"root",parent:null,prev:null,next:null,children:[],"x-mode":p.NO_QUIRKS})},s.createDocumentFragment=function(){return new v({type:"root",name:"root",parent:null,prev:null,next:null,children:[]})},s.createElement=function(C,A,S){const x=Object.create(null),N=Object.create(null),b=Object.create(null);for(let L=0;L<S.length;L++){const k=S[L].name;x[k]=S[L].value,N[k]=S[L].namespace,b[k]=S[L].prefix}return new v({type:C==="script"||C==="style"?C:"tag",name:C,namespace:A,attribs:x,"x-attribsNamespace":N,"x-attribsPrefix":b,children:[],parent:null,prev:null,next:null})},s.createCommentNode=function(C){return new v({type:"comment",data:C,parent:null,prev:null,next:null})};const _=function(C){return new v({type:"text",data:C,parent:null,prev:null,next:null})},T=s.appendChild=function(C,A){const S=C.children[C.children.length-1];S&&(S.next=A,A.prev=S),C.children.push(A),A.parent=C},w=s.insertBefore=function(C,A,S){const x=C.children.indexOf(S),N=S.prev;N&&(N.next=A,A.prev=N),S.prev=A,A.next=S,C.children.splice(x,0,A),A.parent=C};s.setTemplateContent=function(C,A){T(C,A)},s.getTemplateContent=function(C){return C.children[0]},s.setDocumentType=function(C,A,S,x){const N=u.serializeContent(A,S,x);let b=null;for(let L=0;L<C.children.length;L++)if(C.children[L].type==="directive"&&C.children[L].name==="!doctype"){b=C.children[L];break}b?(b.data=N,b["x-name"]=A,b["x-publicId"]=S,b["x-systemId"]=x):T(C,new v({type:"directive",name:"!doctype",data:N,"x-name":A,"x-publicId":S,"x-systemId":x}))},s.setDocumentMode=function(C,A){C["x-mode"]=A},s.getDocumentMode=function(C){return C["x-mode"]},s.detachNode=function(C){if(C.parent){const A=C.parent.children.indexOf(C),S=C.prev,x=C.next;C.prev=null,C.next=null,S&&(S.next=x),x&&(x.prev=S),C.parent.children.splice(A,1),C.parent=null}},s.insertText=function(C,A){const S=C.children[C.children.length-1];S&&S.type==="text"?S.data+=A:T(C,_(A))},s.insertTextBefore=function(C,A,S){const x=C.children[C.children.indexOf(S)-1];x&&x.type==="text"?x.data+=A:w(C,_(A),S)},s.adoptAttributes=function(C,A){for(let S=0;S<A.length;S++){const x=A[S].name;C.attribs[x]===void 0&&(C.attribs[x]=A[S].value,C["x-attribsNamespace"][x]=A[S].namespace,C["x-attribsPrefix"][x]=A[S].prefix)}},s.getFirstChild=function(C){return C.children[0]},s.getChildNodes=function(C){return C.children},s.getParentNode=function(C){return C.parent},s.getAttrList=function(C){const A=[];for(const S in C.attribs)A.push({name:S,value:C.attribs[S],namespace:C["x-attribsNamespace"][S],prefix:C["x-attribsPrefix"][S]});return A},s.getTagName=function(C){return C.name},s.getNamespaceURI=function(C){return C.namespace},s.getTextNodeContent=function(C){return C.data},s.getCommentNodeContent=function(C){return C.data},s.getDocumentTypeNodeName=function(C){return C["x-name"]},s.getDocumentTypeNodePublicId=function(C){return C["x-publicId"]},s.getDocumentTypeNodeSystemId=function(C){return C["x-systemId"]},s.isTextNode=function(C){return C.type==="text"},s.isCommentNode=function(C){return C.type==="comment"},s.isDocumentTypeNode=function(C){return C.type==="directive"&&C.name==="!doctype"},s.isElementNode=function(C){return!!C.attribs},s.setNodeSourceCodeLocation=function(C,A){C.sourceCodeLocation=A},s.getNodeSourceCodeLocation=function(C){return C.sourceCodeLocation},s.updateNodeSourceCodeLocation=function(C,A){C.sourceCodeLocation=Object.assign(C.sourceCodeLocation,A)}},1515:(l,s,f)=>{const{DOCUMENT_MODE:u}=f(6152),p="html",d="about:legacy-compat",h="http://www.ibm.com/data/dtd/v11/ibmxhtml1-transitional.dtd",v=["+//silmaril//dtd html pro v0r11 19970101//","-//as//dtd html 3.0 aswedit + extensions//","-//advasoft ltd//dtd html 3.0 aswedit + extensions//","-//ietf//dtd html 2.0 level 1//","-//ietf//dtd html 2.0 level 2//","-//ietf//dtd html 2.0 strict level 1//","-//ietf//dtd html 2.0 strict level 2//","-//ietf//dtd html 2.0 strict//","-//ietf//dtd html 2.0//","-//ietf//dtd html 2.1e//","-//ietf//dtd html 3.0//","-//ietf//dtd html 3.2 final//","-//ietf//dtd html 3.2//","-//ietf//dtd html 3//","-//ietf//dtd html level 0//","-//ietf//dtd html level 1//","-//ietf//dtd html level 2//","-//ietf//dtd html level 3//","-//ietf//dtd html strict level 0//","-//ietf//dtd html strict level 1//","-//ietf//dtd html strict level 2//","-//ietf//dtd html strict level 3//","-//ietf//dtd html strict//","-//ietf//dtd html//","-//metrius//dtd metrius presentational//","-//microsoft//dtd internet explorer 2.0 html strict//","-//microsoft//dtd internet explorer 2.0 html//","-//microsoft//dtd internet explorer 2.0 tables//","-//microsoft//dtd internet explorer 3.0 html strict//","-//microsoft//dtd internet explorer 3.0 html//","-//microsoft//dtd internet explorer 3.0 tables//","-//netscape comm. corp.//dtd html//","-//netscape comm. corp.//dtd strict html//","-//o'reilly and associates//dtd html 2.0//","-//o'reilly and associates//dtd html extended 1.0//","-//o'reilly and associates//dtd html extended relaxed 1.0//","-//sq//dtd html 2.0 hotmetal + extensions//","-//softquad software//dtd hotmetal pro 6.0::19990601::extensions to html 4.0//","-//softquad//dtd hotmetal pro 4.0::19971010::extensions to html 4.0//","-//spyglass//dtd html 2.0 extended//","-//sun microsystems corp.//dtd hotjava html//","-//sun microsystems corp.//dtd hotjava strict html//","-//w3c//dtd html 3 1995-03-24//","-//w3c//dtd html 3.2 draft//","-//w3c//dtd html 3.2 final//","-//w3c//dtd html 3.2//","-//w3c//dtd html 3.2s draft//","-//w3c//dtd html 4.0 frameset//","-//w3c//dtd html 4.0 transitional//","-//w3c//dtd html experimental 19960712//","-//w3c//dtd html experimental 970421//","-//w3c//dtd w3 html//","-//w3o//dtd w3 html 3.0//","-//webtechs//dtd mozilla html 2.0//","-//webtechs//dtd mozilla html//"],_=v.concat(["-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"]),T=["-//w3o//dtd w3 html strict 3.0//en//","-/w3c/dtd html 4.0 transitional/en","html"],w=["-//w3c//dtd xhtml 1.0 frameset//","-//w3c//dtd xhtml 1.0 transitional//"],C=w.concat(["-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"]);function A(x){const N=x.indexOf('"')!==-1?"'":'"';return N+x+N}function S(x,N){for(let b=0;b<N.length;b++)if(x.indexOf(N[b])===0)return!0;return!1}s.isConforming=function(x){return x.name===p&&x.publicId===null&&(x.systemId===null||x.systemId===d)},s.getDocumentMode=function(x){if(x.name!==p)return u.QUIRKS;const N=x.systemId;if(N&&N.toLowerCase()===h)return u.QUIRKS;let b=x.publicId;if(b!==null){if(b=b.toLowerCase(),T.indexOf(b)>-1)return u.QUIRKS;let L=N===null?_:v;if(S(b,L))return u.QUIRKS;if(L=N===null?w:C,S(b,L))return u.LIMITED_QUIRKS}return u.NO_QUIRKS},s.serializeContent=function(x,N,b){let L="!DOCTYPE ";return x&&(L+=x),N?L+=" PUBLIC "+A(N):b&&(L+=" SYSTEM"),b!==null&&(L+=" "+A(b)),L}},1734:l=>{l.exports={controlCharacterInInputStream:"control-character-in-input-stream",noncharacterInInputStream:"noncharacter-in-input-stream",surrogateInInputStream:"surrogate-in-input-stream",nonVoidHtmlElementStartTagWithTrailingSolidus:"non-void-html-element-start-tag-with-trailing-solidus",endTagWithAttributes:"end-tag-with-attributes",endTagWithTrailingSolidus:"end-tag-with-trailing-solidus",unexpectedSolidusInTag:"unexpected-solidus-in-tag",unexpectedNullCharacter:"unexpected-null-character",unexpectedQuestionMarkInsteadOfTagName:"unexpected-question-mark-instead-of-tag-name",invalidFirstCharacterOfTagName:"invalid-first-character-of-tag-name",unexpectedEqualsSignBeforeAttributeName:"unexpected-equals-sign-before-attribute-name",missingEndTagName:"missing-end-tag-name",unexpectedCharacterInAttributeName:"unexpected-character-in-attribute-name",unknownNamedCharacterReference:"unknown-named-character-reference",missingSemicolonAfterCharacterReference:"missing-semicolon-after-character-reference",unexpectedCharacterAfterDoctypeSystemIdentifier:"unexpected-character-after-doctype-system-identifier",unexpectedCharacterInUnquotedAttributeValue:"unexpected-character-in-unquoted-attribute-value",eofBeforeTagName:"eof-before-tag-name",eofInTag:"eof-in-tag",missingAttributeValue:"missing-attribute-value",missingWhitespaceBetweenAttributes:"missing-whitespace-between-attributes",missingWhitespaceAfterDoctypePublicKeyword:"missing-whitespace-after-doctype-public-keyword",missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers:"missing-whitespace-between-doctype-public-and-system-identifiers",missingWhitespaceAfterDoctypeSystemKeyword:"missing-whitespace-after-doctype-system-keyword",missingQuoteBeforeDoctypePublicIdentifier:"missing-quote-before-doctype-public-identifier",missingQuoteBeforeDoctypeSystemIdentifier:"missing-quote-before-doctype-system-identifier",missingDoctypePublicIdentifier:"missing-doctype-public-identifier",missingDoctypeSystemIdentifier:"missing-doctype-system-identifier",abruptDoctypePublicIdentifier:"abrupt-doctype-public-identifier",abruptDoctypeSystemIdentifier:"abrupt-doctype-system-identifier",cdataInHtmlContent:"cdata-in-html-content",incorrectlyOpenedComment:"incorrectly-opened-comment",eofInScriptHtmlCommentLikeText:"eof-in-script-html-comment-like-text",eofInDoctype:"eof-in-doctype",nestedComment:"nested-comment",abruptClosingOfEmptyComment:"abrupt-closing-of-empty-comment",eofInComment:"eof-in-comment",incorrectlyClosedComment:"incorrectly-closed-comment",eofInCdata:"eof-in-cdata",absenceOfDigitsInNumericCharacterReference:"absence-of-digits-in-numeric-character-reference",nullCharacterReference:"null-character-reference",surrogateCharacterReference:"surrogate-character-reference",characterReferenceOutsideUnicodeRange:"character-reference-outside-unicode-range",controlCharacterReference:"control-character-reference",noncharacterCharacterReference:"noncharacter-character-reference",missingWhitespaceBeforeDoctypeName:"missing-whitespace-before-doctype-name",missingDoctypeName:"missing-doctype-name",invalidCharacterSequenceAfterDoctypeName:"invalid-character-sequence-after-doctype-name",duplicateAttribute:"duplicate-attribute",nonConformingDoctype:"non-conforming-doctype",missingDoctype:"missing-doctype",misplacedDoctype:"misplaced-doctype",endTagWithoutMatchingOpenElement:"end-tag-without-matching-open-element",closingOfElementWithOpenChildElements:"closing-of-element-with-open-child-elements",disallowedContentInNoscriptInHead:"disallowed-content-in-noscript-in-head",openElementsLeftAfterEof:"open-elements-left-after-eof",abandonedHeadElementChild:"abandoned-head-element-child",misplacedStartTagForHeadElement:"misplaced-start-tag-for-head-element",nestedNoscriptInHead:"nested-noscript-in-head",eofInElementThatCanContainOnlyText:"eof-in-element-that-can-contain-only-text"}},8779:(l,s,f)=>{const u=f(5763),p=f(6152),d=p.TAG_NAMES,h=p.NAMESPACES,v=p.ATTRS,_="text/html",T="application/xhtml+xml",w="definitionurl",C="definitionURL",A={attributename:"attributeName",attributetype:"attributeType",basefrequency:"baseFrequency",baseprofile:"baseProfile",calcmode:"calcMode",clippathunits:"clipPathUnits",diffuseconstant:"diffuseConstant",edgemode:"edgeMode",filterunits:"filterUnits",glyphref:"glyphRef",gradienttransform:"gradientTransform",gradientunits:"gradientUnits",kernelmatrix:"kernelMatrix",kernelunitlength:"kernelUnitLength",keypoints:"keyPoints",keysplines:"keySplines",keytimes:"keyTimes",lengthadjust:"lengthAdjust",limitingconeangle:"limitingConeAngle",markerheight:"markerHeight",markerunits:"markerUnits",markerwidth:"markerWidth",maskcontentunits:"maskContentUnits",maskunits:"maskUnits",numoctaves:"numOctaves",pathlength:"pathLength",patterncontentunits:"patternContentUnits",patterntransform:"patternTransform",patternunits:"patternUnits",pointsatx:"pointsAtX",pointsaty:"pointsAtY",pointsatz:"pointsAtZ",preservealpha:"preserveAlpha",preserveaspectratio:"preserveAspectRatio",primitiveunits:"primitiveUnits",refx:"refX",refy:"refY",repeatcount:"repeatCount",repeatdur:"repeatDur",requiredextensions:"requiredExtensions",requiredfeatures:"requiredFeatures",specularconstant:"specularConstant",specularexponent:"specularExponent",spreadmethod:"spreadMethod",startoffset:"startOffset",stddeviation:"stdDeviation",stitchtiles:"stitchTiles",surfacescale:"surfaceScale",systemlanguage:"systemLanguage",tablevalues:"tableValues",targetx:"targetX",targety:"targetY",textlength:"textLength",viewbox:"viewBox",viewtarget:"viewTarget",xchannelselector:"xChannelSelector",ychannelselector:"yChannelSelector",zoomandpan:"zoomAndPan"},S={"xlink:actuate":{prefix:"xlink",name:"actuate",namespace:h.XLINK},"xlink:arcrole":{prefix:"xlink",name:"arcrole",namespace:h.XLINK},"xlink:href":{prefix:"xlink",name:"href",namespace:h.XLINK},"xlink:role":{prefix:"xlink",name:"role",namespace:h.XLINK},"xlink:show":{prefix:"xlink",name:"show",namespace:h.XLINK},"xlink:title":{prefix:"xlink",name:"title",namespace:h.XLINK},"xlink:type":{prefix:"xlink",name:"type",namespace:h.XLINK},"xml:base":{prefix:"xml",name:"base",namespace:h.XML},"xml:lang":{prefix:"xml",name:"lang",namespace:h.XML},"xml:space":{prefix:"xml",name:"space",namespace:h.XML},xmlns:{prefix:"",name:"xmlns",namespace:h.XMLNS},"xmlns:xlink":{prefix:"xmlns",name:"xlink",namespace:h.XMLNS}},x=s.SVG_TAG_NAMES_ADJUSTMENT_MAP={altglyph:"altGlyph",altglyphdef:"altGlyphDef",altglyphitem:"altGlyphItem",animatecolor:"animateColor",animatemotion:"animateMotion",animatetransform:"animateTransform",clippath:"clipPath",feblend:"feBlend",fecolormatrix:"feColorMatrix",fecomponenttransfer:"feComponentTransfer",fecomposite:"feComposite",feconvolvematrix:"feConvolveMatrix",fediffuselighting:"feDiffuseLighting",fedisplacementmap:"feDisplacementMap",fedistantlight:"feDistantLight",feflood:"feFlood",fefunca:"feFuncA",fefuncb:"feFuncB",fefuncg:"feFuncG",fefuncr:"feFuncR",fegaussianblur:"feGaussianBlur",feimage:"feImage",femerge:"feMerge",femergenode:"feMergeNode",femorphology:"feMorphology",feoffset:"feOffset",fepointlight:"fePointLight",fespecularlighting:"feSpecularLighting",fespotlight:"feSpotLight",fetile:"feTile",feturbulence:"feTurbulence",foreignobject:"foreignObject",glyphref:"glyphRef",lineargradient:"linearGradient",radialgradient:"radialGradient",textpath:"textPath"},N={[d.B]:!0,[d.BIG]:!0,[d.BLOCKQUOTE]:!0,[d.BODY]:!0,[d.BR]:!0,[d.CENTER]:!0,[d.CODE]:!0,[d.DD]:!0,[d.DIV]:!0,[d.DL]:!0,[d.DT]:!0,[d.EM]:!0,[d.EMBED]:!0,[d.H1]:!0,[d.H2]:!0,[d.H3]:!0,[d.H4]:!0,[d.H5]:!0,[d.H6]:!0,[d.HEAD]:!0,[d.HR]:!0,[d.I]:!0,[d.IMG]:!0,[d.LI]:!0,[d.LISTING]:!0,[d.MENU]:!0,[d.META]:!0,[d.NOBR]:!0,[d.OL]:!0,[d.P]:!0,[d.PRE]:!0,[d.RUBY]:!0,[d.S]:!0,[d.SMALL]:!0,[d.SPAN]:!0,[d.STRONG]:!0,[d.STRIKE]:!0,[d.SUB]:!0,[d.SUP]:!0,[d.TABLE]:!0,[d.TT]:!0,[d.U]:!0,[d.UL]:!0,[d.VAR]:!0};s.causesExit=function(b){const L=b.tagName;return L===d.FONT&&(u.getTokenAttr(b,v.COLOR)!==null||u.getTokenAttr(b,v.SIZE)!==null||u.getTokenAttr(b,v.FACE)!==null)||N[L]},s.adjustTokenMathMLAttrs=function(b){for(let L=0;L<b.attrs.length;L++)if(b.attrs[L].name===w){b.attrs[L].name=C;break}},s.adjustTokenSVGAttrs=function(b){for(let L=0;L<b.attrs.length;L++){const k=A[b.attrs[L].name];k&&(b.attrs[L].name=k)}},s.adjustTokenXMLAttrs=function(b){for(let L=0;L<b.attrs.length;L++){const k=S[b.attrs[L].name];k&&(b.attrs[L].prefix=k.prefix,b.attrs[L].name=k.name,b.attrs[L].namespace=k.namespace)}},s.adjustTokenSVGTagName=function(b){const L=x[b.tagName];L&&(b.tagName=L)},s.isIntegrationPoint=function(b,L,k,P){return!(P&&P!==h.HTML||!(function(D,R,M){if(R===h.MATHML&&D===d.ANNOTATION_XML){for(let z=0;z<M.length;z++)if(M[z].name===v.ENCODING){const H=M[z].value.toLowerCase();return H===_||H===T}}return R===h.SVG&&(D===d.FOREIGN_OBJECT||D===d.DESC||D===d.TITLE)})(b,L,k))||!(P&&P!==h.MATHML||!(function(D,R){return R===h.MATHML&&(D===d.MI||D===d.MO||D===d.MN||D===d.MS||D===d.MTEXT)})(b,L))}},6152:(l,s)=>{const f=s.NAMESPACES={HTML:"http://www.w3.org/1999/xhtml",MATHML:"http://www.w3.org/1998/Math/MathML",SVG:"http://www.w3.org/2000/svg",XLINK:"http://www.w3.org/1999/xlink",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"};s.ATTRS={TYPE:"type",ACTION:"action",ENCODING:"encoding",PROMPT:"prompt",NAME:"name",COLOR:"color",FACE:"face",SIZE:"size"},s.DOCUMENT_MODE={NO_QUIRKS:"no-quirks",QUIRKS:"quirks",LIMITED_QUIRKS:"limited-quirks"};const u=s.TAG_NAMES={A:"a",ADDRESS:"address",ANNOTATION_XML:"annotation-xml",APPLET:"applet",AREA:"area",ARTICLE:"article",ASIDE:"aside",B:"b",BASE:"base",BASEFONT:"basefont",BGSOUND:"bgsound",BIG:"big",BLOCKQUOTE:"blockquote",BODY:"body",BR:"br",BUTTON:"button",CAPTION:"caption",CENTER:"center",CODE:"code",COL:"col",COLGROUP:"colgroup",DD:"dd",DESC:"desc",DETAILS:"details",DIALOG:"dialog",DIR:"dir",DIV:"div",DL:"dl",DT:"dt",EM:"em",EMBED:"embed",FIELDSET:"fieldset",FIGCAPTION:"figcaption",FIGURE:"figure",FONT:"font",FOOTER:"footer",FOREIGN_OBJECT:"foreignObject",FORM:"form",FRAME:"frame",FRAMESET:"frameset",H1:"h1",H2:"h2",H3:"h3",H4:"h4",H5:"h5",H6:"h6",HEAD:"head",HEADER:"header",HGROUP:"hgroup",HR:"hr",HTML:"html",I:"i",IMG:"img",IMAGE:"image",INPUT:"input",IFRAME:"iframe",KEYGEN:"keygen",LABEL:"label",LI:"li",LINK:"link",LISTING:"listing",MAIN:"main",MALIGNMARK:"malignmark",MARQUEE:"marquee",MATH:"math",MENU:"menu",META:"meta",MGLYPH:"mglyph",MI:"mi",MO:"mo",MN:"mn",MS:"ms",MTEXT:"mtext",NAV:"nav",NOBR:"nobr",NOFRAMES:"noframes",NOEMBED:"noembed",NOSCRIPT:"noscript",OBJECT:"object",OL:"ol",OPTGROUP:"optgroup",OPTION:"option",P:"p",PARAM:"param",PLAINTEXT:"plaintext",PRE:"pre",RB:"rb",RP:"rp",RT:"rt",RTC:"rtc",RUBY:"ruby",S:"s",SCRIPT:"script",SECTION:"section",SELECT:"select",SOURCE:"source",SMALL:"small",SPAN:"span",STRIKE:"strike",STRONG:"strong",STYLE:"style",SUB:"sub",SUMMARY:"summary",SUP:"sup",TABLE:"table",TBODY:"tbody",TEMPLATE:"template",TEXTAREA:"textarea",TFOOT:"tfoot",TD:"td",TH:"th",THEAD:"thead",TITLE:"title",TR:"tr",TRACK:"track",TT:"tt",U:"u",UL:"ul",SVG:"svg",VAR:"var",WBR:"wbr",XMP:"xmp"};s.SPECIAL_ELEMENTS={[f.HTML]:{[u.ADDRESS]:!0,[u.APPLET]:!0,[u.AREA]:!0,[u.ARTICLE]:!0,[u.ASIDE]:!0,[u.BASE]:!0,[u.BASEFONT]:!0,[u.BGSOUND]:!0,[u.BLOCKQUOTE]:!0,[u.BODY]:!0,[u.BR]:!0,[u.BUTTON]:!0,[u.CAPTION]:!0,[u.CENTER]:!0,[u.COL]:!0,[u.COLGROUP]:!0,[u.DD]:!0,[u.DETAILS]:!0,[u.DIR]:!0,[u.DIV]:!0,[u.DL]:!0,[u.DT]:!0,[u.EMBED]:!0,[u.FIELDSET]:!0,[u.FIGCAPTION]:!0,[u.FIGURE]:!0,[u.FOOTER]:!0,[u.FORM]:!0,[u.FRAME]:!0,[u.FRAMESET]:!0,[u.H1]:!0,[u.H2]:!0,[u.H3]:!0,[u.H4]:!0,[u.H5]:!0,[u.H6]:!0,[u.HEAD]:!0,[u.HEADER]:!0,[u.HGROUP]:!0,[u.HR]:!0,[u.HTML]:!0,[u.IFRAME]:!0,[u.IMG]:!0,[u.INPUT]:!0,[u.LI]:!0,[u.LINK]:!0,[u.LISTING]:!0,[u.MAIN]:!0,[u.MARQUEE]:!0,[u.MENU]:!0,[u.META]:!0,[u.NAV]:!0,[u.NOEMBED]:!0,[u.NOFRAMES]:!0,[u.NOSCRIPT]:!0,[u.OBJECT]:!0,[u.OL]:!0,[u.P]:!0,[u.PARAM]:!0,[u.PLAINTEXT]:!0,[u.PRE]:!0,[u.SCRIPT]:!0,[u.SECTION]:!0,[u.SELECT]:!0,[u.SOURCE]:!0,[u.STYLE]:!0,[u.SUMMARY]:!0,[u.TABLE]:!0,[u.TBODY]:!0,[u.TD]:!0,[u.TEMPLATE]:!0,[u.TEXTAREA]:!0,[u.TFOOT]:!0,[u.TH]:!0,[u.THEAD]:!0,[u.TITLE]:!0,[u.TR]:!0,[u.TRACK]:!0,[u.UL]:!0,[u.WBR]:!0,[u.XMP]:!0},[f.MATHML]:{[u.MI]:!0,[u.MO]:!0,[u.MN]:!0,[u.MS]:!0,[u.MTEXT]:!0,[u.ANNOTATION_XML]:!0},[f.SVG]:{[u.TITLE]:!0,[u.FOREIGN_OBJECT]:!0,[u.DESC]:!0}}},4284:(l,s)=>{const f=[65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111];s.REPLACEMENT_CHARACTER="�",s.CODE_POINTS={EOF:-1,NULL:0,TABULATION:9,CARRIAGE_RETURN:13,LINE_FEED:10,FORM_FEED:12,SPACE:32,EXCLAMATION_MARK:33,QUOTATION_MARK:34,NUMBER_SIGN:35,AMPERSAND:38,APOSTROPHE:39,HYPHEN_MINUS:45,SOLIDUS:47,DIGIT_0:48,DIGIT_9:57,SEMICOLON:59,LESS_THAN_SIGN:60,EQUALS_SIGN:61,GREATER_THAN_SIGN:62,QUESTION_MARK:63,LATIN_CAPITAL_A:65,LATIN_CAPITAL_F:70,LATIN_CAPITAL_X:88,LATIN_CAPITAL_Z:90,RIGHT_SQUARE_BRACKET:93,GRAVE_ACCENT:96,LATIN_SMALL_A:97,LATIN_SMALL_F:102,LATIN_SMALL_X:120,LATIN_SMALL_Z:122,REPLACEMENT_CHARACTER:65533},s.CODE_POINT_SEQUENCES={DASH_DASH_STRING:[45,45],DOCTYPE_STRING:[68,79,67,84,89,80,69],CDATA_START_STRING:[91,67,68,65,84,65,91],SCRIPT_STRING:[115,99,114,105,112,116],PUBLIC_STRING:[80,85,66,76,73,67],SYSTEM_STRING:[83,89,83,84,69,77]},s.isSurrogate=function(u){return u>=55296&&u<=57343},s.isSurrogatePair=function(u){return u>=56320&&u<=57343},s.getSurrogatePairCodePoint=function(u,p){return 1024*(u-55296)+9216+p},s.isControlCodePoint=function(u){return u!==32&&u!==10&&u!==13&&u!==9&&u!==12&&u>=1&&u<=31||u>=127&&u<=159},s.isUndefinedCodePoint=function(u){return u>=64976&&u<=65007||f.indexOf(u)>-1}},3843:(l,s,f)=>{const u=f(1704);l.exports=class extends u{constructor(p,d){super(p),this.posTracker=null,this.onParseError=d.onParseError}_setErrorLocation(p){p.startLine=p.endLine=this.posTracker.line,p.startCol=p.endCol=this.posTracker.col,p.startOffset=p.endOffset=this.posTracker.offset}_reportError(p){const d={code:p,startLine:-1,startCol:-1,startOffset:-1,endLine:-1,endCol:-1,endOffset:-1};this._setErrorLocation(d),this.onParseError(d)}_getOverriddenMethods(p){return{_err(d){p._reportError(d)}}}}},2232:(l,s,f)=>{const u=f(3843),p=f(50),d=f(6110),h=f(1704);l.exports=class extends u{constructor(v,_){super(v,_),this.opts=_,this.ctLoc=null,this.locBeforeToken=!1}_setErrorLocation(v){this.ctLoc&&(v.startLine=this.ctLoc.startLine,v.startCol=this.ctLoc.startCol,v.startOffset=this.ctLoc.startOffset,v.endLine=this.locBeforeToken?this.ctLoc.startLine:this.ctLoc.endLine,v.endCol=this.locBeforeToken?this.ctLoc.startCol:this.ctLoc.endCol,v.endOffset=this.locBeforeToken?this.ctLoc.startOffset:this.ctLoc.endOffset)}_getOverriddenMethods(v,_){return{_bootstrap(T,w){_._bootstrap.call(this,T,w),h.install(this.tokenizer,p,v.opts),h.install(this.tokenizer,d)},_processInputToken(T){v.ctLoc=T.location,_._processInputToken.call(this,T)},_err(T,w){v.locBeforeToken=w&&w.beforeToken,v._reportError(T)}}}}},3288:(l,s,f)=>{const u=f(3843),p=f(7930),d=f(1704);l.exports=class extends u{constructor(h,v){super(h,v),this.posTracker=d.install(h,p),this.lastErrOffset=-1}_reportError(h){this.lastErrOffset!==this.posTracker.offset&&(this.lastErrOffset=this.posTracker.offset,super._reportError(h))}}},50:(l,s,f)=>{const u=f(3843),p=f(3288),d=f(1704);l.exports=class extends u{constructor(h,v){super(h,v);const _=d.install(h.preprocessor,p,v);this.posTracker=_.posTracker}}},1077:(l,s,f)=>{const u=f(1704);l.exports=class extends u{constructor(p,d){super(p),this.onItemPop=d.onItemPop}_getOverriddenMethods(p,d){return{pop(){p.onItemPop(this.current),d.pop.call(this)},popAllUpToHtmlElement(){for(let h=this.stackTop;h>0;h--)p.onItemPop(this.items[h]);d.popAllUpToHtmlElement.call(this)},remove(h){p.onItemPop(this.current),d.remove.call(this,h)}}}}},452:(l,s,f)=>{const u=f(1704),p=f(5763),d=f(6110),h=f(1077),v=f(6152).TAG_NAMES;l.exports=class extends u{constructor(_){super(_),this.parser=_,this.treeAdapter=this.parser.treeAdapter,this.posTracker=null,this.lastStartTagToken=null,this.lastFosterParentingLocation=null,this.currentToken=null}_setStartLocation(_){let T=null;this.lastStartTagToken&&(T=Object.assign({},this.lastStartTagToken.location),T.startTag=this.lastStartTagToken.location),this.treeAdapter.setNodeSourceCodeLocation(_,T)}_setEndLocation(_,T){if(this.treeAdapter.getNodeSourceCodeLocation(_)&&T.location){const w=T.location,C=this.treeAdapter.getTagName(_),A={};T.type===p.END_TAG_TOKEN&&C===T.tagName?(A.endTag=Object.assign({},w),A.endLine=w.endLine,A.endCol=w.endCol,A.endOffset=w.endOffset):(A.endLine=w.startLine,A.endCol=w.startCol,A.endOffset=w.startOffset),this.treeAdapter.updateNodeSourceCodeLocation(_,A)}}_getOverriddenMethods(_,T){return{_bootstrap(w,C){T._bootstrap.call(this,w,C),_.lastStartTagToken=null,_.lastFosterParentingLocation=null,_.currentToken=null;const A=u.install(this.tokenizer,d);_.posTracker=A.posTracker,u.install(this.openElements,h,{onItemPop:function(S){_._setEndLocation(S,_.currentToken)}})},_runParsingLoop(w){T._runParsingLoop.call(this,w);for(let C=this.openElements.stackTop;C>=0;C--)_._setEndLocation(this.openElements.items[C],_.currentToken)},_processTokenInForeignContent(w){_.currentToken=w,T._processTokenInForeignContent.call(this,w)},_processToken(w){if(_.currentToken=w,T._processToken.call(this,w),w.type===p.END_TAG_TOKEN&&(w.tagName===v.HTML||w.tagName===v.BODY&&this.openElements.hasInScope(v.BODY)))for(let C=this.openElements.stackTop;C>=0;C--){const A=this.openElements.items[C];if(this.treeAdapter.getTagName(A)===w.tagName){_._setEndLocation(A,w);break}}},_setDocumentType(w){T._setDocumentType.call(this,w);const C=this.treeAdapter.getChildNodes(this.document),A=C.length;for(let S=0;S<A;S++){const x=C[S];if(this.treeAdapter.isDocumentTypeNode(x)){this.treeAdapter.setNodeSourceCodeLocation(x,w.location);break}}},_attachElementToTree(w){_._setStartLocation(w),_.lastStartTagToken=null,T._attachElementToTree.call(this,w)},_appendElement(w,C){_.lastStartTagToken=w,T._appendElement.call(this,w,C)},_insertElement(w,C){_.lastStartTagToken=w,T._insertElement.call(this,w,C)},_insertTemplate(w){_.lastStartTagToken=w,T._insertTemplate.call(this,w);const C=this.treeAdapter.getTemplateContent(this.openElements.current);this.treeAdapter.setNodeSourceCodeLocation(C,null)},_insertFakeRootElement(){T._insertFakeRootElement.call(this),this.treeAdapter.setNodeSourceCodeLocation(this.openElements.current,null)},_appendCommentNode(w,C){T._appendCommentNode.call(this,w,C);const A=this.treeAdapter.getChildNodes(C),S=A[A.length-1];this.treeAdapter.setNodeSourceCodeLocation(S,w.location)},_findFosterParentingLocation(){return _.lastFosterParentingLocation=T._findFosterParentingLocation.call(this),_.lastFosterParentingLocation},_insertCharacters(w){T._insertCharacters.call(this,w);const C=this._shouldFosterParentOnInsertion(),A=C&&_.lastFosterParentingLocation.parent||this.openElements.currentTmplContent||this.openElements.current,S=this.treeAdapter.getChildNodes(A),x=C&&_.lastFosterParentingLocation.beforeElement?S.indexOf(_.lastFosterParentingLocation.beforeElement)-1:S.length-1,N=S[x];if(this.treeAdapter.getNodeSourceCodeLocation(N)){const{endLine:b,endCol:L,endOffset:k}=w.location;this.treeAdapter.updateNodeSourceCodeLocation(N,{endLine:b,endCol:L,endOffset:k})}else this.treeAdapter.setNodeSourceCodeLocation(N,w.location)}}}}},6110:(l,s,f)=>{const u=f(1704),p=f(5763),d=f(7930);l.exports=class extends u{constructor(h){super(h),this.tokenizer=h,this.posTracker=u.install(h.preprocessor,d),this.currentAttrLocation=null,this.ctLoc=null}_getCurrentLocation(){return{startLine:this.posTracker.line,startCol:this.posTracker.col,startOffset:this.posTracker.offset,endLine:-1,endCol:-1,endOffset:-1}}_attachCurrentAttrLocationInfo(){this.currentAttrLocation.endLine=this.posTracker.line,this.currentAttrLocation.endCol=this.posTracker.col,this.currentAttrLocation.endOffset=this.posTracker.offset;const h=this.tokenizer.currentToken,v=this.tokenizer.currentAttr;h.location.attrs||(h.location.attrs=Object.create(null)),h.location.attrs[v.name]=this.currentAttrLocation}_getOverriddenMethods(h,v){const _={_createStartTagToken(){v._createStartTagToken.call(this),this.currentToken.location=h.ctLoc},_createEndTagToken(){v._createEndTagToken.call(this),this.currentToken.location=h.ctLoc},_createCommentToken(){v._createCommentToken.call(this),this.currentToken.location=h.ctLoc},_createDoctypeToken(T){v._createDoctypeToken.call(this,T),this.currentToken.location=h.ctLoc},_createCharacterToken(T,w){v._createCharacterToken.call(this,T,w),this.currentCharacterToken.location=h.ctLoc},_createEOFToken(){v._createEOFToken.call(this),this.currentToken.location=h._getCurrentLocation()},_createAttr(T){v._createAttr.call(this,T),h.currentAttrLocation=h._getCurrentLocation()},_leaveAttrName(T){v._leaveAttrName.call(this,T),h._attachCurrentAttrLocationInfo()},_leaveAttrValue(T){v._leaveAttrValue.call(this,T),h._attachCurrentAttrLocationInfo()},_emitCurrentToken(){const T=this.currentToken.location;this.currentCharacterToken&&(this.currentCharacterToken.location.endLine=T.startLine,this.currentCharacterToken.location.endCol=T.startCol,this.currentCharacterToken.location.endOffset=T.startOffset),this.currentToken.type===p.EOF_TOKEN?(T.endLine=T.startLine,T.endCol=T.startCol,T.endOffset=T.startOffset):(T.endLine=h.posTracker.line,T.endCol=h.posTracker.col+1,T.endOffset=h.posTracker.offset+1),v._emitCurrentToken.call(this)},_emitCurrentCharacterToken(){const T=this.currentCharacterToken&&this.currentCharacterToken.location;T&&T.endOffset===-1&&(T.endLine=h.posTracker.line,T.endCol=h.posTracker.col,T.endOffset=h.posTracker.offset),v._emitCurrentCharacterToken.call(this)}};return Object.keys(p.MODE).forEach((T=>{const w=p.MODE[T];_[w]=function(C){h.ctLoc=h._getCurrentLocation(),v[w].call(this,C)}})),_}}},7930:(l,s,f)=>{const u=f(1704);l.exports=class extends u{constructor(p){super(p),this.preprocessor=p,this.isEol=!1,this.lineStartPos=0,this.droppedBufferSize=0,this.offset=0,this.col=0,this.line=1}_getOverriddenMethods(p,d){return{advance(){const h=this.pos+1,v=this.html[h];return p.isEol&&(p.isEol=!1,p.line++,p.lineStartPos=h),(v===`
`||v==="\r"&&this.html[h+1]!==`
`)&&(p.isEol=!0),p.col=h-p.lineStartPos+1,p.offset=p.droppedBufferSize+h,d.advance.call(this)},retreat(){d.retreat.call(this),p.isEol=!1,p.col=this.pos-p.lineStartPos+1},dropParsedChunk(){const h=this.pos;d.dropParsedChunk.call(this);const v=h-this.pos;p.lineStartPos-=v,p.droppedBufferSize+=v,p.offset=p.droppedBufferSize+this.pos}}}}},2394:(l,s,f)=>{const u=f(7045),p=f(3988);s.parse=function(d,h){return new u(h).parse(d)},s.parseFragment=function(d,h,v){return typeof d=="string"&&(v=h,h=d,d=null),new u(v).parseFragment(h,d)},s.serialize=function(d,h){return new p(d,h).serialize()}},2484:l=>{class f{constructor(p){this.length=0,this.entries=[],this.treeAdapter=p,this.bookmark=null}_getNoahArkConditionCandidates(p){const d=[];if(this.length>=3){const h=this.treeAdapter.getAttrList(p).length,v=this.treeAdapter.getTagName(p),_=this.treeAdapter.getNamespaceURI(p);for(let T=this.length-1;T>=0;T--){const w=this.entries[T];if(w.type===f.MARKER_ENTRY)break;const C=w.element,A=this.treeAdapter.getAttrList(C);this.treeAdapter.getTagName(C)===v&&this.treeAdapter.getNamespaceURI(C)===_&&A.length===h&&d.push({idx:T,attrs:A})}}return d.length<3?[]:d}_ensureNoahArkCondition(p){const d=this._getNoahArkConditionCandidates(p);let h=d.length;if(h){const v=this.treeAdapter.getAttrList(p),_=v.length,T=Object.create(null);for(let w=0;w<_;w++){const C=v[w];T[C.name]=C.value}for(let w=0;w<_;w++)for(let C=0;C<h;C++){const A=d[C].attrs[w];if(T[A.name]!==A.value&&(d.splice(C,1),h--),d.length<3)return}for(let w=h-1;w>=2;w--)this.entries.splice(d[w].idx,1),this.length--}}insertMarker(){this.entries.push({type:f.MARKER_ENTRY}),this.length++}pushElement(p,d){this._ensureNoahArkCondition(p),this.entries.push({type:f.ELEMENT_ENTRY,element:p,token:d}),this.length++}insertElementAfterBookmark(p,d){let h=this.length-1;for(;h>=0&&this.entries[h]!==this.bookmark;h--);this.entries.splice(h+1,0,{type:f.ELEMENT_ENTRY,element:p,token:d}),this.length++}removeEntry(p){for(let d=this.length-1;d>=0;d--)if(this.entries[d]===p){this.entries.splice(d,1),this.length--;break}}clearToLastMarker(){for(;this.length;){const p=this.entries.pop();if(this.length--,p.type===f.MARKER_ENTRY)break}}getElementEntryInScopeWithTagName(p){for(let d=this.length-1;d>=0;d--){const h=this.entries[d];if(h.type===f.MARKER_ENTRY)return null;if(this.treeAdapter.getTagName(h.element)===p)return h}return null}getElementEntry(p){for(let d=this.length-1;d>=0;d--){const h=this.entries[d];if(h.type===f.ELEMENT_ENTRY&&h.element===p)return h}return null}}f.MARKER_ENTRY="MARKER_ENTRY",f.ELEMENT_ENTRY="ELEMENT_ENTRY",l.exports=f},7045:(l,s,f)=>{const u=f(5763),p=f(6519),d=f(2484),h=f(452),v=f(2232),_=f(1704),T=f(7296),w=f(8904),C=f(1515),A=f(8779),S=f(1734),x=f(4284),N=f(6152),b=N.TAG_NAMES,L=N.NAMESPACES,k=N.ATTRS,P={scriptingEnabled:!0,sourceCodeLocationInfo:!1,onParseError:null,treeAdapter:T},D="hidden",R=8,M=3,z="INITIAL_MODE",H="BEFORE_HTML_MODE",$="BEFORE_HEAD_MODE",j="IN_HEAD_MODE",rt="IN_HEAD_NO_SCRIPT_MODE",q="AFTER_HEAD_MODE",st="IN_BODY_MODE",vt="TEXT_MODE",St="IN_TABLE_MODE",pt="IN_TABLE_TEXT_MODE",bt="IN_CAPTION_MODE",at="IN_COLUMN_GROUP_MODE",lt="IN_TABLE_BODY_MODE",Et="IN_ROW_MODE",yt="IN_CELL_MODE",Ot="IN_SELECT_MODE",zt="IN_SELECT_IN_TABLE_MODE",Bt="IN_TEMPLATE_MODE",Ut="AFTER_BODY_MODE",xt="IN_FRAMESET_MODE",ot="AFTER_FRAMESET_MODE",Vt="AFTER_AFTER_BODY_MODE",mt="AFTER_AFTER_FRAMESET_MODE",Ft={[b.TR]:Et,[b.TBODY]:lt,[b.THEAD]:lt,[b.TFOOT]:lt,[b.CAPTION]:bt,[b.COLGROUP]:at,[b.TABLE]:St,[b.BODY]:st,[b.FRAMESET]:xt},Kt={[b.CAPTION]:St,[b.COLGROUP]:St,[b.TBODY]:St,[b.TFOOT]:St,[b.THEAD]:St,[b.COL]:at,[b.TR]:lt,[b.TD]:Et,[b.TH]:Et},W={[z]:{[u.CHARACTER_TOKEN]:Xt,[u.NULL_CHARACTER_TOKEN]:Xt,[u.WHITESPACE_CHARACTER_TOKEN]:ee,[u.COMMENT_TOKEN]:de,[u.DOCTYPE_TOKEN]:function(O,B){O._setDocumentType(B);const F=B.forceQuirks?N.DOCUMENT_MODE.QUIRKS:C.getDocumentMode(B);C.isConforming(B)||O._err(S.nonConformingDoctype),O.treeAdapter.setDocumentMode(O.document,F),O.insertionMode=H},[u.START_TAG_TOKEN]:Xt,[u.END_TAG_TOKEN]:Xt,[u.EOF_TOKEN]:Xt},[H]:{[u.CHARACTER_TOKEN]:Lt,[u.NULL_CHARACTER_TOKEN]:Lt,[u.WHITESPACE_CHARACTER_TOKEN]:ee,[u.COMMENT_TOKEN]:de,[u.DOCTYPE_TOKEN]:ee,[u.START_TAG_TOKEN]:function(O,B){B.tagName===b.HTML?(O._insertElement(B,L.HTML),O.insertionMode=$):Lt(O,B)},[u.END_TAG_TOKEN]:function(O,B){const F=B.tagName;F!==b.HTML&&F!==b.HEAD&&F!==b.BODY&&F!==b.BR||Lt(O,B)},[u.EOF_TOKEN]:Lt},[$]:{[u.CHARACTER_TOKEN]:Zt,[u.NULL_CHARACTER_TOKEN]:Zt,[u.WHITESPACE_CHARACTER_TOKEN]:ee,[u.COMMENT_TOKEN]:de,[u.DOCTYPE_TOKEN]:Ce,[u.START_TAG_TOKEN]:function(O,B){const F=B.tagName;F===b.HTML?Ue(O,B):F===b.HEAD?(O._insertElement(B,L.HTML),O.headElement=O.openElements.current,O.insertionMode=j):Zt(O,B)},[u.END_TAG_TOKEN]:function(O,B){const F=B.tagName;F===b.HEAD||F===b.BODY||F===b.HTML||F===b.BR?Zt(O,B):O._err(S.endTagWithoutMatchingOpenElement)},[u.EOF_TOKEN]:Zt},[j]:{[u.CHARACTER_TOKEN]:oe,[u.NULL_CHARACTER_TOKEN]:oe,[u.WHITESPACE_CHARACTER_TOKEN]:wt,[u.COMMENT_TOKEN]:de,[u.DOCTYPE_TOKEN]:Ce,[u.START_TAG_TOKEN]:re,[u.END_TAG_TOKEN]:le,[u.EOF_TOKEN]:oe},[rt]:{[u.CHARACTER_TOKEN]:ve,[u.NULL_CHARACTER_TOKEN]:ve,[u.WHITESPACE_CHARACTER_TOKEN]:wt,[u.COMMENT_TOKEN]:de,[u.DOCTYPE_TOKEN]:Ce,[u.START_TAG_TOKEN]:function(O,B){const F=B.tagName;F===b.HTML?Ue(O,B):F===b.BASEFONT||F===b.BGSOUND||F===b.HEAD||F===b.LINK||F===b.META||F===b.NOFRAMES||F===b.STYLE?re(O,B):F===b.NOSCRIPT?O._err(S.nestedNoscriptInHead):ve(O,B)},[u.END_TAG_TOKEN]:function(O,B){const F=B.tagName;F===b.NOSCRIPT?(O.openElements.pop(),O.insertionMode=j):F===b.BR?ve(O,B):O._err(S.endTagWithoutMatchingOpenElement)},[u.EOF_TOKEN]:ve},[q]:{[u.CHARACTER_TOKEN]:xe,[u.NULL_CHARACTER_TOKEN]:xe,[u.WHITESPACE_CHARACTER_TOKEN]:wt,[u.COMMENT_TOKEN]:de,[u.DOCTYPE_TOKEN]:Ce,[u.START_TAG_TOKEN]:function(O,B){const F=B.tagName;F===b.HTML?Ue(O,B):F===b.BODY?(O._insertElement(B,L.HTML),O.framesetOk=!1,O.insertionMode=st):F===b.FRAMESET?(O._insertElement(B,L.HTML),O.insertionMode=xt):F===b.BASE||F===b.BASEFONT||F===b.BGSOUND||F===b.LINK||F===b.META||F===b.NOFRAMES||F===b.SCRIPT||F===b.STYLE||F===b.TEMPLATE||F===b.TITLE?(O._err(S.abandonedHeadElementChild),O.openElements.push(O.headElement),re(O,B),O.openElements.remove(O.headElement)):F===b.HEAD?O._err(S.misplacedStartTagForHeadElement):xe(O,B)},[u.END_TAG_TOKEN]:function(O,B){const F=B.tagName;F===b.BODY||F===b.HTML||F===b.BR?xe(O,B):F===b.TEMPLATE?le(O,B):O._err(S.endTagWithoutMatchingOpenElement)},[u.EOF_TOKEN]:xe},[st]:{[u.CHARACTER_TOKEN]:ke,[u.NULL_CHARACTER_TOKEN]:ee,[u.WHITESPACE_CHARACTER_TOKEN]:Ae,[u.COMMENT_TOKEN]:de,[u.DOCTYPE_TOKEN]:ee,[u.START_TAG_TOKEN]:Ue,[u.END_TAG_TOKEN]:hr,[u.EOF_TOKEN]:ar},[vt]:{[u.CHARACTER_TOKEN]:wt,[u.NULL_CHARACTER_TOKEN]:wt,[u.WHITESPACE_CHARACTER_TOKEN]:wt,[u.COMMENT_TOKEN]:ee,[u.DOCTYPE_TOKEN]:ee,[u.START_TAG_TOKEN]:ee,[u.END_TAG_TOKEN]:function(O,B){B.tagName===b.SCRIPT&&(O.pendingScript=O.openElements.current),O.openElements.pop(),O.insertionMode=O.originalInsertionMode},[u.EOF_TOKEN]:function(O,B){O._err(S.eofInElementThatCanContainOnlyText),O.openElements.pop(),O.insertionMode=O.originalInsertionMode,O._processToken(B)}},[St]:{[u.CHARACTER_TOKEN]:De,[u.NULL_CHARACTER_TOKEN]:De,[u.WHITESPACE_CHARACTER_TOKEN]:De,[u.COMMENT_TOKEN]:de,[u.DOCTYPE_TOKEN]:ee,[u.START_TAG_TOKEN]:er,[u.END_TAG_TOKEN]:Re,[u.EOF_TOKEN]:ar},[pt]:{[u.CHARACTER_TOKEN]:function(O,B){O.pendingCharacterTokens.push(B),O.hasNonWhitespacePendingCharacterToken=!0},[u.NULL_CHARACTER_TOKEN]:ee,[u.WHITESPACE_CHARACTER_TOKEN]:function(O,B){O.pendingCharacterTokens.push(B)},[u.COMMENT_TOKEN]:ye,[u.DOCTYPE_TOKEN]:ye,[u.START_TAG_TOKEN]:ye,[u.END_TAG_TOKEN]:ye,[u.EOF_TOKEN]:ye},[bt]:{[u.CHARACTER_TOKEN]:ke,[u.NULL_CHARACTER_TOKEN]:ee,[u.WHITESPACE_CHARACTER_TOKEN]:Ae,[u.COMMENT_TOKEN]:de,[u.DOCTYPE_TOKEN]:ee,[u.START_TAG_TOKEN]:function(O,B){const F=B.tagName;F===b.CAPTION||F===b.COL||F===b.COLGROUP||F===b.TBODY||F===b.TD||F===b.TFOOT||F===b.TH||F===b.THEAD||F===b.TR?O.openElements.hasInTableScope(b.CAPTION)&&(O.openElements.generateImpliedEndTags(),O.openElements.popUntilTagNamePopped(b.CAPTION),O.activeFormattingElements.clearToLastMarker(),O.insertionMode=St,O._processToken(B)):Ue(O,B)},[u.END_TAG_TOKEN]:function(O,B){const F=B.tagName;F===b.CAPTION||F===b.TABLE?O.openElements.hasInTableScope(b.CAPTION)&&(O.openElements.generateImpliedEndTags(),O.openElements.popUntilTagNamePopped(b.CAPTION),O.activeFormattingElements.clearToLastMarker(),O.insertionMode=St,F===b.TABLE&&O._processToken(B)):F!==b.BODY&&F!==b.COL&&F!==b.COLGROUP&&F!==b.HTML&&F!==b.TBODY&&F!==b.TD&&F!==b.TFOOT&&F!==b.TH&&F!==b.THEAD&&F!==b.TR&&hr(O,B)},[u.EOF_TOKEN]:ar},[at]:{[u.CHARACTER_TOKEN]:ur,[u.NULL_CHARACTER_TOKEN]:ur,[u.WHITESPACE_CHARACTER_TOKEN]:wt,[u.COMMENT_TOKEN]:de,[u.DOCTYPE_TOKEN]:ee,[u.START_TAG_TOKEN]:function(O,B){const F=B.tagName;F===b.HTML?Ue(O,B):F===b.COL?(O._appendElement(B,L.HTML),B.ackSelfClosing=!0):F===b.TEMPLATE?re(O,B):ur(O,B)},[u.END_TAG_TOKEN]:function(O,B){const F=B.tagName;F===b.COLGROUP?O.openElements.currentTagName===b.COLGROUP&&(O.openElements.pop(),O.insertionMode=St):F===b.TEMPLATE?le(O,B):F!==b.COL&&ur(O,B)},[u.EOF_TOKEN]:ar},[lt]:{[u.CHARACTER_TOKEN]:De,[u.NULL_CHARACTER_TOKEN]:De,[u.WHITESPACE_CHARACTER_TOKEN]:De,[u.COMMENT_TOKEN]:de,[u.DOCTYPE_TOKEN]:ee,[u.START_TAG_TOKEN]:function(O,B){const F=B.tagName;F===b.TR?(O.openElements.clearBackToTableBodyContext(),O._insertElement(B,L.HTML),O.insertionMode=Et):F===b.TH||F===b.TD?(O.openElements.clearBackToTableBodyContext(),O._insertFakeElement(b.TR),O.insertionMode=Et,O._processToken(B)):F===b.CAPTION||F===b.COL||F===b.COLGROUP||F===b.TBODY||F===b.TFOOT||F===b.THEAD?O.openElements.hasTableBodyContextInTableScope()&&(O.openElements.clearBackToTableBodyContext(),O.openElements.pop(),O.insertionMode=St,O._processToken(B)):er(O,B)},[u.END_TAG_TOKEN]:function(O,B){const F=B.tagName;F===b.TBODY||F===b.TFOOT||F===b.THEAD?O.openElements.hasInTableScope(F)&&(O.openElements.clearBackToTableBodyContext(),O.openElements.pop(),O.insertionMode=St):F===b.TABLE?O.openElements.hasTableBodyContextInTableScope()&&(O.openElements.clearBackToTableBodyContext(),O.openElements.pop(),O.insertionMode=St,O._processToken(B)):(F!==b.BODY&&F!==b.CAPTION&&F!==b.COL&&F!==b.COLGROUP||F!==b.HTML&&F!==b.TD&&F!==b.TH&&F!==b.TR)&&Re(O,B)},[u.EOF_TOKEN]:ar},[Et]:{[u.CHARACTER_TOKEN]:De,[u.NULL_CHARACTER_TOKEN]:De,[u.WHITESPACE_CHARACTER_TOKEN]:De,[u.COMMENT_TOKEN]:de,[u.DOCTYPE_TOKEN]:ee,[u.START_TAG_TOKEN]:function(O,B){const F=B.tagName;F===b.TH||F===b.TD?(O.openElements.clearBackToTableRowContext(),O._insertElement(B,L.HTML),O.insertionMode=yt,O.activeFormattingElements.insertMarker()):F===b.CAPTION||F===b.COL||F===b.COLGROUP||F===b.TBODY||F===b.TFOOT||F===b.THEAD||F===b.TR?O.openElements.hasInTableScope(b.TR)&&(O.openElements.clearBackToTableRowContext(),O.openElements.pop(),O.insertionMode=lt,O._processToken(B)):er(O,B)},[u.END_TAG_TOKEN]:function(O,B){const F=B.tagName;F===b.TR?O.openElements.hasInTableScope(b.TR)&&(O.openElements.clearBackToTableRowContext(),O.openElements.pop(),O.insertionMode=lt):F===b.TABLE?O.openElements.hasInTableScope(b.TR)&&(O.openElements.clearBackToTableRowContext(),O.openElements.pop(),O.insertionMode=lt,O._processToken(B)):F===b.TBODY||F===b.TFOOT||F===b.THEAD?(O.openElements.hasInTableScope(F)||O.openElements.hasInTableScope(b.TR))&&(O.openElements.clearBackToTableRowContext(),O.openElements.pop(),O.insertionMode=lt,O._processToken(B)):(F!==b.BODY&&F!==b.CAPTION&&F!==b.COL&&F!==b.COLGROUP||F!==b.HTML&&F!==b.TD&&F!==b.TH)&&Re(O,B)},[u.EOF_TOKEN]:ar},[yt]:{[u.CHARACTER_TOKEN]:ke,[u.NULL_CHARACTER_TOKEN]:ee,[u.WHITESPACE_CHARACTER_TOKEN]:Ae,[u.COMMENT_TOKEN]:de,[u.DOCTYPE_TOKEN]:ee,[u.START_TAG_TOKEN]:function(O,B){const F=B.tagName;F===b.CAPTION||F===b.COL||F===b.COLGROUP||F===b.TBODY||F===b.TD||F===b.TFOOT||F===b.TH||F===b.THEAD||F===b.TR?(O.openElements.hasInTableScope(b.TD)||O.openElements.hasInTableScope(b.TH))&&(O._closeTableCell(),O._processToken(B)):Ue(O,B)},[u.END_TAG_TOKEN]:function(O,B){const F=B.tagName;F===b.TD||F===b.TH?O.openElements.hasInTableScope(F)&&(O.openElements.generateImpliedEndTags(),O.openElements.popUntilTagNamePopped(F),O.activeFormattingElements.clearToLastMarker(),O.insertionMode=Et):F===b.TABLE||F===b.TBODY||F===b.TFOOT||F===b.THEAD||F===b.TR?O.openElements.hasInTableScope(F)&&(O._closeTableCell(),O._processToken(B)):F!==b.BODY&&F!==b.CAPTION&&F!==b.COL&&F!==b.COLGROUP&&F!==b.HTML&&hr(O,B)},[u.EOF_TOKEN]:ar},[Ot]:{[u.CHARACTER_TOKEN]:wt,[u.NULL_CHARACTER_TOKEN]:ee,[u.WHITESPACE_CHARACTER_TOKEN]:wt,[u.COMMENT_TOKEN]:de,[u.DOCTYPE_TOKEN]:ee,[u.START_TAG_TOKEN]:Ve,[u.END_TAG_TOKEN]:Je,[u.EOF_TOKEN]:ar},[zt]:{[u.CHARACTER_TOKEN]:wt,[u.NULL_CHARACTER_TOKEN]:ee,[u.WHITESPACE_CHARACTER_TOKEN]:wt,[u.COMMENT_TOKEN]:de,[u.DOCTYPE_TOKEN]:ee,[u.START_TAG_TOKEN]:function(O,B){const F=B.tagName;F===b.CAPTION||F===b.TABLE||F===b.TBODY||F===b.TFOOT||F===b.THEAD||F===b.TR||F===b.TD||F===b.TH?(O.openElements.popUntilTagNamePopped(b.SELECT),O._resetInsertionMode(),O._processToken(B)):Ve(O,B)},[u.END_TAG_TOKEN]:function(O,B){const F=B.tagName;F===b.CAPTION||F===b.TABLE||F===b.TBODY||F===b.TFOOT||F===b.THEAD||F===b.TR||F===b.TD||F===b.TH?O.openElements.hasInTableScope(F)&&(O.openElements.popUntilTagNamePopped(b.SELECT),O._resetInsertionMode(),O._processToken(B)):Je(O,B)},[u.EOF_TOKEN]:ar},[Bt]:{[u.CHARACTER_TOKEN]:ke,[u.NULL_CHARACTER_TOKEN]:ee,[u.WHITESPACE_CHARACTER_TOKEN]:Ae,[u.COMMENT_TOKEN]:de,[u.DOCTYPE_TOKEN]:ee,[u.START_TAG_TOKEN]:function(O,B){const F=B.tagName;if(F===b.BASE||F===b.BASEFONT||F===b.BGSOUND||F===b.LINK||F===b.META||F===b.NOFRAMES||F===b.SCRIPT||F===b.STYLE||F===b.TEMPLATE||F===b.TITLE)re(O,B);else{const ct=Kt[F]||st;O._popTmplInsertionMode(),O._pushTmplInsertionMode(ct),O.insertionMode=ct,O._processToken(B)}},[u.END_TAG_TOKEN]:function(O,B){B.tagName===b.TEMPLATE&&le(O,B)},[u.EOF_TOKEN]:Ge},[Ut]:{[u.CHARACTER_TOKEN]:rr,[u.NULL_CHARACTER_TOKEN]:rr,[u.WHITESPACE_CHARACTER_TOKEN]:Ae,[u.COMMENT_TOKEN]:function(O,B){O._appendCommentNode(B,O.openElements.items[0])},[u.DOCTYPE_TOKEN]:ee,[u.START_TAG_TOKEN]:function(O,B){B.tagName===b.HTML?Ue(O,B):rr(O,B)},[u.END_TAG_TOKEN]:function(O,B){B.tagName===b.HTML?O.fragmentContext||(O.insertionMode=Vt):rr(O,B)},[u.EOF_TOKEN]:J},[xt]:{[u.CHARACTER_TOKEN]:ee,[u.NULL_CHARACTER_TOKEN]:ee,[u.WHITESPACE_CHARACTER_TOKEN]:wt,[u.COMMENT_TOKEN]:de,[u.DOCTYPE_TOKEN]:ee,[u.START_TAG_TOKEN]:function(O,B){const F=B.tagName;F===b.HTML?Ue(O,B):F===b.FRAMESET?O._insertElement(B,L.HTML):F===b.FRAME?(O._appendElement(B,L.HTML),B.ackSelfClosing=!0):F===b.NOFRAMES&&re(O,B)},[u.END_TAG_TOKEN]:function(O,B){B.tagName!==b.FRAMESET||O.openElements.isRootHtmlElementCurrent()||(O.openElements.pop(),O.fragmentContext||O.openElements.currentTagName===b.FRAMESET||(O.insertionMode=ot))},[u.EOF_TOKEN]:J},[ot]:{[u.CHARACTER_TOKEN]:ee,[u.NULL_CHARACTER_TOKEN]:ee,[u.WHITESPACE_CHARACTER_TOKEN]:wt,[u.COMMENT_TOKEN]:de,[u.DOCTYPE_TOKEN]:ee,[u.START_TAG_TOKEN]:function(O,B){const F=B.tagName;F===b.HTML?Ue(O,B):F===b.NOFRAMES&&re(O,B)},[u.END_TAG_TOKEN]:function(O,B){B.tagName===b.HTML&&(O.insertionMode=mt)},[u.EOF_TOKEN]:J},[Vt]:{[u.CHARACTER_TOKEN]:Ie,[u.NULL_CHARACTER_TOKEN]:Ie,[u.WHITESPACE_CHARACTER_TOKEN]:Ae,[u.COMMENT_TOKEN]:nt,[u.DOCTYPE_TOKEN]:ee,[u.START_TAG_TOKEN]:function(O,B){B.tagName===b.HTML?Ue(O,B):Ie(O,B)},[u.END_TAG_TOKEN]:Ie,[u.EOF_TOKEN]:J},[mt]:{[u.CHARACTER_TOKEN]:ee,[u.NULL_CHARACTER_TOKEN]:ee,[u.WHITESPACE_CHARACTER_TOKEN]:Ae,[u.COMMENT_TOKEN]:nt,[u.DOCTYPE_TOKEN]:ee,[u.START_TAG_TOKEN]:function(O,B){const F=B.tagName;F===b.HTML?Ue(O,B):F===b.NOFRAMES&&re(O,B)},[u.END_TAG_TOKEN]:ee,[u.EOF_TOKEN]:J}};function Z(O,B){let F=O.activeFormattingElements.getElementEntryInScopeWithTagName(B.tagName);return F?O.openElements.contains(F.element)?O.openElements.hasInScope(B.tagName)||(F=null):(O.activeFormattingElements.removeEntry(F),F=null):Fe(O,B),F}function it(O,B){let F=null;for(let ct=O.openElements.stackTop;ct>=0;ct--){const Mt=O.openElements.items[ct];if(Mt===B.element)break;O._isSpecialElement(Mt)&&(F=Mt)}return F||(O.openElements.popUntilElementPopped(B.element),O.activeFormattingElements.removeEntry(B)),F}function Ct(O,B,F){let ct=B,Mt=O.openElements.getCommonAncestor(B);for(let ce=0,$e=Mt;$e!==F;ce++,$e=Mt){Mt=O.openElements.getCommonAncestor($e);const Ne=O.activeFormattingElements.getElementEntry($e),Ht=Ne&&ce>=M;!Ne||Ht?(Ht&&O.activeFormattingElements.removeEntry(Ne),O.openElements.remove($e)):($e=jt(O,Ne),ct===B&&(O.activeFormattingElements.bookmark=Ne),O.treeAdapter.detachNode(ct),O.treeAdapter.appendChild($e,ct),ct=$e)}return ct}function jt(O,B){const F=O.treeAdapter.getNamespaceURI(B.element),ct=O.treeAdapter.createElement(B.token.tagName,F,B.token.attrs);return O.openElements.replace(B.element,ct),B.element=ct,ct}function ut(O,B,F){if(O._isElementCausesFosterParenting(B))O._fosterParentElement(F);else{const ct=O.treeAdapter.getTagName(B),Mt=O.treeAdapter.getNamespaceURI(B);ct===b.TEMPLATE&&Mt===L.HTML&&(B=O.treeAdapter.getTemplateContent(B)),O.treeAdapter.appendChild(B,F)}}function Dt(O,B,F){const ct=O.treeAdapter.getNamespaceURI(F.element),Mt=F.token,ce=O.treeAdapter.createElement(Mt.tagName,ct,Mt.attrs);O._adoptNodes(B,ce),O.treeAdapter.appendChild(B,ce),O.activeFormattingElements.insertElementAfterBookmark(ce,F.token),O.activeFormattingElements.removeEntry(F),O.openElements.remove(F.element),O.openElements.insertAfter(B,ce)}function At(O,B){let F;for(let ct=0;ct<R&&(F=Z(O,B),F);ct++){const Mt=it(O,F);if(!Mt)break;O.activeFormattingElements.bookmark=F;const ce=Ct(O,Mt,F.element),$e=O.openElements.getCommonAncestor(F.element);O.treeAdapter.detachNode(ce),ut(O,$e,ce),Dt(O,Mt,F)}}function ee(){}function Ce(O){O._err(S.misplacedDoctype)}function de(O,B){O._appendCommentNode(B,O.openElements.currentTmplContent||O.openElements.current)}function nt(O,B){O._appendCommentNode(B,O.document)}function wt(O,B){O._insertCharacters(B)}function J(O){O.stopped=!0}function Xt(O,B){O._err(S.missingDoctype,{beforeToken:!0}),O.treeAdapter.setDocumentMode(O.document,N.DOCUMENT_MODE.QUIRKS),O.insertionMode=H,O._processToken(B)}function Lt(O,B){O._insertFakeRootElement(),O.insertionMode=$,O._processToken(B)}function Zt(O,B){O._insertFakeElement(b.HEAD),O.headElement=O.openElements.current,O.insertionMode=j,O._processToken(B)}function re(O,B){const F=B.tagName;F===b.HTML?Ue(O,B):F===b.BASE||F===b.BASEFONT||F===b.BGSOUND||F===b.LINK||F===b.META?(O._appendElement(B,L.HTML),B.ackSelfClosing=!0):F===b.TITLE?O._switchToTextParsing(B,u.MODE.RCDATA):F===b.NOSCRIPT?O.options.scriptingEnabled?O._switchToTextParsing(B,u.MODE.RAWTEXT):(O._insertElement(B,L.HTML),O.insertionMode=rt):F===b.NOFRAMES||F===b.STYLE?O._switchToTextParsing(B,u.MODE.RAWTEXT):F===b.SCRIPT?O._switchToTextParsing(B,u.MODE.SCRIPT_DATA):F===b.TEMPLATE?(O._insertTemplate(B,L.HTML),O.activeFormattingElements.insertMarker(),O.framesetOk=!1,O.insertionMode=Bt,O._pushTmplInsertionMode(Bt)):F===b.HEAD?O._err(S.misplacedStartTagForHeadElement):oe(O,B)}function le(O,B){const F=B.tagName;F===b.HEAD?(O.openElements.pop(),O.insertionMode=q):F===b.BODY||F===b.BR||F===b.HTML?oe(O,B):F===b.TEMPLATE&&O.openElements.tmplCount>0?(O.openElements.generateImpliedEndTagsThoroughly(),O.openElements.currentTagName!==b.TEMPLATE&&O._err(S.closingOfElementWithOpenChildElements),O.openElements.popUntilTagNamePopped(b.TEMPLATE),O.activeFormattingElements.clearToLastMarker(),O._popTmplInsertionMode(),O._resetInsertionMode()):O._err(S.endTagWithoutMatchingOpenElement)}function oe(O,B){O.openElements.pop(),O.insertionMode=q,O._processToken(B)}function ve(O,B){const F=B.type===u.EOF_TOKEN?S.openElementsLeftAfterEof:S.disallowedContentInNoscriptInHead;O._err(F),O.openElements.pop(),O.insertionMode=j,O._processToken(B)}function xe(O,B){O._insertFakeElement(b.BODY),O.insertionMode=st,O._processToken(B)}function Ae(O,B){O._reconstructActiveFormattingElements(),O._insertCharacters(B)}function ke(O,B){O._reconstructActiveFormattingElements(),O._insertCharacters(B),O.framesetOk=!1}function We(O,B){O.openElements.hasInButtonScope(b.P)&&O._closePElement(),O._insertElement(B,L.HTML)}function ir(O,B){O.openElements.hasInButtonScope(b.P)&&O._closePElement(),O._insertElement(B,L.HTML),O.skipNextNewLine=!0,O.framesetOk=!1}function et(O,B){O._reconstructActiveFormattingElements(),O._insertElement(B,L.HTML),O.activeFormattingElements.pushElement(O.openElements.current,B)}function _t(O,B){O._reconstructActiveFormattingElements(),O._insertElement(B,L.HTML),O.activeFormattingElements.insertMarker(),O.framesetOk=!1}function Pt(O,B){O._reconstructActiveFormattingElements(),O._appendElement(B,L.HTML),O.framesetOk=!1,B.ackSelfClosing=!0}function Yt(O,B){O._appendElement(B,L.HTML),B.ackSelfClosing=!0}function ne(O,B){O._switchToTextParsing(B,u.MODE.RAWTEXT)}function me(O,B){O.openElements.currentTagName===b.OPTION&&O.openElements.pop(),O._reconstructActiveFormattingElements(),O._insertElement(B,L.HTML)}function we(O,B){O.openElements.hasInScope(b.RUBY)&&O.openElements.generateImpliedEndTags(),O._insertElement(B,L.HTML)}function Me(O,B){O._reconstructActiveFormattingElements(),O._insertElement(B,L.HTML)}function Ue(O,B){const F=B.tagName;switch(F.length){case 1:F===b.I||F===b.S||F===b.B||F===b.U?et(O,B):F===b.P?We(O,B):F===b.A?(function(ct,Mt){const ce=ct.activeFormattingElements.getElementEntryInScopeWithTagName(b.A);ce&&(At(ct,Mt),ct.openElements.remove(ce.element),ct.activeFormattingElements.removeEntry(ce)),ct._reconstructActiveFormattingElements(),ct._insertElement(Mt,L.HTML),ct.activeFormattingElements.pushElement(ct.openElements.current,Mt)})(O,B):Me(O,B);break;case 2:F===b.DL||F===b.OL||F===b.UL?We(O,B):F===b.H1||F===b.H2||F===b.H3||F===b.H4||F===b.H5||F===b.H6?(function(ct,Mt){ct.openElements.hasInButtonScope(b.P)&&ct._closePElement();const ce=ct.openElements.currentTagName;ce!==b.H1&&ce!==b.H2&&ce!==b.H3&&ce!==b.H4&&ce!==b.H5&&ce!==b.H6||ct.openElements.pop(),ct._insertElement(Mt,L.HTML)})(O,B):F===b.LI||F===b.DD||F===b.DT?(function(ct,Mt){ct.framesetOk=!1;const ce=Mt.tagName;for(let $e=ct.openElements.stackTop;$e>=0;$e--){const Ne=ct.openElements.items[$e],Ht=ct.treeAdapter.getTagName(Ne);let U=null;if(ce===b.LI&&Ht===b.LI?U=b.LI:ce!==b.DD&&ce!==b.DT||Ht!==b.DD&&Ht!==b.DT||(U=Ht),U){ct.openElements.generateImpliedEndTagsWithExclusion(U),ct.openElements.popUntilTagNamePopped(U);break}if(Ht!==b.ADDRESS&&Ht!==b.DIV&&Ht!==b.P&&ct._isSpecialElement(Ne))break}ct.openElements.hasInButtonScope(b.P)&&ct._closePElement(),ct._insertElement(Mt,L.HTML)})(O,B):F===b.EM||F===b.TT?et(O,B):F===b.BR?Pt(O,B):F===b.HR?(function(ct,Mt){ct.openElements.hasInButtonScope(b.P)&&ct._closePElement(),ct._appendElement(Mt,L.HTML),ct.framesetOk=!1,Mt.ackSelfClosing=!0})(O,B):F===b.RB?we(O,B):F===b.RT||F===b.RP?(function(ct,Mt){ct.openElements.hasInScope(b.RUBY)&&ct.openElements.generateImpliedEndTagsWithExclusion(b.RTC),ct._insertElement(Mt,L.HTML)})(O,B):F!==b.TH&&F!==b.TD&&F!==b.TR&&Me(O,B);break;case 3:F===b.DIV||F===b.DIR||F===b.NAV?We(O,B):F===b.PRE?ir(O,B):F===b.BIG?et(O,B):F===b.IMG||F===b.WBR?Pt(O,B):F===b.XMP?(function(ct,Mt){ct.openElements.hasInButtonScope(b.P)&&ct._closePElement(),ct._reconstructActiveFormattingElements(),ct.framesetOk=!1,ct._switchToTextParsing(Mt,u.MODE.RAWTEXT)})(O,B):F===b.SVG?(function(ct,Mt){ct._reconstructActiveFormattingElements(),A.adjustTokenSVGAttrs(Mt),A.adjustTokenXMLAttrs(Mt),Mt.selfClosing?ct._appendElement(Mt,L.SVG):ct._insertElement(Mt,L.SVG),Mt.ackSelfClosing=!0})(O,B):F===b.RTC?we(O,B):F!==b.COL&&Me(O,B);break;case 4:F===b.HTML?(function(ct,Mt){ct.openElements.tmplCount===0&&ct.treeAdapter.adoptAttributes(ct.openElements.items[0],Mt.attrs)})(O,B):F===b.BASE||F===b.LINK||F===b.META?re(O,B):F===b.BODY?(function(ct,Mt){const ce=ct.openElements.tryPeekProperlyNestedBodyElement();ce&&ct.openElements.tmplCount===0&&(ct.framesetOk=!1,ct.treeAdapter.adoptAttributes(ce,Mt.attrs))})(O,B):F===b.MAIN||F===b.MENU?We(O,B):F===b.FORM?(function(ct,Mt){const ce=ct.openElements.tmplCount>0;ct.formElement&&!ce||(ct.openElements.hasInButtonScope(b.P)&&ct._closePElement(),ct._insertElement(Mt,L.HTML),ce||(ct.formElement=ct.openElements.current))})(O,B):F===b.CODE||F===b.FONT?et(O,B):F===b.NOBR?(function(ct,Mt){ct._reconstructActiveFormattingElements(),ct.openElements.hasInScope(b.NOBR)&&(At(ct,Mt),ct._reconstructActiveFormattingElements()),ct._insertElement(Mt,L.HTML),ct.activeFormattingElements.pushElement(ct.openElements.current,Mt)})(O,B):F===b.AREA?Pt(O,B):F===b.MATH?(function(ct,Mt){ct._reconstructActiveFormattingElements(),A.adjustTokenMathMLAttrs(Mt),A.adjustTokenXMLAttrs(Mt),Mt.selfClosing?ct._appendElement(Mt,L.MATHML):ct._insertElement(Mt,L.MATHML),Mt.ackSelfClosing=!0})(O,B):F===b.MENU?(function(ct,Mt){ct.openElements.hasInButtonScope(b.P)&&ct._closePElement(),ct._insertElement(Mt,L.HTML)})(O,B):F!==b.HEAD&&Me(O,B);break;case 5:F===b.STYLE||F===b.TITLE?re(O,B):F===b.ASIDE?We(O,B):F===b.SMALL?et(O,B):F===b.TABLE?(function(ct,Mt){ct.treeAdapter.getDocumentMode(ct.document)!==N.DOCUMENT_MODE.QUIRKS&&ct.openElements.hasInButtonScope(b.P)&&ct._closePElement(),ct._insertElement(Mt,L.HTML),ct.framesetOk=!1,ct.insertionMode=St})(O,B):F===b.EMBED?Pt(O,B):F===b.INPUT?(function(ct,Mt){ct._reconstructActiveFormattingElements(),ct._appendElement(Mt,L.HTML);const ce=u.getTokenAttr(Mt,k.TYPE);ce&&ce.toLowerCase()===D||(ct.framesetOk=!1),Mt.ackSelfClosing=!0})(O,B):F===b.PARAM||F===b.TRACK?Yt(O,B):F===b.IMAGE?(function(ct,Mt){Mt.tagName=b.IMG,Pt(ct,Mt)})(O,B):F!==b.FRAME&&F!==b.TBODY&&F!==b.TFOOT&&F!==b.THEAD&&Me(O,B);break;case 6:F===b.SCRIPT?re(O,B):F===b.CENTER||F===b.FIGURE||F===b.FOOTER||F===b.HEADER||F===b.HGROUP||F===b.DIALOG?We(O,B):F===b.BUTTON?(function(ct,Mt){ct.openElements.hasInScope(b.BUTTON)&&(ct.openElements.generateImpliedEndTags(),ct.openElements.popUntilTagNamePopped(b.BUTTON)),ct._reconstructActiveFormattingElements(),ct._insertElement(Mt,L.HTML),ct.framesetOk=!1})(O,B):F===b.STRIKE||F===b.STRONG?et(O,B):F===b.APPLET||F===b.OBJECT?_t(O,B):F===b.KEYGEN?Pt(O,B):F===b.SOURCE?Yt(O,B):F===b.IFRAME?(function(ct,Mt){ct.framesetOk=!1,ct._switchToTextParsing(Mt,u.MODE.RAWTEXT)})(O,B):F===b.SELECT?(function(ct,Mt){ct._reconstructActiveFormattingElements(),ct._insertElement(Mt,L.HTML),ct.framesetOk=!1,ct.insertionMode===St||ct.insertionMode===bt||ct.insertionMode===lt||ct.insertionMode===Et||ct.insertionMode===yt?ct.insertionMode=zt:ct.insertionMode=Ot})(O,B):F===b.OPTION?me(O,B):Me(O,B);break;case 7:F===b.BGSOUND?re(O,B):F===b.DETAILS||F===b.ADDRESS||F===b.ARTICLE||F===b.SECTION||F===b.SUMMARY?We(O,B):F===b.LISTING?ir(O,B):F===b.MARQUEE?_t(O,B):F===b.NOEMBED?ne(O,B):F!==b.CAPTION&&Me(O,B);break;case 8:F===b.BASEFONT?re(O,B):F===b.FRAMESET?(function(ct,Mt){const ce=ct.openElements.tryPeekProperlyNestedBodyElement();ct.framesetOk&&ce&&(ct.treeAdapter.detachNode(ce),ct.openElements.popAllUpToHtmlElement(),ct._insertElement(Mt,L.HTML),ct.insertionMode=xt)})(O,B):F===b.FIELDSET?We(O,B):F===b.TEXTAREA?(function(ct,Mt){ct._insertElement(Mt,L.HTML),ct.skipNextNewLine=!0,ct.tokenizer.state=u.MODE.RCDATA,ct.originalInsertionMode=ct.insertionMode,ct.framesetOk=!1,ct.insertionMode=vt})(O,B):F===b.TEMPLATE?re(O,B):F===b.NOSCRIPT?O.options.scriptingEnabled?ne(O,B):Me(O,B):F===b.OPTGROUP?me(O,B):F!==b.COLGROUP&&Me(O,B);break;case 9:F===b.PLAINTEXT?(function(ct,Mt){ct.openElements.hasInButtonScope(b.P)&&ct._closePElement(),ct._insertElement(Mt,L.HTML),ct.tokenizer.state=u.MODE.PLAINTEXT})(O,B):Me(O,B);break;case 10:F===b.BLOCKQUOTE||F===b.FIGCAPTION?We(O,B):Me(O,B);break;default:Me(O,B)}}function ze(O,B){const F=B.tagName;O.openElements.hasInScope(F)&&(O.openElements.generateImpliedEndTags(),O.openElements.popUntilTagNamePopped(F))}function Pr(O,B){const F=B.tagName;O.openElements.hasInScope(F)&&(O.openElements.generateImpliedEndTags(),O.openElements.popUntilTagNamePopped(F),O.activeFormattingElements.clearToLastMarker())}function Fe(O,B){const F=B.tagName;for(let ct=O.openElements.stackTop;ct>0;ct--){const Mt=O.openElements.items[ct];if(O.treeAdapter.getTagName(Mt)===F){O.openElements.generateImpliedEndTagsWithExclusion(F),O.openElements.popUntilElementPopped(Mt);break}if(O._isSpecialElement(Mt))break}}function hr(O,B){const F=B.tagName;switch(F.length){case 1:F===b.A||F===b.B||F===b.I||F===b.S||F===b.U?At(O,B):F===b.P?(function(ct){ct.openElements.hasInButtonScope(b.P)||ct._insertFakeElement(b.P),ct._closePElement()})(O):Fe(O,B);break;case 2:F===b.DL||F===b.UL||F===b.OL?ze(O,B):F===b.LI?(function(ct){ct.openElements.hasInListItemScope(b.LI)&&(ct.openElements.generateImpliedEndTagsWithExclusion(b.LI),ct.openElements.popUntilTagNamePopped(b.LI))})(O):F===b.DD||F===b.DT?(function(ct,Mt){const ce=Mt.tagName;ct.openElements.hasInScope(ce)&&(ct.openElements.generateImpliedEndTagsWithExclusion(ce),ct.openElements.popUntilTagNamePopped(ce))})(O,B):F===b.H1||F===b.H2||F===b.H3||F===b.H4||F===b.H5||F===b.H6?(function(ct){ct.openElements.hasNumberedHeaderInScope()&&(ct.openElements.generateImpliedEndTags(),ct.openElements.popUntilNumberedHeaderPopped())})(O):F===b.BR?(function(ct){ct._reconstructActiveFormattingElements(),ct._insertFakeElement(b.BR),ct.openElements.pop(),ct.framesetOk=!1})(O):F===b.EM||F===b.TT?At(O,B):Fe(O,B);break;case 3:F===b.BIG?At(O,B):F===b.DIR||F===b.DIV||F===b.NAV||F===b.PRE?ze(O,B):Fe(O,B);break;case 4:F===b.BODY?(function(ct){ct.openElements.hasInScope(b.BODY)&&(ct.insertionMode=Ut)})(O):F===b.HTML?(function(ct,Mt){ct.openElements.hasInScope(b.BODY)&&(ct.insertionMode=Ut,ct._processToken(Mt))})(O,B):F===b.FORM?(function(ct){const Mt=ct.openElements.tmplCount>0,ce=ct.formElement;Mt||(ct.formElement=null),(ce||Mt)&&ct.openElements.hasInScope(b.FORM)&&(ct.openElements.generateImpliedEndTags(),Mt?ct.openElements.popUntilTagNamePopped(b.FORM):ct.openElements.remove(ce))})(O):F===b.CODE||F===b.FONT||F===b.NOBR?At(O,B):F===b.MAIN||F===b.MENU?ze(O,B):Fe(O,B);break;case 5:F===b.ASIDE?ze(O,B):F===b.SMALL?At(O,B):Fe(O,B);break;case 6:F===b.CENTER||F===b.FIGURE||F===b.FOOTER||F===b.HEADER||F===b.HGROUP||F===b.DIALOG?ze(O,B):F===b.APPLET||F===b.OBJECT?Pr(O,B):F===b.STRIKE||F===b.STRONG?At(O,B):Fe(O,B);break;case 7:F===b.ADDRESS||F===b.ARTICLE||F===b.DETAILS||F===b.SECTION||F===b.SUMMARY||F===b.LISTING?ze(O,B):F===b.MARQUEE?Pr(O,B):Fe(O,B);break;case 8:F===b.FIELDSET?ze(O,B):F===b.TEMPLATE?le(O,B):Fe(O,B);break;case 10:F===b.BLOCKQUOTE||F===b.FIGCAPTION?ze(O,B):Fe(O,B);break;default:Fe(O,B)}}function ar(O,B){O.tmplInsertionModeStackTop>-1?Ge(O,B):O.stopped=!0}function De(O,B){const F=O.openElements.currentTagName;F===b.TABLE||F===b.TBODY||F===b.TFOOT||F===b.THEAD||F===b.TR?(O.pendingCharacterTokens=[],O.hasNonWhitespacePendingCharacterToken=!1,O.originalInsertionMode=O.insertionMode,O.insertionMode=pt,O._processToken(B)):Ye(O,B)}function er(O,B){const F=B.tagName;switch(F.length){case 2:F===b.TD||F===b.TH||F===b.TR?(function(ct,Mt){ct.openElements.clearBackToTableContext(),ct._insertFakeElement(b.TBODY),ct.insertionMode=lt,ct._processToken(Mt)})(O,B):Ye(O,B);break;case 3:F===b.COL?(function(ct,Mt){ct.openElements.clearBackToTableContext(),ct._insertFakeElement(b.COLGROUP),ct.insertionMode=at,ct._processToken(Mt)})(O,B):Ye(O,B);break;case 4:F===b.FORM?(function(ct,Mt){ct.formElement||ct.openElements.tmplCount!==0||(ct._insertElement(Mt,L.HTML),ct.formElement=ct.openElements.current,ct.openElements.pop())})(O,B):Ye(O,B);break;case 5:F===b.TABLE?(function(ct,Mt){ct.openElements.hasInTableScope(b.TABLE)&&(ct.openElements.popUntilTagNamePopped(b.TABLE),ct._resetInsertionMode(),ct._processToken(Mt))})(O,B):F===b.STYLE?re(O,B):F===b.TBODY||F===b.TFOOT||F===b.THEAD?(function(ct,Mt){ct.openElements.clearBackToTableContext(),ct._insertElement(Mt,L.HTML),ct.insertionMode=lt})(O,B):F===b.INPUT?(function(ct,Mt){const ce=u.getTokenAttr(Mt,k.TYPE);ce&&ce.toLowerCase()===D?ct._appendElement(Mt,L.HTML):Ye(ct,Mt),Mt.ackSelfClosing=!0})(O,B):Ye(O,B);break;case 6:F===b.SCRIPT?re(O,B):Ye(O,B);break;case 7:F===b.CAPTION?(function(ct,Mt){ct.openElements.clearBackToTableContext(),ct.activeFormattingElements.insertMarker(),ct._insertElement(Mt,L.HTML),ct.insertionMode=bt})(O,B):Ye(O,B);break;case 8:F===b.COLGROUP?(function(ct,Mt){ct.openElements.clearBackToTableContext(),ct._insertElement(Mt,L.HTML),ct.insertionMode=at})(O,B):F===b.TEMPLATE?re(O,B):Ye(O,B);break;default:Ye(O,B)}}function Re(O,B){const F=B.tagName;F===b.TABLE?O.openElements.hasInTableScope(b.TABLE)&&(O.openElements.popUntilTagNamePopped(b.TABLE),O._resetInsertionMode()):F===b.TEMPLATE?le(O,B):F!==b.BODY&&F!==b.CAPTION&&F!==b.COL&&F!==b.COLGROUP&&F!==b.HTML&&F!==b.TBODY&&F!==b.TD&&F!==b.TFOOT&&F!==b.TH&&F!==b.THEAD&&F!==b.TR&&Ye(O,B)}function Ye(O,B){const F=O.fosterParentingEnabled;O.fosterParentingEnabled=!0,O._processTokenInBodyMode(B),O.fosterParentingEnabled=F}function ye(O,B){let F=0;if(O.hasNonWhitespacePendingCharacterToken)for(;F<O.pendingCharacterTokens.length;F++)Ye(O,O.pendingCharacterTokens[F]);else for(;F<O.pendingCharacterTokens.length;F++)O._insertCharacters(O.pendingCharacterTokens[F]);O.insertionMode=O.originalInsertionMode,O._processToken(B)}function ur(O,B){O.openElements.currentTagName===b.COLGROUP&&(O.openElements.pop(),O.insertionMode=St,O._processToken(B))}function Ve(O,B){const F=B.tagName;F===b.HTML?Ue(O,B):F===b.OPTION?(O.openElements.currentTagName===b.OPTION&&O.openElements.pop(),O._insertElement(B,L.HTML)):F===b.OPTGROUP?(O.openElements.currentTagName===b.OPTION&&O.openElements.pop(),O.openElements.currentTagName===b.OPTGROUP&&O.openElements.pop(),O._insertElement(B,L.HTML)):F===b.INPUT||F===b.KEYGEN||F===b.TEXTAREA||F===b.SELECT?O.openElements.hasInSelectScope(b.SELECT)&&(O.openElements.popUntilTagNamePopped(b.SELECT),O._resetInsertionMode(),F!==b.SELECT&&O._processToken(B)):F!==b.SCRIPT&&F!==b.TEMPLATE||re(O,B)}function Je(O,B){const F=B.tagName;if(F===b.OPTGROUP){const ct=O.openElements.items[O.openElements.stackTop-1],Mt=ct&&O.treeAdapter.getTagName(ct);O.openElements.currentTagName===b.OPTION&&Mt===b.OPTGROUP&&O.openElements.pop(),O.openElements.currentTagName===b.OPTGROUP&&O.openElements.pop()}else F===b.OPTION?O.openElements.currentTagName===b.OPTION&&O.openElements.pop():F===b.SELECT&&O.openElements.hasInSelectScope(b.SELECT)?(O.openElements.popUntilTagNamePopped(b.SELECT),O._resetInsertionMode()):F===b.TEMPLATE&&le(O,B)}function Ge(O,B){O.openElements.tmplCount>0?(O.openElements.popUntilTagNamePopped(b.TEMPLATE),O.activeFormattingElements.clearToLastMarker(),O._popTmplInsertionMode(),O._resetInsertionMode(),O._processToken(B)):O.stopped=!0}function rr(O,B){O.insertionMode=st,O._processToken(B)}function Ie(O,B){O.insertionMode=st,O._processToken(B)}l.exports=class{constructor(O){this.options=w(P,O),this.treeAdapter=this.options.treeAdapter,this.pendingScript=null,this.options.sourceCodeLocationInfo&&_.install(this,h),this.options.onParseError&&_.install(this,v,{onParseError:this.options.onParseError})}parse(O){const B=this.treeAdapter.createDocument();return this._bootstrap(B,null),this.tokenizer.write(O,!0),this._runParsingLoop(null),B}parseFragment(O,B){B||(B=this.treeAdapter.createElement(b.TEMPLATE,L.HTML,[]));const F=this.treeAdapter.createElement("documentmock",L.HTML,[]);this._bootstrap(F,B),this.treeAdapter.getTagName(B)===b.TEMPLATE&&this._pushTmplInsertionMode(Bt),this._initTokenizerForFragmentParsing(),this._insertFakeRootElement(),this._resetInsertionMode(),this._findFormInFragmentContext(),this.tokenizer.write(O,!0),this._runParsingLoop(null);const ct=this.treeAdapter.getFirstChild(F),Mt=this.treeAdapter.createDocumentFragment();return this._adoptNodes(ct,Mt),Mt}_bootstrap(O,B){this.tokenizer=new u(this.options),this.stopped=!1,this.insertionMode=z,this.originalInsertionMode="",this.document=O,this.fragmentContext=B,this.headElement=null,this.formElement=null,this.openElements=new p(this.document,this.treeAdapter),this.activeFormattingElements=new d(this.treeAdapter),this.tmplInsertionModeStack=[],this.tmplInsertionModeStackTop=-1,this.currentTmplInsertionMode=null,this.pendingCharacterTokens=[],this.hasNonWhitespacePendingCharacterToken=!1,this.framesetOk=!0,this.skipNextNewLine=!1,this.fosterParentingEnabled=!1}_err(){}_runParsingLoop(O){for(;!this.stopped;){this._setupTokenizerCDATAMode();const B=this.tokenizer.getNextToken();if(B.type===u.HIBERNATION_TOKEN)break;if(this.skipNextNewLine&&(this.skipNextNewLine=!1,B.type===u.WHITESPACE_CHARACTER_TOKEN&&B.chars[0]===`
`)){if(B.chars.length===1)continue;B.chars=B.chars.substr(1)}if(this._processInputToken(B),O&&this.pendingScript)break}}runParsingLoopForCurrentChunk(O,B){if(this._runParsingLoop(B),B&&this.pendingScript){const F=this.pendingScript;return this.pendingScript=null,void B(F)}O&&O()}_setupTokenizerCDATAMode(){const O=this._getAdjustedCurrentElement();this.tokenizer.allowCDATA=O&&O!==this.document&&this.treeAdapter.getNamespaceURI(O)!==L.HTML&&!this._isIntegrationPoint(O)}_switchToTextParsing(O,B){this._insertElement(O,L.HTML),this.tokenizer.state=B,this.originalInsertionMode=this.insertionMode,this.insertionMode=vt}switchToPlaintextParsing(){this.insertionMode=vt,this.originalInsertionMode=st,this.tokenizer.state=u.MODE.PLAINTEXT}_getAdjustedCurrentElement(){return this.openElements.stackTop===0&&this.fragmentContext?this.fragmentContext:this.openElements.current}_findFormInFragmentContext(){let O=this.fragmentContext;do{if(this.treeAdapter.getTagName(O)===b.FORM){this.formElement=O;break}O=this.treeAdapter.getParentNode(O)}while(O)}_initTokenizerForFragmentParsing(){if(this.treeAdapter.getNamespaceURI(this.fragmentContext)===L.HTML){const O=this.treeAdapter.getTagName(this.fragmentContext);O===b.TITLE||O===b.TEXTAREA?this.tokenizer.state=u.MODE.RCDATA:O===b.STYLE||O===b.XMP||O===b.IFRAME||O===b.NOEMBED||O===b.NOFRAMES||O===b.NOSCRIPT?this.tokenizer.state=u.MODE.RAWTEXT:O===b.SCRIPT?this.tokenizer.state=u.MODE.SCRIPT_DATA:O===b.PLAINTEXT&&(this.tokenizer.state=u.MODE.PLAINTEXT)}}_setDocumentType(O){const B=O.name||"",F=O.publicId||"",ct=O.systemId||"";this.treeAdapter.setDocumentType(this.document,B,F,ct)}_attachElementToTree(O){if(this._shouldFosterParentOnInsertion())this._fosterParentElement(O);else{const B=this.openElements.currentTmplContent||this.openElements.current;this.treeAdapter.appendChild(B,O)}}_appendElement(O,B){const F=this.treeAdapter.createElement(O.tagName,B,O.attrs);this._attachElementToTree(F)}_insertElement(O,B){const F=this.treeAdapter.createElement(O.tagName,B,O.attrs);this._attachElementToTree(F),this.openElements.push(F)}_insertFakeElement(O){const B=this.treeAdapter.createElement(O,L.HTML,[]);this._attachElementToTree(B),this.openElements.push(B)}_insertTemplate(O){const B=this.treeAdapter.createElement(O.tagName,L.HTML,O.attrs),F=this.treeAdapter.createDocumentFragment();this.treeAdapter.setTemplateContent(B,F),this._attachElementToTree(B),this.openElements.push(B)}_insertFakeRootElement(){const O=this.treeAdapter.createElement(b.HTML,L.HTML,[]);this.treeAdapter.appendChild(this.openElements.current,O),this.openElements.push(O)}_appendCommentNode(O,B){const F=this.treeAdapter.createCommentNode(O.data);this.treeAdapter.appendChild(B,F)}_insertCharacters(O){if(this._shouldFosterParentOnInsertion())this._fosterParentText(O.chars);else{const B=this.openElements.currentTmplContent||this.openElements.current;this.treeAdapter.insertText(B,O.chars)}}_adoptNodes(O,B){for(let F=this.treeAdapter.getFirstChild(O);F;F=this.treeAdapter.getFirstChild(O))this.treeAdapter.detachNode(F),this.treeAdapter.appendChild(B,F)}_shouldProcessTokenInForeignContent(O){const B=this._getAdjustedCurrentElement();if(!B||B===this.document)return!1;const F=this.treeAdapter.getNamespaceURI(B);if(F===L.HTML||this.treeAdapter.getTagName(B)===b.ANNOTATION_XML&&F===L.MATHML&&O.type===u.START_TAG_TOKEN&&O.tagName===b.SVG)return!1;const ct=O.type===u.CHARACTER_TOKEN||O.type===u.NULL_CHARACTER_TOKEN||O.type===u.WHITESPACE_CHARACTER_TOKEN;return(!(O.type===u.START_TAG_TOKEN&&O.tagName!==b.MGLYPH&&O.tagName!==b.MALIGNMARK)&&!ct||!this._isIntegrationPoint(B,L.MATHML))&&(O.type!==u.START_TAG_TOKEN&&!ct||!this._isIntegrationPoint(B,L.HTML))&&O.type!==u.EOF_TOKEN}_processToken(O){W[this.insertionMode][O.type](this,O)}_processTokenInBodyMode(O){W[st][O.type](this,O)}_processTokenInForeignContent(O){O.type===u.CHARACTER_TOKEN?(function(B,F){B._insertCharacters(F),B.framesetOk=!1})(this,O):O.type===u.NULL_CHARACTER_TOKEN?(function(B,F){F.chars=x.REPLACEMENT_CHARACTER,B._insertCharacters(F)})(this,O):O.type===u.WHITESPACE_CHARACTER_TOKEN?wt(this,O):O.type===u.COMMENT_TOKEN?de(this,O):O.type===u.START_TAG_TOKEN?(function(B,F){if(A.causesExit(F)&&!B.fragmentContext){for(;B.treeAdapter.getNamespaceURI(B.openElements.current)!==L.HTML&&!B._isIntegrationPoint(B.openElements.current);)B.openElements.pop();B._processToken(F)}else{const ct=B._getAdjustedCurrentElement(),Mt=B.treeAdapter.getNamespaceURI(ct);Mt===L.MATHML?A.adjustTokenMathMLAttrs(F):Mt===L.SVG&&(A.adjustTokenSVGTagName(F),A.adjustTokenSVGAttrs(F)),A.adjustTokenXMLAttrs(F),F.selfClosing?B._appendElement(F,Mt):B._insertElement(F,Mt),F.ackSelfClosing=!0}})(this,O):O.type===u.END_TAG_TOKEN&&(function(B,F){for(let ct=B.openElements.stackTop;ct>0;ct--){const Mt=B.openElements.items[ct];if(B.treeAdapter.getNamespaceURI(Mt)===L.HTML){B._processToken(F);break}if(B.treeAdapter.getTagName(Mt).toLowerCase()===F.tagName){B.openElements.popUntilElementPopped(Mt);break}}})(this,O)}_processInputToken(O){this._shouldProcessTokenInForeignContent(O)?this._processTokenInForeignContent(O):this._processToken(O),O.type===u.START_TAG_TOKEN&&O.selfClosing&&!O.ackSelfClosing&&this._err(S.nonVoidHtmlElementStartTagWithTrailingSolidus)}_isIntegrationPoint(O,B){const F=this.treeAdapter.getTagName(O),ct=this.treeAdapter.getNamespaceURI(O),Mt=this.treeAdapter.getAttrList(O);return A.isIntegrationPoint(F,ct,Mt,B)}_reconstructActiveFormattingElements(){const O=this.activeFormattingElements.length;if(O){let B=O,F=null;do if(B--,F=this.activeFormattingElements.entries[B],F.type===d.MARKER_ENTRY||this.openElements.contains(F.element)){B++;break}while(B>0);for(let ct=B;ct<O;ct++)F=this.activeFormattingElements.entries[ct],this._insertElement(F.token,this.treeAdapter.getNamespaceURI(F.element)),F.element=this.openElements.current}}_closeTableCell(){this.openElements.generateImpliedEndTags(),this.openElements.popUntilTableCellPopped(),this.activeFormattingElements.clearToLastMarker(),this.insertionMode=Et}_closePElement(){this.openElements.generateImpliedEndTagsWithExclusion(b.P),this.openElements.popUntilTagNamePopped(b.P)}_resetInsertionMode(){for(let O=this.openElements.stackTop,B=!1;O>=0;O--){let F=this.openElements.items[O];O===0&&(B=!0,this.fragmentContext&&(F=this.fragmentContext));const ct=this.treeAdapter.getTagName(F),Mt=Ft[ct];if(Mt){this.insertionMode=Mt;break}if(!(B||ct!==b.TD&&ct!==b.TH)){this.insertionMode=yt;break}if(!B&&ct===b.HEAD){this.insertionMode=j;break}if(ct===b.SELECT){this._resetInsertionModeForSelect(O);break}if(ct===b.TEMPLATE){this.insertionMode=this.currentTmplInsertionMode;break}if(ct===b.HTML){this.insertionMode=this.headElement?q:$;break}if(B){this.insertionMode=st;break}}}_resetInsertionModeForSelect(O){if(O>0)for(let B=O-1;B>0;B--){const F=this.openElements.items[B],ct=this.treeAdapter.getTagName(F);if(ct===b.TEMPLATE)break;if(ct===b.TABLE)return void(this.insertionMode=zt)}this.insertionMode=Ot}_pushTmplInsertionMode(O){this.tmplInsertionModeStack.push(O),this.tmplInsertionModeStackTop++,this.currentTmplInsertionMode=O}_popTmplInsertionMode(){this.tmplInsertionModeStack.pop(),this.tmplInsertionModeStackTop--,this.currentTmplInsertionMode=this.tmplInsertionModeStack[this.tmplInsertionModeStackTop]}_isElementCausesFosterParenting(O){const B=this.treeAdapter.getTagName(O);return B===b.TABLE||B===b.TBODY||B===b.TFOOT||B===b.THEAD||B===b.TR}_shouldFosterParentOnInsertion(){return this.fosterParentingEnabled&&this._isElementCausesFosterParenting(this.openElements.current)}_findFosterParentingLocation(){const O={parent:null,beforeElement:null};for(let B=this.openElements.stackTop;B>=0;B--){const F=this.openElements.items[B],ct=this.treeAdapter.getTagName(F),Mt=this.treeAdapter.getNamespaceURI(F);if(ct===b.TEMPLATE&&Mt===L.HTML){O.parent=this.treeAdapter.getTemplateContent(F);break}if(ct===b.TABLE){O.parent=this.treeAdapter.getParentNode(F),O.parent?O.beforeElement=F:O.parent=this.openElements.items[B-1];break}}return O.parent||(O.parent=this.openElements.items[0]),O}_fosterParentElement(O){const B=this._findFosterParentingLocation();B.beforeElement?this.treeAdapter.insertBefore(B.parent,O,B.beforeElement):this.treeAdapter.appendChild(B.parent,O)}_fosterParentText(O){const B=this._findFosterParentingLocation();B.beforeElement?this.treeAdapter.insertTextBefore(B.parent,O,B.beforeElement):this.treeAdapter.insertText(B.parent,O)}_isSpecialElement(O){const B=this.treeAdapter.getTagName(O),F=this.treeAdapter.getNamespaceURI(O);return N.SPECIAL_ELEMENTS[F][B]}}},6519:(l,s,f)=>{const u=f(6152),p=u.TAG_NAMES,d=u.NAMESPACES;function h(T){switch(T.length){case 1:return T===p.P;case 2:return T===p.RB||T===p.RP||T===p.RT||T===p.DD||T===p.DT||T===p.LI;case 3:return T===p.RTC;case 6:return T===p.OPTION;case 8:return T===p.OPTGROUP}return!1}function v(T){switch(T.length){case 1:return T===p.P;case 2:return T===p.RB||T===p.RP||T===p.RT||T===p.DD||T===p.DT||T===p.LI||T===p.TD||T===p.TH||T===p.TR;case 3:return T===p.RTC;case 5:return T===p.TBODY||T===p.TFOOT||T===p.THEAD;case 6:return T===p.OPTION;case 7:return T===p.CAPTION;case 8:return T===p.OPTGROUP||T===p.COLGROUP}return!1}function _(T,w){switch(T.length){case 2:if(T===p.TD||T===p.TH)return w===d.HTML;if(T===p.MI||T===p.MO||T===p.MN||T===p.MS)return w===d.MATHML;break;case 4:if(T===p.HTML)return w===d.HTML;if(T===p.DESC)return w===d.SVG;break;case 5:if(T===p.TABLE)return w===d.HTML;if(T===p.MTEXT)return w===d.MATHML;if(T===p.TITLE)return w===d.SVG;break;case 6:return(T===p.APPLET||T===p.OBJECT)&&w===d.HTML;case 7:return(T===p.CAPTION||T===p.MARQUEE)&&w===d.HTML;case 8:return T===p.TEMPLATE&&w===d.HTML;case 13:return T===p.FOREIGN_OBJECT&&w===d.SVG;case 14:return T===p.ANNOTATION_XML&&w===d.MATHML}return!1}l.exports=class{constructor(T,w){this.stackTop=-1,this.items=[],this.current=T,this.currentTagName=null,this.currentTmplContent=null,this.tmplCount=0,this.treeAdapter=w}_indexOf(T){let w=-1;for(let C=this.stackTop;C>=0;C--)if(this.items[C]===T){w=C;break}return w}_isInTemplate(){return this.currentTagName===p.TEMPLATE&&this.treeAdapter.getNamespaceURI(this.current)===d.HTML}_updateCurrentElement(){this.current=this.items[this.stackTop],this.currentTagName=this.current&&this.treeAdapter.getTagName(this.current),this.currentTmplContent=this._isInTemplate()?this.treeAdapter.getTemplateContent(this.current):null}push(T){this.items[++this.stackTop]=T,this._updateCurrentElement(),this._isInTemplate()&&this.tmplCount++}pop(){this.stackTop--,this.tmplCount>0&&this._isInTemplate()&&this.tmplCount--,this._updateCurrentElement()}replace(T,w){const C=this._indexOf(T);this.items[C]=w,C===this.stackTop&&this._updateCurrentElement()}insertAfter(T,w){const C=this._indexOf(T)+1;this.items.splice(C,0,w),C===++this.stackTop&&this._updateCurrentElement()}popUntilTagNamePopped(T){for(;this.stackTop>-1;){const w=this.currentTagName,C=this.treeAdapter.getNamespaceURI(this.current);if(this.pop(),w===T&&C===d.HTML)break}}popUntilElementPopped(T){for(;this.stackTop>-1;){const w=this.current;if(this.pop(),w===T)break}}popUntilNumberedHeaderPopped(){for(;this.stackTop>-1;){const T=this.currentTagName,w=this.treeAdapter.getNamespaceURI(this.current);if(this.pop(),T===p.H1||T===p.H2||T===p.H3||T===p.H4||T===p.H5||T===p.H6&&w===d.HTML)break}}popUntilTableCellPopped(){for(;this.stackTop>-1;){const T=this.currentTagName,w=this.treeAdapter.getNamespaceURI(this.current);if(this.pop(),T===p.TD||T===p.TH&&w===d.HTML)break}}popAllUpToHtmlElement(){this.stackTop=0,this._updateCurrentElement()}clearBackToTableContext(){for(;this.currentTagName!==p.TABLE&&this.currentTagName!==p.TEMPLATE&&this.currentTagName!==p.HTML||this.treeAdapter.getNamespaceURI(this.current)!==d.HTML;)this.pop()}clearBackToTableBodyContext(){for(;this.currentTagName!==p.TBODY&&this.currentTagName!==p.TFOOT&&this.currentTagName!==p.THEAD&&this.currentTagName!==p.TEMPLATE&&this.currentTagName!==p.HTML||this.treeAdapter.getNamespaceURI(this.current)!==d.HTML;)this.pop()}clearBackToTableRowContext(){for(;this.currentTagName!==p.TR&&this.currentTagName!==p.TEMPLATE&&this.currentTagName!==p.HTML||this.treeAdapter.getNamespaceURI(this.current)!==d.HTML;)this.pop()}remove(T){for(let w=this.stackTop;w>=0;w--)if(this.items[w]===T){this.items.splice(w,1),this.stackTop--,this._updateCurrentElement();break}}tryPeekProperlyNestedBodyElement(){const T=this.items[1];return T&&this.treeAdapter.getTagName(T)===p.BODY?T:null}contains(T){return this._indexOf(T)>-1}getCommonAncestor(T){let w=this._indexOf(T);return--w>=0?this.items[w]:null}isRootHtmlElementCurrent(){return this.stackTop===0&&this.currentTagName===p.HTML}hasInScope(T){for(let w=this.stackTop;w>=0;w--){const C=this.treeAdapter.getTagName(this.items[w]),A=this.treeAdapter.getNamespaceURI(this.items[w]);if(C===T&&A===d.HTML)return!0;if(_(C,A))return!1}return!0}hasNumberedHeaderInScope(){for(let T=this.stackTop;T>=0;T--){const w=this.treeAdapter.getTagName(this.items[T]),C=this.treeAdapter.getNamespaceURI(this.items[T]);if((w===p.H1||w===p.H2||w===p.H3||w===p.H4||w===p.H5||w===p.H6)&&C===d.HTML)return!0;if(_(w,C))return!1}return!0}hasInListItemScope(T){for(let w=this.stackTop;w>=0;w--){const C=this.treeAdapter.getTagName(this.items[w]),A=this.treeAdapter.getNamespaceURI(this.items[w]);if(C===T&&A===d.HTML)return!0;if((C===p.UL||C===p.OL)&&A===d.HTML||_(C,A))return!1}return!0}hasInButtonScope(T){for(let w=this.stackTop;w>=0;w--){const C=this.treeAdapter.getTagName(this.items[w]),A=this.treeAdapter.getNamespaceURI(this.items[w]);if(C===T&&A===d.HTML)return!0;if(C===p.BUTTON&&A===d.HTML||_(C,A))return!1}return!0}hasInTableScope(T){for(let w=this.stackTop;w>=0;w--){const C=this.treeAdapter.getTagName(this.items[w]);if(this.treeAdapter.getNamespaceURI(this.items[w])===d.HTML){if(C===T)return!0;if(C===p.TABLE||C===p.TEMPLATE||C===p.HTML)return!1}}return!0}hasTableBodyContextInTableScope(){for(let T=this.stackTop;T>=0;T--){const w=this.treeAdapter.getTagName(this.items[T]);if(this.treeAdapter.getNamespaceURI(this.items[T])===d.HTML){if(w===p.TBODY||w===p.THEAD||w===p.TFOOT)return!0;if(w===p.TABLE||w===p.HTML)return!1}}return!0}hasInSelectScope(T){for(let w=this.stackTop;w>=0;w--){const C=this.treeAdapter.getTagName(this.items[w]);if(this.treeAdapter.getNamespaceURI(this.items[w])===d.HTML){if(C===T)return!0;if(C!==p.OPTION&&C!==p.OPTGROUP)return!1}}return!0}generateImpliedEndTags(){for(;h(this.currentTagName);)this.pop()}generateImpliedEndTagsThoroughly(){for(;v(this.currentTagName);)this.pop()}generateImpliedEndTagsWithExclusion(T){for(;h(this.currentTagName)&&this.currentTagName!==T;)this.pop()}}},3988:(l,s,f)=>{const u=f(7296),p=f(8904),d=f(1515),h=f(6152),v=h.TAG_NAMES,_=h.NAMESPACES,T={treeAdapter:u},w=/&/g,C=/\u00a0/g,A=/"/g,S=/</g,x=/>/g;class N{constructor(L,k){this.options=p(T,k),this.treeAdapter=this.options.treeAdapter,this.html="",this.startNode=L}serialize(){return this._serializeChildNodes(this.startNode),this.html}_serializeChildNodes(L){const k=this.treeAdapter.getChildNodes(L);if(k)for(let P=0,D=k.length;P<D;P++){const R=k[P];this.treeAdapter.isElementNode(R)?this._serializeElement(R):this.treeAdapter.isTextNode(R)?this._serializeTextNode(R):this.treeAdapter.isCommentNode(R)?this._serializeCommentNode(R):this.treeAdapter.isDocumentTypeNode(R)&&this._serializeDocumentTypeNode(R)}}_serializeElement(L){const k=this.treeAdapter.getTagName(L),P=this.treeAdapter.getNamespaceURI(L);if(this.html+="<"+k,this._serializeAttributes(L),this.html+=">",k!==v.AREA&&k!==v.BASE&&k!==v.BASEFONT&&k!==v.BGSOUND&&k!==v.BR&&k!==v.COL&&k!==v.EMBED&&k!==v.FRAME&&k!==v.HR&&k!==v.IMG&&k!==v.INPUT&&k!==v.KEYGEN&&k!==v.LINK&&k!==v.META&&k!==v.PARAM&&k!==v.SOURCE&&k!==v.TRACK&&k!==v.WBR){const D=k===v.TEMPLATE&&P===_.HTML?this.treeAdapter.getTemplateContent(L):L;this._serializeChildNodes(D),this.html+="</"+k+">"}}_serializeAttributes(L){const k=this.treeAdapter.getAttrList(L);for(let P=0,D=k.length;P<D;P++){const R=k[P],M=N.escapeString(R.value,!0);this.html+=" ",R.namespace?R.namespace===_.XML?this.html+="xml:"+R.name:R.namespace===_.XMLNS?(R.name!=="xmlns"&&(this.html+="xmlns:"),this.html+=R.name):R.namespace===_.XLINK?this.html+="xlink:"+R.name:this.html+=R.prefix+":"+R.name:this.html+=R.name,this.html+='="'+M+'"'}}_serializeTextNode(L){const k=this.treeAdapter.getTextNodeContent(L),P=this.treeAdapter.getParentNode(L);let D;P&&this.treeAdapter.isElementNode(P)&&(D=this.treeAdapter.getTagName(P)),D===v.STYLE||D===v.SCRIPT||D===v.XMP||D===v.IFRAME||D===v.NOEMBED||D===v.NOFRAMES||D===v.PLAINTEXT||D===v.NOSCRIPT?this.html+=k:this.html+=N.escapeString(k,!1)}_serializeCommentNode(L){this.html+="<!--"+this.treeAdapter.getCommentNodeContent(L)+"-->"}_serializeDocumentTypeNode(L){const k=this.treeAdapter.getDocumentTypeNodeName(L);this.html+="<"+d.serializeContent(k,null,null)+">"}}N.escapeString=function(b,L){return b=b.replace(w,"&amp;").replace(C,"&nbsp;"),b=L?b.replace(A,"&quot;"):b.replace(S,"&lt;").replace(x,"&gt;")},l.exports=N},5763:(l,s,f)=>{const u=f(7118),p=f(4284),d=f(5482),h=f(1734),v=p.CODE_POINTS,_=p.CODE_POINT_SEQUENCES,T={128:8364,130:8218,131:402,132:8222,133:8230,134:8224,135:8225,136:710,137:8240,138:352,139:8249,140:338,142:381,145:8216,146:8217,147:8220,148:8221,149:8226,150:8211,151:8212,152:732,153:8482,154:353,155:8250,156:339,158:382,159:376},w=1,C=2,A=4,S=w|C|A,x="DATA_STATE",N="RCDATA_STATE",b="RAWTEXT_STATE",L="SCRIPT_DATA_STATE",k="PLAINTEXT_STATE",P="TAG_OPEN_STATE",D="END_TAG_OPEN_STATE",R="TAG_NAME_STATE",M="RCDATA_LESS_THAN_SIGN_STATE",z="RCDATA_END_TAG_OPEN_STATE",H="RCDATA_END_TAG_NAME_STATE",$="RAWTEXT_LESS_THAN_SIGN_STATE",j="RAWTEXT_END_TAG_OPEN_STATE",rt="RAWTEXT_END_TAG_NAME_STATE",q="SCRIPT_DATA_LESS_THAN_SIGN_STATE",st="SCRIPT_DATA_END_TAG_OPEN_STATE",vt="SCRIPT_DATA_END_TAG_NAME_STATE",St="SCRIPT_DATA_ESCAPE_START_STATE",pt="SCRIPT_DATA_ESCAPE_START_DASH_STATE",bt="SCRIPT_DATA_ESCAPED_STATE",at="SCRIPT_DATA_ESCAPED_DASH_STATE",lt="SCRIPT_DATA_ESCAPED_DASH_DASH_STATE",Et="SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN_STATE",yt="SCRIPT_DATA_ESCAPED_END_TAG_OPEN_STATE",Ot="SCRIPT_DATA_ESCAPED_END_TAG_NAME_STATE",zt="SCRIPT_DATA_DOUBLE_ESCAPE_START_STATE",Bt="SCRIPT_DATA_DOUBLE_ESCAPED_STATE",Ut="SCRIPT_DATA_DOUBLE_ESCAPED_DASH_STATE",xt="SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH_STATE",ot="SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN_STATE",Vt="SCRIPT_DATA_DOUBLE_ESCAPE_END_STATE",mt="BEFORE_ATTRIBUTE_NAME_STATE",Ft="ATTRIBUTE_NAME_STATE",Kt="AFTER_ATTRIBUTE_NAME_STATE",W="BEFORE_ATTRIBUTE_VALUE_STATE",Z="ATTRIBUTE_VALUE_DOUBLE_QUOTED_STATE",it="ATTRIBUTE_VALUE_SINGLE_QUOTED_STATE",Ct="ATTRIBUTE_VALUE_UNQUOTED_STATE",jt="AFTER_ATTRIBUTE_VALUE_QUOTED_STATE",ut="SELF_CLOSING_START_TAG_STATE",Dt="BOGUS_COMMENT_STATE",At="MARKUP_DECLARATION_OPEN_STATE",ee="COMMENT_START_STATE",Ce="COMMENT_START_DASH_STATE",de="COMMENT_STATE",nt="COMMENT_LESS_THAN_SIGN_STATE",wt="COMMENT_LESS_THAN_SIGN_BANG_STATE",J="COMMENT_LESS_THAN_SIGN_BANG_DASH_STATE",Xt="COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH_STATE",Lt="COMMENT_END_DASH_STATE",Zt="COMMENT_END_STATE",re="COMMENT_END_BANG_STATE",le="DOCTYPE_STATE",oe="BEFORE_DOCTYPE_NAME_STATE",ve="DOCTYPE_NAME_STATE",xe="AFTER_DOCTYPE_NAME_STATE",Ae="AFTER_DOCTYPE_PUBLIC_KEYWORD_STATE",ke="BEFORE_DOCTYPE_PUBLIC_IDENTIFIER_STATE",We="DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED_STATE",ir="DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED_STATE",et="AFTER_DOCTYPE_PUBLIC_IDENTIFIER_STATE",_t="BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS_STATE",Pt="AFTER_DOCTYPE_SYSTEM_KEYWORD_STATE",Yt="BEFORE_DOCTYPE_SYSTEM_IDENTIFIER_STATE",ne="DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED_STATE",me="DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED_STATE",we="AFTER_DOCTYPE_SYSTEM_IDENTIFIER_STATE",Me="BOGUS_DOCTYPE_STATE",Ue="CDATA_SECTION_STATE",ze="CDATA_SECTION_BRACKET_STATE",Pr="CDATA_SECTION_END_STATE",Fe="CHARACTER_REFERENCE_STATE",hr="NAMED_CHARACTER_REFERENCE_STATE",ar="AMBIGUOS_AMPERSAND_STATE",De="NUMERIC_CHARACTER_REFERENCE_STATE",er="HEXADEMICAL_CHARACTER_REFERENCE_START_STATE",Re="DECIMAL_CHARACTER_REFERENCE_START_STATE",Ye="HEXADEMICAL_CHARACTER_REFERENCE_STATE",ye="DECIMAL_CHARACTER_REFERENCE_STATE",ur="NUMERIC_CHARACTER_REFERENCE_END_STATE";function Ve(Ht){return Ht===v.SPACE||Ht===v.LINE_FEED||Ht===v.TABULATION||Ht===v.FORM_FEED}function Je(Ht){return Ht>=v.DIGIT_0&&Ht<=v.DIGIT_9}function Ge(Ht){return Ht>=v.LATIN_CAPITAL_A&&Ht<=v.LATIN_CAPITAL_Z}function rr(Ht){return Ht>=v.LATIN_SMALL_A&&Ht<=v.LATIN_SMALL_Z}function Ie(Ht){return rr(Ht)||Ge(Ht)}function O(Ht){return Ie(Ht)||Je(Ht)}function B(Ht){return Ht>=v.LATIN_CAPITAL_A&&Ht<=v.LATIN_CAPITAL_F}function F(Ht){return Ht>=v.LATIN_SMALL_A&&Ht<=v.LATIN_SMALL_F}function ct(Ht){return Ht+32}function Mt(Ht){return Ht<=65535?String.fromCharCode(Ht):(Ht-=65536,String.fromCharCode(Ht>>>10&1023|55296)+String.fromCharCode(56320|1023&Ht))}function ce(Ht){return String.fromCharCode(ct(Ht))}function $e(Ht,U){const Oe=d[++Ht];let Q=++Ht,dt=Q+Oe-1;for(;Q<=dt;){const Wt=Q+dt>>>1,Jt=d[Wt];if(Jt<U)Q=Wt+1;else{if(!(Jt>U))return d[Wt+Oe];dt=Wt-1}}return-1}class Ne{constructor(){this.preprocessor=new u,this.tokenQueue=[],this.allowCDATA=!1,this.state=x,this.returnState="",this.charRefCode=-1,this.tempBuff=[],this.lastStartTagName="",this.consumedAfterSnapshot=-1,this.active=!1,this.currentCharacterToken=null,this.currentToken=null,this.currentAttr=null}_err(){}_errOnNextCodePoint(U){this._consume(),this._err(U),this._unconsume()}getNextToken(){for(;!this.tokenQueue.length&&this.active;){this.consumedAfterSnapshot=0;const U=this._consume();this._ensureHibernation()||this[this.state](U)}return this.tokenQueue.shift()}write(U,Oe){this.active=!0,this.preprocessor.write(U,Oe)}insertHtmlAtCurrentPos(U){this.active=!0,this.preprocessor.insertHtmlAtCurrentPos(U)}_ensureHibernation(){if(this.preprocessor.endOfChunkHit){for(;this.consumedAfterSnapshot>0;this.consumedAfterSnapshot--)this.preprocessor.retreat();return this.active=!1,this.tokenQueue.push({type:Ne.HIBERNATION_TOKEN}),!0}return!1}_consume(){return this.consumedAfterSnapshot++,this.preprocessor.advance()}_unconsume(){this.consumedAfterSnapshot--,this.preprocessor.retreat()}_reconsumeInState(U){this.state=U,this._unconsume()}_consumeSequenceIfMatch(U,Oe,Q){let dt=0,Wt=!0;const Jt=U.length;let te,Pe=0,je=Oe;for(;Pe<Jt;Pe++){if(Pe>0&&(je=this._consume(),dt++),je===v.EOF){Wt=!1;break}if(te=U[Pe],je!==te&&(Q||je!==ct(te))){Wt=!1;break}}if(!Wt)for(;dt--;)this._unconsume();return Wt}_isTempBufferEqualToScriptString(){if(this.tempBuff.length!==_.SCRIPT_STRING.length)return!1;for(let U=0;U<this.tempBuff.length;U++)if(this.tempBuff[U]!==_.SCRIPT_STRING[U])return!1;return!0}_createStartTagToken(){this.currentToken={type:Ne.START_TAG_TOKEN,tagName:"",selfClosing:!1,ackSelfClosing:!1,attrs:[]}}_createEndTagToken(){this.currentToken={type:Ne.END_TAG_TOKEN,tagName:"",selfClosing:!1,attrs:[]}}_createCommentToken(){this.currentToken={type:Ne.COMMENT_TOKEN,data:""}}_createDoctypeToken(U){this.currentToken={type:Ne.DOCTYPE_TOKEN,name:U,forceQuirks:!1,publicId:null,systemId:null}}_createCharacterToken(U,Oe){this.currentCharacterToken={type:U,chars:Oe}}_createEOFToken(){this.currentToken={type:Ne.EOF_TOKEN}}_createAttr(U){this.currentAttr={name:U,value:""}}_leaveAttrName(U){Ne.getTokenAttr(this.currentToken,this.currentAttr.name)===null?this.currentToken.attrs.push(this.currentAttr):this._err(h.duplicateAttribute),this.state=U}_leaveAttrValue(U){this.state=U}_emitCurrentToken(){this._emitCurrentCharacterToken();const U=this.currentToken;this.currentToken=null,U.type===Ne.START_TAG_TOKEN?this.lastStartTagName=U.tagName:U.type===Ne.END_TAG_TOKEN&&(U.attrs.length>0&&this._err(h.endTagWithAttributes),U.selfClosing&&this._err(h.endTagWithTrailingSolidus)),this.tokenQueue.push(U)}_emitCurrentCharacterToken(){this.currentCharacterToken&&(this.tokenQueue.push(this.currentCharacterToken),this.currentCharacterToken=null)}_emitEOFToken(){this._createEOFToken(),this._emitCurrentToken()}_appendCharToCurrentCharacterToken(U,Oe){this.currentCharacterToken&&this.currentCharacterToken.type!==U&&this._emitCurrentCharacterToken(),this.currentCharacterToken?this.currentCharacterToken.chars+=Oe:this._createCharacterToken(U,Oe)}_emitCodePoint(U){let Oe=Ne.CHARACTER_TOKEN;Ve(U)?Oe=Ne.WHITESPACE_CHARACTER_TOKEN:U===v.NULL&&(Oe=Ne.NULL_CHARACTER_TOKEN),this._appendCharToCurrentCharacterToken(Oe,Mt(U))}_emitSeveralCodePoints(U){for(let Oe=0;Oe<U.length;Oe++)this._emitCodePoint(U[Oe])}_emitChars(U){this._appendCharToCurrentCharacterToken(Ne.CHARACTER_TOKEN,U)}_matchNamedCharacterReference(U){let Oe=null,Q=1,dt=$e(0,U);for(this.tempBuff.push(U);dt>-1;){const Wt=d[dt],Jt=Wt<S;Jt&&Wt&w&&(Oe=Wt&C?[d[++dt],d[++dt]]:[d[++dt]],Q=0);const te=this._consume();if(this.tempBuff.push(te),Q++,te===v.EOF)break;dt=Jt?Wt&A?$e(dt,te):-1:te===Wt?++dt:-1}for(;Q--;)this.tempBuff.pop(),this._unconsume();return Oe}_isCharacterReferenceInAttribute(){return this.returnState===Z||this.returnState===it||this.returnState===Ct}_isCharacterReferenceAttributeQuirk(U){if(!U&&this._isCharacterReferenceInAttribute()){const Oe=this._consume();return this._unconsume(),Oe===v.EQUALS_SIGN||O(Oe)}return!1}_flushCodePointsConsumedAsCharacterReference(){if(this._isCharacterReferenceInAttribute())for(let U=0;U<this.tempBuff.length;U++)this.currentAttr.value+=Mt(this.tempBuff[U]);else this._emitSeveralCodePoints(this.tempBuff);this.tempBuff=[]}[x](U){this.preprocessor.dropParsedChunk(),U===v.LESS_THAN_SIGN?this.state=P:U===v.AMPERSAND?(this.returnState=x,this.state=Fe):U===v.NULL?(this._err(h.unexpectedNullCharacter),this._emitCodePoint(U)):U===v.EOF?this._emitEOFToken():this._emitCodePoint(U)}[N](U){this.preprocessor.dropParsedChunk(),U===v.AMPERSAND?(this.returnState=N,this.state=Fe):U===v.LESS_THAN_SIGN?this.state=M:U===v.NULL?(this._err(h.unexpectedNullCharacter),this._emitChars(p.REPLACEMENT_CHARACTER)):U===v.EOF?this._emitEOFToken():this._emitCodePoint(U)}[b](U){this.preprocessor.dropParsedChunk(),U===v.LESS_THAN_SIGN?this.state=$:U===v.NULL?(this._err(h.unexpectedNullCharacter),this._emitChars(p.REPLACEMENT_CHARACTER)):U===v.EOF?this._emitEOFToken():this._emitCodePoint(U)}[L](U){this.preprocessor.dropParsedChunk(),U===v.LESS_THAN_SIGN?this.state=q:U===v.NULL?(this._err(h.unexpectedNullCharacter),this._emitChars(p.REPLACEMENT_CHARACTER)):U===v.EOF?this._emitEOFToken():this._emitCodePoint(U)}[k](U){this.preprocessor.dropParsedChunk(),U===v.NULL?(this._err(h.unexpectedNullCharacter),this._emitChars(p.REPLACEMENT_CHARACTER)):U===v.EOF?this._emitEOFToken():this._emitCodePoint(U)}[P](U){U===v.EXCLAMATION_MARK?this.state=At:U===v.SOLIDUS?this.state=D:Ie(U)?(this._createStartTagToken(),this._reconsumeInState(R)):U===v.QUESTION_MARK?(this._err(h.unexpectedQuestionMarkInsteadOfTagName),this._createCommentToken(),this._reconsumeInState(Dt)):U===v.EOF?(this._err(h.eofBeforeTagName),this._emitChars("<"),this._emitEOFToken()):(this._err(h.invalidFirstCharacterOfTagName),this._emitChars("<"),this._reconsumeInState(x))}[D](U){Ie(U)?(this._createEndTagToken(),this._reconsumeInState(R)):U===v.GREATER_THAN_SIGN?(this._err(h.missingEndTagName),this.state=x):U===v.EOF?(this._err(h.eofBeforeTagName),this._emitChars("</"),this._emitEOFToken()):(this._err(h.invalidFirstCharacterOfTagName),this._createCommentToken(),this._reconsumeInState(Dt))}[R](U){Ve(U)?this.state=mt:U===v.SOLIDUS?this.state=ut:U===v.GREATER_THAN_SIGN?(this.state=x,this._emitCurrentToken()):Ge(U)?this.currentToken.tagName+=ce(U):U===v.NULL?(this._err(h.unexpectedNullCharacter),this.currentToken.tagName+=p.REPLACEMENT_CHARACTER):U===v.EOF?(this._err(h.eofInTag),this._emitEOFToken()):this.currentToken.tagName+=Mt(U)}[M](U){U===v.SOLIDUS?(this.tempBuff=[],this.state=z):(this._emitChars("<"),this._reconsumeInState(N))}[z](U){Ie(U)?(this._createEndTagToken(),this._reconsumeInState(H)):(this._emitChars("</"),this._reconsumeInState(N))}[H](U){if(Ge(U))this.currentToken.tagName+=ce(U),this.tempBuff.push(U);else if(rr(U))this.currentToken.tagName+=Mt(U),this.tempBuff.push(U);else{if(this.lastStartTagName===this.currentToken.tagName){if(Ve(U))return void(this.state=mt);if(U===v.SOLIDUS)return void(this.state=ut);if(U===v.GREATER_THAN_SIGN)return this.state=x,void this._emitCurrentToken()}this._emitChars("</"),this._emitSeveralCodePoints(this.tempBuff),this._reconsumeInState(N)}}[$](U){U===v.SOLIDUS?(this.tempBuff=[],this.state=j):(this._emitChars("<"),this._reconsumeInState(b))}[j](U){Ie(U)?(this._createEndTagToken(),this._reconsumeInState(rt)):(this._emitChars("</"),this._reconsumeInState(b))}[rt](U){if(Ge(U))this.currentToken.tagName+=ce(U),this.tempBuff.push(U);else if(rr(U))this.currentToken.tagName+=Mt(U),this.tempBuff.push(U);else{if(this.lastStartTagName===this.currentToken.tagName){if(Ve(U))return void(this.state=mt);if(U===v.SOLIDUS)return void(this.state=ut);if(U===v.GREATER_THAN_SIGN)return this._emitCurrentToken(),void(this.state=x)}this._emitChars("</"),this._emitSeveralCodePoints(this.tempBuff),this._reconsumeInState(b)}}[q](U){U===v.SOLIDUS?(this.tempBuff=[],this.state=st):U===v.EXCLAMATION_MARK?(this.state=St,this._emitChars("<!")):(this._emitChars("<"),this._reconsumeInState(L))}[st](U){Ie(U)?(this._createEndTagToken(),this._reconsumeInState(vt)):(this._emitChars("</"),this._reconsumeInState(L))}[vt](U){if(Ge(U))this.currentToken.tagName+=ce(U),this.tempBuff.push(U);else if(rr(U))this.currentToken.tagName+=Mt(U),this.tempBuff.push(U);else{if(this.lastStartTagName===this.currentToken.tagName){if(Ve(U))return void(this.state=mt);if(U===v.SOLIDUS)return void(this.state=ut);if(U===v.GREATER_THAN_SIGN)return this._emitCurrentToken(),void(this.state=x)}this._emitChars("</"),this._emitSeveralCodePoints(this.tempBuff),this._reconsumeInState(L)}}[St](U){U===v.HYPHEN_MINUS?(this.state=pt,this._emitChars("-")):this._reconsumeInState(L)}[pt](U){U===v.HYPHEN_MINUS?(this.state=lt,this._emitChars("-")):this._reconsumeInState(L)}[bt](U){U===v.HYPHEN_MINUS?(this.state=at,this._emitChars("-")):U===v.LESS_THAN_SIGN?this.state=Et:U===v.NULL?(this._err(h.unexpectedNullCharacter),this._emitChars(p.REPLACEMENT_CHARACTER)):U===v.EOF?(this._err(h.eofInScriptHtmlCommentLikeText),this._emitEOFToken()):this._emitCodePoint(U)}[at](U){U===v.HYPHEN_MINUS?(this.state=lt,this._emitChars("-")):U===v.LESS_THAN_SIGN?this.state=Et:U===v.NULL?(this._err(h.unexpectedNullCharacter),this.state=bt,this._emitChars(p.REPLACEMENT_CHARACTER)):U===v.EOF?(this._err(h.eofInScriptHtmlCommentLikeText),this._emitEOFToken()):(this.state=bt,this._emitCodePoint(U))}[lt](U){U===v.HYPHEN_MINUS?this._emitChars("-"):U===v.LESS_THAN_SIGN?this.state=Et:U===v.GREATER_THAN_SIGN?(this.state=L,this._emitChars(">")):U===v.NULL?(this._err(h.unexpectedNullCharacter),this.state=bt,this._emitChars(p.REPLACEMENT_CHARACTER)):U===v.EOF?(this._err(h.eofInScriptHtmlCommentLikeText),this._emitEOFToken()):(this.state=bt,this._emitCodePoint(U))}[Et](U){U===v.SOLIDUS?(this.tempBuff=[],this.state=yt):Ie(U)?(this.tempBuff=[],this._emitChars("<"),this._reconsumeInState(zt)):(this._emitChars("<"),this._reconsumeInState(bt))}[yt](U){Ie(U)?(this._createEndTagToken(),this._reconsumeInState(Ot)):(this._emitChars("</"),this._reconsumeInState(bt))}[Ot](U){if(Ge(U))this.currentToken.tagName+=ce(U),this.tempBuff.push(U);else if(rr(U))this.currentToken.tagName+=Mt(U),this.tempBuff.push(U);else{if(this.lastStartTagName===this.currentToken.tagName){if(Ve(U))return void(this.state=mt);if(U===v.SOLIDUS)return void(this.state=ut);if(U===v.GREATER_THAN_SIGN)return this._emitCurrentToken(),void(this.state=x)}this._emitChars("</"),this._emitSeveralCodePoints(this.tempBuff),this._reconsumeInState(bt)}}[zt](U){Ve(U)||U===v.SOLIDUS||U===v.GREATER_THAN_SIGN?(this.state=this._isTempBufferEqualToScriptString()?Bt:bt,this._emitCodePoint(U)):Ge(U)?(this.tempBuff.push(ct(U)),this._emitCodePoint(U)):rr(U)?(this.tempBuff.push(U),this._emitCodePoint(U)):this._reconsumeInState(bt)}[Bt](U){U===v.HYPHEN_MINUS?(this.state=Ut,this._emitChars("-")):U===v.LESS_THAN_SIGN?(this.state=ot,this._emitChars("<")):U===v.NULL?(this._err(h.unexpectedNullCharacter),this._emitChars(p.REPLACEMENT_CHARACTER)):U===v.EOF?(this._err(h.eofInScriptHtmlCommentLikeText),this._emitEOFToken()):this._emitCodePoint(U)}[Ut](U){U===v.HYPHEN_MINUS?(this.state=xt,this._emitChars("-")):U===v.LESS_THAN_SIGN?(this.state=ot,this._emitChars("<")):U===v.NULL?(this._err(h.unexpectedNullCharacter),this.state=Bt,this._emitChars(p.REPLACEMENT_CHARACTER)):U===v.EOF?(this._err(h.eofInScriptHtmlCommentLikeText),this._emitEOFToken()):(this.state=Bt,this._emitCodePoint(U))}[xt](U){U===v.HYPHEN_MINUS?this._emitChars("-"):U===v.LESS_THAN_SIGN?(this.state=ot,this._emitChars("<")):U===v.GREATER_THAN_SIGN?(this.state=L,this._emitChars(">")):U===v.NULL?(this._err(h.unexpectedNullCharacter),this.state=Bt,this._emitChars(p.REPLACEMENT_CHARACTER)):U===v.EOF?(this._err(h.eofInScriptHtmlCommentLikeText),this._emitEOFToken()):(this.state=Bt,this._emitCodePoint(U))}[ot](U){U===v.SOLIDUS?(this.tempBuff=[],this.state=Vt,this._emitChars("/")):this._reconsumeInState(Bt)}[Vt](U){Ve(U)||U===v.SOLIDUS||U===v.GREATER_THAN_SIGN?(this.state=this._isTempBufferEqualToScriptString()?bt:Bt,this._emitCodePoint(U)):Ge(U)?(this.tempBuff.push(ct(U)),this._emitCodePoint(U)):rr(U)?(this.tempBuff.push(U),this._emitCodePoint(U)):this._reconsumeInState(Bt)}[mt](U){Ve(U)||(U===v.SOLIDUS||U===v.GREATER_THAN_SIGN||U===v.EOF?this._reconsumeInState(Kt):U===v.EQUALS_SIGN?(this._err(h.unexpectedEqualsSignBeforeAttributeName),this._createAttr("="),this.state=Ft):(this._createAttr(""),this._reconsumeInState(Ft)))}[Ft](U){Ve(U)||U===v.SOLIDUS||U===v.GREATER_THAN_SIGN||U===v.EOF?(this._leaveAttrName(Kt),this._unconsume()):U===v.EQUALS_SIGN?this._leaveAttrName(W):Ge(U)?this.currentAttr.name+=ce(U):U===v.QUOTATION_MARK||U===v.APOSTROPHE||U===v.LESS_THAN_SIGN?(this._err(h.unexpectedCharacterInAttributeName),this.currentAttr.name+=Mt(U)):U===v.NULL?(this._err(h.unexpectedNullCharacter),this.currentAttr.name+=p.REPLACEMENT_CHARACTER):this.currentAttr.name+=Mt(U)}[Kt](U){Ve(U)||(U===v.SOLIDUS?this.state=ut:U===v.EQUALS_SIGN?this.state=W:U===v.GREATER_THAN_SIGN?(this.state=x,this._emitCurrentToken()):U===v.EOF?(this._err(h.eofInTag),this._emitEOFToken()):(this._createAttr(""),this._reconsumeInState(Ft)))}[W](U){Ve(U)||(U===v.QUOTATION_MARK?this.state=Z:U===v.APOSTROPHE?this.state=it:U===v.GREATER_THAN_SIGN?(this._err(h.missingAttributeValue),this.state=x,this._emitCurrentToken()):this._reconsumeInState(Ct))}[Z](U){U===v.QUOTATION_MARK?this.state=jt:U===v.AMPERSAND?(this.returnState=Z,this.state=Fe):U===v.NULL?(this._err(h.unexpectedNullCharacter),this.currentAttr.value+=p.REPLACEMENT_CHARACTER):U===v.EOF?(this._err(h.eofInTag),this._emitEOFToken()):this.currentAttr.value+=Mt(U)}[it](U){U===v.APOSTROPHE?this.state=jt:U===v.AMPERSAND?(this.returnState=it,this.state=Fe):U===v.NULL?(this._err(h.unexpectedNullCharacter),this.currentAttr.value+=p.REPLACEMENT_CHARACTER):U===v.EOF?(this._err(h.eofInTag),this._emitEOFToken()):this.currentAttr.value+=Mt(U)}[Ct](U){Ve(U)?this._leaveAttrValue(mt):U===v.AMPERSAND?(this.returnState=Ct,this.state=Fe):U===v.GREATER_THAN_SIGN?(this._leaveAttrValue(x),this._emitCurrentToken()):U===v.NULL?(this._err(h.unexpectedNullCharacter),this.currentAttr.value+=p.REPLACEMENT_CHARACTER):U===v.QUOTATION_MARK||U===v.APOSTROPHE||U===v.LESS_THAN_SIGN||U===v.EQUALS_SIGN||U===v.GRAVE_ACCENT?(this._err(h.unexpectedCharacterInUnquotedAttributeValue),this.currentAttr.value+=Mt(U)):U===v.EOF?(this._err(h.eofInTag),this._emitEOFToken()):this.currentAttr.value+=Mt(U)}[jt](U){Ve(U)?this._leaveAttrValue(mt):U===v.SOLIDUS?this._leaveAttrValue(ut):U===v.GREATER_THAN_SIGN?(this._leaveAttrValue(x),this._emitCurrentToken()):U===v.EOF?(this._err(h.eofInTag),this._emitEOFToken()):(this._err(h.missingWhitespaceBetweenAttributes),this._reconsumeInState(mt))}[ut](U){U===v.GREATER_THAN_SIGN?(this.currentToken.selfClosing=!0,this.state=x,this._emitCurrentToken()):U===v.EOF?(this._err(h.eofInTag),this._emitEOFToken()):(this._err(h.unexpectedSolidusInTag),this._reconsumeInState(mt))}[Dt](U){U===v.GREATER_THAN_SIGN?(this.state=x,this._emitCurrentToken()):U===v.EOF?(this._emitCurrentToken(),this._emitEOFToken()):U===v.NULL?(this._err(h.unexpectedNullCharacter),this.currentToken.data+=p.REPLACEMENT_CHARACTER):this.currentToken.data+=Mt(U)}[At](U){this._consumeSequenceIfMatch(_.DASH_DASH_STRING,U,!0)?(this._createCommentToken(),this.state=ee):this._consumeSequenceIfMatch(_.DOCTYPE_STRING,U,!1)?this.state=le:this._consumeSequenceIfMatch(_.CDATA_START_STRING,U,!0)?this.allowCDATA?this.state=Ue:(this._err(h.cdataInHtmlContent),this._createCommentToken(),this.currentToken.data="[CDATA[",this.state=Dt):this._ensureHibernation()||(this._err(h.incorrectlyOpenedComment),this._createCommentToken(),this._reconsumeInState(Dt))}[ee](U){U===v.HYPHEN_MINUS?this.state=Ce:U===v.GREATER_THAN_SIGN?(this._err(h.abruptClosingOfEmptyComment),this.state=x,this._emitCurrentToken()):this._reconsumeInState(de)}[Ce](U){U===v.HYPHEN_MINUS?this.state=Zt:U===v.GREATER_THAN_SIGN?(this._err(h.abruptClosingOfEmptyComment),this.state=x,this._emitCurrentToken()):U===v.EOF?(this._err(h.eofInComment),this._emitCurrentToken(),this._emitEOFToken()):(this.currentToken.data+="-",this._reconsumeInState(de))}[de](U){U===v.HYPHEN_MINUS?this.state=Lt:U===v.LESS_THAN_SIGN?(this.currentToken.data+="<",this.state=nt):U===v.NULL?(this._err(h.unexpectedNullCharacter),this.currentToken.data+=p.REPLACEMENT_CHARACTER):U===v.EOF?(this._err(h.eofInComment),this._emitCurrentToken(),this._emitEOFToken()):this.currentToken.data+=Mt(U)}[nt](U){U===v.EXCLAMATION_MARK?(this.currentToken.data+="!",this.state=wt):U===v.LESS_THAN_SIGN?this.currentToken.data+="!":this._reconsumeInState(de)}[wt](U){U===v.HYPHEN_MINUS?this.state=J:this._reconsumeInState(de)}[J](U){U===v.HYPHEN_MINUS?this.state=Xt:this._reconsumeInState(Lt)}[Xt](U){U!==v.GREATER_THAN_SIGN&&U!==v.EOF&&this._err(h.nestedComment),this._reconsumeInState(Zt)}[Lt](U){U===v.HYPHEN_MINUS?this.state=Zt:U===v.EOF?(this._err(h.eofInComment),this._emitCurrentToken(),this._emitEOFToken()):(this.currentToken.data+="-",this._reconsumeInState(de))}[Zt](U){U===v.GREATER_THAN_SIGN?(this.state=x,this._emitCurrentToken()):U===v.EXCLAMATION_MARK?this.state=re:U===v.HYPHEN_MINUS?this.currentToken.data+="-":U===v.EOF?(this._err(h.eofInComment),this._emitCurrentToken(),this._emitEOFToken()):(this.currentToken.data+="--",this._reconsumeInState(de))}[re](U){U===v.HYPHEN_MINUS?(this.currentToken.data+="--!",this.state=Lt):U===v.GREATER_THAN_SIGN?(this._err(h.incorrectlyClosedComment),this.state=x,this._emitCurrentToken()):U===v.EOF?(this._err(h.eofInComment),this._emitCurrentToken(),this._emitEOFToken()):(this.currentToken.data+="--!",this._reconsumeInState(de))}[le](U){Ve(U)?this.state=oe:U===v.GREATER_THAN_SIGN?this._reconsumeInState(oe):U===v.EOF?(this._err(h.eofInDoctype),this._createDoctypeToken(null),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):(this._err(h.missingWhitespaceBeforeDoctypeName),this._reconsumeInState(oe))}[oe](U){Ve(U)||(Ge(U)?(this._createDoctypeToken(ce(U)),this.state=ve):U===v.NULL?(this._err(h.unexpectedNullCharacter),this._createDoctypeToken(p.REPLACEMENT_CHARACTER),this.state=ve):U===v.GREATER_THAN_SIGN?(this._err(h.missingDoctypeName),this._createDoctypeToken(null),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this.state=x):U===v.EOF?(this._err(h.eofInDoctype),this._createDoctypeToken(null),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):(this._createDoctypeToken(Mt(U)),this.state=ve))}[ve](U){Ve(U)?this.state=xe:U===v.GREATER_THAN_SIGN?(this.state=x,this._emitCurrentToken()):Ge(U)?this.currentToken.name+=ce(U):U===v.NULL?(this._err(h.unexpectedNullCharacter),this.currentToken.name+=p.REPLACEMENT_CHARACTER):U===v.EOF?(this._err(h.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):this.currentToken.name+=Mt(U)}[xe](U){Ve(U)||(U===v.GREATER_THAN_SIGN?(this.state=x,this._emitCurrentToken()):U===v.EOF?(this._err(h.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):this._consumeSequenceIfMatch(_.PUBLIC_STRING,U,!1)?this.state=Ae:this._consumeSequenceIfMatch(_.SYSTEM_STRING,U,!1)?this.state=Pt:this._ensureHibernation()||(this._err(h.invalidCharacterSequenceAfterDoctypeName),this.currentToken.forceQuirks=!0,this._reconsumeInState(Me)))}[Ae](U){Ve(U)?this.state=ke:U===v.QUOTATION_MARK?(this._err(h.missingWhitespaceAfterDoctypePublicKeyword),this.currentToken.publicId="",this.state=We):U===v.APOSTROPHE?(this._err(h.missingWhitespaceAfterDoctypePublicKeyword),this.currentToken.publicId="",this.state=ir):U===v.GREATER_THAN_SIGN?(this._err(h.missingDoctypePublicIdentifier),this.currentToken.forceQuirks=!0,this.state=x,this._emitCurrentToken()):U===v.EOF?(this._err(h.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):(this._err(h.missingQuoteBeforeDoctypePublicIdentifier),this.currentToken.forceQuirks=!0,this._reconsumeInState(Me))}[ke](U){Ve(U)||(U===v.QUOTATION_MARK?(this.currentToken.publicId="",this.state=We):U===v.APOSTROPHE?(this.currentToken.publicId="",this.state=ir):U===v.GREATER_THAN_SIGN?(this._err(h.missingDoctypePublicIdentifier),this.currentToken.forceQuirks=!0,this.state=x,this._emitCurrentToken()):U===v.EOF?(this._err(h.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):(this._err(h.missingQuoteBeforeDoctypePublicIdentifier),this.currentToken.forceQuirks=!0,this._reconsumeInState(Me)))}[We](U){U===v.QUOTATION_MARK?this.state=et:U===v.NULL?(this._err(h.unexpectedNullCharacter),this.currentToken.publicId+=p.REPLACEMENT_CHARACTER):U===v.GREATER_THAN_SIGN?(this._err(h.abruptDoctypePublicIdentifier),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this.state=x):U===v.EOF?(this._err(h.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):this.currentToken.publicId+=Mt(U)}[ir](U){U===v.APOSTROPHE?this.state=et:U===v.NULL?(this._err(h.unexpectedNullCharacter),this.currentToken.publicId+=p.REPLACEMENT_CHARACTER):U===v.GREATER_THAN_SIGN?(this._err(h.abruptDoctypePublicIdentifier),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this.state=x):U===v.EOF?(this._err(h.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):this.currentToken.publicId+=Mt(U)}[et](U){Ve(U)?this.state=_t:U===v.GREATER_THAN_SIGN?(this.state=x,this._emitCurrentToken()):U===v.QUOTATION_MARK?(this._err(h.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),this.currentToken.systemId="",this.state=ne):U===v.APOSTROPHE?(this._err(h.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),this.currentToken.systemId="",this.state=me):U===v.EOF?(this._err(h.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):(this._err(h.missingQuoteBeforeDoctypeSystemIdentifier),this.currentToken.forceQuirks=!0,this._reconsumeInState(Me))}[_t](U){Ve(U)||(U===v.GREATER_THAN_SIGN?(this._emitCurrentToken(),this.state=x):U===v.QUOTATION_MARK?(this.currentToken.systemId="",this.state=ne):U===v.APOSTROPHE?(this.currentToken.systemId="",this.state=me):U===v.EOF?(this._err(h.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):(this._err(h.missingQuoteBeforeDoctypeSystemIdentifier),this.currentToken.forceQuirks=!0,this._reconsumeInState(Me)))}[Pt](U){Ve(U)?this.state=Yt:U===v.QUOTATION_MARK?(this._err(h.missingWhitespaceAfterDoctypeSystemKeyword),this.currentToken.systemId="",this.state=ne):U===v.APOSTROPHE?(this._err(h.missingWhitespaceAfterDoctypeSystemKeyword),this.currentToken.systemId="",this.state=me):U===v.GREATER_THAN_SIGN?(this._err(h.missingDoctypeSystemIdentifier),this.currentToken.forceQuirks=!0,this.state=x,this._emitCurrentToken()):U===v.EOF?(this._err(h.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):(this._err(h.missingQuoteBeforeDoctypeSystemIdentifier),this.currentToken.forceQuirks=!0,this._reconsumeInState(Me))}[Yt](U){Ve(U)||(U===v.QUOTATION_MARK?(this.currentToken.systemId="",this.state=ne):U===v.APOSTROPHE?(this.currentToken.systemId="",this.state=me):U===v.GREATER_THAN_SIGN?(this._err(h.missingDoctypeSystemIdentifier),this.currentToken.forceQuirks=!0,this.state=x,this._emitCurrentToken()):U===v.EOF?(this._err(h.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):(this._err(h.missingQuoteBeforeDoctypeSystemIdentifier),this.currentToken.forceQuirks=!0,this._reconsumeInState(Me)))}[ne](U){U===v.QUOTATION_MARK?this.state=we:U===v.NULL?(this._err(h.unexpectedNullCharacter),this.currentToken.systemId+=p.REPLACEMENT_CHARACTER):U===v.GREATER_THAN_SIGN?(this._err(h.abruptDoctypeSystemIdentifier),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this.state=x):U===v.EOF?(this._err(h.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):this.currentToken.systemId+=Mt(U)}[me](U){U===v.APOSTROPHE?this.state=we:U===v.NULL?(this._err(h.unexpectedNullCharacter),this.currentToken.systemId+=p.REPLACEMENT_CHARACTER):U===v.GREATER_THAN_SIGN?(this._err(h.abruptDoctypeSystemIdentifier),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this.state=x):U===v.EOF?(this._err(h.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):this.currentToken.systemId+=Mt(U)}[we](U){Ve(U)||(U===v.GREATER_THAN_SIGN?(this._emitCurrentToken(),this.state=x):U===v.EOF?(this._err(h.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):(this._err(h.unexpectedCharacterAfterDoctypeSystemIdentifier),this._reconsumeInState(Me)))}[Me](U){U===v.GREATER_THAN_SIGN?(this._emitCurrentToken(),this.state=x):U===v.NULL?this._err(h.unexpectedNullCharacter):U===v.EOF&&(this._emitCurrentToken(),this._emitEOFToken())}[Ue](U){U===v.RIGHT_SQUARE_BRACKET?this.state=ze:U===v.EOF?(this._err(h.eofInCdata),this._emitEOFToken()):this._emitCodePoint(U)}[ze](U){U===v.RIGHT_SQUARE_BRACKET?this.state=Pr:(this._emitChars("]"),this._reconsumeInState(Ue))}[Pr](U){U===v.GREATER_THAN_SIGN?this.state=x:U===v.RIGHT_SQUARE_BRACKET?this._emitChars("]"):(this._emitChars("]]"),this._reconsumeInState(Ue))}[Fe](U){this.tempBuff=[v.AMPERSAND],U===v.NUMBER_SIGN?(this.tempBuff.push(U),this.state=De):O(U)?this._reconsumeInState(hr):(this._flushCodePointsConsumedAsCharacterReference(),this._reconsumeInState(this.returnState))}[hr](U){const Oe=this._matchNamedCharacterReference(U);if(this._ensureHibernation())this.tempBuff=[v.AMPERSAND];else if(Oe){const Q=this.tempBuff[this.tempBuff.length-1]===v.SEMICOLON;this._isCharacterReferenceAttributeQuirk(Q)||(Q||this._errOnNextCodePoint(h.missingSemicolonAfterCharacterReference),this.tempBuff=Oe),this._flushCodePointsConsumedAsCharacterReference(),this.state=this.returnState}else this._flushCodePointsConsumedAsCharacterReference(),this.state=ar}[ar](U){O(U)?this._isCharacterReferenceInAttribute()?this.currentAttr.value+=Mt(U):this._emitCodePoint(U):(U===v.SEMICOLON&&this._err(h.unknownNamedCharacterReference),this._reconsumeInState(this.returnState))}[De](U){this.charRefCode=0,U===v.LATIN_SMALL_X||U===v.LATIN_CAPITAL_X?(this.tempBuff.push(U),this.state=er):this._reconsumeInState(Re)}[er](U){(function(Oe){return Je(Oe)||B(Oe)||F(Oe)})(U)?this._reconsumeInState(Ye):(this._err(h.absenceOfDigitsInNumericCharacterReference),this._flushCodePointsConsumedAsCharacterReference(),this._reconsumeInState(this.returnState))}[Re](U){Je(U)?this._reconsumeInState(ye):(this._err(h.absenceOfDigitsInNumericCharacterReference),this._flushCodePointsConsumedAsCharacterReference(),this._reconsumeInState(this.returnState))}[Ye](U){B(U)?this.charRefCode=16*this.charRefCode+U-55:F(U)?this.charRefCode=16*this.charRefCode+U-87:Je(U)?this.charRefCode=16*this.charRefCode+U-48:U===v.SEMICOLON?this.state=ur:(this._err(h.missingSemicolonAfterCharacterReference),this._reconsumeInState(ur))}[ye](U){Je(U)?this.charRefCode=10*this.charRefCode+U-48:U===v.SEMICOLON?this.state=ur:(this._err(h.missingSemicolonAfterCharacterReference),this._reconsumeInState(ur))}[ur](){if(this.charRefCode===v.NULL)this._err(h.nullCharacterReference),this.charRefCode=v.REPLACEMENT_CHARACTER;else if(this.charRefCode>1114111)this._err(h.characterReferenceOutsideUnicodeRange),this.charRefCode=v.REPLACEMENT_CHARACTER;else if(p.isSurrogate(this.charRefCode))this._err(h.surrogateCharacterReference),this.charRefCode=v.REPLACEMENT_CHARACTER;else if(p.isUndefinedCodePoint(this.charRefCode))this._err(h.noncharacterCharacterReference);else if(p.isControlCodePoint(this.charRefCode)||this.charRefCode===v.CARRIAGE_RETURN){this._err(h.controlCharacterReference);const U=T[this.charRefCode];U&&(this.charRefCode=U)}this.tempBuff=[this.charRefCode],this._flushCodePointsConsumedAsCharacterReference(),this._reconsumeInState(this.returnState)}}Ne.CHARACTER_TOKEN="CHARACTER_TOKEN",Ne.NULL_CHARACTER_TOKEN="NULL_CHARACTER_TOKEN",Ne.WHITESPACE_CHARACTER_TOKEN="WHITESPACE_CHARACTER_TOKEN",Ne.START_TAG_TOKEN="START_TAG_TOKEN",Ne.END_TAG_TOKEN="END_TAG_TOKEN",Ne.COMMENT_TOKEN="COMMENT_TOKEN",Ne.DOCTYPE_TOKEN="DOCTYPE_TOKEN",Ne.EOF_TOKEN="EOF_TOKEN",Ne.HIBERNATION_TOKEN="HIBERNATION_TOKEN",Ne.MODE={DATA:x,RCDATA:N,RAWTEXT:b,SCRIPT_DATA:L,PLAINTEXT:k},Ne.getTokenAttr=function(Ht,U){for(let Oe=Ht.attrs.length-1;Oe>=0;Oe--)if(Ht.attrs[Oe].name===U)return Ht.attrs[Oe].value;return null},l.exports=Ne},5482:l=>{l.exports=new Uint16Array([4,52,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,106,303,412,810,1432,1701,1796,1987,2114,2360,2420,2484,3170,3251,4140,4393,4575,4610,5106,5512,5728,6117,6274,6315,6345,6427,6516,7002,7910,8733,9323,9870,10170,10631,10893,11318,11386,11467,12773,13092,14474,14922,15448,15542,16419,17666,18166,18611,19004,19095,19298,19397,4,16,69,77,97,98,99,102,103,108,109,110,111,112,114,115,116,117,140,150,158,169,176,194,199,210,216,222,226,242,256,266,283,294,108,105,103,5,198,1,59,148,1,198,80,5,38,1,59,156,1,38,99,117,116,101,5,193,1,59,167,1,193,114,101,118,101,59,1,258,4,2,105,121,182,191,114,99,5,194,1,59,189,1,194,59,1,1040,114,59,3,55349,56580,114,97,118,101,5,192,1,59,208,1,192,112,104,97,59,1,913,97,99,114,59,1,256,100,59,1,10835,4,2,103,112,232,237,111,110,59,1,260,102,59,3,55349,56632,112,108,121,70,117,110,99,116,105,111,110,59,1,8289,105,110,103,5,197,1,59,264,1,197,4,2,99,115,272,277,114,59,3,55349,56476,105,103,110,59,1,8788,105,108,100,101,5,195,1,59,292,1,195,109,108,5,196,1,59,301,1,196,4,8,97,99,101,102,111,114,115,117,321,350,354,383,388,394,400,405,4,2,99,114,327,336,107,115,108,97,115,104,59,1,8726,4,2,118,119,342,345,59,1,10983,101,100,59,1,8966,121,59,1,1041,4,3,99,114,116,362,369,379,97,117,115,101,59,1,8757,110,111,117,108,108,105,115,59,1,8492,97,59,1,914,114,59,3,55349,56581,112,102,59,3,55349,56633,101,118,101,59,1,728,99,114,59,1,8492,109,112,101,113,59,1,8782,4,14,72,79,97,99,100,101,102,104,105,108,111,114,115,117,442,447,456,504,542,547,569,573,577,616,678,784,790,796,99,121,59,1,1063,80,89,5,169,1,59,454,1,169,4,3,99,112,121,464,470,497,117,116,101,59,1,262,4,2,59,105,476,478,1,8914,116,97,108,68,105,102,102,101,114,101,110,116,105,97,108,68,59,1,8517,108,101,121,115,59,1,8493,4,4,97,101,105,111,514,520,530,535,114,111,110,59,1,268,100,105,108,5,199,1,59,528,1,199,114,99,59,1,264,110,105,110,116,59,1,8752,111,116,59,1,266,4,2,100,110,553,560,105,108,108,97,59,1,184,116,101,114,68,111,116,59,1,183,114,59,1,8493,105,59,1,935,114,99,108,101,4,4,68,77,80,84,591,596,603,609,111,116,59,1,8857,105,110,117,115,59,1,8854,108,117,115,59,1,8853,105,109,101,115,59,1,8855,111,4,2,99,115,623,646,107,119,105,115,101,67,111,110,116,111,117,114,73,110,116,101,103,114,97,108,59,1,8754,101,67,117,114,108,121,4,2,68,81,658,671,111,117,98,108,101,81,117,111,116,101,59,1,8221,117,111,116,101,59,1,8217,4,4,108,110,112,117,688,701,736,753,111,110,4,2,59,101,696,698,1,8759,59,1,10868,4,3,103,105,116,709,717,722,114,117,101,110,116,59,1,8801,110,116,59,1,8751,111,117,114,73,110,116,101,103,114,97,108,59,1,8750,4,2,102,114,742,745,59,1,8450,111,100,117,99,116,59,1,8720,110,116,101,114,67,108,111,99,107,119,105,115,101,67,111,110,116,111,117,114,73,110,116,101,103,114,97,108,59,1,8755,111,115,115,59,1,10799,99,114,59,3,55349,56478,112,4,2,59,67,803,805,1,8915,97,112,59,1,8781,4,11,68,74,83,90,97,99,101,102,105,111,115,834,850,855,860,865,888,903,916,921,1011,1415,4,2,59,111,840,842,1,8517,116,114,97,104,100,59,1,10513,99,121,59,1,1026,99,121,59,1,1029,99,121,59,1,1039,4,3,103,114,115,873,879,883,103,101,114,59,1,8225,114,59,1,8609,104,118,59,1,10980,4,2,97,121,894,900,114,111,110,59,1,270,59,1,1044,108,4,2,59,116,910,912,1,8711,97,59,1,916,114,59,3,55349,56583,4,2,97,102,927,998,4,2,99,109,933,992,114,105,116,105,99,97,108,4,4,65,68,71,84,950,957,978,985,99,117,116,101,59,1,180,111,4,2,116,117,964,967,59,1,729,98,108,101,65,99,117,116,101,59,1,733,114,97,118,101,59,1,96,105,108,100,101,59,1,732,111,110,100,59,1,8900,102,101,114,101,110,116,105,97,108,68,59,1,8518,4,4,112,116,117,119,1021,1026,1048,1249,102,59,3,55349,56635,4,3,59,68,69,1034,1036,1041,1,168,111,116,59,1,8412,113,117,97,108,59,1,8784,98,108,101,4,6,67,68,76,82,85,86,1065,1082,1101,1189,1211,1236,111,110,116,111,117,114,73,110,116,101,103,114,97,108,59,1,8751,111,4,2,116,119,1089,1092,59,1,168,110,65,114,114,111,119,59,1,8659,4,2,101,111,1107,1141,102,116,4,3,65,82,84,1117,1124,1136,114,114,111,119,59,1,8656,105,103,104,116,65,114,114,111,119,59,1,8660,101,101,59,1,10980,110,103,4,2,76,82,1149,1177,101,102,116,4,2,65,82,1158,1165,114,114,111,119,59,1,10232,105,103,104,116,65,114,114,111,119,59,1,10234,105,103,104,116,65,114,114,111,119,59,1,10233,105,103,104,116,4,2,65,84,1199,1206,114,114,111,119,59,1,8658,101,101,59,1,8872,112,4,2,65,68,1218,1225,114,114,111,119,59,1,8657,111,119,110,65,114,114,111,119,59,1,8661,101,114,116,105,99,97,108,66,97,114,59,1,8741,110,4,6,65,66,76,82,84,97,1264,1292,1299,1352,1391,1408,114,114,111,119,4,3,59,66,85,1276,1278,1283,1,8595,97,114,59,1,10515,112,65,114,114,111,119,59,1,8693,114,101,118,101,59,1,785,101,102,116,4,3,82,84,86,1310,1323,1334,105,103,104,116,86,101,99,116,111,114,59,1,10576,101,101,86,101,99,116,111,114,59,1,10590,101,99,116,111,114,4,2,59,66,1345,1347,1,8637,97,114,59,1,10582,105,103,104,116,4,2,84,86,1362,1373,101,101,86,101,99,116,111,114,59,1,10591,101,99,116,111,114,4,2,59,66,1384,1386,1,8641,97,114,59,1,10583,101,101,4,2,59,65,1399,1401,1,8868,114,114,111,119,59,1,8615,114,114,111,119,59,1,8659,4,2,99,116,1421,1426,114,59,3,55349,56479,114,111,107,59,1,272,4,16,78,84,97,99,100,102,103,108,109,111,112,113,115,116,117,120,1466,1470,1478,1489,1515,1520,1525,1536,1544,1593,1609,1617,1650,1664,1668,1677,71,59,1,330,72,5,208,1,59,1476,1,208,99,117,116,101,5,201,1,59,1487,1,201,4,3,97,105,121,1497,1503,1512,114,111,110,59,1,282,114,99,5,202,1,59,1510,1,202,59,1,1069,111,116,59,1,278,114,59,3,55349,56584,114,97,118,101,5,200,1,59,1534,1,200,101,109,101,110,116,59,1,8712,4,2,97,112,1550,1555,99,114,59,1,274,116,121,4,2,83,86,1563,1576,109,97,108,108,83,113,117,97,114,101,59,1,9723,101,114,121,83,109,97,108,108,83,113,117,97,114,101,59,1,9643,4,2,103,112,1599,1604,111,110,59,1,280,102,59,3,55349,56636,115,105,108,111,110,59,1,917,117,4,2,97,105,1624,1640,108,4,2,59,84,1631,1633,1,10869,105,108,100,101,59,1,8770,108,105,98,114,105,117,109,59,1,8652,4,2,99,105,1656,1660,114,59,1,8496,109,59,1,10867,97,59,1,919,109,108,5,203,1,59,1675,1,203,4,2,105,112,1683,1689,115,116,115,59,1,8707,111,110,101,110,116,105,97,108,69,59,1,8519,4,5,99,102,105,111,115,1713,1717,1722,1762,1791,121,59,1,1060,114,59,3,55349,56585,108,108,101,100,4,2,83,86,1732,1745,109,97,108,108,83,113,117,97,114,101,59,1,9724,101,114,121,83,109,97,108,108,83,113,117,97,114,101,59,1,9642,4,3,112,114,117,1770,1775,1781,102,59,3,55349,56637,65,108,108,59,1,8704,114,105,101,114,116,114,102,59,1,8497,99,114,59,1,8497,4,12,74,84,97,98,99,100,102,103,111,114,115,116,1822,1827,1834,1848,1855,1877,1882,1887,1890,1896,1978,1984,99,121,59,1,1027,5,62,1,59,1832,1,62,109,109,97,4,2,59,100,1843,1845,1,915,59,1,988,114,101,118,101,59,1,286,4,3,101,105,121,1863,1869,1874,100,105,108,59,1,290,114,99,59,1,284,59,1,1043,111,116,59,1,288,114,59,3,55349,56586,59,1,8921,112,102,59,3,55349,56638,101,97,116,101,114,4,6,69,70,71,76,83,84,1915,1933,1944,1953,1959,1971,113,117,97,108,4,2,59,76,1925,1927,1,8805,101,115,115,59,1,8923,117,108,108,69,113,117,97,108,59,1,8807,114,101,97,116,101,114,59,1,10914,101,115,115,59,1,8823,108,97,110,116,69,113,117,97,108,59,1,10878,105,108,100,101,59,1,8819,99,114,59,3,55349,56482,59,1,8811,4,8,65,97,99,102,105,111,115,117,2005,2012,2026,2032,2036,2049,2073,2089,82,68,99,121,59,1,1066,4,2,99,116,2018,2023,101,107,59,1,711,59,1,94,105,114,99,59,1,292,114,59,1,8460,108,98,101,114,116,83,112,97,99,101,59,1,8459,4,2,112,114,2055,2059,102,59,1,8461,105,122,111,110,116,97,108,76,105,110,101,59,1,9472,4,2,99,116,2079,2083,114,59,1,8459,114,111,107,59,1,294,109,112,4,2,68,69,2097,2107,111,119,110,72,117,109,112,59,1,8782,113,117,97,108,59,1,8783,4,14,69,74,79,97,99,100,102,103,109,110,111,115,116,117,2144,2149,2155,2160,2171,2189,2194,2198,2209,2245,2307,2329,2334,2341,99,121,59,1,1045,108,105,103,59,1,306,99,121,59,1,1025,99,117,116,101,5,205,1,59,2169,1,205,4,2,105,121,2177,2186,114,99,5,206,1,59,2184,1,206,59,1,1048,111,116,59,1,304,114,59,1,8465,114,97,118,101,5,204,1,59,2207,1,204,4,3,59,97,112,2217,2219,2238,1,8465,4,2,99,103,2225,2229,114,59,1,298,105,110,97,114,121,73,59,1,8520,108,105,101,115,59,1,8658,4,2,116,118,2251,2281,4,2,59,101,2257,2259,1,8748,4,2,103,114,2265,2271,114,97,108,59,1,8747,115,101,99,116,105,111,110,59,1,8898,105,115,105,98,108,101,4,2,67,84,2293,2300,111,109,109,97,59,1,8291,105,109,101,115,59,1,8290,4,3,103,112,116,2315,2320,2325,111,110,59,1,302,102,59,3,55349,56640,97,59,1,921,99,114,59,1,8464,105,108,100,101,59,1,296,4,2,107,109,2347,2352,99,121,59,1,1030,108,5,207,1,59,2358,1,207,4,5,99,102,111,115,117,2372,2386,2391,2397,2414,4,2,105,121,2378,2383,114,99,59,1,308,59,1,1049,114,59,3,55349,56589,112,102,59,3,55349,56641,4,2,99,101,2403,2408,114,59,3,55349,56485,114,99,121,59,1,1032,107,99,121,59,1,1028,4,7,72,74,97,99,102,111,115,2436,2441,2446,2452,2467,2472,2478,99,121,59,1,1061,99,121,59,1,1036,112,112,97,59,1,922,4,2,101,121,2458,2464,100,105,108,59,1,310,59,1,1050,114,59,3,55349,56590,112,102,59,3,55349,56642,99,114,59,3,55349,56486,4,11,74,84,97,99,101,102,108,109,111,115,116,2508,2513,2520,2562,2585,2981,2986,3004,3011,3146,3167,99,121,59,1,1033,5,60,1,59,2518,1,60,4,5,99,109,110,112,114,2532,2538,2544,2548,2558,117,116,101,59,1,313,98,100,97,59,1,923,103,59,1,10218,108,97,99,101,116,114,102,59,1,8466,114,59,1,8606,4,3,97,101,121,2570,2576,2582,114,111,110,59,1,317,100,105,108,59,1,315,59,1,1051,4,2,102,115,2591,2907,116,4,10,65,67,68,70,82,84,85,86,97,114,2614,2663,2672,2728,2735,2760,2820,2870,2888,2895,4,2,110,114,2620,2633,103,108,101,66,114,97,99,107,101,116,59,1,10216,114,111,119,4,3,59,66,82,2644,2646,2651,1,8592,97,114,59,1,8676,105,103,104,116,65,114,114,111,119,59,1,8646,101,105,108,105,110,103,59,1,8968,111,4,2,117,119,2679,2692,98,108,101,66,114,97,99,107,101,116,59,1,10214,110,4,2,84,86,2699,2710,101,101,86,101,99,116,111,114,59,1,10593,101,99,116,111,114,4,2,59,66,2721,2723,1,8643,97,114,59,1,10585,108,111,111,114,59,1,8970,105,103,104,116,4,2,65,86,2745,2752,114,114,111,119,59,1,8596,101,99,116,111,114,59,1,10574,4,2,101,114,2766,2792,101,4,3,59,65,86,2775,2777,2784,1,8867,114,114,111,119,59,1,8612,101,99,116,111,114,59,1,10586,105,97,110,103,108,101,4,3,59,66,69,2806,2808,2813,1,8882,97,114,59,1,10703,113,117,97,108,59,1,8884,112,4,3,68,84,86,2829,2841,2852,111,119,110,86,101,99,116,111,114,59,1,10577,101,101,86,101,99,116,111,114,59,1,10592,101,99,116,111,114,4,2,59,66,2863,2865,1,8639,97,114,59,1,10584,101,99,116,111,114,4,2,59,66,2881,2883,1,8636,97,114,59,1,10578,114,114,111,119,59,1,8656,105,103,104,116,97,114,114,111,119,59,1,8660,115,4,6,69,70,71,76,83,84,2922,2936,2947,2956,2962,2974,113,117,97,108,71,114,101,97,116,101,114,59,1,8922,117,108,108,69,113,117,97,108,59,1,8806,114,101,97,116,101,114,59,1,8822,101,115,115,59,1,10913,108,97,110,116,69,113,117,97,108,59,1,10877,105,108,100,101,59,1,8818,114,59,3,55349,56591,4,2,59,101,2992,2994,1,8920,102,116,97,114,114,111,119,59,1,8666,105,100,111,116,59,1,319,4,3,110,112,119,3019,3110,3115,103,4,4,76,82,108,114,3030,3058,3070,3098,101,102,116,4,2,65,82,3039,3046,114,114,111,119,59,1,10229,105,103,104,116,65,114,114,111,119,59,1,10231,105,103,104,116,65,114,114,111,119,59,1,10230,101,102,116,4,2,97,114,3079,3086,114,114,111,119,59,1,10232,105,103,104,116,97,114,114,111,119,59,1,10234,105,103,104,116,97,114,114,111,119,59,1,10233,102,59,3,55349,56643,101,114,4,2,76,82,3123,3134,101,102,116,65,114,114,111,119,59,1,8601,105,103,104,116,65,114,114,111,119,59,1,8600,4,3,99,104,116,3154,3158,3161,114,59,1,8466,59,1,8624,114,111,107,59,1,321,59,1,8810,4,8,97,99,101,102,105,111,115,117,3188,3192,3196,3222,3227,3237,3243,3248,112,59,1,10501,121,59,1,1052,4,2,100,108,3202,3213,105,117,109,83,112,97,99,101,59,1,8287,108,105,110,116,114,102,59,1,8499,114,59,3,55349,56592,110,117,115,80,108,117,115,59,1,8723,112,102,59,3,55349,56644,99,114,59,1,8499,59,1,924,4,9,74,97,99,101,102,111,115,116,117,3271,3276,3283,3306,3422,3427,4120,4126,4137,99,121,59,1,1034,99,117,116,101,59,1,323,4,3,97,101,121,3291,3297,3303,114,111,110,59,1,327,100,105,108,59,1,325,59,1,1053,4,3,103,115,119,3314,3380,3415,97,116,105,118,101,4,3,77,84,86,3327,3340,3365,101,100,105,117,109,83,112,97,99,101,59,1,8203,104,105,4,2,99,110,3348,3357,107,83,112,97,99,101,59,1,8203,83,112,97,99,101,59,1,8203,101,114,121,84,104,105,110,83,112,97,99,101,59,1,8203,116,101,100,4,2,71,76,3389,3405,114,101,97,116,101,114,71,114,101,97,116,101,114,59,1,8811,101,115,115,76,101,115,115,59,1,8810,76,105,110,101,59,1,10,114,59,3,55349,56593,4,4,66,110,112,116,3437,3444,3460,3464,114,101,97,107,59,1,8288,66,114,101,97,107,105,110,103,83,112,97,99,101,59,1,160,102,59,1,8469,4,13,59,67,68,69,71,72,76,78,80,82,83,84,86,3492,3494,3517,3536,3578,3657,3685,3784,3823,3860,3915,4066,4107,1,10988,4,2,111,117,3500,3510,110,103,114,117,101,110,116,59,1,8802,112,67,97,112,59,1,8813,111,117,98,108,101,86,101,114,116,105,99,97,108,66,97,114,59,1,8742,4,3,108,113,120,3544,3552,3571,101,109,101,110,116,59,1,8713,117,97,108,4,2,59,84,3561,3563,1,8800,105,108,100,101,59,3,8770,824,105,115,116,115,59,1,8708,114,101,97,116,101,114,4,7,59,69,70,71,76,83,84,3600,3602,3609,3621,3631,3637,3650,1,8815,113,117,97,108,59,1,8817,117,108,108,69,113,117,97,108,59,3,8807,824,114,101,97,116,101,114,59,3,8811,824,101,115,115,59,1,8825,108,97,110,116,69,113,117,97,108,59,3,10878,824,105,108,100,101,59,1,8821,117,109,112,4,2,68,69,3666,3677,111,119,110,72,117,109,112,59,3,8782,824,113,117,97,108,59,3,8783,824,101,4,2,102,115,3692,3724,116,84,114,105,97,110,103,108,101,4,3,59,66,69,3709,3711,3717,1,8938,97,114,59,3,10703,824,113,117,97,108,59,1,8940,115,4,6,59,69,71,76,83,84,3739,3741,3748,3757,3764,3777,1,8814,113,117,97,108,59,1,8816,114,101,97,116,101,114,59,1,8824,101,115,115,59,3,8810,824,108,97,110,116,69,113,117,97,108,59,3,10877,824,105,108,100,101,59,1,8820,101,115,116,101,100,4,2,71,76,3795,3812,114,101,97,116,101,114,71,114,101,97,116,101,114,59,3,10914,824,101,115,115,76,101,115,115,59,3,10913,824,114,101,99,101,100,101,115,4,3,59,69,83,3838,3840,3848,1,8832,113,117,97,108,59,3,10927,824,108,97,110,116,69,113,117,97,108,59,1,8928,4,2,101,105,3866,3881,118,101,114,115,101,69,108,101,109,101,110,116,59,1,8716,103,104,116,84,114,105,97,110,103,108,101,4,3,59,66,69,3900,3902,3908,1,8939,97,114,59,3,10704,824,113,117,97,108,59,1,8941,4,2,113,117,3921,3973,117,97,114,101,83,117,4,2,98,112,3933,3952,115,101,116,4,2,59,69,3942,3945,3,8847,824,113,117,97,108,59,1,8930,101,114,115,101,116,4,2,59,69,3963,3966,3,8848,824,113,117,97,108,59,1,8931,4,3,98,99,112,3981,4e3,4045,115,101,116,4,2,59,69,3990,3993,3,8834,8402,113,117,97,108,59,1,8840,99,101,101,100,115,4,4,59,69,83,84,4015,4017,4025,4037,1,8833,113,117,97,108,59,3,10928,824,108,97,110,116,69,113,117,97,108,59,1,8929,105,108,100,101,59,3,8831,824,101,114,115,101,116,4,2,59,69,4056,4059,3,8835,8402,113,117,97,108,59,1,8841,105,108,100,101,4,4,59,69,70,84,4080,4082,4089,4100,1,8769,113,117,97,108,59,1,8772,117,108,108,69,113,117,97,108,59,1,8775,105,108,100,101,59,1,8777,101,114,116,105,99,97,108,66,97,114,59,1,8740,99,114,59,3,55349,56489,105,108,100,101,5,209,1,59,4135,1,209,59,1,925,4,14,69,97,99,100,102,103,109,111,112,114,115,116,117,118,4170,4176,4187,4205,4212,4217,4228,4253,4259,4292,4295,4316,4337,4346,108,105,103,59,1,338,99,117,116,101,5,211,1,59,4185,1,211,4,2,105,121,4193,4202,114,99,5,212,1,59,4200,1,212,59,1,1054,98,108,97,99,59,1,336,114,59,3,55349,56594,114,97,118,101,5,210,1,59,4226,1,210,4,3,97,101,105,4236,4241,4246,99,114,59,1,332,103,97,59,1,937,99,114,111,110,59,1,927,112,102,59,3,55349,56646,101,110,67,117,114,108,121,4,2,68,81,4272,4285,111,117,98,108,101,81,117,111,116,101,59,1,8220,117,111,116,101,59,1,8216,59,1,10836,4,2,99,108,4301,4306,114,59,3,55349,56490,97,115,104,5,216,1,59,4314,1,216,105,4,2,108,109,4323,4332,100,101,5,213,1,59,4330,1,213,101,115,59,1,10807,109,108,5,214,1,59,4344,1,214,101,114,4,2,66,80,4354,4380,4,2,97,114,4360,4364,114,59,1,8254,97,99,4,2,101,107,4372,4375,59,1,9182,101,116,59,1,9140,97,114,101,110,116,104,101,115,105,115,59,1,9180,4,9,97,99,102,104,105,108,111,114,115,4413,4422,4426,4431,4435,4438,4448,4471,4561,114,116,105,97,108,68,59,1,8706,121,59,1,1055,114,59,3,55349,56595,105,59,1,934,59,1,928,117,115,77,105,110,117,115,59,1,177,4,2,105,112,4454,4467,110,99,97,114,101,112,108,97,110,101,59,1,8460,102,59,1,8473,4,4,59,101,105,111,4481,4483,4526,4531,1,10939,99,101,100,101,115,4,4,59,69,83,84,4498,4500,4507,4519,1,8826,113,117,97,108,59,1,10927,108,97,110,116,69,113,117,97,108,59,1,8828,105,108,100,101,59,1,8830,109,101,59,1,8243,4,2,100,112,4537,4543,117,99,116,59,1,8719,111,114,116,105,111,110,4,2,59,97,4555,4557,1,8759,108,59,1,8733,4,2,99,105,4567,4572,114,59,3,55349,56491,59,1,936,4,4,85,102,111,115,4585,4594,4599,4604,79,84,5,34,1,59,4592,1,34,114,59,3,55349,56596,112,102,59,1,8474,99,114,59,3,55349,56492,4,12,66,69,97,99,101,102,104,105,111,114,115,117,4636,4642,4650,4681,4704,4763,4767,4771,5047,5069,5081,5094,97,114,114,59,1,10512,71,5,174,1,59,4648,1,174,4,3,99,110,114,4658,4664,4668,117,116,101,59,1,340,103,59,1,10219,114,4,2,59,116,4675,4677,1,8608,108,59,1,10518,4,3,97,101,121,4689,4695,4701,114,111,110,59,1,344,100,105,108,59,1,342,59,1,1056,4,2,59,118,4710,4712,1,8476,101,114,115,101,4,2,69,85,4722,4748,4,2,108,113,4728,4736,101,109,101,110,116,59,1,8715,117,105,108,105,98,114,105,117,109,59,1,8651,112,69,113,117,105,108,105,98,114,105,117,109,59,1,10607,114,59,1,8476,111,59,1,929,103,104,116,4,8,65,67,68,70,84,85,86,97,4792,4840,4849,4905,4912,4972,5022,5040,4,2,110,114,4798,4811,103,108,101,66,114,97,99,107,101,116,59,1,10217,114,111,119,4,3,59,66,76,4822,4824,4829,1,8594,97,114,59,1,8677,101,102,116,65,114,114,111,119,59,1,8644,101,105,108,105,110,103,59,1,8969,111,4,2,117,119,4856,4869,98,108,101,66,114,97,99,107,101,116,59,1,10215,110,4,2,84,86,4876,4887,101,101,86,101,99,116,111,114,59,1,10589,101,99,116,111,114,4,2,59,66,4898,4900,1,8642,97,114,59,1,10581,108,111,111,114,59,1,8971,4,2,101,114,4918,4944,101,4,3,59,65,86,4927,4929,4936,1,8866,114,114,111,119,59,1,8614,101,99,116,111,114,59,1,10587,105,97,110,103,108,101,4,3,59,66,69,4958,4960,4965,1,8883,97,114,59,1,10704,113,117,97,108,59,1,8885,112,4,3,68,84,86,4981,4993,5004,111,119,110,86,101,99,116,111,114,59,1,10575,101,101,86,101,99,116,111,114,59,1,10588,101,99,116,111,114,4,2,59,66,5015,5017,1,8638,97,114,59,1,10580,101,99,116,111,114,4,2,59,66,5033,5035,1,8640,97,114,59,1,10579,114,114,111,119,59,1,8658,4,2,112,117,5053,5057,102,59,1,8477,110,100,73,109,112,108,105,101,115,59,1,10608,105,103,104,116,97,114,114,111,119,59,1,8667,4,2,99,104,5087,5091,114,59,1,8475,59,1,8625,108,101,68,101,108,97,121,101,100,59,1,10740,4,13,72,79,97,99,102,104,105,109,111,113,115,116,117,5134,5150,5157,5164,5198,5203,5259,5265,5277,5283,5374,5380,5385,4,2,67,99,5140,5146,72,99,121,59,1,1065,121,59,1,1064,70,84,99,121,59,1,1068,99,117,116,101,59,1,346,4,5,59,97,101,105,121,5176,5178,5184,5190,5195,1,10940,114,111,110,59,1,352,100,105,108,59,1,350,114,99,59,1,348,59,1,1057,114,59,3,55349,56598,111,114,116,4,4,68,76,82,85,5216,5227,5238,5250,111,119,110,65,114,114,111,119,59,1,8595,101,102,116,65,114,114,111,119,59,1,8592,105,103,104,116,65,114,114,111,119,59,1,8594,112,65,114,114,111,119,59,1,8593,103,109,97,59,1,931,97,108,108,67,105,114,99,108,101,59,1,8728,112,102,59,3,55349,56650,4,2,114,117,5289,5293,116,59,1,8730,97,114,101,4,4,59,73,83,85,5306,5308,5322,5367,1,9633,110,116,101,114,115,101,99,116,105,111,110,59,1,8851,117,4,2,98,112,5329,5347,115,101,116,4,2,59,69,5338,5340,1,8847,113,117,97,108,59,1,8849,101,114,115,101,116,4,2,59,69,5358,5360,1,8848,113,117,97,108,59,1,8850,110,105,111,110,59,1,8852,99,114,59,3,55349,56494,97,114,59,1,8902,4,4,98,99,109,112,5395,5420,5475,5478,4,2,59,115,5401,5403,1,8912,101,116,4,2,59,69,5411,5413,1,8912,113,117,97,108,59,1,8838,4,2,99,104,5426,5468,101,101,100,115,4,4,59,69,83,84,5440,5442,5449,5461,1,8827,113,117,97,108,59,1,10928,108,97,110,116,69,113,117,97,108,59,1,8829,105,108,100,101,59,1,8831,84,104,97,116,59,1,8715,59,1,8721,4,3,59,101,115,5486,5488,5507,1,8913,114,115,101,116,4,2,59,69,5498,5500,1,8835,113,117,97,108,59,1,8839,101,116,59,1,8913,4,11,72,82,83,97,99,102,104,105,111,114,115,5536,5546,5552,5567,5579,5602,5607,5655,5695,5701,5711,79,82,78,5,222,1,59,5544,1,222,65,68,69,59,1,8482,4,2,72,99,5558,5563,99,121,59,1,1035,121,59,1,1062,4,2,98,117,5573,5576,59,1,9,59,1,932,4,3,97,101,121,5587,5593,5599,114,111,110,59,1,356,100,105,108,59,1,354,59,1,1058,114,59,3,55349,56599,4,2,101,105,5613,5631,4,2,114,116,5619,5627,101,102,111,114,101,59,1,8756,97,59,1,920,4,2,99,110,5637,5647,107,83,112,97,99,101,59,3,8287,8202,83,112,97,99,101,59,1,8201,108,100,101,4,4,59,69,70,84,5668,5670,5677,5688,1,8764,113,117,97,108,59,1,8771,117,108,108,69,113,117,97,108,59,1,8773,105,108,100,101,59,1,8776,112,102,59,3,55349,56651,105,112,108,101,68,111,116,59,1,8411,4,2,99,116,5717,5722,114,59,3,55349,56495,114,111,107,59,1,358,4,14,97,98,99,100,102,103,109,110,111,112,114,115,116,117,5758,5789,5805,5823,5830,5835,5846,5852,5921,5937,6089,6095,6101,6108,4,2,99,114,5764,5774,117,116,101,5,218,1,59,5772,1,218,114,4,2,59,111,5781,5783,1,8607,99,105,114,59,1,10569,114,4,2,99,101,5796,5800,121,59,1,1038,118,101,59,1,364,4,2,105,121,5811,5820,114,99,5,219,1,59,5818,1,219,59,1,1059,98,108,97,99,59,1,368,114,59,3,55349,56600,114,97,118,101,5,217,1,59,5844,1,217,97,99,114,59,1,362,4,2,100,105,5858,5905,101,114,4,2,66,80,5866,5892,4,2,97,114,5872,5876,114,59,1,95,97,99,4,2,101,107,5884,5887,59,1,9183,101,116,59,1,9141,97,114,101,110,116,104,101,115,105,115,59,1,9181,111,110,4,2,59,80,5913,5915,1,8899,108,117,115,59,1,8846,4,2,103,112,5927,5932,111,110,59,1,370,102,59,3,55349,56652,4,8,65,68,69,84,97,100,112,115,5955,5985,5996,6009,6026,6033,6044,6075,114,114,111,119,4,3,59,66,68,5967,5969,5974,1,8593,97,114,59,1,10514,111,119,110,65,114,114,111,119,59,1,8645,111,119,110,65,114,114,111,119,59,1,8597,113,117,105,108,105,98,114,105,117,109,59,1,10606,101,101,4,2,59,65,6017,6019,1,8869,114,114,111,119,59,1,8613,114,114,111,119,59,1,8657,111,119,110,97,114,114,111,119,59,1,8661,101,114,4,2,76,82,6052,6063,101,102,116,65,114,114,111,119,59,1,8598,105,103,104,116,65,114,114,111,119,59,1,8599,105,4,2,59,108,6082,6084,1,978,111,110,59,1,933,105,110,103,59,1,366,99,114,59,3,55349,56496,105,108,100,101,59,1,360,109,108,5,220,1,59,6115,1,220,4,9,68,98,99,100,101,102,111,115,118,6137,6143,6148,6152,6166,6250,6255,6261,6267,97,115,104,59,1,8875,97,114,59,1,10987,121,59,1,1042,97,115,104,4,2,59,108,6161,6163,1,8873,59,1,10982,4,2,101,114,6172,6175,59,1,8897,4,3,98,116,121,6183,6188,6238,97,114,59,1,8214,4,2,59,105,6194,6196,1,8214,99,97,108,4,4,66,76,83,84,6209,6214,6220,6231,97,114,59,1,8739,105,110,101,59,1,124,101,112,97,114,97,116,111,114,59,1,10072,105,108,100,101,59,1,8768,84,104,105,110,83,112,97,99,101,59,1,8202,114,59,3,55349,56601,112,102,59,3,55349,56653,99,114,59,3,55349,56497,100,97,115,104,59,1,8874,4,5,99,101,102,111,115,6286,6292,6298,6303,6309,105,114,99,59,1,372,100,103,101,59,1,8896,114,59,3,55349,56602,112,102,59,3,55349,56654,99,114,59,3,55349,56498,4,4,102,105,111,115,6325,6330,6333,6339,114,59,3,55349,56603,59,1,926,112,102,59,3,55349,56655,99,114,59,3,55349,56499,4,9,65,73,85,97,99,102,111,115,117,6365,6370,6375,6380,6391,6405,6410,6416,6422,99,121,59,1,1071,99,121,59,1,1031,99,121,59,1,1070,99,117,116,101,5,221,1,59,6389,1,221,4,2,105,121,6397,6402,114,99,59,1,374,59,1,1067,114,59,3,55349,56604,112,102,59,3,55349,56656,99,114,59,3,55349,56500,109,108,59,1,376,4,8,72,97,99,100,101,102,111,115,6445,6450,6457,6472,6477,6501,6505,6510,99,121,59,1,1046,99,117,116,101,59,1,377,4,2,97,121,6463,6469,114,111,110,59,1,381,59,1,1047,111,116,59,1,379,4,2,114,116,6483,6497,111,87,105,100,116,104,83,112,97,99,101,59,1,8203,97,59,1,918,114,59,1,8488,112,102,59,1,8484,99,114,59,3,55349,56501,4,16,97,98,99,101,102,103,108,109,110,111,112,114,115,116,117,119,6550,6561,6568,6612,6622,6634,6645,6672,6699,6854,6870,6923,6933,6963,6974,6983,99,117,116,101,5,225,1,59,6559,1,225,114,101,118,101,59,1,259,4,6,59,69,100,105,117,121,6582,6584,6588,6591,6600,6609,1,8766,59,3,8766,819,59,1,8767,114,99,5,226,1,59,6598,1,226,116,101,5,180,1,59,6607,1,180,59,1,1072,108,105,103,5,230,1,59,6620,1,230,4,2,59,114,6628,6630,1,8289,59,3,55349,56606,114,97,118,101,5,224,1,59,6643,1,224,4,2,101,112,6651,6667,4,2,102,112,6657,6663,115,121,109,59,1,8501,104,59,1,8501,104,97,59,1,945,4,2,97,112,6678,6692,4,2,99,108,6684,6688,114,59,1,257,103,59,1,10815,5,38,1,59,6697,1,38,4,2,100,103,6705,6737,4,5,59,97,100,115,118,6717,6719,6724,6727,6734,1,8743,110,100,59,1,10837,59,1,10844,108,111,112,101,59,1,10840,59,1,10842,4,7,59,101,108,109,114,115,122,6753,6755,6758,6762,6814,6835,6848,1,8736,59,1,10660,101,59,1,8736,115,100,4,2,59,97,6770,6772,1,8737,4,8,97,98,99,100,101,102,103,104,6790,6793,6796,6799,6802,6805,6808,6811,59,1,10664,59,1,10665,59,1,10666,59,1,10667,59,1,10668,59,1,10669,59,1,10670,59,1,10671,116,4,2,59,118,6821,6823,1,8735,98,4,2,59,100,6830,6832,1,8894,59,1,10653,4,2,112,116,6841,6845,104,59,1,8738,59,1,197,97,114,114,59,1,9084,4,2,103,112,6860,6865,111,110,59,1,261,102,59,3,55349,56658,4,7,59,69,97,101,105,111,112,6886,6888,6891,6897,6900,6904,6908,1,8776,59,1,10864,99,105,114,59,1,10863,59,1,8778,100,59,1,8779,115,59,1,39,114,111,120,4,2,59,101,6917,6919,1,8776,113,59,1,8778,105,110,103,5,229,1,59,6931,1,229,4,3,99,116,121,6941,6946,6949,114,59,3,55349,56502,59,1,42,109,112,4,2,59,101,6957,6959,1,8776,113,59,1,8781,105,108,100,101,5,227,1,59,6972,1,227,109,108,5,228,1,59,6981,1,228,4,2,99,105,6989,6997,111,110,105,110,116,59,1,8755,110,116,59,1,10769,4,16,78,97,98,99,100,101,102,105,107,108,110,111,112,114,115,117,7036,7041,7119,7135,7149,7155,7219,7224,7347,7354,7463,7489,7786,7793,7814,7866,111,116,59,1,10989,4,2,99,114,7047,7094,107,4,4,99,101,112,115,7058,7064,7073,7080,111,110,103,59,1,8780,112,115,105,108,111,110,59,1,1014,114,105,109,101,59,1,8245,105,109,4,2,59,101,7088,7090,1,8765,113,59,1,8909,4,2,118,119,7100,7105,101,101,59,1,8893,101,100,4,2,59,103,7113,7115,1,8965,101,59,1,8965,114,107,4,2,59,116,7127,7129,1,9141,98,114,107,59,1,9142,4,2,111,121,7141,7146,110,103,59,1,8780,59,1,1073,113,117,111,59,1,8222,4,5,99,109,112,114,116,7167,7181,7188,7193,7199,97,117,115,4,2,59,101,7176,7178,1,8757,59,1,8757,112,116,121,118,59,1,10672,115,105,59,1,1014,110,111,117,59,1,8492,4,3,97,104,119,7207,7210,7213,59,1,946,59,1,8502,101,101,110,59,1,8812,114,59,3,55349,56607,103,4,7,99,111,115,116,117,118,119,7241,7262,7288,7305,7328,7335,7340,4,3,97,105,117,7249,7253,7258,112,59,1,8898,114,99,59,1,9711,112,59,1,8899,4,3,100,112,116,7270,7275,7281,111,116,59,1,10752,108,117,115,59,1,10753,105,109,101,115,59,1,10754,4,2,113,116,7294,7300,99,117,112,59,1,10758,97,114,59,1,9733,114,105,97,110,103,108,101,4,2,100,117,7318,7324,111,119,110,59,1,9661,112,59,1,9651,112,108,117,115,59,1,10756,101,101,59,1,8897,101,100,103,101,59,1,8896,97,114,111,119,59,1,10509,4,3,97,107,111,7362,7436,7458,4,2,99,110,7368,7432,107,4,3,108,115,116,7377,7386,7394,111,122,101,110,103,101,59,1,10731,113,117,97,114,101,59,1,9642,114,105,97,110,103,108,101,4,4,59,100,108,114,7411,7413,7419,7425,1,9652,111,119,110,59,1,9662,101,102,116,59,1,9666,105,103,104,116,59,1,9656,107,59,1,9251,4,2,49,51,7442,7454,4,2,50,52,7448,7451,59,1,9618,59,1,9617,52,59,1,9619,99,107,59,1,9608,4,2,101,111,7469,7485,4,2,59,113,7475,7478,3,61,8421,117,105,118,59,3,8801,8421,116,59,1,8976,4,4,112,116,119,120,7499,7504,7517,7523,102,59,3,55349,56659,4,2,59,116,7510,7512,1,8869,111,109,59,1,8869,116,105,101,59,1,8904,4,12,68,72,85,86,98,100,104,109,112,116,117,118,7549,7571,7597,7619,7655,7660,7682,7708,7715,7721,7728,7750,4,4,76,82,108,114,7559,7562,7565,7568,59,1,9559,59,1,9556,59,1,9558,59,1,9555,4,5,59,68,85,100,117,7583,7585,7588,7591,7594,1,9552,59,1,9574,59,1,9577,59,1,9572,59,1,9575,4,4,76,82,108,114,7607,7610,7613,7616,59,1,9565,59,1,9562,59,1,9564,59,1,9561,4,7,59,72,76,82,104,108,114,7635,7637,7640,7643,7646,7649,7652,1,9553,59,1,9580,59,1,9571,59,1,9568,59,1,9579,59,1,9570,59,1,9567,111,120,59,1,10697,4,4,76,82,108,114,7670,7673,7676,7679,59,1,9557,59,1,9554,59,1,9488,59,1,9484,4,5,59,68,85,100,117,7694,7696,7699,7702,7705,1,9472,59,1,9573,59,1,9576,59,1,9516,59,1,9524,105,110,117,115,59,1,8863,108,117,115,59,1,8862,105,109,101,115,59,1,8864,4,4,76,82,108,114,7738,7741,7744,7747,59,1,9563,59,1,9560,59,1,9496,59,1,9492,4,7,59,72,76,82,104,108,114,7766,7768,7771,7774,7777,7780,7783,1,9474,59,1,9578,59,1,9569,59,1,9566,59,1,9532,59,1,9508,59,1,9500,114,105,109,101,59,1,8245,4,2,101,118,7799,7804,118,101,59,1,728,98,97,114,5,166,1,59,7812,1,166,4,4,99,101,105,111,7824,7829,7834,7846,114,59,3,55349,56503,109,105,59,1,8271,109,4,2,59,101,7841,7843,1,8765,59,1,8909,108,4,3,59,98,104,7855,7857,7860,1,92,59,1,10693,115,117,98,59,1,10184,4,2,108,109,7872,7885,108,4,2,59,101,7879,7881,1,8226,116,59,1,8226,112,4,3,59,69,101,7894,7896,7899,1,8782,59,1,10926,4,2,59,113,7905,7907,1,8783,59,1,8783,4,15,97,99,100,101,102,104,105,108,111,114,115,116,117,119,121,7942,8021,8075,8080,8121,8126,8157,8279,8295,8430,8446,8485,8491,8707,8726,4,3,99,112,114,7950,7956,8007,117,116,101,59,1,263,4,6,59,97,98,99,100,115,7970,7972,7977,7984,7998,8003,1,8745,110,100,59,1,10820,114,99,117,112,59,1,10825,4,2,97,117,7990,7994,112,59,1,10827,112,59,1,10823,111,116,59,1,10816,59,3,8745,65024,4,2,101,111,8013,8017,116,59,1,8257,110,59,1,711,4,4,97,101,105,117,8031,8046,8056,8061,4,2,112,114,8037,8041,115,59,1,10829,111,110,59,1,269,100,105,108,5,231,1,59,8054,1,231,114,99,59,1,265,112,115,4,2,59,115,8069,8071,1,10828,109,59,1,10832,111,116,59,1,267,4,3,100,109,110,8088,8097,8104,105,108,5,184,1,59,8095,1,184,112,116,121,118,59,1,10674,116,5,162,2,59,101,8112,8114,1,162,114,100,111,116,59,1,183,114,59,3,55349,56608,4,3,99,101,105,8134,8138,8154,121,59,1,1095,99,107,4,2,59,109,8146,8148,1,10003,97,114,107,59,1,10003,59,1,967,114,4,7,59,69,99,101,102,109,115,8174,8176,8179,8258,8261,8268,8273,1,9675,59,1,10691,4,3,59,101,108,8187,8189,8193,1,710,113,59,1,8791,101,4,2,97,100,8200,8223,114,114,111,119,4,2,108,114,8210,8216,101,102,116,59,1,8634,105,103,104,116,59,1,8635,4,5,82,83,97,99,100,8235,8238,8241,8246,8252,59,1,174,59,1,9416,115,116,59,1,8859,105,114,99,59,1,8858,97,115,104,59,1,8861,59,1,8791,110,105,110,116,59,1,10768,105,100,59,1,10991,99,105,114,59,1,10690,117,98,115,4,2,59,117,8288,8290,1,9827,105,116,59,1,9827,4,4,108,109,110,112,8305,8326,8376,8400,111,110,4,2,59,101,8313,8315,1,58,4,2,59,113,8321,8323,1,8788,59,1,8788,4,2,109,112,8332,8344,97,4,2,59,116,8339,8341,1,44,59,1,64,4,3,59,102,108,8352,8354,8358,1,8705,110,59,1,8728,101,4,2,109,120,8365,8371,101,110,116,59,1,8705,101,115,59,1,8450,4,2,103,105,8382,8395,4,2,59,100,8388,8390,1,8773,111,116,59,1,10861,110,116,59,1,8750,4,3,102,114,121,8408,8412,8417,59,3,55349,56660,111,100,59,1,8720,5,169,2,59,115,8424,8426,1,169,114,59,1,8471,4,2,97,111,8436,8441,114,114,59,1,8629,115,115,59,1,10007,4,2,99,117,8452,8457,114,59,3,55349,56504,4,2,98,112,8463,8474,4,2,59,101,8469,8471,1,10959,59,1,10961,4,2,59,101,8480,8482,1,10960,59,1,10962,100,111,116,59,1,8943,4,7,100,101,108,112,114,118,119,8507,8522,8536,8550,8600,8697,8702,97,114,114,4,2,108,114,8516,8519,59,1,10552,59,1,10549,4,2,112,115,8528,8532,114,59,1,8926,99,59,1,8927,97,114,114,4,2,59,112,8545,8547,1,8630,59,1,10557,4,6,59,98,99,100,111,115,8564,8566,8573,8587,8592,8596,1,8746,114,99,97,112,59,1,10824,4,2,97,117,8579,8583,112,59,1,10822,112,59,1,10826,111,116,59,1,8845,114,59,1,10821,59,3,8746,65024,4,4,97,108,114,118,8610,8623,8663,8672,114,114,4,2,59,109,8618,8620,1,8631,59,1,10556,121,4,3,101,118,119,8632,8651,8656,113,4,2,112,115,8639,8645,114,101,99,59,1,8926,117,99,99,59,1,8927,101,101,59,1,8910,101,100,103,101,59,1,8911,101,110,5,164,1,59,8670,1,164,101,97,114,114,111,119,4,2,108,114,8684,8690,101,102,116,59,1,8630,105,103,104,116,59,1,8631,101,101,59,1,8910,101,100,59,1,8911,4,2,99,105,8713,8721,111,110,105,110,116,59,1,8754,110,116,59,1,8753,108,99,116,121,59,1,9005,4,19,65,72,97,98,99,100,101,102,104,105,106,108,111,114,115,116,117,119,122,8773,8778,8783,8821,8839,8854,8887,8914,8930,8944,9036,9041,9058,9197,9227,9258,9281,9297,9305,114,114,59,1,8659,97,114,59,1,10597,4,4,103,108,114,115,8793,8799,8805,8809,103,101,114,59,1,8224,101,116,104,59,1,8504,114,59,1,8595,104,4,2,59,118,8816,8818,1,8208,59,1,8867,4,2,107,108,8827,8834,97,114,111,119,59,1,10511,97,99,59,1,733,4,2,97,121,8845,8851,114,111,110,59,1,271,59,1,1076,4,3,59,97,111,8862,8864,8880,1,8518,4,2,103,114,8870,8876,103,101,114,59,1,8225,114,59,1,8650,116,115,101,113,59,1,10871,4,3,103,108,109,8895,8902,8907,5,176,1,59,8900,1,176,116,97,59,1,948,112,116,121,118,59,1,10673,4,2,105,114,8920,8926,115,104,116,59,1,10623,59,3,55349,56609,97,114,4,2,108,114,8938,8941,59,1,8643,59,1,8642,4,5,97,101,103,115,118,8956,8986,8989,8996,9001,109,4,3,59,111,115,8965,8967,8983,1,8900,110,100,4,2,59,115,8975,8977,1,8900,117,105,116,59,1,9830,59,1,9830,59,1,168,97,109,109,97,59,1,989,105,110,59,1,8946,4,3,59,105,111,9009,9011,9031,1,247,100,101,5,247,2,59,111,9020,9022,1,247,110,116,105,109,101,115,59,1,8903,110,120,59,1,8903,99,121,59,1,1106,99,4,2,111,114,9048,9053,114,110,59,1,8990,111,112,59,1,8973,4,5,108,112,116,117,119,9070,9076,9081,9130,9144,108,97,114,59,1,36,102,59,3,55349,56661,4,5,59,101,109,112,115,9093,9095,9109,9116,9122,1,729,113,4,2,59,100,9102,9104,1,8784,111,116,59,1,8785,105,110,117,115,59,1,8760,108,117,115,59,1,8724,113,117,97,114,101,59,1,8865,98,108,101,98,97,114,119,101,100,103,101,59,1,8966,110,4,3,97,100,104,9153,9160,9172,114,114,111,119,59,1,8595,111,119,110,97,114,114,111,119,115,59,1,8650,97,114,112,111,111,110,4,2,108,114,9184,9190,101,102,116,59,1,8643,105,103,104,116,59,1,8642,4,2,98,99,9203,9211,107,97,114,111,119,59,1,10512,4,2,111,114,9217,9222,114,110,59,1,8991,111,112,59,1,8972,4,3,99,111,116,9235,9248,9252,4,2,114,121,9241,9245,59,3,55349,56505,59,1,1109,108,59,1,10742,114,111,107,59,1,273,4,2,100,114,9264,9269,111,116,59,1,8945,105,4,2,59,102,9276,9278,1,9663,59,1,9662,4,2,97,104,9287,9292,114,114,59,1,8693,97,114,59,1,10607,97,110,103,108,101,59,1,10662,4,2,99,105,9311,9315,121,59,1,1119,103,114,97,114,114,59,1,10239,4,18,68,97,99,100,101,102,103,108,109,110,111,112,113,114,115,116,117,120,9361,9376,9398,9439,9444,9447,9462,9495,9531,9585,9598,9614,9659,9755,9771,9792,9808,9826,4,2,68,111,9367,9372,111,116,59,1,10871,116,59,1,8785,4,2,99,115,9382,9392,117,116,101,5,233,1,59,9390,1,233,116,101,114,59,1,10862,4,4,97,105,111,121,9408,9414,9430,9436,114,111,110,59,1,283,114,4,2,59,99,9421,9423,1,8790,5,234,1,59,9428,1,234,108,111,110,59,1,8789,59,1,1101,111,116,59,1,279,59,1,8519,4,2,68,114,9453,9458,111,116,59,1,8786,59,3,55349,56610,4,3,59,114,115,9470,9472,9482,1,10906,97,118,101,5,232,1,59,9480,1,232,4,2,59,100,9488,9490,1,10902,111,116,59,1,10904,4,4,59,105,108,115,9505,9507,9515,9518,1,10905,110,116,101,114,115,59,1,9191,59,1,8467,4,2,59,100,9524,9526,1,10901,111,116,59,1,10903,4,3,97,112,115,9539,9544,9564,99,114,59,1,275,116,121,4,3,59,115,118,9554,9556,9561,1,8709,101,116,59,1,8709,59,1,8709,112,4,2,49,59,9571,9583,4,2,51,52,9577,9580,59,1,8196,59,1,8197,1,8195,4,2,103,115,9591,9594,59,1,331,112,59,1,8194,4,2,103,112,9604,9609,111,110,59,1,281,102,59,3,55349,56662,4,3,97,108,115,9622,9635,9640,114,4,2,59,115,9629,9631,1,8917,108,59,1,10723,117,115,59,1,10865,105,4,3,59,108,118,9649,9651,9656,1,949,111,110,59,1,949,59,1,1013,4,4,99,115,117,118,9669,9686,9716,9747,4,2,105,111,9675,9680,114,99,59,1,8790,108,111,110,59,1,8789,4,2,105,108,9692,9696,109,59,1,8770,97,110,116,4,2,103,108,9705,9710,116,114,59,1,10902,101,115,115,59,1,10901,4,3,97,101,105,9724,9729,9734,108,115,59,1,61,115,116,59,1,8799,118,4,2,59,68,9741,9743,1,8801,68,59,1,10872,112,97,114,115,108,59,1,10725,4,2,68,97,9761,9766,111,116,59,1,8787,114,114,59,1,10609,4,3,99,100,105,9779,9783,9788,114,59,1,8495,111,116,59,1,8784,109,59,1,8770,4,2,97,104,9798,9801,59,1,951,5,240,1,59,9806,1,240,4,2,109,114,9814,9822,108,5,235,1,59,9820,1,235,111,59,1,8364,4,3,99,105,112,9834,9838,9843,108,59,1,33,115,116,59,1,8707,4,2,101,111,9849,9859,99,116,97,116,105,111,110,59,1,8496,110,101,110,116,105,97,108,101,59,1,8519,4,12,97,99,101,102,105,106,108,110,111,112,114,115,9896,9910,9914,9921,9954,9960,9967,9989,9994,10027,10036,10164,108,108,105,110,103,100,111,116,115,101,113,59,1,8786,121,59,1,1092,109,97,108,101,59,1,9792,4,3,105,108,114,9929,9935,9950,108,105,103,59,1,64259,4,2,105,108,9941,9945,103,59,1,64256,105,103,59,1,64260,59,3,55349,56611,108,105,103,59,1,64257,108,105,103,59,3,102,106,4,3,97,108,116,9975,9979,9984,116,59,1,9837,105,103,59,1,64258,110,115,59,1,9649,111,102,59,1,402,4,2,112,114,1e4,10005,102,59,3,55349,56663,4,2,97,107,10011,10016,108,108,59,1,8704,4,2,59,118,10022,10024,1,8916,59,1,10969,97,114,116,105,110,116,59,1,10765,4,2,97,111,10042,10159,4,2,99,115,10048,10155,4,6,49,50,51,52,53,55,10062,10102,10114,10135,10139,10151,4,6,50,51,52,53,54,56,10076,10083,10086,10093,10096,10099,5,189,1,59,10081,1,189,59,1,8531,5,188,1,59,10091,1,188,59,1,8533,59,1,8537,59,1,8539,4,2,51,53,10108,10111,59,1,8532,59,1,8534,4,3,52,53,56,10122,10129,10132,5,190,1,59,10127,1,190,59,1,8535,59,1,8540,53,59,1,8536,4,2,54,56,10145,10148,59,1,8538,59,1,8541,56,59,1,8542,108,59,1,8260,119,110,59,1,8994,99,114,59,3,55349,56507,4,17,69,97,98,99,100,101,102,103,105,106,108,110,111,114,115,116,118,10206,10217,10247,10254,10268,10273,10358,10363,10374,10380,10385,10406,10458,10464,10470,10497,10610,4,2,59,108,10212,10214,1,8807,59,1,10892,4,3,99,109,112,10225,10231,10244,117,116,101,59,1,501,109,97,4,2,59,100,10239,10241,1,947,59,1,989,59,1,10886,114,101,118,101,59,1,287,4,2,105,121,10260,10265,114,99,59,1,285,59,1,1075,111,116,59,1,289,4,4,59,108,113,115,10283,10285,10288,10308,1,8805,59,1,8923,4,3,59,113,115,10296,10298,10301,1,8805,59,1,8807,108,97,110,116,59,1,10878,4,4,59,99,100,108,10318,10320,10324,10345,1,10878,99,59,1,10921,111,116,4,2,59,111,10332,10334,1,10880,4,2,59,108,10340,10342,1,10882,59,1,10884,4,2,59,101,10351,10354,3,8923,65024,115,59,1,10900,114,59,3,55349,56612,4,2,59,103,10369,10371,1,8811,59,1,8921,109,101,108,59,1,8503,99,121,59,1,1107,4,4,59,69,97,106,10395,10397,10400,10403,1,8823,59,1,10898,59,1,10917,59,1,10916,4,4,69,97,101,115,10416,10419,10434,10453,59,1,8809,112,4,2,59,112,10426,10428,1,10890,114,111,120,59,1,10890,4,2,59,113,10440,10442,1,10888,4,2,59,113,10448,10450,1,10888,59,1,8809,105,109,59,1,8935,112,102,59,3,55349,56664,97,118,101,59,1,96,4,2,99,105,10476,10480,114,59,1,8458,109,4,3,59,101,108,10489,10491,10494,1,8819,59,1,10894,59,1,10896,5,62,6,59,99,100,108,113,114,10512,10514,10527,10532,10538,10545,1,62,4,2,99,105,10520,10523,59,1,10919,114,59,1,10874,111,116,59,1,8919,80,97,114,59,1,10645,117,101,115,116,59,1,10876,4,5,97,100,101,108,115,10557,10574,10579,10599,10605,4,2,112,114,10563,10570,112,114,111,120,59,1,10886,114,59,1,10616,111,116,59,1,8919,113,4,2,108,113,10586,10592,101,115,115,59,1,8923,108,101,115,115,59,1,10892,101,115,115,59,1,8823,105,109,59,1,8819,4,2,101,110,10616,10626,114,116,110,101,113,113,59,3,8809,65024,69,59,3,8809,65024,4,10,65,97,98,99,101,102,107,111,115,121,10653,10658,10713,10718,10724,10760,10765,10786,10850,10875,114,114,59,1,8660,4,4,105,108,109,114,10668,10674,10678,10684,114,115,112,59,1,8202,102,59,1,189,105,108,116,59,1,8459,4,2,100,114,10690,10695,99,121,59,1,1098,4,3,59,99,119,10703,10705,10710,1,8596,105,114,59,1,10568,59,1,8621,97,114,59,1,8463,105,114,99,59,1,293,4,3,97,108,114,10732,10748,10754,114,116,115,4,2,59,117,10741,10743,1,9829,105,116,59,1,9829,108,105,112,59,1,8230,99,111,110,59,1,8889,114,59,3,55349,56613,115,4,2,101,119,10772,10779,97,114,111,119,59,1,10533,97,114,111,119,59,1,10534,4,5,97,109,111,112,114,10798,10803,10809,10839,10844,114,114,59,1,8703,116,104,116,59,1,8763,107,4,2,108,114,10816,10827,101,102,116,97,114,114,111,119,59,1,8617,105,103,104,116,97,114,114,111,119,59,1,8618,102,59,3,55349,56665,98,97,114,59,1,8213,4,3,99,108,116,10858,10863,10869,114,59,3,55349,56509,97,115,104,59,1,8463,114,111,107,59,1,295,4,2,98,112,10881,10887,117,108,108,59,1,8259,104,101,110,59,1,8208,4,15,97,99,101,102,103,105,106,109,110,111,112,113,115,116,117,10925,10936,10958,10977,10990,11001,11039,11045,11101,11192,11220,11226,11237,11285,11299,99,117,116,101,5,237,1,59,10934,1,237,4,3,59,105,121,10944,10946,10955,1,8291,114,99,5,238,1,59,10953,1,238,59,1,1080,4,2,99,120,10964,10968,121,59,1,1077,99,108,5,161,1,59,10975,1,161,4,2,102,114,10983,10986,59,1,8660,59,3,55349,56614,114,97,118,101,5,236,1,59,10999,1,236,4,4,59,105,110,111,11011,11013,11028,11034,1,8520,4,2,105,110,11019,11024,110,116,59,1,10764,116,59,1,8749,102,105,110,59,1,10716,116,97,59,1,8489,108,105,103,59,1,307,4,3,97,111,112,11053,11092,11096,4,3,99,103,116,11061,11065,11088,114,59,1,299,4,3,101,108,112,11073,11076,11082,59,1,8465,105,110,101,59,1,8464,97,114,116,59,1,8465,104,59,1,305,102,59,1,8887,101,100,59,1,437,4,5,59,99,102,111,116,11113,11115,11121,11136,11142,1,8712,97,114,101,59,1,8453,105,110,4,2,59,116,11129,11131,1,8734,105,101,59,1,10717,100,111,116,59,1,305,4,5,59,99,101,108,112,11154,11156,11161,11179,11186,1,8747,97,108,59,1,8890,4,2,103,114,11167,11173,101,114,115,59,1,8484,99,97,108,59,1,8890,97,114,104,107,59,1,10775,114,111,100,59,1,10812,4,4,99,103,112,116,11202,11206,11211,11216,121,59,1,1105,111,110,59,1,303,102,59,3,55349,56666,97,59,1,953,114,111,100,59,1,10812,117,101,115,116,5,191,1,59,11235,1,191,4,2,99,105,11243,11248,114,59,3,55349,56510,110,4,5,59,69,100,115,118,11261,11263,11266,11271,11282,1,8712,59,1,8953,111,116,59,1,8949,4,2,59,118,11277,11279,1,8948,59,1,8947,59,1,8712,4,2,59,105,11291,11293,1,8290,108,100,101,59,1,297,4,2,107,109,11305,11310,99,121,59,1,1110,108,5,239,1,59,11316,1,239,4,6,99,102,109,111,115,117,11332,11346,11351,11357,11363,11380,4,2,105,121,11338,11343,114,99,59,1,309,59,1,1081,114,59,3,55349,56615,97,116,104,59,1,567,112,102,59,3,55349,56667,4,2,99,101,11369,11374,114,59,3,55349,56511,114,99,121,59,1,1112,107,99,121,59,1,1108,4,8,97,99,102,103,104,106,111,115,11404,11418,11433,11438,11445,11450,11455,11461,112,112,97,4,2,59,118,11413,11415,1,954,59,1,1008,4,2,101,121,11424,11430,100,105,108,59,1,311,59,1,1082,114,59,3,55349,56616,114,101,101,110,59,1,312,99,121,59,1,1093,99,121,59,1,1116,112,102,59,3,55349,56668,99,114,59,3,55349,56512,4,23,65,66,69,72,97,98,99,100,101,102,103,104,106,108,109,110,111,112,114,115,116,117,118,11515,11538,11544,11555,11560,11721,11780,11818,11868,12136,12160,12171,12203,12208,12246,12275,12327,12509,12523,12569,12641,12732,12752,4,3,97,114,116,11523,11528,11532,114,114,59,1,8666,114,59,1,8656,97,105,108,59,1,10523,97,114,114,59,1,10510,4,2,59,103,11550,11552,1,8806,59,1,10891,97,114,59,1,10594,4,9,99,101,103,109,110,112,113,114,116,11580,11586,11594,11600,11606,11624,11627,11636,11694,117,116,101,59,1,314,109,112,116,121,118,59,1,10676,114,97,110,59,1,8466,98,100,97,59,1,955,103,4,3,59,100,108,11615,11617,11620,1,10216,59,1,10641,101,59,1,10216,59,1,10885,117,111,5,171,1,59,11634,1,171,114,4,8,59,98,102,104,108,112,115,116,11655,11657,11669,11673,11677,11681,11685,11690,1,8592,4,2,59,102,11663,11665,1,8676,115,59,1,10527,115,59,1,10525,107,59,1,8617,112,59,1,8619,108,59,1,10553,105,109,59,1,10611,108,59,1,8610,4,3,59,97,101,11702,11704,11709,1,10923,105,108,59,1,10521,4,2,59,115,11715,11717,1,10925,59,3,10925,65024,4,3,97,98,114,11729,11734,11739,114,114,59,1,10508,114,107,59,1,10098,4,2,97,107,11745,11758,99,4,2,101,107,11752,11755,59,1,123,59,1,91,4,2,101,115,11764,11767,59,1,10635,108,4,2,100,117,11774,11777,59,1,10639,59,1,10637,4,4,97,101,117,121,11790,11796,11811,11815,114,111,110,59,1,318,4,2,100,105,11802,11807,105,108,59,1,316,108,59,1,8968,98,59,1,123,59,1,1083,4,4,99,113,114,115,11828,11832,11845,11864,97,59,1,10550,117,111,4,2,59,114,11840,11842,1,8220,59,1,8222,4,2,100,117,11851,11857,104,97,114,59,1,10599,115,104,97,114,59,1,10571,104,59,1,8626,4,5,59,102,103,113,115,11880,11882,12008,12011,12031,1,8804,116,4,5,97,104,108,114,116,11895,11913,11935,11947,11996,114,114,111,119,4,2,59,116,11905,11907,1,8592,97,105,108,59,1,8610,97,114,112,111,111,110,4,2,100,117,11925,11931,111,119,110,59,1,8637,112,59,1,8636,101,102,116,97,114,114,111,119,115,59,1,8647,105,103,104,116,4,3,97,104,115,11959,11974,11984,114,114,111,119,4,2,59,115,11969,11971,1,8596,59,1,8646,97,114,112,111,111,110,115,59,1,8651,113,117,105,103,97,114,114,111,119,59,1,8621,104,114,101,101,116,105,109,101,115,59,1,8907,59,1,8922,4,3,59,113,115,12019,12021,12024,1,8804,59,1,8806,108,97,110,116,59,1,10877,4,5,59,99,100,103,115,12043,12045,12049,12070,12083,1,10877,99,59,1,10920,111,116,4,2,59,111,12057,12059,1,10879,4,2,59,114,12065,12067,1,10881,59,1,10883,4,2,59,101,12076,12079,3,8922,65024,115,59,1,10899,4,5,97,100,101,103,115,12095,12103,12108,12126,12131,112,112,114,111,120,59,1,10885,111,116,59,1,8918,113,4,2,103,113,12115,12120,116,114,59,1,8922,103,116,114,59,1,10891,116,114,59,1,8822,105,109,59,1,8818,4,3,105,108,114,12144,12150,12156,115,104,116,59,1,10620,111,111,114,59,1,8970,59,3,55349,56617,4,2,59,69,12166,12168,1,8822,59,1,10897,4,2,97,98,12177,12198,114,4,2,100,117,12184,12187,59,1,8637,4,2,59,108,12193,12195,1,8636,59,1,10602,108,107,59,1,9604,99,121,59,1,1113,4,5,59,97,99,104,116,12220,12222,12227,12235,12241,1,8810,114,114,59,1,8647,111,114,110,101,114,59,1,8990,97,114,100,59,1,10603,114,105,59,1,9722,4,2,105,111,12252,12258,100,111,116,59,1,320,117,115,116,4,2,59,97,12267,12269,1,9136,99,104,101,59,1,9136,4,4,69,97,101,115,12285,12288,12303,12322,59,1,8808,112,4,2,59,112,12295,12297,1,10889,114,111,120,59,1,10889,4,2,59,113,12309,12311,1,10887,4,2,59,113,12317,12319,1,10887,59,1,8808,105,109,59,1,8934,4,8,97,98,110,111,112,116,119,122,12345,12359,12364,12421,12446,12467,12474,12490,4,2,110,114,12351,12355,103,59,1,10220,114,59,1,8701,114,107,59,1,10214,103,4,3,108,109,114,12373,12401,12409,101,102,116,4,2,97,114,12382,12389,114,114,111,119,59,1,10229,105,103,104,116,97,114,114,111,119,59,1,10231,97,112,115,116,111,59,1,10236,105,103,104,116,97,114,114,111,119,59,1,10230,112,97,114,114,111,119,4,2,108,114,12433,12439,101,102,116,59,1,8619,105,103,104,116,59,1,8620,4,3,97,102,108,12454,12458,12462,114,59,1,10629,59,3,55349,56669,117,115,59,1,10797,105,109,101,115,59,1,10804,4,2,97,98,12480,12485,115,116,59,1,8727,97,114,59,1,95,4,3,59,101,102,12498,12500,12506,1,9674,110,103,101,59,1,9674,59,1,10731,97,114,4,2,59,108,12517,12519,1,40,116,59,1,10643,4,5,97,99,104,109,116,12535,12540,12548,12561,12564,114,114,59,1,8646,111,114,110,101,114,59,1,8991,97,114,4,2,59,100,12556,12558,1,8651,59,1,10605,59,1,8206,114,105,59,1,8895,4,6,97,99,104,105,113,116,12583,12589,12594,12597,12614,12635,113,117,111,59,1,8249,114,59,3,55349,56513,59,1,8624,109,4,3,59,101,103,12606,12608,12611,1,8818,59,1,10893,59,1,10895,4,2,98,117,12620,12623,59,1,91,111,4,2,59,114,12630,12632,1,8216,59,1,8218,114,111,107,59,1,322,5,60,8,59,99,100,104,105,108,113,114,12660,12662,12675,12680,12686,12692,12698,12705,1,60,4,2,99,105,12668,12671,59,1,10918,114,59,1,10873,111,116,59,1,8918,114,101,101,59,1,8907,109,101,115,59,1,8905,97,114,114,59,1,10614,117,101,115,116,59,1,10875,4,2,80,105,12711,12716,97,114,59,1,10646,4,3,59,101,102,12724,12726,12729,1,9667,59,1,8884,59,1,9666,114,4,2,100,117,12739,12746,115,104,97,114,59,1,10570,104,97,114,59,1,10598,4,2,101,110,12758,12768,114,116,110,101,113,113,59,3,8808,65024,69,59,3,8808,65024,4,14,68,97,99,100,101,102,104,105,108,110,111,112,115,117,12803,12809,12893,12908,12914,12928,12933,12937,13011,13025,13032,13049,13052,13069,68,111,116,59,1,8762,4,4,99,108,112,114,12819,12827,12849,12887,114,5,175,1,59,12825,1,175,4,2,101,116,12833,12836,59,1,9794,4,2,59,101,12842,12844,1,10016,115,101,59,1,10016,4,2,59,115,12855,12857,1,8614,116,111,4,4,59,100,108,117,12869,12871,12877,12883,1,8614,111,119,110,59,1,8615,101,102,116,59,1,8612,112,59,1,8613,107,101,114,59,1,9646,4,2,111,121,12899,12905,109,109,97,59,1,10793,59,1,1084,97,115,104,59,1,8212,97,115,117,114,101,100,97,110,103,108,101,59,1,8737,114,59,3,55349,56618,111,59,1,8487,4,3,99,100,110,12945,12954,12985,114,111,5,181,1,59,12952,1,181,4,4,59,97,99,100,12964,12966,12971,12976,1,8739,115,116,59,1,42,105,114,59,1,10992,111,116,5,183,1,59,12983,1,183,117,115,4,3,59,98,100,12995,12997,13e3,1,8722,59,1,8863,4,2,59,117,13006,13008,1,8760,59,1,10794,4,2,99,100,13017,13021,112,59,1,10971,114,59,1,8230,112,108,117,115,59,1,8723,4,2,100,112,13038,13044,101,108,115,59,1,8871,102,59,3,55349,56670,59,1,8723,4,2,99,116,13058,13063,114,59,3,55349,56514,112,111,115,59,1,8766,4,3,59,108,109,13077,13079,13087,1,956,116,105,109,97,112,59,1,8888,97,112,59,1,8888,4,24,71,76,82,86,97,98,99,100,101,102,103,104,105,106,108,109,111,112,114,115,116,117,118,119,13142,13165,13217,13229,13247,13330,13359,13414,13420,13508,13513,13579,13602,13626,13631,13762,13767,13855,13936,13995,14214,14285,14312,14432,4,2,103,116,13148,13152,59,3,8921,824,4,2,59,118,13158,13161,3,8811,8402,59,3,8811,824,4,3,101,108,116,13173,13200,13204,102,116,4,2,97,114,13181,13188,114,114,111,119,59,1,8653,105,103,104,116,97,114,114,111,119,59,1,8654,59,3,8920,824,4,2,59,118,13210,13213,3,8810,8402,59,3,8810,824,105,103,104,116,97,114,114,111,119,59,1,8655,4,2,68,100,13235,13241,97,115,104,59,1,8879,97,115,104,59,1,8878,4,5,98,99,110,112,116,13259,13264,13270,13275,13308,108,97,59,1,8711,117,116,101,59,1,324,103,59,3,8736,8402,4,5,59,69,105,111,112,13287,13289,13293,13298,13302,1,8777,59,3,10864,824,100,59,3,8779,824,115,59,1,329,114,111,120,59,1,8777,117,114,4,2,59,97,13316,13318,1,9838,108,4,2,59,115,13325,13327,1,9838,59,1,8469,4,2,115,117,13336,13344,112,5,160,1,59,13342,1,160,109,112,4,2,59,101,13352,13355,3,8782,824,59,3,8783,824,4,5,97,101,111,117,121,13371,13385,13391,13407,13411,4,2,112,114,13377,13380,59,1,10819,111,110,59,1,328,100,105,108,59,1,326,110,103,4,2,59,100,13399,13401,1,8775,111,116,59,3,10861,824,112,59,1,10818,59,1,1085,97,115,104,59,1,8211,4,7,59,65,97,100,113,115,120,13436,13438,13443,13466,13472,13478,13494,1,8800,114,114,59,1,8663,114,4,2,104,114,13450,13454,107,59,1,10532,4,2,59,111,13460,13462,1,8599,119,59,1,8599,111,116,59,3,8784,824,117,105,118,59,1,8802,4,2,101,105,13484,13489,97,114,59,1,10536,109,59,3,8770,824,105,115,116,4,2,59,115,13503,13505,1,8708,59,1,8708,114,59,3,55349,56619,4,4,69,101,115,116,13523,13527,13563,13568,59,3,8807,824,4,3,59,113,115,13535,13537,13559,1,8817,4,3,59,113,115,13545,13547,13551,1,8817,59,3,8807,824,108,97,110,116,59,3,10878,824,59,3,10878,824,105,109,59,1,8821,4,2,59,114,13574,13576,1,8815,59,1,8815,4,3,65,97,112,13587,13592,13597,114,114,59,1,8654,114,114,59,1,8622,97,114,59,1,10994,4,3,59,115,118,13610,13612,13623,1,8715,4,2,59,100,13618,13620,1,8956,59,1,8954,59,1,8715,99,121,59,1,1114,4,7,65,69,97,100,101,115,116,13647,13652,13656,13661,13665,13737,13742,114,114,59,1,8653,59,3,8806,824,114,114,59,1,8602,114,59,1,8229,4,4,59,102,113,115,13675,13677,13703,13725,1,8816,116,4,2,97,114,13684,13691,114,114,111,119,59,1,8602,105,103,104,116,97,114,114,111,119,59,1,8622,4,3,59,113,115,13711,13713,13717,1,8816,59,3,8806,824,108,97,110,116,59,3,10877,824,4,2,59,115,13731,13734,3,10877,824,59,1,8814,105,109,59,1,8820,4,2,59,114,13748,13750,1,8814,105,4,2,59,101,13757,13759,1,8938,59,1,8940,105,100,59,1,8740,4,2,112,116,13773,13778,102,59,3,55349,56671,5,172,3,59,105,110,13787,13789,13829,1,172,110,4,4,59,69,100,118,13800,13802,13806,13812,1,8713,59,3,8953,824,111,116,59,3,8949,824,4,3,97,98,99,13820,13823,13826,59,1,8713,59,1,8951,59,1,8950,105,4,2,59,118,13836,13838,1,8716,4,3,97,98,99,13846,13849,13852,59,1,8716,59,1,8958,59,1,8957,4,3,97,111,114,13863,13892,13899,114,4,4,59,97,115,116,13874,13876,13883,13888,1,8742,108,108,101,108,59,1,8742,108,59,3,11005,8421,59,3,8706,824,108,105,110,116,59,1,10772,4,3,59,99,101,13907,13909,13914,1,8832,117,101,59,1,8928,4,2,59,99,13920,13923,3,10927,824,4,2,59,101,13929,13931,1,8832,113,59,3,10927,824,4,4,65,97,105,116,13946,13951,13971,13982,114,114,59,1,8655,114,114,4,3,59,99,119,13961,13963,13967,1,8603,59,3,10547,824,59,3,8605,824,103,104,116,97,114,114,111,119,59,1,8603,114,105,4,2,59,101,13990,13992,1,8939,59,1,8941,4,7,99,104,105,109,112,113,117,14011,14036,14060,14080,14085,14090,14106,4,4,59,99,101,114,14021,14023,14028,14032,1,8833,117,101,59,1,8929,59,3,10928,824,59,3,55349,56515,111,114,116,4,2,109,112,14045,14050,105,100,59,1,8740,97,114,97,108,108,101,108,59,1,8742,109,4,2,59,101,14067,14069,1,8769,4,2,59,113,14075,14077,1,8772,59,1,8772,105,100,59,1,8740,97,114,59,1,8742,115,117,4,2,98,112,14098,14102,101,59,1,8930,101,59,1,8931,4,3,98,99,112,14114,14157,14171,4,4,59,69,101,115,14124,14126,14130,14133,1,8836,59,3,10949,824,59,1,8840,101,116,4,2,59,101,14141,14144,3,8834,8402,113,4,2,59,113,14151,14153,1,8840,59,3,10949,824,99,4,2,59,101,14164,14166,1,8833,113,59,3,10928,824,4,4,59,69,101,115,14181,14183,14187,14190,1,8837,59,3,10950,824,59,1,8841,101,116,4,2,59,101,14198,14201,3,8835,8402,113,4,2,59,113,14208,14210,1,8841,59,3,10950,824,4,4,103,105,108,114,14224,14228,14238,14242,108,59,1,8825,108,100,101,5,241,1,59,14236,1,241,103,59,1,8824,105,97,110,103,108,101,4,2,108,114,14254,14269,101,102,116,4,2,59,101,14263,14265,1,8938,113,59,1,8940,105,103,104,116,4,2,59,101,14279,14281,1,8939,113,59,1,8941,4,2,59,109,14291,14293,1,957,4,3,59,101,115,14301,14303,14308,1,35,114,111,59,1,8470,112,59,1,8199,4,9,68,72,97,100,103,105,108,114,115,14332,14338,14344,14349,14355,14369,14376,14408,14426,97,115,104,59,1,8877,97,114,114,59,1,10500,112,59,3,8781,8402,97,115,104,59,1,8876,4,2,101,116,14361,14365,59,3,8805,8402,59,3,62,8402,110,102,105,110,59,1,10718,4,3,65,101,116,14384,14389,14393,114,114,59,1,10498,59,3,8804,8402,4,2,59,114,14399,14402,3,60,8402,105,101,59,3,8884,8402,4,2,65,116,14414,14419,114,114,59,1,10499,114,105,101,59,3,8885,8402,105,109,59,3,8764,8402,4,3,65,97,110,14440,14445,14468,114,114,59,1,8662,114,4,2,104,114,14452,14456,107,59,1,10531,4,2,59,111,14462,14464,1,8598,119,59,1,8598,101,97,114,59,1,10535,4,18,83,97,99,100,101,102,103,104,105,108,109,111,112,114,115,116,117,118,14512,14515,14535,14560,14597,14603,14618,14643,14657,14662,14701,14741,14747,14769,14851,14877,14907,14916,59,1,9416,4,2,99,115,14521,14531,117,116,101,5,243,1,59,14529,1,243,116,59,1,8859,4,2,105,121,14541,14557,114,4,2,59,99,14548,14550,1,8858,5,244,1,59,14555,1,244,59,1,1086,4,5,97,98,105,111,115,14572,14577,14583,14587,14591,115,104,59,1,8861,108,97,99,59,1,337,118,59,1,10808,116,59,1,8857,111,108,100,59,1,10684,108,105,103,59,1,339,4,2,99,114,14609,14614,105,114,59,1,10687,59,3,55349,56620,4,3,111,114,116,14626,14630,14640,110,59,1,731,97,118,101,5,242,1,59,14638,1,242,59,1,10689,4,2,98,109,14649,14654,97,114,59,1,10677,59,1,937,110,116,59,1,8750,4,4,97,99,105,116,14672,14677,14693,14698,114,114,59,1,8634,4,2,105,114,14683,14687,114,59,1,10686,111,115,115,59,1,10683,110,101,59,1,8254,59,1,10688,4,3,97,101,105,14709,14714,14719,99,114,59,1,333,103,97,59,1,969,4,3,99,100,110,14727,14733,14736,114,111,110,59,1,959,59,1,10678,117,115,59,1,8854,112,102,59,3,55349,56672,4,3,97,101,108,14755,14759,14764,114,59,1,10679,114,112,59,1,10681,117,115,59,1,8853,4,7,59,97,100,105,111,115,118,14785,14787,14792,14831,14837,14841,14848,1,8744,114,114,59,1,8635,4,4,59,101,102,109,14802,14804,14817,14824,1,10845,114,4,2,59,111,14811,14813,1,8500,102,59,1,8500,5,170,1,59,14822,1,170,5,186,1,59,14829,1,186,103,111,102,59,1,8886,114,59,1,10838,108,111,112,101,59,1,10839,59,1,10843,4,3,99,108,111,14859,14863,14873,114,59,1,8500,97,115,104,5,248,1,59,14871,1,248,108,59,1,8856,105,4,2,108,109,14884,14893,100,101,5,245,1,59,14891,1,245,101,115,4,2,59,97,14901,14903,1,8855,115,59,1,10806,109,108,5,246,1,59,14914,1,246,98,97,114,59,1,9021,4,12,97,99,101,102,104,105,108,109,111,114,115,117,14948,14992,14996,15033,15038,15068,15090,15189,15192,15222,15427,15441,114,4,4,59,97,115,116,14959,14961,14976,14989,1,8741,5,182,2,59,108,14968,14970,1,182,108,101,108,59,1,8741,4,2,105,108,14982,14986,109,59,1,10995,59,1,11005,59,1,8706,121,59,1,1087,114,4,5,99,105,109,112,116,15009,15014,15019,15024,15027,110,116,59,1,37,111,100,59,1,46,105,108,59,1,8240,59,1,8869,101,110,107,59,1,8241,114,59,3,55349,56621,4,3,105,109,111,15046,15057,15063,4,2,59,118,15052,15054,1,966,59,1,981,109,97,116,59,1,8499,110,101,59,1,9742,4,3,59,116,118,15076,15078,15087,1,960,99,104,102,111,114,107,59,1,8916,59,1,982,4,2,97,117,15096,15119,110,4,2,99,107,15103,15115,107,4,2,59,104,15110,15112,1,8463,59,1,8462,118,59,1,8463,115,4,9,59,97,98,99,100,101,109,115,116,15140,15142,15148,15151,15156,15168,15171,15179,15184,1,43,99,105,114,59,1,10787,59,1,8862,105,114,59,1,10786,4,2,111,117,15162,15165,59,1,8724,59,1,10789,59,1,10866,110,5,177,1,59,15177,1,177,105,109,59,1,10790,119,111,59,1,10791,59,1,177,4,3,105,112,117,15200,15208,15213,110,116,105,110,116,59,1,10773,102,59,3,55349,56673,110,100,5,163,1,59,15220,1,163,4,10,59,69,97,99,101,105,110,111,115,117,15244,15246,15249,15253,15258,15334,15347,15367,15416,15421,1,8826,59,1,10931,112,59,1,10935,117,101,59,1,8828,4,2,59,99,15264,15266,1,10927,4,6,59,97,99,101,110,115,15280,15282,15290,15299,15303,15329,1,8826,112,112,114,111,120,59,1,10935,117,114,108,121,101,113,59,1,8828,113,59,1,10927,4,3,97,101,115,15311,15319,15324,112,112,114,111,120,59,1,10937,113,113,59,1,10933,105,109,59,1,8936,105,109,59,1,8830,109,101,4,2,59,115,15342,15344,1,8242,59,1,8473,4,3,69,97,115,15355,15358,15362,59,1,10933,112,59,1,10937,105,109,59,1,8936,4,3,100,102,112,15375,15378,15404,59,1,8719,4,3,97,108,115,15386,15392,15398,108,97,114,59,1,9006,105,110,101,59,1,8978,117,114,102,59,1,8979,4,2,59,116,15410,15412,1,8733,111,59,1,8733,105,109,59,1,8830,114,101,108,59,1,8880,4,2,99,105,15433,15438,114,59,3,55349,56517,59,1,968,110,99,115,112,59,1,8200,4,6,102,105,111,112,115,117,15462,15467,15472,15478,15485,15491,114,59,3,55349,56622,110,116,59,1,10764,112,102,59,3,55349,56674,114,105,109,101,59,1,8279,99,114,59,3,55349,56518,4,3,97,101,111,15499,15520,15534,116,4,2,101,105,15506,15515,114,110,105,111,110,115,59,1,8461,110,116,59,1,10774,115,116,4,2,59,101,15528,15530,1,63,113,59,1,8799,116,5,34,1,59,15540,1,34,4,21,65,66,72,97,98,99,100,101,102,104,105,108,109,110,111,112,114,115,116,117,120,15586,15609,15615,15620,15796,15855,15893,15931,15977,16001,16039,16183,16204,16222,16228,16285,16312,16318,16363,16408,16416,4,3,97,114,116,15594,15599,15603,114,114,59,1,8667,114,59,1,8658,97,105,108,59,1,10524,97,114,114,59,1,10511,97,114,59,1,10596,4,7,99,100,101,110,113,114,116,15636,15651,15656,15664,15687,15696,15770,4,2,101,117,15642,15646,59,3,8765,817,116,101,59,1,341,105,99,59,1,8730,109,112,116,121,118,59,1,10675,103,4,4,59,100,101,108,15675,15677,15680,15683,1,10217,59,1,10642,59,1,10661,101,59,1,10217,117,111,5,187,1,59,15694,1,187,114,4,11,59,97,98,99,102,104,108,112,115,116,119,15721,15723,15727,15739,15742,15746,15750,15754,15758,15763,15767,1,8594,112,59,1,10613,4,2,59,102,15733,15735,1,8677,115,59,1,10528,59,1,10547,115,59,1,10526,107,59,1,8618,112,59,1,8620,108,59,1,10565,105,109,59,1,10612,108,59,1,8611,59,1,8605,4,2,97,105,15776,15781,105,108,59,1,10522,111,4,2,59,110,15788,15790,1,8758,97,108,115,59,1,8474,4,3,97,98,114,15804,15809,15814,114,114,59,1,10509,114,107,59,1,10099,4,2,97,107,15820,15833,99,4,2,101,107,15827,15830,59,1,125,59,1,93,4,2,101,115,15839,15842,59,1,10636,108,4,2,100,117,15849,15852,59,1,10638,59,1,10640,4,4,97,101,117,121,15865,15871,15886,15890,114,111,110,59,1,345,4,2,100,105,15877,15882,105,108,59,1,343,108,59,1,8969,98,59,1,125,59,1,1088,4,4,99,108,113,115,15903,15907,15914,15927,97,59,1,10551,100,104,97,114,59,1,10601,117,111,4,2,59,114,15922,15924,1,8221,59,1,8221,104,59,1,8627,4,3,97,99,103,15939,15966,15970,108,4,4,59,105,112,115,15950,15952,15957,15963,1,8476,110,101,59,1,8475,97,114,116,59,1,8476,59,1,8477,116,59,1,9645,5,174,1,59,15975,1,174,4,3,105,108,114,15985,15991,15997,115,104,116,59,1,10621,111,111,114,59,1,8971,59,3,55349,56623,4,2,97,111,16007,16028,114,4,2,100,117,16014,16017,59,1,8641,4,2,59,108,16023,16025,1,8640,59,1,10604,4,2,59,118,16034,16036,1,961,59,1,1009,4,3,103,110,115,16047,16167,16171,104,116,4,6,97,104,108,114,115,116,16063,16081,16103,16130,16143,16155,114,114,111,119,4,2,59,116,16073,16075,1,8594,97,105,108,59,1,8611,97,114,112,111,111,110,4,2,100,117,16093,16099,111,119,110,59,1,8641,112,59,1,8640,101,102,116,4,2,97,104,16112,16120,114,114,111,119,115,59,1,8644,97,114,112,111,111,110,115,59,1,8652,105,103,104,116,97,114,114,111,119,115,59,1,8649,113,117,105,103,97,114,114,111,119,59,1,8605,104,114,101,101,116,105,109,101,115,59,1,8908,103,59,1,730,105,110,103,100,111,116,115,101,113,59,1,8787,4,3,97,104,109,16191,16196,16201,114,114,59,1,8644,97,114,59,1,8652,59,1,8207,111,117,115,116,4,2,59,97,16214,16216,1,9137,99,104,101,59,1,9137,109,105,100,59,1,10990,4,4,97,98,112,116,16238,16252,16257,16278,4,2,110,114,16244,16248,103,59,1,10221,114,59,1,8702,114,107,59,1,10215,4,3,97,102,108,16265,16269,16273,114,59,1,10630,59,3,55349,56675,117,115,59,1,10798,105,109,101,115,59,1,10805,4,2,97,112,16291,16304,114,4,2,59,103,16298,16300,1,41,116,59,1,10644,111,108,105,110,116,59,1,10770,97,114,114,59,1,8649,4,4,97,99,104,113,16328,16334,16339,16342,113,117,111,59,1,8250,114,59,3,55349,56519,59,1,8625,4,2,98,117,16348,16351,59,1,93,111,4,2,59,114,16358,16360,1,8217,59,1,8217,4,3,104,105,114,16371,16377,16383,114,101,101,59,1,8908,109,101,115,59,1,8906,105,4,4,59,101,102,108,16394,16396,16399,16402,1,9657,59,1,8885,59,1,9656,116,114,105,59,1,10702,108,117,104,97,114,59,1,10600,59,1,8478,4,19,97,98,99,100,101,102,104,105,108,109,111,112,113,114,115,116,117,119,122,16459,16466,16472,16572,16590,16672,16687,16746,16844,16850,16924,16963,16988,17115,17121,17154,17206,17614,17656,99,117,116,101,59,1,347,113,117,111,59,1,8218,4,10,59,69,97,99,101,105,110,112,115,121,16494,16496,16499,16513,16518,16531,16536,16556,16564,16569,1,8827,59,1,10932,4,2,112,114,16505,16508,59,1,10936,111,110,59,1,353,117,101,59,1,8829,4,2,59,100,16524,16526,1,10928,105,108,59,1,351,114,99,59,1,349,4,3,69,97,115,16544,16547,16551,59,1,10934,112,59,1,10938,105,109,59,1,8937,111,108,105,110,116,59,1,10771,105,109,59,1,8831,59,1,1089,111,116,4,3,59,98,101,16582,16584,16587,1,8901,59,1,8865,59,1,10854,4,7,65,97,99,109,115,116,120,16606,16611,16634,16642,16646,16652,16668,114,114,59,1,8664,114,4,2,104,114,16618,16622,107,59,1,10533,4,2,59,111,16628,16630,1,8600,119,59,1,8600,116,5,167,1,59,16640,1,167,105,59,1,59,119,97,114,59,1,10537,109,4,2,105,110,16659,16665,110,117,115,59,1,8726,59,1,8726,116,59,1,10038,114,4,2,59,111,16679,16682,3,55349,56624,119,110,59,1,8994,4,4,97,99,111,121,16697,16702,16716,16739,114,112,59,1,9839,4,2,104,121,16708,16713,99,121,59,1,1097,59,1,1096,114,116,4,2,109,112,16724,16729,105,100,59,1,8739,97,114,97,108,108,101,108,59,1,8741,5,173,1,59,16744,1,173,4,2,103,109,16752,16770,109,97,4,3,59,102,118,16762,16764,16767,1,963,59,1,962,59,1,962,4,8,59,100,101,103,108,110,112,114,16788,16790,16795,16806,16817,16828,16832,16838,1,8764,111,116,59,1,10858,4,2,59,113,16801,16803,1,8771,59,1,8771,4,2,59,69,16812,16814,1,10910,59,1,10912,4,2,59,69,16823,16825,1,10909,59,1,10911,101,59,1,8774,108,117,115,59,1,10788,97,114,114,59,1,10610,97,114,114,59,1,8592,4,4,97,101,105,116,16860,16883,16891,16904,4,2,108,115,16866,16878,108,115,101,116,109,105,110,117,115,59,1,8726,104,112,59,1,10803,112,97,114,115,108,59,1,10724,4,2,100,108,16897,16900,59,1,8739,101,59,1,8995,4,2,59,101,16910,16912,1,10922,4,2,59,115,16918,16920,1,10924,59,3,10924,65024,4,3,102,108,112,16932,16938,16958,116,99,121,59,1,1100,4,2,59,98,16944,16946,1,47,4,2,59,97,16952,16954,1,10692,114,59,1,9023,102,59,3,55349,56676,97,4,2,100,114,16970,16985,101,115,4,2,59,117,16978,16980,1,9824,105,116,59,1,9824,59,1,8741,4,3,99,115,117,16996,17028,17089,4,2,97,117,17002,17015,112,4,2,59,115,17009,17011,1,8851,59,3,8851,65024,112,4,2,59,115,17022,17024,1,8852,59,3,8852,65024,117,4,2,98,112,17035,17062,4,3,59,101,115,17043,17045,17048,1,8847,59,1,8849,101,116,4,2,59,101,17056,17058,1,8847,113,59,1,8849,4,3,59,101,115,17070,17072,17075,1,8848,59,1,8850,101,116,4,2,59,101,17083,17085,1,8848,113,59,1,8850,4,3,59,97,102,17097,17099,17112,1,9633,114,4,2,101,102,17106,17109,59,1,9633,59,1,9642,59,1,9642,97,114,114,59,1,8594,4,4,99,101,109,116,17131,17136,17142,17148,114,59,3,55349,56520,116,109,110,59,1,8726,105,108,101,59,1,8995,97,114,102,59,1,8902,4,2,97,114,17160,17172,114,4,2,59,102,17167,17169,1,9734,59,1,9733,4,2,97,110,17178,17202,105,103,104,116,4,2,101,112,17188,17197,112,115,105,108,111,110,59,1,1013,104,105,59,1,981,115,59,1,175,4,5,98,99,109,110,112,17218,17351,17420,17423,17427,4,9,59,69,100,101,109,110,112,114,115,17238,17240,17243,17248,17261,17267,17279,17285,17291,1,8834,59,1,10949,111,116,59,1,10941,4,2,59,100,17254,17256,1,8838,111,116,59,1,10947,117,108,116,59,1,10945,4,2,69,101,17273,17276,59,1,10955,59,1,8842,108,117,115,59,1,10943,97,114,114,59,1,10617,4,3,101,105,117,17299,17335,17339,116,4,3,59,101,110,17308,17310,17322,1,8834,113,4,2,59,113,17317,17319,1,8838,59,1,10949,101,113,4,2,59,113,17330,17332,1,8842,59,1,10955,109,59,1,10951,4,2,98,112,17345,17348,59,1,10965,59,1,10963,99,4,6,59,97,99,101,110,115,17366,17368,17376,17385,17389,17415,1,8827,112,112,114,111,120,59,1,10936,117,114,108,121,101,113,59,1,8829,113,59,1,10928,4,3,97,101,115,17397,17405,17410,112,112,114,111,120,59,1,10938,113,113,59,1,10934,105,109,59,1,8937,105,109,59,1,8831,59,1,8721,103,59,1,9834,4,13,49,50,51,59,69,100,101,104,108,109,110,112,115,17455,17462,17469,17476,17478,17481,17496,17509,17524,17530,17536,17548,17554,5,185,1,59,17460,1,185,5,178,1,59,17467,1,178,5,179,1,59,17474,1,179,1,8835,59,1,10950,4,2,111,115,17487,17491,116,59,1,10942,117,98,59,1,10968,4,2,59,100,17502,17504,1,8839,111,116,59,1,10948,115,4,2,111,117,17516,17520,108,59,1,10185,98,59,1,10967,97,114,114,59,1,10619,117,108,116,59,1,10946,4,2,69,101,17542,17545,59,1,10956,59,1,8843,108,117,115,59,1,10944,4,3,101,105,117,17562,17598,17602,116,4,3,59,101,110,17571,17573,17585,1,8835,113,4,2,59,113,17580,17582,1,8839,59,1,10950,101,113,4,2,59,113,17593,17595,1,8843,59,1,10956,109,59,1,10952,4,2,98,112,17608,17611,59,1,10964,59,1,10966,4,3,65,97,110,17622,17627,17650,114,114,59,1,8665,114,4,2,104,114,17634,17638,107,59,1,10534,4,2,59,111,17644,17646,1,8601,119,59,1,8601,119,97,114,59,1,10538,108,105,103,5,223,1,59,17664,1,223,4,13,97,98,99,100,101,102,104,105,111,112,114,115,119,17694,17709,17714,17737,17742,17749,17754,17860,17905,17957,17964,18090,18122,4,2,114,117,17700,17706,103,101,116,59,1,8982,59,1,964,114,107,59,1,9140,4,3,97,101,121,17722,17728,17734,114,111,110,59,1,357,100,105,108,59,1,355,59,1,1090,111,116,59,1,8411,108,114,101,99,59,1,8981,114,59,3,55349,56625,4,4,101,105,107,111,17764,17805,17836,17851,4,2,114,116,17770,17786,101,4,2,52,102,17777,17780,59,1,8756,111,114,101,59,1,8756,97,4,3,59,115,118,17795,17797,17802,1,952,121,109,59,1,977,59,1,977,4,2,99,110,17811,17831,107,4,2,97,115,17818,17826,112,112,114,111,120,59,1,8776,105,109,59,1,8764,115,112,59,1,8201,4,2,97,115,17842,17846,112,59,1,8776,105,109,59,1,8764,114,110,5,254,1,59,17858,1,254,4,3,108,109,110,17868,17873,17901,100,101,59,1,732,101,115,5,215,3,59,98,100,17884,17886,17898,1,215,4,2,59,97,17892,17894,1,8864,114,59,1,10801,59,1,10800,116,59,1,8749,4,3,101,112,115,17913,17917,17953,97,59,1,10536,4,4,59,98,99,102,17927,17929,17934,17939,1,8868,111,116,59,1,9014,105,114,59,1,10993,4,2,59,111,17945,17948,3,55349,56677,114,107,59,1,10970,97,59,1,10537,114,105,109,101,59,1,8244,4,3,97,105,112,17972,17977,18082,100,101,59,1,8482,4,7,97,100,101,109,112,115,116,17993,18051,18056,18059,18066,18072,18076,110,103,108,101,4,5,59,100,108,113,114,18009,18011,18017,18032,18035,1,9653,111,119,110,59,1,9663,101,102,116,4,2,59,101,18026,18028,1,9667,113,59,1,8884,59,1,8796,105,103,104,116,4,2,59,101,18045,18047,1,9657,113,59,1,8885,111,116,59,1,9708,59,1,8796,105,110,117,115,59,1,10810,108,117,115,59,1,10809,98,59,1,10701,105,109,101,59,1,10811,101,122,105,117,109,59,1,9186,4,3,99,104,116,18098,18111,18116,4,2,114,121,18104,18108,59,3,55349,56521,59,1,1094,99,121,59,1,1115,114,111,107,59,1,359,4,2,105,111,18128,18133,120,116,59,1,8812,104,101,97,100,4,2,108,114,18143,18154,101,102,116,97,114,114,111,119,59,1,8606,105,103,104,116,97,114,114,111,119,59,1,8608,4,18,65,72,97,98,99,100,102,103,104,108,109,111,112,114,115,116,117,119,18204,18209,18214,18234,18250,18268,18292,18308,18319,18343,18379,18397,18413,18504,18547,18553,18584,18603,114,114,59,1,8657,97,114,59,1,10595,4,2,99,114,18220,18230,117,116,101,5,250,1,59,18228,1,250,114,59,1,8593,114,4,2,99,101,18241,18245,121,59,1,1118,118,101,59,1,365,4,2,105,121,18256,18265,114,99,5,251,1,59,18263,1,251,59,1,1091,4,3,97,98,104,18276,18281,18287,114,114,59,1,8645,108,97,99,59,1,369,97,114,59,1,10606,4,2,105,114,18298,18304,115,104,116,59,1,10622,59,3,55349,56626,114,97,118,101,5,249,1,59,18317,1,249,4,2,97,98,18325,18338,114,4,2,108,114,18332,18335,59,1,8639,59,1,8638,108,107,59,1,9600,4,2,99,116,18349,18374,4,2,111,114,18355,18369,114,110,4,2,59,101,18363,18365,1,8988,114,59,1,8988,111,112,59,1,8975,114,105,59,1,9720,4,2,97,108,18385,18390,99,114,59,1,363,5,168,1,59,18395,1,168,4,2,103,112,18403,18408,111,110,59,1,371,102,59,3,55349,56678,4,6,97,100,104,108,115,117,18427,18434,18445,18470,18475,18494,114,114,111,119,59,1,8593,111,119,110,97,114,114,111,119,59,1,8597,97,114,112,111,111,110,4,2,108,114,18457,18463,101,102,116,59,1,8639,105,103,104,116,59,1,8638,117,115,59,1,8846,105,4,3,59,104,108,18484,18486,18489,1,965,59,1,978,111,110,59,1,965,112,97,114,114,111,119,115,59,1,8648,4,3,99,105,116,18512,18537,18542,4,2,111,114,18518,18532,114,110,4,2,59,101,18526,18528,1,8989,114,59,1,8989,111,112,59,1,8974,110,103,59,1,367,114,105,59,1,9721,99,114,59,3,55349,56522,4,3,100,105,114,18561,18566,18572,111,116,59,1,8944,108,100,101,59,1,361,105,4,2,59,102,18579,18581,1,9653,59,1,9652,4,2,97,109,18590,18595,114,114,59,1,8648,108,5,252,1,59,18601,1,252,97,110,103,108,101,59,1,10663,4,15,65,66,68,97,99,100,101,102,108,110,111,112,114,115,122,18643,18648,18661,18667,18847,18851,18857,18904,18909,18915,18931,18937,18943,18949,18996,114,114,59,1,8661,97,114,4,2,59,118,18656,18658,1,10984,59,1,10985,97,115,104,59,1,8872,4,2,110,114,18673,18679,103,114,116,59,1,10652,4,7,101,107,110,112,114,115,116,18695,18704,18711,18720,18742,18754,18810,112,115,105,108,111,110,59,1,1013,97,112,112,97,59,1,1008,111,116,104,105,110,103,59,1,8709,4,3,104,105,114,18728,18732,18735,105,59,1,981,59,1,982,111,112,116,111,59,1,8733,4,2,59,104,18748,18750,1,8597,111,59,1,1009,4,2,105,117,18760,18766,103,109,97,59,1,962,4,2,98,112,18772,18791,115,101,116,110,101,113,4,2,59,113,18784,18787,3,8842,65024,59,3,10955,65024,115,101,116,110,101,113,4,2,59,113,18803,18806,3,8843,65024,59,3,10956,65024,4,2,104,114,18816,18822,101,116,97,59,1,977,105,97,110,103,108,101,4,2,108,114,18834,18840,101,102,116,59,1,8882,105,103,104,116,59,1,8883,121,59,1,1074,97,115,104,59,1,8866,4,3,101,108,114,18865,18884,18890,4,3,59,98,101,18873,18875,18880,1,8744,97,114,59,1,8891,113,59,1,8794,108,105,112,59,1,8942,4,2,98,116,18896,18901,97,114,59,1,124,59,1,124,114,59,3,55349,56627,116,114,105,59,1,8882,115,117,4,2,98,112,18923,18927,59,3,8834,8402,59,3,8835,8402,112,102,59,3,55349,56679,114,111,112,59,1,8733,116,114,105,59,1,8883,4,2,99,117,18955,18960,114,59,3,55349,56523,4,2,98,112,18966,18981,110,4,2,69,101,18973,18977,59,3,10955,65024,59,3,8842,65024,110,4,2,69,101,18988,18992,59,3,10956,65024,59,3,8843,65024,105,103,122,97,103,59,1,10650,4,7,99,101,102,111,112,114,115,19020,19026,19061,19066,19072,19075,19089,105,114,99,59,1,373,4,2,100,105,19032,19055,4,2,98,103,19038,19043,97,114,59,1,10847,101,4,2,59,113,19050,19052,1,8743,59,1,8793,101,114,112,59,1,8472,114,59,3,55349,56628,112,102,59,3,55349,56680,59,1,8472,4,2,59,101,19081,19083,1,8768,97,116,104,59,1,8768,99,114,59,3,55349,56524,4,14,99,100,102,104,105,108,109,110,111,114,115,117,118,119,19125,19146,19152,19157,19173,19176,19192,19197,19202,19236,19252,19269,19286,19291,4,3,97,105,117,19133,19137,19142,112,59,1,8898,114,99,59,1,9711,112,59,1,8899,116,114,105,59,1,9661,114,59,3,55349,56629,4,2,65,97,19163,19168,114,114,59,1,10234,114,114,59,1,10231,59,1,958,4,2,65,97,19182,19187,114,114,59,1,10232,114,114,59,1,10229,97,112,59,1,10236,105,115,59,1,8955,4,3,100,112,116,19210,19215,19230,111,116,59,1,10752,4,2,102,108,19221,19225,59,3,55349,56681,117,115,59,1,10753,105,109,101,59,1,10754,4,2,65,97,19242,19247,114,114,59,1,10233,114,114,59,1,10230,4,2,99,113,19258,19263,114,59,3,55349,56525,99,117,112,59,1,10758,4,2,112,116,19275,19281,108,117,115,59,1,10756,114,105,59,1,9651,101,101,59,1,8897,101,100,103,101,59,1,8896,4,8,97,99,101,102,105,111,115,117,19316,19335,19349,19357,19362,19367,19373,19379,99,4,2,117,121,19323,19332,116,101,5,253,1,59,19330,1,253,59,1,1103,4,2,105,121,19341,19346,114,99,59,1,375,59,1,1099,110,5,165,1,59,19355,1,165,114,59,3,55349,56630,99,121,59,1,1111,112,102,59,3,55349,56682,99,114,59,3,55349,56526,4,2,99,109,19385,19389,121,59,1,1102,108,5,255,1,59,19395,1,255,4,10,97,99,100,101,102,104,105,111,115,119,19419,19426,19441,19446,19462,19467,19472,19480,19486,19492,99,117,116,101,59,1,378,4,2,97,121,19432,19438,114,111,110,59,1,382,59,1,1079,111,116,59,1,380,4,2,101,116,19452,19458,116,114,102,59,1,8488,97,59,1,950,114,59,3,55349,56631,99,121,59,1,1078,103,114,97,114,114,59,1,8669,112,102,59,3,55349,56683,99,114,59,3,55349,56527,4,2,106,110,19498,19501,59,1,8205,106,59,1,8204])},7118:(l,s,f)=>{const u=f(4284),p=f(1734),d=u.CODE_POINTS,h=65536;l.exports=class{constructor(){this.html=null,this.pos=-1,this.lastGapPos=-1,this.lastCharPos=-1,this.gapStack=[],this.skipNextNewLine=!1,this.lastChunkWritten=!1,this.endOfChunkHit=!1,this.bufferWaterline=h}_err(){}_addGap(){this.gapStack.push(this.lastGapPos),this.lastGapPos=this.pos}_processSurrogate(v){if(this.pos!==this.lastCharPos){const _=this.html.charCodeAt(this.pos+1);if(u.isSurrogatePair(_))return this.pos++,this._addGap(),u.getSurrogatePairCodePoint(v,_)}else if(!this.lastChunkWritten)return this.endOfChunkHit=!0,d.EOF;return this._err(p.surrogateInInputStream),v}dropParsedChunk(){this.pos>this.bufferWaterline&&(this.lastCharPos-=this.pos,this.html=this.html.substring(this.pos),this.pos=0,this.lastGapPos=-1,this.gapStack=[])}write(v,_){this.html?this.html+=v:this.html=v,this.lastCharPos=this.html.length-1,this.endOfChunkHit=!1,this.lastChunkWritten=_}insertHtmlAtCurrentPos(v){this.html=this.html.substring(0,this.pos+1)+v+this.html.substring(this.pos+1,this.html.length),this.lastCharPos=this.html.length-1,this.endOfChunkHit=!1}advance(){if(this.pos++,this.pos>this.lastCharPos)return this.endOfChunkHit=!this.lastChunkWritten,d.EOF;let v=this.html.charCodeAt(this.pos);return this.skipNextNewLine&&v===d.LINE_FEED?(this.skipNextNewLine=!1,this._addGap(),this.advance()):v===d.CARRIAGE_RETURN?(this.skipNextNewLine=!0,d.LINE_FEED):(this.skipNextNewLine=!1,u.isSurrogate(v)&&(v=this._processSurrogate(v)),v>31&&v<127||v===d.LINE_FEED||v===d.CARRIAGE_RETURN||v>159&&v<64976||this._checkForProblematicCharacters(v),v)}_checkForProblematicCharacters(v){u.isControlCodePoint(v)?this._err(p.controlCharacterInInputStream):u.isUndefinedCodePoint(v)&&this._err(p.noncharacterInInputStream)}retreat(){this.pos===this.lastGapPos&&(this.lastGapPos=this.gapStack.pop(),this.pos--),this.pos--}}},7296:(l,s,f)=>{const{DOCUMENT_MODE:u}=f(6152);s.createDocument=function(){return{nodeName:"#document",mode:u.NO_QUIRKS,childNodes:[]}},s.createDocumentFragment=function(){return{nodeName:"#document-fragment",childNodes:[]}},s.createElement=function(v,_,T){return{nodeName:v,tagName:v,attrs:T,namespaceURI:_,childNodes:[],parentNode:null}},s.createCommentNode=function(v){return{nodeName:"#comment",data:v,parentNode:null}};const p=function(v){return{nodeName:"#text",value:v,parentNode:null}},d=s.appendChild=function(v,_){v.childNodes.push(_),_.parentNode=v},h=s.insertBefore=function(v,_,T){const w=v.childNodes.indexOf(T);v.childNodes.splice(w,0,_),_.parentNode=v};s.setTemplateContent=function(v,_){v.content=_},s.getTemplateContent=function(v){return v.content},s.setDocumentType=function(v,_,T,w){let C=null;for(let A=0;A<v.childNodes.length;A++)if(v.childNodes[A].nodeName==="#documentType"){C=v.childNodes[A];break}C?(C.name=_,C.publicId=T,C.systemId=w):d(v,{nodeName:"#documentType",name:_,publicId:T,systemId:w})},s.setDocumentMode=function(v,_){v.mode=_},s.getDocumentMode=function(v){return v.mode},s.detachNode=function(v){if(v.parentNode){const _=v.parentNode.childNodes.indexOf(v);v.parentNode.childNodes.splice(_,1),v.parentNode=null}},s.insertText=function(v,_){if(v.childNodes.length){const T=v.childNodes[v.childNodes.length-1];if(T.nodeName==="#text")return void(T.value+=_)}d(v,p(_))},s.insertTextBefore=function(v,_,T){const w=v.childNodes[v.childNodes.indexOf(T)-1];w&&w.nodeName==="#text"?w.value+=_:h(v,p(_),T)},s.adoptAttributes=function(v,_){const T=[];for(let w=0;w<v.attrs.length;w++)T.push(v.attrs[w].name);for(let w=0;w<_.length;w++)T.indexOf(_[w].name)===-1&&v.attrs.push(_[w])},s.getFirstChild=function(v){return v.childNodes[0]},s.getChildNodes=function(v){return v.childNodes},s.getParentNode=function(v){return v.parentNode},s.getAttrList=function(v){return v.attrs},s.getTagName=function(v){return v.tagName},s.getNamespaceURI=function(v){return v.namespaceURI},s.getTextNodeContent=function(v){return v.value},s.getCommentNodeContent=function(v){return v.data},s.getDocumentTypeNodeName=function(v){return v.name},s.getDocumentTypeNodePublicId=function(v){return v.publicId},s.getDocumentTypeNodeSystemId=function(v){return v.systemId},s.isTextNode=function(v){return v.nodeName==="#text"},s.isCommentNode=function(v){return v.nodeName==="#comment"},s.isDocumentTypeNode=function(v){return v.nodeName==="#documentType"},s.isElementNode=function(v){return!!v.tagName},s.setNodeSourceCodeLocation=function(v,_){v.sourceCodeLocation=_},s.getNodeSourceCodeLocation=function(v){return v.sourceCodeLocation},s.updateNodeSourceCodeLocation=function(v,_){v.sourceCodeLocation=Object.assign(v.sourceCodeLocation,_)}},8904:l=>{l.exports=function(s,f){return[s,f=f||Object.create(null)].reduce(((u,p)=>(Object.keys(p).forEach((d=>{u[d]=p[d]})),u)),Object.create(null))}},1704:l=>{class s{constructor(u){const p={},d=this._getOverriddenMethods(this,p);for(const h of Object.keys(d))typeof d[h]=="function"&&(p[h]=u[h],u[h]=d[h])}_getOverriddenMethods(){throw new Error("Not implemented")}}s.install=function(f,u,p){f.__mixins||(f.__mixins=[]);for(let h=0;h<f.__mixins.length;h++)if(f.__mixins[h].constructor===u)return f.__mixins[h];const d=new u(f,p);return f.__mixins.push(d),d},l.exports=s},6585:l=>{var s=/([-.*+?^${}()|[\]\/\\])/g,f=/\\/g,u=function(C){return(C+"").replace(s,"\\$1")},p=function(C){return(C+"").replace(f,"")},d=RegExp(`^(?:\\s*(,)\\s*|\\s*(<combinator>+)\\s*|(\\s+)|(<unicode>+|\\*)|\\#(<unicode>+)|\\.(<unicode>+)|\\[\\s*(<unicode1>+)(?:\\s*([*^$!~|]?=)(?:\\s*(?:(["']?)(.*?)\\9)))?\\s*\\](?!\\])|(:+)(<unicode>+)(?:\\((?:(?:(["'])([^\\13]*)\\13)|((?:\\([^)]+\\)|[^()]*)+))\\))?)`.replace(/<combinator>/,"["+u(">+~`!@$%^&={}\\;</")+"]").replace(/<unicode>/g,"(?:[\\w\\u00a1-\\uFFFF-]|\\\\[^\\s0-9a-f])").replace(/<unicode1>/g,"(?:[:\\w\\u00a1-\\uFFFF-]|\\\\[^\\s0-9a-f])")),h=function(C){this.combinator=C||" ",this.tag="*"};h.prototype.toString=function(){if(!this.raw){var C,A,S="";if(S+=this.tag||"*",this.id&&(S+="#"+this.id),this.classes&&(S+="."+this.classList.join(".")),this.attributes)for(C=0;A=this.attributes[C++];)S+="["+A.name+(A.operator?A.operator+'"'+A.value+'"':"")+"]";if(this.pseudos)for(C=0;A=this.pseudos[C++];)S+=":"+A.name,A.value&&(S+="("+A.value+")");this.raw=S}return this.raw};var v=function(){this.length=0};v.prototype.toString=function(){if(!this.raw){for(var C,A="",S=0;C=this[S++];)S!==1&&(A+=" "),C.combinator!==" "&&(A+=C.combinator+" "),A+=C;this.raw=A}return this.raw};var _=function(C,A,S,x,N,b,L,k,P,D,R,M,z,H,$,j){var rt,q;if((A||!this.length)&&(rt=this[this.length++]=new v,A))return"";if(rt||(rt=this[this.length-1]),(S||x||!rt.length)&&(q=rt[rt.length++]=new h(S)),q||(q=rt[rt.length-1]),N)q.tag=p(N);else if(b)q.id=p(b);else if(L){var st=p(L),vt=q.classes||(q.classes={});if(!vt[st]){vt[st]=u(L);var St=q.classList||(q.classList=[]);St.push(st),St.sort()}}else z?(j=j||$,(q.pseudos||(q.pseudos=[])).push({type:M.length==1?"class":"element",name:p(z),escapedName:u(z),value:j?p(j):null,escapedValue:j?u(j):null})):k&&(R=R?u(R):null,(q.attributes||(q.attributes=[])).push({operator:P,name:p(k),escapedName:u(k),value:R?p(R):null,escapedValue:R?u(R):null}));return""},T=function(C){this.length=0;for(var A,S=this,x=C;C;){if(A=C.replace(d,(function(){return _.apply(S,arguments)})),A===C)throw new Error(x+" is an invalid expression");C=A}};T.prototype.toString=function(){if(!this.raw){for(var C,A=[],S=0;C=this[S++];)A.push(C);this.raw=A.join(", ")}return this.raw};var w={};l.exports=function(C){return C==null?null:(C=(""+C).replace(/^\s+|\s+$/g,""),w[C]||(w[C]=new T(C)))}},655:(l,s,f)=>{f.r(s),f.d(s,{__assign:()=>d,__asyncDelegator:()=>$,__asyncGenerator:()=>H,__asyncValues:()=>j,__await:()=>z,__awaiter:()=>x,__classPrivateFieldGet:()=>St,__classPrivateFieldIn:()=>bt,__classPrivateFieldSet:()=>pt,__createBinding:()=>b,__decorate:()=>v,__esDecorate:()=>T,__exportStar:()=>L,__extends:()=>p,__generator:()=>N,__importDefault:()=>vt,__importStar:()=>st,__makeTemplateObject:()=>rt,__metadata:()=>S,__param:()=>_,__propKey:()=>C,__read:()=>P,__rest:()=>h,__runInitializers:()=>w,__setFunctionName:()=>A,__spread:()=>D,__spreadArray:()=>M,__spreadArrays:()=>R,__values:()=>k});var u=function(at,lt){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Et,yt){Et.__proto__=yt}||function(Et,yt){for(var Ot in yt)Object.prototype.hasOwnProperty.call(yt,Ot)&&(Et[Ot]=yt[Ot])},u(at,lt)};function p(at,lt){if(typeof lt!="function"&&lt!==null)throw new TypeError("Class extends value "+String(lt)+" is not a constructor or null");function Et(){this.constructor=at}u(at,lt),at.prototype=lt===null?Object.create(lt):(Et.prototype=lt.prototype,new Et)}var d=function(){return d=Object.assign||function(at){for(var lt,Et=1,yt=arguments.length;Et<yt;Et++)for(var Ot in lt=arguments[Et])Object.prototype.hasOwnProperty.call(lt,Ot)&&(at[Ot]=lt[Ot]);return at},d.apply(this,arguments)};function h(at,lt){var Et={};for(var yt in at)Object.prototype.hasOwnProperty.call(at,yt)&&lt.indexOf(yt)<0&&(Et[yt]=at[yt]);if(at!=null&&typeof Object.getOwnPropertySymbols=="function"){var Ot=0;for(yt=Object.getOwnPropertySymbols(at);Ot<yt.length;Ot++)lt.indexOf(yt[Ot])<0&&Object.prototype.propertyIsEnumerable.call(at,yt[Ot])&&(Et[yt[Ot]]=at[yt[Ot]])}return Et}function v(at,lt,Et,yt){var Ot,zt=arguments.length,Bt=zt<3?lt:yt===null?yt=Object.getOwnPropertyDescriptor(lt,Et):yt;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Bt=Reflect.decorate(at,lt,Et,yt);else for(var Ut=at.length-1;Ut>=0;Ut--)(Ot=at[Ut])&&(Bt=(zt<3?Ot(Bt):zt>3?Ot(lt,Et,Bt):Ot(lt,Et))||Bt);return zt>3&&Bt&&Object.defineProperty(lt,Et,Bt),Bt}function _(at,lt){return function(Et,yt){lt(Et,yt,at)}}function T(at,lt,Et,yt,Ot,zt){function Bt(Ct){if(Ct!==void 0&&typeof Ct!="function")throw new TypeError("Function expected");return Ct}for(var Ut,xt=yt.kind,ot=xt==="getter"?"get":xt==="setter"?"set":"value",Vt=!lt&&at?yt.static?at:at.prototype:null,mt=lt||(Vt?Object.getOwnPropertyDescriptor(Vt,yt.name):{}),Ft=!1,Kt=Et.length-1;Kt>=0;Kt--){var W={};for(var Z in yt)W[Z]=Z==="access"?{}:yt[Z];for(var Z in yt.access)W.access[Z]=yt.access[Z];W.addInitializer=function(Ct){if(Ft)throw new TypeError("Cannot add initializers after decoration has completed");zt.push(Bt(Ct||null))};var it=(0,Et[Kt])(xt==="accessor"?{get:mt.get,set:mt.set}:mt[ot],W);if(xt==="accessor"){if(it===void 0)continue;if(it===null||typeof it!="object")throw new TypeError("Object expected");(Ut=Bt(it.get))&&(mt.get=Ut),(Ut=Bt(it.set))&&(mt.set=Ut),(Ut=Bt(it.init))&&Ot.push(Ut)}else(Ut=Bt(it))&&(xt==="field"?Ot.push(Ut):mt[ot]=Ut)}Vt&&Object.defineProperty(Vt,yt.name,mt),Ft=!0}function w(at,lt,Et){for(var yt=arguments.length>2,Ot=0;Ot<lt.length;Ot++)Et=yt?lt[Ot].call(at,Et):lt[Ot].call(at);return yt?Et:void 0}function C(at){return typeof at=="symbol"?at:"".concat(at)}function A(at,lt,Et){return typeof lt=="symbol"&&(lt=lt.description?"[".concat(lt.description,"]"):""),Object.defineProperty(at,"name",{configurable:!0,value:Et?"".concat(Et," ",lt):lt})}function S(at,lt){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(at,lt)}function x(at,lt,Et,yt){return new(Et||(Et=Promise))((function(Ot,zt){function Bt(ot){try{xt(yt.next(ot))}catch(Vt){zt(Vt)}}function Ut(ot){try{xt(yt.throw(ot))}catch(Vt){zt(Vt)}}function xt(ot){var Vt;ot.done?Ot(ot.value):(Vt=ot.value,Vt instanceof Et?Vt:new Et((function(mt){mt(Vt)}))).then(Bt,Ut)}xt((yt=yt.apply(at,lt||[])).next())}))}function N(at,lt){var Et,yt,Ot,zt,Bt={label:0,sent:function(){if(1&Ot[0])throw Ot[1];return Ot[1]},trys:[],ops:[]};return zt={next:Ut(0),throw:Ut(1),return:Ut(2)},typeof Symbol=="function"&&(zt[Symbol.iterator]=function(){return this}),zt;function Ut(xt){return function(ot){return(function(Vt){if(Et)throw new TypeError("Generator is already executing.");for(;zt&&(zt=0,Vt[0]&&(Bt=0)),Bt;)try{if(Et=1,yt&&(Ot=2&Vt[0]?yt.return:Vt[0]?yt.throw||((Ot=yt.return)&&Ot.call(yt),0):yt.next)&&!(Ot=Ot.call(yt,Vt[1])).done)return Ot;switch(yt=0,Ot&&(Vt=[2&Vt[0],Ot.value]),Vt[0]){case 0:case 1:Ot=Vt;break;case 4:return Bt.label++,{value:Vt[1],done:!1};case 5:Bt.label++,yt=Vt[1],Vt=[0];continue;case 7:Vt=Bt.ops.pop(),Bt.trys.pop();continue;default:if(Ot=Bt.trys,!((Ot=Ot.length>0&&Ot[Ot.length-1])||Vt[0]!==6&&Vt[0]!==2)){Bt=0;continue}if(Vt[0]===3&&(!Ot||Vt[1]>Ot[0]&&Vt[1]<Ot[3])){Bt.label=Vt[1];break}if(Vt[0]===6&&Bt.label<Ot[1]){Bt.label=Ot[1],Ot=Vt;break}if(Ot&&Bt.label<Ot[2]){Bt.label=Ot[2],Bt.ops.push(Vt);break}Ot[2]&&Bt.ops.pop(),Bt.trys.pop();continue}Vt=lt.call(at,Bt)}catch(mt){Vt=[6,mt],yt=0}finally{Et=Ot=0}if(5&Vt[0])throw Vt[1];return{value:Vt[0]?Vt[1]:void 0,done:!0}})([xt,ot])}}}var b=Object.create?function(at,lt,Et,yt){yt===void 0&&(yt=Et);var Ot=Object.getOwnPropertyDescriptor(lt,Et);Ot&&!("get"in Ot?!lt.__esModule:Ot.writable||Ot.configurable)||(Ot={enumerable:!0,get:function(){return lt[Et]}}),Object.defineProperty(at,yt,Ot)}:function(at,lt,Et,yt){yt===void 0&&(yt=Et),at[yt]=lt[Et]};function L(at,lt){for(var Et in at)Et==="default"||Object.prototype.hasOwnProperty.call(lt,Et)||b(lt,at,Et)}function k(at){var lt=typeof Symbol=="function"&&Symbol.iterator,Et=lt&&at[lt],yt=0;if(Et)return Et.call(at);if(at&&typeof at.length=="number")return{next:function(){return at&&yt>=at.length&&(at=void 0),{value:at&&at[yt++],done:!at}}};throw new TypeError(lt?"Object is not iterable.":"Symbol.iterator is not defined.")}function P(at,lt){var Et=typeof Symbol=="function"&&at[Symbol.iterator];if(!Et)return at;var yt,Ot,zt=Et.call(at),Bt=[];try{for(;(lt===void 0||lt-- >0)&&!(yt=zt.next()).done;)Bt.push(yt.value)}catch(Ut){Ot={error:Ut}}finally{try{yt&&!yt.done&&(Et=zt.return)&&Et.call(zt)}finally{if(Ot)throw Ot.error}}return Bt}function D(){for(var at=[],lt=0;lt<arguments.length;lt++)at=at.concat(P(arguments[lt]));return at}function R(){for(var at=0,lt=0,Et=arguments.length;lt<Et;lt++)at+=arguments[lt].length;var yt=Array(at),Ot=0;for(lt=0;lt<Et;lt++)for(var zt=arguments[lt],Bt=0,Ut=zt.length;Bt<Ut;Bt++,Ot++)yt[Ot]=zt[Bt];return yt}function M(at,lt,Et){if(Et||arguments.length===2)for(var yt,Ot=0,zt=lt.length;Ot<zt;Ot++)!yt&&Ot in lt||(yt||(yt=Array.prototype.slice.call(lt,0,Ot)),yt[Ot]=lt[Ot]);return at.concat(yt||Array.prototype.slice.call(lt))}function z(at){return this instanceof z?(this.v=at,this):new z(at)}function H(at,lt,Et){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var yt,Ot=Et.apply(at,lt||[]),zt=[];return yt={},Bt("next"),Bt("throw"),Bt("return"),yt[Symbol.asyncIterator]=function(){return this},yt;function Bt(mt){Ot[mt]&&(yt[mt]=function(Ft){return new Promise((function(Kt,W){zt.push([mt,Ft,Kt,W])>1||Ut(mt,Ft)}))})}function Ut(mt,Ft){try{(Kt=Ot[mt](Ft)).value instanceof z?Promise.resolve(Kt.value.v).then(xt,ot):Vt(zt[0][2],Kt)}catch(W){Vt(zt[0][3],W)}var Kt}function xt(mt){Ut("next",mt)}function ot(mt){Ut("throw",mt)}function Vt(mt,Ft){mt(Ft),zt.shift(),zt.length&&Ut(zt[0][0],zt[0][1])}}function $(at){var lt,Et;return lt={},yt("next"),yt("throw",(function(Ot){throw Ot})),yt("return"),lt[Symbol.iterator]=function(){return this},lt;function yt(Ot,zt){lt[Ot]=at[Ot]?function(Bt){return(Et=!Et)?{value:z(at[Ot](Bt)),done:!1}:zt?zt(Bt):Bt}:zt}}function j(at){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var lt,Et=at[Symbol.asyncIterator];return Et?Et.call(at):(at=typeof k=="function"?k(at):at[Symbol.iterator](),lt={},yt("next"),yt("throw"),yt("return"),lt[Symbol.asyncIterator]=function(){return this},lt);function yt(Ot){lt[Ot]=at[Ot]&&function(zt){return new Promise((function(Bt,Ut){(function(xt,ot,Vt,mt){Promise.resolve(mt).then((function(Ft){xt({value:Ft,done:Vt})}),ot)})(Bt,Ut,(zt=at[Ot](zt)).done,zt.value)}))}}}function rt(at,lt){return Object.defineProperty?Object.defineProperty(at,"raw",{value:lt}):at.raw=lt,at}var q=Object.create?function(at,lt){Object.defineProperty(at,"default",{enumerable:!0,value:lt})}:function(at,lt){at.default=lt};function st(at){if(at&&at.__esModule)return at;var lt={};if(at!=null)for(var Et in at)Et!=="default"&&Object.prototype.hasOwnProperty.call(at,Et)&&b(lt,at,Et);return q(lt,at),lt}function vt(at){return at&&at.__esModule?at:{default:at}}function St(at,lt,Et,yt){if(Et==="a"&&!yt)throw new TypeError("Private accessor was defined without a getter");if(typeof lt=="function"?at!==lt||!yt:!lt.has(at))throw new TypeError("Cannot read private member from an object whose class did not declare it");return Et==="m"?yt:Et==="a"?yt.call(at):yt?yt.value:lt.get(at)}function pt(at,lt,Et,yt,Ot){if(yt==="m")throw new TypeError("Private method is not writable");if(yt==="a"&&!Ot)throw new TypeError("Private accessor was defined without a setter");if(typeof lt=="function"?at!==lt||!Ot:!lt.has(at))throw new TypeError("Cannot write private member to an object whose class did not declare it");return yt==="a"?Ot.call(at,Et):Ot?Ot.value=Et:lt.set(at,Et),Et}function bt(at,lt){if(lt===null||typeof lt!="object"&&typeof lt!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof at=="function"?lt===at:at.has(lt)}},3600:l=>{l.exports=JSON.parse('{"0":65533,"128":8364,"130":8218,"131":402,"132":8222,"133":8230,"134":8224,"135":8225,"136":710,"137":8240,"138":352,"139":8249,"140":338,"142":381,"145":8216,"146":8217,"147":8220,"148":8221,"149":8226,"150":8211,"151":8212,"152":732,"153":8482,"154":353,"155":8250,"156":339,"158":382,"159":376}')},9323:l=>{l.exports=JSON.parse('{"Aacute":"Á","aacute":"á","Abreve":"Ă","abreve":"ă","ac":"∾","acd":"∿","acE":"∾̳","Acirc":"Â","acirc":"â","acute":"´","Acy":"А","acy":"а","AElig":"Æ","aelig":"æ","af":"⁡","Afr":"𝔄","afr":"𝔞","Agrave":"À","agrave":"à","alefsym":"ℵ","aleph":"ℵ","Alpha":"Α","alpha":"α","Amacr":"Ā","amacr":"ā","amalg":"⨿","amp":"&","AMP":"&","andand":"⩕","And":"⩓","and":"∧","andd":"⩜","andslope":"⩘","andv":"⩚","ang":"∠","ange":"⦤","angle":"∠","angmsdaa":"⦨","angmsdab":"⦩","angmsdac":"⦪","angmsdad":"⦫","angmsdae":"⦬","angmsdaf":"⦭","angmsdag":"⦮","angmsdah":"⦯","angmsd":"∡","angrt":"∟","angrtvb":"⊾","angrtvbd":"⦝","angsph":"∢","angst":"Å","angzarr":"⍼","Aogon":"Ą","aogon":"ą","Aopf":"𝔸","aopf":"𝕒","apacir":"⩯","ap":"≈","apE":"⩰","ape":"≊","apid":"≋","apos":"\'","ApplyFunction":"⁡","approx":"≈","approxeq":"≊","Aring":"Å","aring":"å","Ascr":"𝒜","ascr":"𝒶","Assign":"≔","ast":"*","asymp":"≈","asympeq":"≍","Atilde":"Ã","atilde":"ã","Auml":"Ä","auml":"ä","awconint":"∳","awint":"⨑","backcong":"≌","backepsilon":"϶","backprime":"‵","backsim":"∽","backsimeq":"⋍","Backslash":"∖","Barv":"⫧","barvee":"⊽","barwed":"⌅","Barwed":"⌆","barwedge":"⌅","bbrk":"⎵","bbrktbrk":"⎶","bcong":"≌","Bcy":"Б","bcy":"б","bdquo":"„","becaus":"∵","because":"∵","Because":"∵","bemptyv":"⦰","bepsi":"϶","bernou":"ℬ","Bernoullis":"ℬ","Beta":"Β","beta":"β","beth":"ℶ","between":"≬","Bfr":"𝔅","bfr":"𝔟","bigcap":"⋂","bigcirc":"◯","bigcup":"⋃","bigodot":"⨀","bigoplus":"⨁","bigotimes":"⨂","bigsqcup":"⨆","bigstar":"★","bigtriangledown":"▽","bigtriangleup":"△","biguplus":"⨄","bigvee":"⋁","bigwedge":"⋀","bkarow":"⤍","blacklozenge":"⧫","blacksquare":"▪","blacktriangle":"▴","blacktriangledown":"▾","blacktriangleleft":"◂","blacktriangleright":"▸","blank":"␣","blk12":"▒","blk14":"░","blk34":"▓","block":"█","bne":"=⃥","bnequiv":"≡⃥","bNot":"⫭","bnot":"⌐","Bopf":"𝔹","bopf":"𝕓","bot":"⊥","bottom":"⊥","bowtie":"⋈","boxbox":"⧉","boxdl":"┐","boxdL":"╕","boxDl":"╖","boxDL":"╗","boxdr":"┌","boxdR":"╒","boxDr":"╓","boxDR":"╔","boxh":"─","boxH":"═","boxhd":"┬","boxHd":"╤","boxhD":"╥","boxHD":"╦","boxhu":"┴","boxHu":"╧","boxhU":"╨","boxHU":"╩","boxminus":"⊟","boxplus":"⊞","boxtimes":"⊠","boxul":"┘","boxuL":"╛","boxUl":"╜","boxUL":"╝","boxur":"└","boxuR":"╘","boxUr":"╙","boxUR":"╚","boxv":"│","boxV":"║","boxvh":"┼","boxvH":"╪","boxVh":"╫","boxVH":"╬","boxvl":"┤","boxvL":"╡","boxVl":"╢","boxVL":"╣","boxvr":"├","boxvR":"╞","boxVr":"╟","boxVR":"╠","bprime":"‵","breve":"˘","Breve":"˘","brvbar":"¦","bscr":"𝒷","Bscr":"ℬ","bsemi":"⁏","bsim":"∽","bsime":"⋍","bsolb":"⧅","bsol":"\\\\","bsolhsub":"⟈","bull":"•","bullet":"•","bump":"≎","bumpE":"⪮","bumpe":"≏","Bumpeq":"≎","bumpeq":"≏","Cacute":"Ć","cacute":"ć","capand":"⩄","capbrcup":"⩉","capcap":"⩋","cap":"∩","Cap":"⋒","capcup":"⩇","capdot":"⩀","CapitalDifferentialD":"ⅅ","caps":"∩︀","caret":"⁁","caron":"ˇ","Cayleys":"ℭ","ccaps":"⩍","Ccaron":"Č","ccaron":"č","Ccedil":"Ç","ccedil":"ç","Ccirc":"Ĉ","ccirc":"ĉ","Cconint":"∰","ccups":"⩌","ccupssm":"⩐","Cdot":"Ċ","cdot":"ċ","cedil":"¸","Cedilla":"¸","cemptyv":"⦲","cent":"¢","centerdot":"·","CenterDot":"·","cfr":"𝔠","Cfr":"ℭ","CHcy":"Ч","chcy":"ч","check":"✓","checkmark":"✓","Chi":"Χ","chi":"χ","circ":"ˆ","circeq":"≗","circlearrowleft":"↺","circlearrowright":"↻","circledast":"⊛","circledcirc":"⊚","circleddash":"⊝","CircleDot":"⊙","circledR":"®","circledS":"Ⓢ","CircleMinus":"⊖","CirclePlus":"⊕","CircleTimes":"⊗","cir":"○","cirE":"⧃","cire":"≗","cirfnint":"⨐","cirmid":"⫯","cirscir":"⧂","ClockwiseContourIntegral":"∲","CloseCurlyDoubleQuote":"”","CloseCurlyQuote":"’","clubs":"♣","clubsuit":"♣","colon":":","Colon":"∷","Colone":"⩴","colone":"≔","coloneq":"≔","comma":",","commat":"@","comp":"∁","compfn":"∘","complement":"∁","complexes":"ℂ","cong":"≅","congdot":"⩭","Congruent":"≡","conint":"∮","Conint":"∯","ContourIntegral":"∮","copf":"𝕔","Copf":"ℂ","coprod":"∐","Coproduct":"∐","copy":"©","COPY":"©","copysr":"℗","CounterClockwiseContourIntegral":"∳","crarr":"↵","cross":"✗","Cross":"⨯","Cscr":"𝒞","cscr":"𝒸","csub":"⫏","csube":"⫑","csup":"⫐","csupe":"⫒","ctdot":"⋯","cudarrl":"⤸","cudarrr":"⤵","cuepr":"⋞","cuesc":"⋟","cularr":"↶","cularrp":"⤽","cupbrcap":"⩈","cupcap":"⩆","CupCap":"≍","cup":"∪","Cup":"⋓","cupcup":"⩊","cupdot":"⊍","cupor":"⩅","cups":"∪︀","curarr":"↷","curarrm":"⤼","curlyeqprec":"⋞","curlyeqsucc":"⋟","curlyvee":"⋎","curlywedge":"⋏","curren":"¤","curvearrowleft":"↶","curvearrowright":"↷","cuvee":"⋎","cuwed":"⋏","cwconint":"∲","cwint":"∱","cylcty":"⌭","dagger":"†","Dagger":"‡","daleth":"ℸ","darr":"↓","Darr":"↡","dArr":"⇓","dash":"‐","Dashv":"⫤","dashv":"⊣","dbkarow":"⤏","dblac":"˝","Dcaron":"Ď","dcaron":"ď","Dcy":"Д","dcy":"д","ddagger":"‡","ddarr":"⇊","DD":"ⅅ","dd":"ⅆ","DDotrahd":"⤑","ddotseq":"⩷","deg":"°","Del":"∇","Delta":"Δ","delta":"δ","demptyv":"⦱","dfisht":"⥿","Dfr":"𝔇","dfr":"𝔡","dHar":"⥥","dharl":"⇃","dharr":"⇂","DiacriticalAcute":"´","DiacriticalDot":"˙","DiacriticalDoubleAcute":"˝","DiacriticalGrave":"`","DiacriticalTilde":"˜","diam":"⋄","diamond":"⋄","Diamond":"⋄","diamondsuit":"♦","diams":"♦","die":"¨","DifferentialD":"ⅆ","digamma":"ϝ","disin":"⋲","div":"÷","divide":"÷","divideontimes":"⋇","divonx":"⋇","DJcy":"Ђ","djcy":"ђ","dlcorn":"⌞","dlcrop":"⌍","dollar":"$","Dopf":"𝔻","dopf":"𝕕","Dot":"¨","dot":"˙","DotDot":"⃜","doteq":"≐","doteqdot":"≑","DotEqual":"≐","dotminus":"∸","dotplus":"∔","dotsquare":"⊡","doublebarwedge":"⌆","DoubleContourIntegral":"∯","DoubleDot":"¨","DoubleDownArrow":"⇓","DoubleLeftArrow":"⇐","DoubleLeftRightArrow":"⇔","DoubleLeftTee":"⫤","DoubleLongLeftArrow":"⟸","DoubleLongLeftRightArrow":"⟺","DoubleLongRightArrow":"⟹","DoubleRightArrow":"⇒","DoubleRightTee":"⊨","DoubleUpArrow":"⇑","DoubleUpDownArrow":"⇕","DoubleVerticalBar":"∥","DownArrowBar":"⤓","downarrow":"↓","DownArrow":"↓","Downarrow":"⇓","DownArrowUpArrow":"⇵","DownBreve":"̑","downdownarrows":"⇊","downharpoonleft":"⇃","downharpoonright":"⇂","DownLeftRightVector":"⥐","DownLeftTeeVector":"⥞","DownLeftVectorBar":"⥖","DownLeftVector":"↽","DownRightTeeVector":"⥟","DownRightVectorBar":"⥗","DownRightVector":"⇁","DownTeeArrow":"↧","DownTee":"⊤","drbkarow":"⤐","drcorn":"⌟","drcrop":"⌌","Dscr":"𝒟","dscr":"𝒹","DScy":"Ѕ","dscy":"ѕ","dsol":"⧶","Dstrok":"Đ","dstrok":"đ","dtdot":"⋱","dtri":"▿","dtrif":"▾","duarr":"⇵","duhar":"⥯","dwangle":"⦦","DZcy":"Џ","dzcy":"џ","dzigrarr":"⟿","Eacute":"É","eacute":"é","easter":"⩮","Ecaron":"Ě","ecaron":"ě","Ecirc":"Ê","ecirc":"ê","ecir":"≖","ecolon":"≕","Ecy":"Э","ecy":"э","eDDot":"⩷","Edot":"Ė","edot":"ė","eDot":"≑","ee":"ⅇ","efDot":"≒","Efr":"𝔈","efr":"𝔢","eg":"⪚","Egrave":"È","egrave":"è","egs":"⪖","egsdot":"⪘","el":"⪙","Element":"∈","elinters":"⏧","ell":"ℓ","els":"⪕","elsdot":"⪗","Emacr":"Ē","emacr":"ē","empty":"∅","emptyset":"∅","EmptySmallSquare":"◻","emptyv":"∅","EmptyVerySmallSquare":"▫","emsp13":" ","emsp14":" ","emsp":" ","ENG":"Ŋ","eng":"ŋ","ensp":" ","Eogon":"Ę","eogon":"ę","Eopf":"𝔼","eopf":"𝕖","epar":"⋕","eparsl":"⧣","eplus":"⩱","epsi":"ε","Epsilon":"Ε","epsilon":"ε","epsiv":"ϵ","eqcirc":"≖","eqcolon":"≕","eqsim":"≂","eqslantgtr":"⪖","eqslantless":"⪕","Equal":"⩵","equals":"=","EqualTilde":"≂","equest":"≟","Equilibrium":"⇌","equiv":"≡","equivDD":"⩸","eqvparsl":"⧥","erarr":"⥱","erDot":"≓","escr":"ℯ","Escr":"ℰ","esdot":"≐","Esim":"⩳","esim":"≂","Eta":"Η","eta":"η","ETH":"Ð","eth":"ð","Euml":"Ë","euml":"ë","euro":"€","excl":"!","exist":"∃","Exists":"∃","expectation":"ℰ","exponentiale":"ⅇ","ExponentialE":"ⅇ","fallingdotseq":"≒","Fcy":"Ф","fcy":"ф","female":"♀","ffilig":"ﬃ","fflig":"ﬀ","ffllig":"ﬄ","Ffr":"𝔉","ffr":"𝔣","filig":"ﬁ","FilledSmallSquare":"◼","FilledVerySmallSquare":"▪","fjlig":"fj","flat":"♭","fllig":"ﬂ","fltns":"▱","fnof":"ƒ","Fopf":"𝔽","fopf":"𝕗","forall":"∀","ForAll":"∀","fork":"⋔","forkv":"⫙","Fouriertrf":"ℱ","fpartint":"⨍","frac12":"½","frac13":"⅓","frac14":"¼","frac15":"⅕","frac16":"⅙","frac18":"⅛","frac23":"⅔","frac25":"⅖","frac34":"¾","frac35":"⅗","frac38":"⅜","frac45":"⅘","frac56":"⅚","frac58":"⅝","frac78":"⅞","frasl":"⁄","frown":"⌢","fscr":"𝒻","Fscr":"ℱ","gacute":"ǵ","Gamma":"Γ","gamma":"γ","Gammad":"Ϝ","gammad":"ϝ","gap":"⪆","Gbreve":"Ğ","gbreve":"ğ","Gcedil":"Ģ","Gcirc":"Ĝ","gcirc":"ĝ","Gcy":"Г","gcy":"г","Gdot":"Ġ","gdot":"ġ","ge":"≥","gE":"≧","gEl":"⪌","gel":"⋛","geq":"≥","geqq":"≧","geqslant":"⩾","gescc":"⪩","ges":"⩾","gesdot":"⪀","gesdoto":"⪂","gesdotol":"⪄","gesl":"⋛︀","gesles":"⪔","Gfr":"𝔊","gfr":"𝔤","gg":"≫","Gg":"⋙","ggg":"⋙","gimel":"ℷ","GJcy":"Ѓ","gjcy":"ѓ","gla":"⪥","gl":"≷","glE":"⪒","glj":"⪤","gnap":"⪊","gnapprox":"⪊","gne":"⪈","gnE":"≩","gneq":"⪈","gneqq":"≩","gnsim":"⋧","Gopf":"𝔾","gopf":"𝕘","grave":"`","GreaterEqual":"≥","GreaterEqualLess":"⋛","GreaterFullEqual":"≧","GreaterGreater":"⪢","GreaterLess":"≷","GreaterSlantEqual":"⩾","GreaterTilde":"≳","Gscr":"𝒢","gscr":"ℊ","gsim":"≳","gsime":"⪎","gsiml":"⪐","gtcc":"⪧","gtcir":"⩺","gt":">","GT":">","Gt":"≫","gtdot":"⋗","gtlPar":"⦕","gtquest":"⩼","gtrapprox":"⪆","gtrarr":"⥸","gtrdot":"⋗","gtreqless":"⋛","gtreqqless":"⪌","gtrless":"≷","gtrsim":"≳","gvertneqq":"≩︀","gvnE":"≩︀","Hacek":"ˇ","hairsp":" ","half":"½","hamilt":"ℋ","HARDcy":"Ъ","hardcy":"ъ","harrcir":"⥈","harr":"↔","hArr":"⇔","harrw":"↭","Hat":"^","hbar":"ℏ","Hcirc":"Ĥ","hcirc":"ĥ","hearts":"♥","heartsuit":"♥","hellip":"…","hercon":"⊹","hfr":"𝔥","Hfr":"ℌ","HilbertSpace":"ℋ","hksearow":"⤥","hkswarow":"⤦","hoarr":"⇿","homtht":"∻","hookleftarrow":"↩","hookrightarrow":"↪","hopf":"𝕙","Hopf":"ℍ","horbar":"―","HorizontalLine":"─","hscr":"𝒽","Hscr":"ℋ","hslash":"ℏ","Hstrok":"Ħ","hstrok":"ħ","HumpDownHump":"≎","HumpEqual":"≏","hybull":"⁃","hyphen":"‐","Iacute":"Í","iacute":"í","ic":"⁣","Icirc":"Î","icirc":"î","Icy":"И","icy":"и","Idot":"İ","IEcy":"Е","iecy":"е","iexcl":"¡","iff":"⇔","ifr":"𝔦","Ifr":"ℑ","Igrave":"Ì","igrave":"ì","ii":"ⅈ","iiiint":"⨌","iiint":"∭","iinfin":"⧜","iiota":"℩","IJlig":"Ĳ","ijlig":"ĳ","Imacr":"Ī","imacr":"ī","image":"ℑ","ImaginaryI":"ⅈ","imagline":"ℐ","imagpart":"ℑ","imath":"ı","Im":"ℑ","imof":"⊷","imped":"Ƶ","Implies":"⇒","incare":"℅","in":"∈","infin":"∞","infintie":"⧝","inodot":"ı","intcal":"⊺","int":"∫","Int":"∬","integers":"ℤ","Integral":"∫","intercal":"⊺","Intersection":"⋂","intlarhk":"⨗","intprod":"⨼","InvisibleComma":"⁣","InvisibleTimes":"⁢","IOcy":"Ё","iocy":"ё","Iogon":"Į","iogon":"į","Iopf":"𝕀","iopf":"𝕚","Iota":"Ι","iota":"ι","iprod":"⨼","iquest":"¿","iscr":"𝒾","Iscr":"ℐ","isin":"∈","isindot":"⋵","isinE":"⋹","isins":"⋴","isinsv":"⋳","isinv":"∈","it":"⁢","Itilde":"Ĩ","itilde":"ĩ","Iukcy":"І","iukcy":"і","Iuml":"Ï","iuml":"ï","Jcirc":"Ĵ","jcirc":"ĵ","Jcy":"Й","jcy":"й","Jfr":"𝔍","jfr":"𝔧","jmath":"ȷ","Jopf":"𝕁","jopf":"𝕛","Jscr":"𝒥","jscr":"𝒿","Jsercy":"Ј","jsercy":"ј","Jukcy":"Є","jukcy":"є","Kappa":"Κ","kappa":"κ","kappav":"ϰ","Kcedil":"Ķ","kcedil":"ķ","Kcy":"К","kcy":"к","Kfr":"𝔎","kfr":"𝔨","kgreen":"ĸ","KHcy":"Х","khcy":"х","KJcy":"Ќ","kjcy":"ќ","Kopf":"𝕂","kopf":"𝕜","Kscr":"𝒦","kscr":"𝓀","lAarr":"⇚","Lacute":"Ĺ","lacute":"ĺ","laemptyv":"⦴","lagran":"ℒ","Lambda":"Λ","lambda":"λ","lang":"⟨","Lang":"⟪","langd":"⦑","langle":"⟨","lap":"⪅","Laplacetrf":"ℒ","laquo":"«","larrb":"⇤","larrbfs":"⤟","larr":"←","Larr":"↞","lArr":"⇐","larrfs":"⤝","larrhk":"↩","larrlp":"↫","larrpl":"⤹","larrsim":"⥳","larrtl":"↢","latail":"⤙","lAtail":"⤛","lat":"⪫","late":"⪭","lates":"⪭︀","lbarr":"⤌","lBarr":"⤎","lbbrk":"❲","lbrace":"{","lbrack":"[","lbrke":"⦋","lbrksld":"⦏","lbrkslu":"⦍","Lcaron":"Ľ","lcaron":"ľ","Lcedil":"Ļ","lcedil":"ļ","lceil":"⌈","lcub":"{","Lcy":"Л","lcy":"л","ldca":"⤶","ldquo":"“","ldquor":"„","ldrdhar":"⥧","ldrushar":"⥋","ldsh":"↲","le":"≤","lE":"≦","LeftAngleBracket":"⟨","LeftArrowBar":"⇤","leftarrow":"←","LeftArrow":"←","Leftarrow":"⇐","LeftArrowRightArrow":"⇆","leftarrowtail":"↢","LeftCeiling":"⌈","LeftDoubleBracket":"⟦","LeftDownTeeVector":"⥡","LeftDownVectorBar":"⥙","LeftDownVector":"⇃","LeftFloor":"⌊","leftharpoondown":"↽","leftharpoonup":"↼","leftleftarrows":"⇇","leftrightarrow":"↔","LeftRightArrow":"↔","Leftrightarrow":"⇔","leftrightarrows":"⇆","leftrightharpoons":"⇋","leftrightsquigarrow":"↭","LeftRightVector":"⥎","LeftTeeArrow":"↤","LeftTee":"⊣","LeftTeeVector":"⥚","leftthreetimes":"⋋","LeftTriangleBar":"⧏","LeftTriangle":"⊲","LeftTriangleEqual":"⊴","LeftUpDownVector":"⥑","LeftUpTeeVector":"⥠","LeftUpVectorBar":"⥘","LeftUpVector":"↿","LeftVectorBar":"⥒","LeftVector":"↼","lEg":"⪋","leg":"⋚","leq":"≤","leqq":"≦","leqslant":"⩽","lescc":"⪨","les":"⩽","lesdot":"⩿","lesdoto":"⪁","lesdotor":"⪃","lesg":"⋚︀","lesges":"⪓","lessapprox":"⪅","lessdot":"⋖","lesseqgtr":"⋚","lesseqqgtr":"⪋","LessEqualGreater":"⋚","LessFullEqual":"≦","LessGreater":"≶","lessgtr":"≶","LessLess":"⪡","lesssim":"≲","LessSlantEqual":"⩽","LessTilde":"≲","lfisht":"⥼","lfloor":"⌊","Lfr":"𝔏","lfr":"𝔩","lg":"≶","lgE":"⪑","lHar":"⥢","lhard":"↽","lharu":"↼","lharul":"⥪","lhblk":"▄","LJcy":"Љ","ljcy":"љ","llarr":"⇇","ll":"≪","Ll":"⋘","llcorner":"⌞","Lleftarrow":"⇚","llhard":"⥫","lltri":"◺","Lmidot":"Ŀ","lmidot":"ŀ","lmoustache":"⎰","lmoust":"⎰","lnap":"⪉","lnapprox":"⪉","lne":"⪇","lnE":"≨","lneq":"⪇","lneqq":"≨","lnsim":"⋦","loang":"⟬","loarr":"⇽","lobrk":"⟦","longleftarrow":"⟵","LongLeftArrow":"⟵","Longleftarrow":"⟸","longleftrightarrow":"⟷","LongLeftRightArrow":"⟷","Longleftrightarrow":"⟺","longmapsto":"⟼","longrightarrow":"⟶","LongRightArrow":"⟶","Longrightarrow":"⟹","looparrowleft":"↫","looparrowright":"↬","lopar":"⦅","Lopf":"𝕃","lopf":"𝕝","loplus":"⨭","lotimes":"⨴","lowast":"∗","lowbar":"_","LowerLeftArrow":"↙","LowerRightArrow":"↘","loz":"◊","lozenge":"◊","lozf":"⧫","lpar":"(","lparlt":"⦓","lrarr":"⇆","lrcorner":"⌟","lrhar":"⇋","lrhard":"⥭","lrm":"‎","lrtri":"⊿","lsaquo":"‹","lscr":"𝓁","Lscr":"ℒ","lsh":"↰","Lsh":"↰","lsim":"≲","lsime":"⪍","lsimg":"⪏","lsqb":"[","lsquo":"‘","lsquor":"‚","Lstrok":"Ł","lstrok":"ł","ltcc":"⪦","ltcir":"⩹","lt":"<","LT":"<","Lt":"≪","ltdot":"⋖","lthree":"⋋","ltimes":"⋉","ltlarr":"⥶","ltquest":"⩻","ltri":"◃","ltrie":"⊴","ltrif":"◂","ltrPar":"⦖","lurdshar":"⥊","luruhar":"⥦","lvertneqq":"≨︀","lvnE":"≨︀","macr":"¯","male":"♂","malt":"✠","maltese":"✠","Map":"⤅","map":"↦","mapsto":"↦","mapstodown":"↧","mapstoleft":"↤","mapstoup":"↥","marker":"▮","mcomma":"⨩","Mcy":"М","mcy":"м","mdash":"—","mDDot":"∺","measuredangle":"∡","MediumSpace":" ","Mellintrf":"ℳ","Mfr":"𝔐","mfr":"𝔪","mho":"℧","micro":"µ","midast":"*","midcir":"⫰","mid":"∣","middot":"·","minusb":"⊟","minus":"−","minusd":"∸","minusdu":"⨪","MinusPlus":"∓","mlcp":"⫛","mldr":"…","mnplus":"∓","models":"⊧","Mopf":"𝕄","mopf":"𝕞","mp":"∓","mscr":"𝓂","Mscr":"ℳ","mstpos":"∾","Mu":"Μ","mu":"μ","multimap":"⊸","mumap":"⊸","nabla":"∇","Nacute":"Ń","nacute":"ń","nang":"∠⃒","nap":"≉","napE":"⩰̸","napid":"≋̸","napos":"ŉ","napprox":"≉","natural":"♮","naturals":"ℕ","natur":"♮","nbsp":" ","nbump":"≎̸","nbumpe":"≏̸","ncap":"⩃","Ncaron":"Ň","ncaron":"ň","Ncedil":"Ņ","ncedil":"ņ","ncong":"≇","ncongdot":"⩭̸","ncup":"⩂","Ncy":"Н","ncy":"н","ndash":"–","nearhk":"⤤","nearr":"↗","neArr":"⇗","nearrow":"↗","ne":"≠","nedot":"≐̸","NegativeMediumSpace":"​","NegativeThickSpace":"​","NegativeThinSpace":"​","NegativeVeryThinSpace":"​","nequiv":"≢","nesear":"⤨","nesim":"≂̸","NestedGreaterGreater":"≫","NestedLessLess":"≪","NewLine":"\\n","nexist":"∄","nexists":"∄","Nfr":"𝔑","nfr":"𝔫","ngE":"≧̸","nge":"≱","ngeq":"≱","ngeqq":"≧̸","ngeqslant":"⩾̸","nges":"⩾̸","nGg":"⋙̸","ngsim":"≵","nGt":"≫⃒","ngt":"≯","ngtr":"≯","nGtv":"≫̸","nharr":"↮","nhArr":"⇎","nhpar":"⫲","ni":"∋","nis":"⋼","nisd":"⋺","niv":"∋","NJcy":"Њ","njcy":"њ","nlarr":"↚","nlArr":"⇍","nldr":"‥","nlE":"≦̸","nle":"≰","nleftarrow":"↚","nLeftarrow":"⇍","nleftrightarrow":"↮","nLeftrightarrow":"⇎","nleq":"≰","nleqq":"≦̸","nleqslant":"⩽̸","nles":"⩽̸","nless":"≮","nLl":"⋘̸","nlsim":"≴","nLt":"≪⃒","nlt":"≮","nltri":"⋪","nltrie":"⋬","nLtv":"≪̸","nmid":"∤","NoBreak":"⁠","NonBreakingSpace":" ","nopf":"𝕟","Nopf":"ℕ","Not":"⫬","not":"¬","NotCongruent":"≢","NotCupCap":"≭","NotDoubleVerticalBar":"∦","NotElement":"∉","NotEqual":"≠","NotEqualTilde":"≂̸","NotExists":"∄","NotGreater":"≯","NotGreaterEqual":"≱","NotGreaterFullEqual":"≧̸","NotGreaterGreater":"≫̸","NotGreaterLess":"≹","NotGreaterSlantEqual":"⩾̸","NotGreaterTilde":"≵","NotHumpDownHump":"≎̸","NotHumpEqual":"≏̸","notin":"∉","notindot":"⋵̸","notinE":"⋹̸","notinva":"∉","notinvb":"⋷","notinvc":"⋶","NotLeftTriangleBar":"⧏̸","NotLeftTriangle":"⋪","NotLeftTriangleEqual":"⋬","NotLess":"≮","NotLessEqual":"≰","NotLessGreater":"≸","NotLessLess":"≪̸","NotLessSlantEqual":"⩽̸","NotLessTilde":"≴","NotNestedGreaterGreater":"⪢̸","NotNestedLessLess":"⪡̸","notni":"∌","notniva":"∌","notnivb":"⋾","notnivc":"⋽","NotPrecedes":"⊀","NotPrecedesEqual":"⪯̸","NotPrecedesSlantEqual":"⋠","NotReverseElement":"∌","NotRightTriangleBar":"⧐̸","NotRightTriangle":"⋫","NotRightTriangleEqual":"⋭","NotSquareSubset":"⊏̸","NotSquareSubsetEqual":"⋢","NotSquareSuperset":"⊐̸","NotSquareSupersetEqual":"⋣","NotSubset":"⊂⃒","NotSubsetEqual":"⊈","NotSucceeds":"⊁","NotSucceedsEqual":"⪰̸","NotSucceedsSlantEqual":"⋡","NotSucceedsTilde":"≿̸","NotSuperset":"⊃⃒","NotSupersetEqual":"⊉","NotTilde":"≁","NotTildeEqual":"≄","NotTildeFullEqual":"≇","NotTildeTilde":"≉","NotVerticalBar":"∤","nparallel":"∦","npar":"∦","nparsl":"⫽⃥","npart":"∂̸","npolint":"⨔","npr":"⊀","nprcue":"⋠","nprec":"⊀","npreceq":"⪯̸","npre":"⪯̸","nrarrc":"⤳̸","nrarr":"↛","nrArr":"⇏","nrarrw":"↝̸","nrightarrow":"↛","nRightarrow":"⇏","nrtri":"⋫","nrtrie":"⋭","nsc":"⊁","nsccue":"⋡","nsce":"⪰̸","Nscr":"𝒩","nscr":"𝓃","nshortmid":"∤","nshortparallel":"∦","nsim":"≁","nsime":"≄","nsimeq":"≄","nsmid":"∤","nspar":"∦","nsqsube":"⋢","nsqsupe":"⋣","nsub":"⊄","nsubE":"⫅̸","nsube":"⊈","nsubset":"⊂⃒","nsubseteq":"⊈","nsubseteqq":"⫅̸","nsucc":"⊁","nsucceq":"⪰̸","nsup":"⊅","nsupE":"⫆̸","nsupe":"⊉","nsupset":"⊃⃒","nsupseteq":"⊉","nsupseteqq":"⫆̸","ntgl":"≹","Ntilde":"Ñ","ntilde":"ñ","ntlg":"≸","ntriangleleft":"⋪","ntrianglelefteq":"⋬","ntriangleright":"⋫","ntrianglerighteq":"⋭","Nu":"Ν","nu":"ν","num":"#","numero":"№","numsp":" ","nvap":"≍⃒","nvdash":"⊬","nvDash":"⊭","nVdash":"⊮","nVDash":"⊯","nvge":"≥⃒","nvgt":">⃒","nvHarr":"⤄","nvinfin":"⧞","nvlArr":"⤂","nvle":"≤⃒","nvlt":"<⃒","nvltrie":"⊴⃒","nvrArr":"⤃","nvrtrie":"⊵⃒","nvsim":"∼⃒","nwarhk":"⤣","nwarr":"↖","nwArr":"⇖","nwarrow":"↖","nwnear":"⤧","Oacute":"Ó","oacute":"ó","oast":"⊛","Ocirc":"Ô","ocirc":"ô","ocir":"⊚","Ocy":"О","ocy":"о","odash":"⊝","Odblac":"Ő","odblac":"ő","odiv":"⨸","odot":"⊙","odsold":"⦼","OElig":"Œ","oelig":"œ","ofcir":"⦿","Ofr":"𝔒","ofr":"𝔬","ogon":"˛","Ograve":"Ò","ograve":"ò","ogt":"⧁","ohbar":"⦵","ohm":"Ω","oint":"∮","olarr":"↺","olcir":"⦾","olcross":"⦻","oline":"‾","olt":"⧀","Omacr":"Ō","omacr":"ō","Omega":"Ω","omega":"ω","Omicron":"Ο","omicron":"ο","omid":"⦶","ominus":"⊖","Oopf":"𝕆","oopf":"𝕠","opar":"⦷","OpenCurlyDoubleQuote":"“","OpenCurlyQuote":"‘","operp":"⦹","oplus":"⊕","orarr":"↻","Or":"⩔","or":"∨","ord":"⩝","order":"ℴ","orderof":"ℴ","ordf":"ª","ordm":"º","origof":"⊶","oror":"⩖","orslope":"⩗","orv":"⩛","oS":"Ⓢ","Oscr":"𝒪","oscr":"ℴ","Oslash":"Ø","oslash":"ø","osol":"⊘","Otilde":"Õ","otilde":"õ","otimesas":"⨶","Otimes":"⨷","otimes":"⊗","Ouml":"Ö","ouml":"ö","ovbar":"⌽","OverBar":"‾","OverBrace":"⏞","OverBracket":"⎴","OverParenthesis":"⏜","para":"¶","parallel":"∥","par":"∥","parsim":"⫳","parsl":"⫽","part":"∂","PartialD":"∂","Pcy":"П","pcy":"п","percnt":"%","period":".","permil":"‰","perp":"⊥","pertenk":"‱","Pfr":"𝔓","pfr":"𝔭","Phi":"Φ","phi":"φ","phiv":"ϕ","phmmat":"ℳ","phone":"☎","Pi":"Π","pi":"π","pitchfork":"⋔","piv":"ϖ","planck":"ℏ","planckh":"ℎ","plankv":"ℏ","plusacir":"⨣","plusb":"⊞","pluscir":"⨢","plus":"+","plusdo":"∔","plusdu":"⨥","pluse":"⩲","PlusMinus":"±","plusmn":"±","plussim":"⨦","plustwo":"⨧","pm":"±","Poincareplane":"ℌ","pointint":"⨕","popf":"𝕡","Popf":"ℙ","pound":"£","prap":"⪷","Pr":"⪻","pr":"≺","prcue":"≼","precapprox":"⪷","prec":"≺","preccurlyeq":"≼","Precedes":"≺","PrecedesEqual":"⪯","PrecedesSlantEqual":"≼","PrecedesTilde":"≾","preceq":"⪯","precnapprox":"⪹","precneqq":"⪵","precnsim":"⋨","pre":"⪯","prE":"⪳","precsim":"≾","prime":"′","Prime":"″","primes":"ℙ","prnap":"⪹","prnE":"⪵","prnsim":"⋨","prod":"∏","Product":"∏","profalar":"⌮","profline":"⌒","profsurf":"⌓","prop":"∝","Proportional":"∝","Proportion":"∷","propto":"∝","prsim":"≾","prurel":"⊰","Pscr":"𝒫","pscr":"𝓅","Psi":"Ψ","psi":"ψ","puncsp":" ","Qfr":"𝔔","qfr":"𝔮","qint":"⨌","qopf":"𝕢","Qopf":"ℚ","qprime":"⁗","Qscr":"𝒬","qscr":"𝓆","quaternions":"ℍ","quatint":"⨖","quest":"?","questeq":"≟","quot":"\\"","QUOT":"\\"","rAarr":"⇛","race":"∽̱","Racute":"Ŕ","racute":"ŕ","radic":"√","raemptyv":"⦳","rang":"⟩","Rang":"⟫","rangd":"⦒","range":"⦥","rangle":"⟩","raquo":"»","rarrap":"⥵","rarrb":"⇥","rarrbfs":"⤠","rarrc":"⤳","rarr":"→","Rarr":"↠","rArr":"⇒","rarrfs":"⤞","rarrhk":"↪","rarrlp":"↬","rarrpl":"⥅","rarrsim":"⥴","Rarrtl":"⤖","rarrtl":"↣","rarrw":"↝","ratail":"⤚","rAtail":"⤜","ratio":"∶","rationals":"ℚ","rbarr":"⤍","rBarr":"⤏","RBarr":"⤐","rbbrk":"❳","rbrace":"}","rbrack":"]","rbrke":"⦌","rbrksld":"⦎","rbrkslu":"⦐","Rcaron":"Ř","rcaron":"ř","Rcedil":"Ŗ","rcedil":"ŗ","rceil":"⌉","rcub":"}","Rcy":"Р","rcy":"р","rdca":"⤷","rdldhar":"⥩","rdquo":"”","rdquor":"”","rdsh":"↳","real":"ℜ","realine":"ℛ","realpart":"ℜ","reals":"ℝ","Re":"ℜ","rect":"▭","reg":"®","REG":"®","ReverseElement":"∋","ReverseEquilibrium":"⇋","ReverseUpEquilibrium":"⥯","rfisht":"⥽","rfloor":"⌋","rfr":"𝔯","Rfr":"ℜ","rHar":"⥤","rhard":"⇁","rharu":"⇀","rharul":"⥬","Rho":"Ρ","rho":"ρ","rhov":"ϱ","RightAngleBracket":"⟩","RightArrowBar":"⇥","rightarrow":"→","RightArrow":"→","Rightarrow":"⇒","RightArrowLeftArrow":"⇄","rightarrowtail":"↣","RightCeiling":"⌉","RightDoubleBracket":"⟧","RightDownTeeVector":"⥝","RightDownVectorBar":"⥕","RightDownVector":"⇂","RightFloor":"⌋","rightharpoondown":"⇁","rightharpoonup":"⇀","rightleftarrows":"⇄","rightleftharpoons":"⇌","rightrightarrows":"⇉","rightsquigarrow":"↝","RightTeeArrow":"↦","RightTee":"⊢","RightTeeVector":"⥛","rightthreetimes":"⋌","RightTriangleBar":"⧐","RightTriangle":"⊳","RightTriangleEqual":"⊵","RightUpDownVector":"⥏","RightUpTeeVector":"⥜","RightUpVectorBar":"⥔","RightUpVector":"↾","RightVectorBar":"⥓","RightVector":"⇀","ring":"˚","risingdotseq":"≓","rlarr":"⇄","rlhar":"⇌","rlm":"‏","rmoustache":"⎱","rmoust":"⎱","rnmid":"⫮","roang":"⟭","roarr":"⇾","robrk":"⟧","ropar":"⦆","ropf":"𝕣","Ropf":"ℝ","roplus":"⨮","rotimes":"⨵","RoundImplies":"⥰","rpar":")","rpargt":"⦔","rppolint":"⨒","rrarr":"⇉","Rrightarrow":"⇛","rsaquo":"›","rscr":"𝓇","Rscr":"ℛ","rsh":"↱","Rsh":"↱","rsqb":"]","rsquo":"’","rsquor":"’","rthree":"⋌","rtimes":"⋊","rtri":"▹","rtrie":"⊵","rtrif":"▸","rtriltri":"⧎","RuleDelayed":"⧴","ruluhar":"⥨","rx":"℞","Sacute":"Ś","sacute":"ś","sbquo":"‚","scap":"⪸","Scaron":"Š","scaron":"š","Sc":"⪼","sc":"≻","sccue":"≽","sce":"⪰","scE":"⪴","Scedil":"Ş","scedil":"ş","Scirc":"Ŝ","scirc":"ŝ","scnap":"⪺","scnE":"⪶","scnsim":"⋩","scpolint":"⨓","scsim":"≿","Scy":"С","scy":"с","sdotb":"⊡","sdot":"⋅","sdote":"⩦","searhk":"⤥","searr":"↘","seArr":"⇘","searrow":"↘","sect":"§","semi":";","seswar":"⤩","setminus":"∖","setmn":"∖","sext":"✶","Sfr":"𝔖","sfr":"𝔰","sfrown":"⌢","sharp":"♯","SHCHcy":"Щ","shchcy":"щ","SHcy":"Ш","shcy":"ш","ShortDownArrow":"↓","ShortLeftArrow":"←","shortmid":"∣","shortparallel":"∥","ShortRightArrow":"→","ShortUpArrow":"↑","shy":"­","Sigma":"Σ","sigma":"σ","sigmaf":"ς","sigmav":"ς","sim":"∼","simdot":"⩪","sime":"≃","simeq":"≃","simg":"⪞","simgE":"⪠","siml":"⪝","simlE":"⪟","simne":"≆","simplus":"⨤","simrarr":"⥲","slarr":"←","SmallCircle":"∘","smallsetminus":"∖","smashp":"⨳","smeparsl":"⧤","smid":"∣","smile":"⌣","smt":"⪪","smte":"⪬","smtes":"⪬︀","SOFTcy":"Ь","softcy":"ь","solbar":"⌿","solb":"⧄","sol":"/","Sopf":"𝕊","sopf":"𝕤","spades":"♠","spadesuit":"♠","spar":"∥","sqcap":"⊓","sqcaps":"⊓︀","sqcup":"⊔","sqcups":"⊔︀","Sqrt":"√","sqsub":"⊏","sqsube":"⊑","sqsubset":"⊏","sqsubseteq":"⊑","sqsup":"⊐","sqsupe":"⊒","sqsupset":"⊐","sqsupseteq":"⊒","square":"□","Square":"□","SquareIntersection":"⊓","SquareSubset":"⊏","SquareSubsetEqual":"⊑","SquareSuperset":"⊐","SquareSupersetEqual":"⊒","SquareUnion":"⊔","squarf":"▪","squ":"□","squf":"▪","srarr":"→","Sscr":"𝒮","sscr":"𝓈","ssetmn":"∖","ssmile":"⌣","sstarf":"⋆","Star":"⋆","star":"☆","starf":"★","straightepsilon":"ϵ","straightphi":"ϕ","strns":"¯","sub":"⊂","Sub":"⋐","subdot":"⪽","subE":"⫅","sube":"⊆","subedot":"⫃","submult":"⫁","subnE":"⫋","subne":"⊊","subplus":"⪿","subrarr":"⥹","subset":"⊂","Subset":"⋐","subseteq":"⊆","subseteqq":"⫅","SubsetEqual":"⊆","subsetneq":"⊊","subsetneqq":"⫋","subsim":"⫇","subsub":"⫕","subsup":"⫓","succapprox":"⪸","succ":"≻","succcurlyeq":"≽","Succeeds":"≻","SucceedsEqual":"⪰","SucceedsSlantEqual":"≽","SucceedsTilde":"≿","succeq":"⪰","succnapprox":"⪺","succneqq":"⪶","succnsim":"⋩","succsim":"≿","SuchThat":"∋","sum":"∑","Sum":"∑","sung":"♪","sup1":"¹","sup2":"²","sup3":"³","sup":"⊃","Sup":"⋑","supdot":"⪾","supdsub":"⫘","supE":"⫆","supe":"⊇","supedot":"⫄","Superset":"⊃","SupersetEqual":"⊇","suphsol":"⟉","suphsub":"⫗","suplarr":"⥻","supmult":"⫂","supnE":"⫌","supne":"⊋","supplus":"⫀","supset":"⊃","Supset":"⋑","supseteq":"⊇","supseteqq":"⫆","supsetneq":"⊋","supsetneqq":"⫌","supsim":"⫈","supsub":"⫔","supsup":"⫖","swarhk":"⤦","swarr":"↙","swArr":"⇙","swarrow":"↙","swnwar":"⤪","szlig":"ß","Tab":"\\t","target":"⌖","Tau":"Τ","tau":"τ","tbrk":"⎴","Tcaron":"Ť","tcaron":"ť","Tcedil":"Ţ","tcedil":"ţ","Tcy":"Т","tcy":"т","tdot":"⃛","telrec":"⌕","Tfr":"𝔗","tfr":"𝔱","there4":"∴","therefore":"∴","Therefore":"∴","Theta":"Θ","theta":"θ","thetasym":"ϑ","thetav":"ϑ","thickapprox":"≈","thicksim":"∼","ThickSpace":"  ","ThinSpace":" ","thinsp":" ","thkap":"≈","thksim":"∼","THORN":"Þ","thorn":"þ","tilde":"˜","Tilde":"∼","TildeEqual":"≃","TildeFullEqual":"≅","TildeTilde":"≈","timesbar":"⨱","timesb":"⊠","times":"×","timesd":"⨰","tint":"∭","toea":"⤨","topbot":"⌶","topcir":"⫱","top":"⊤","Topf":"𝕋","topf":"𝕥","topfork":"⫚","tosa":"⤩","tprime":"‴","trade":"™","TRADE":"™","triangle":"▵","triangledown":"▿","triangleleft":"◃","trianglelefteq":"⊴","triangleq":"≜","triangleright":"▹","trianglerighteq":"⊵","tridot":"◬","trie":"≜","triminus":"⨺","TripleDot":"⃛","triplus":"⨹","trisb":"⧍","tritime":"⨻","trpezium":"⏢","Tscr":"𝒯","tscr":"𝓉","TScy":"Ц","tscy":"ц","TSHcy":"Ћ","tshcy":"ћ","Tstrok":"Ŧ","tstrok":"ŧ","twixt":"≬","twoheadleftarrow":"↞","twoheadrightarrow":"↠","Uacute":"Ú","uacute":"ú","uarr":"↑","Uarr":"↟","uArr":"⇑","Uarrocir":"⥉","Ubrcy":"Ў","ubrcy":"ў","Ubreve":"Ŭ","ubreve":"ŭ","Ucirc":"Û","ucirc":"û","Ucy":"У","ucy":"у","udarr":"⇅","Udblac":"Ű","udblac":"ű","udhar":"⥮","ufisht":"⥾","Ufr":"𝔘","ufr":"𝔲","Ugrave":"Ù","ugrave":"ù","uHar":"⥣","uharl":"↿","uharr":"↾","uhblk":"▀","ulcorn":"⌜","ulcorner":"⌜","ulcrop":"⌏","ultri":"◸","Umacr":"Ū","umacr":"ū","uml":"¨","UnderBar":"_","UnderBrace":"⏟","UnderBracket":"⎵","UnderParenthesis":"⏝","Union":"⋃","UnionPlus":"⊎","Uogon":"Ų","uogon":"ų","Uopf":"𝕌","uopf":"𝕦","UpArrowBar":"⤒","uparrow":"↑","UpArrow":"↑","Uparrow":"⇑","UpArrowDownArrow":"⇅","updownarrow":"↕","UpDownArrow":"↕","Updownarrow":"⇕","UpEquilibrium":"⥮","upharpoonleft":"↿","upharpoonright":"↾","uplus":"⊎","UpperLeftArrow":"↖","UpperRightArrow":"↗","upsi":"υ","Upsi":"ϒ","upsih":"ϒ","Upsilon":"Υ","upsilon":"υ","UpTeeArrow":"↥","UpTee":"⊥","upuparrows":"⇈","urcorn":"⌝","urcorner":"⌝","urcrop":"⌎","Uring":"Ů","uring":"ů","urtri":"◹","Uscr":"𝒰","uscr":"𝓊","utdot":"⋰","Utilde":"Ũ","utilde":"ũ","utri":"▵","utrif":"▴","uuarr":"⇈","Uuml":"Ü","uuml":"ü","uwangle":"⦧","vangrt":"⦜","varepsilon":"ϵ","varkappa":"ϰ","varnothing":"∅","varphi":"ϕ","varpi":"ϖ","varpropto":"∝","varr":"↕","vArr":"⇕","varrho":"ϱ","varsigma":"ς","varsubsetneq":"⊊︀","varsubsetneqq":"⫋︀","varsupsetneq":"⊋︀","varsupsetneqq":"⫌︀","vartheta":"ϑ","vartriangleleft":"⊲","vartriangleright":"⊳","vBar":"⫨","Vbar":"⫫","vBarv":"⫩","Vcy":"В","vcy":"в","vdash":"⊢","vDash":"⊨","Vdash":"⊩","VDash":"⊫","Vdashl":"⫦","veebar":"⊻","vee":"∨","Vee":"⋁","veeeq":"≚","vellip":"⋮","verbar":"|","Verbar":"‖","vert":"|","Vert":"‖","VerticalBar":"∣","VerticalLine":"|","VerticalSeparator":"❘","VerticalTilde":"≀","VeryThinSpace":" ","Vfr":"𝔙","vfr":"𝔳","vltri":"⊲","vnsub":"⊂⃒","vnsup":"⊃⃒","Vopf":"𝕍","vopf":"𝕧","vprop":"∝","vrtri":"⊳","Vscr":"𝒱","vscr":"𝓋","vsubnE":"⫋︀","vsubne":"⊊︀","vsupnE":"⫌︀","vsupne":"⊋︀","Vvdash":"⊪","vzigzag":"⦚","Wcirc":"Ŵ","wcirc":"ŵ","wedbar":"⩟","wedge":"∧","Wedge":"⋀","wedgeq":"≙","weierp":"℘","Wfr":"𝔚","wfr":"𝔴","Wopf":"𝕎","wopf":"𝕨","wp":"℘","wr":"≀","wreath":"≀","Wscr":"𝒲","wscr":"𝓌","xcap":"⋂","xcirc":"◯","xcup":"⋃","xdtri":"▽","Xfr":"𝔛","xfr":"𝔵","xharr":"⟷","xhArr":"⟺","Xi":"Ξ","xi":"ξ","xlarr":"⟵","xlArr":"⟸","xmap":"⟼","xnis":"⋻","xodot":"⨀","Xopf":"𝕏","xopf":"𝕩","xoplus":"⨁","xotime":"⨂","xrarr":"⟶","xrArr":"⟹","Xscr":"𝒳","xscr":"𝓍","xsqcup":"⨆","xuplus":"⨄","xutri":"△","xvee":"⋁","xwedge":"⋀","Yacute":"Ý","yacute":"ý","YAcy":"Я","yacy":"я","Ycirc":"Ŷ","ycirc":"ŷ","Ycy":"Ы","ycy":"ы","yen":"¥","Yfr":"𝔜","yfr":"𝔶","YIcy":"Ї","yicy":"ї","Yopf":"𝕐","yopf":"𝕪","Yscr":"𝒴","yscr":"𝓎","YUcy":"Ю","yucy":"ю","yuml":"ÿ","Yuml":"Ÿ","Zacute":"Ź","zacute":"ź","Zcaron":"Ž","zcaron":"ž","Zcy":"З","zcy":"з","Zdot":"Ż","zdot":"ż","zeetrf":"ℨ","ZeroWidthSpace":"​","Zeta":"Ζ","zeta":"ζ","zfr":"𝔷","Zfr":"ℨ","ZHcy":"Ж","zhcy":"ж","zigrarr":"⇝","zopf":"𝕫","Zopf":"ℤ","Zscr":"𝒵","zscr":"𝓏","zwj":"‍","zwnj":"‌"}')},9591:l=>{l.exports=JSON.parse('{"Aacute":"Á","aacute":"á","Acirc":"Â","acirc":"â","acute":"´","AElig":"Æ","aelig":"æ","Agrave":"À","agrave":"à","amp":"&","AMP":"&","Aring":"Å","aring":"å","Atilde":"Ã","atilde":"ã","Auml":"Ä","auml":"ä","brvbar":"¦","Ccedil":"Ç","ccedil":"ç","cedil":"¸","cent":"¢","copy":"©","COPY":"©","curren":"¤","deg":"°","divide":"÷","Eacute":"É","eacute":"é","Ecirc":"Ê","ecirc":"ê","Egrave":"È","egrave":"è","ETH":"Ð","eth":"ð","Euml":"Ë","euml":"ë","frac12":"½","frac14":"¼","frac34":"¾","gt":">","GT":">","Iacute":"Í","iacute":"í","Icirc":"Î","icirc":"î","iexcl":"¡","Igrave":"Ì","igrave":"ì","iquest":"¿","Iuml":"Ï","iuml":"ï","laquo":"«","lt":"<","LT":"<","macr":"¯","micro":"µ","middot":"·","nbsp":" ","not":"¬","Ntilde":"Ñ","ntilde":"ñ","Oacute":"Ó","oacute":"ó","Ocirc":"Ô","ocirc":"ô","Ograve":"Ò","ograve":"ò","ordf":"ª","ordm":"º","Oslash":"Ø","oslash":"ø","Otilde":"Õ","otilde":"õ","Ouml":"Ö","ouml":"ö","para":"¶","plusmn":"±","pound":"£","quot":"\\"","QUOT":"\\"","raquo":"»","reg":"®","REG":"®","sect":"§","shy":"­","sup1":"¹","sup2":"²","sup3":"³","szlig":"ß","THORN":"Þ","thorn":"þ","times":"×","Uacute":"Ú","uacute":"ú","Ucirc":"Û","ucirc":"û","Ugrave":"Ù","ugrave":"ù","uml":"¨","Uuml":"Ü","uuml":"ü","Yacute":"Ý","yacute":"ý","yen":"¥","yuml":"ÿ"}')},2586:l=>{l.exports=JSON.parse(`{"amp":"&","apos":"'","gt":">","lt":"<","quot":"\\""}`)}},e={};function n(l){var s=e[l];if(s!==void 0)return s.exports;var f=e[l]={exports:{}};return t[l].call(f.exports,f,f.exports,n),f.exports}n.n=l=>{var s=l&&l.__esModule?()=>l.default:()=>l;return n.d(s,{a:s}),s},n.d=(l,s)=>{for(var f in s)n.o(s,f)&&!n.o(l,f)&&Object.defineProperty(l,f,{enumerable:!0,get:s[f]})},n.o=(l,s)=>Object.prototype.hasOwnProperty.call(l,s),n.r=l=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(l,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(l,"__esModule",{value:!0})};var o={};return(()=>{n.r(o),n.d(o,{default:()=>w});var l=function(){return l=Object.assign||function(C){for(var A,S=1,x=arguments.length;S<x;S++)for(var N in A=arguments[S])Object.prototype.hasOwnProperty.call(A,N)&&(C[N]=A[N]);return C},l.apply(this,arguments)},s="set-device-desktop",f="set-device-tablet",u="set-device-mobile",p="canvas-clear",d=n(6094),h=n.n(d),v=function(){return v=Object.assign||function(C){for(var A,S=1,x=arguments.length;S<x;S++)for(var N in A=arguments[S])Object.prototype.hasOwnProperty.call(A,N)&&(C[N]=A[N]);return C},v.apply(this,arguments)};const _=function(C,A){var S=C.Commands,x=A.textCleanCanvas;(function(N,b){var L=N.Commands,k=N.getConfig().stylePrefix;L.add(b.cmdOpenImport,{containerEl:null,codeEditorHtml:null,createCodeViewer:function(){return N.CodeManager.createViewer({codeName:"htmlmixed",theme:b.codeViewerTheme,readOnly:!1})},createCodeEditor:function(){var P=document.createElement("div"),D=this.createCodeViewer();return P.style.flex="1 0 auto",P.style.boxSizing="border-box",P.className="".concat(k,"import-code"),P.appendChild(D.getElement()),{codeEditor:D,el:P}},getCodeContainer:function(){var P=this.containerEl;return P||((P=document.createElement("div")).className="".concat(k,"import-container"),P.style.display="flex",P.style.gap="5px",P.style.flexDirection="column",P.style.justifyContent="space-between",this.containerEl=P),P},run:function(P){var D=this.getCodeContainer(),R=this.codeEditorHtml;if(!R){var M=this.createCodeEditor(),z=document.createElement("button");if(R=M.codeEditor,this.codeEditorHtml=R,b.modalLabelImport){var H=document.createElement("div");H.className="".concat(k,"import-label"),H.innerHTML=b.modalLabelImport,D.appendChild(H)}z.innerHTML=b.modalBtnImport,z.type="button",z.className="".concat(k,"btn-prim ").concat(k,"btn-import"),z.style.alignSelf="flex-start",z.onclick=function(){var $=M.codeEditor.editor.getValue();P.Components.clear(),P.Css.clear(),P.setComponents($),P.Modal.close()},D.appendChild(M.el),D.appendChild(z)}P.Modal.open({title:b.modalTitleImport,content:D}),R&&(R.setContent(b.importPlaceholder||""),R.editor.refresh())}})})(C,A),(function(N,b){var L=N.Commands,k=N.getConfig().stylePrefix;L.add(b.cmdInlineHtml,{run:function(P,D,R){R===void 0&&(R={});var M=P.getHtml()+"<style>".concat(P.getCss(),"</style>");return h()(M,v(v({},R.juiceOpts),R))}}),L.add("export-template",{containerEl:null,codeEditorHtml:null,createCodeViewer:function(){return N.CodeManager.createViewer({codeName:"htmlmixed",theme:b.codeViewerTheme})},createCodeEditor:function(){var P=document.createElement("div"),D=this.createCodeViewer();return P.style.flex="1 0 auto",P.style.boxSizing="border-box",P.className="".concat(k,"export-code"),P.appendChild(D.getElement()),{codeEditor:D,el:P}},getCodeContainer:function(){var P=this.containerEl;return P||((P=document.createElement("div")).className="".concat(k,"export-container"),P.style.display="flex",P.style.gap="5px",P.style.flexDirection="column",P.style.justifyContent="space-between",this.containerEl=P),P},run:function(P){var D=this.codeEditorHtml,R=this.getCodeContainer();if(!D){var M=this.createCodeEditor();if(D=M.codeEditor,this.codeEditorHtml=D,b.modalLabelExport){var z=document.createElement("div");z.className="".concat(k,"export-label"),z.innerHTML=b.modalLabelExport,R.appendChild(z)}R.appendChild(M.el)}if(P.Modal.open({title:b.modalTitleExport,content:R}),D){var H="".concat(P.getHtml(),"<style>").concat(P.getCss(),"</style>");D.setContent(b.inlineCss?h()(H,b.juiceOpts):H),D.editor.refresh()}}})})(C,A),(function(N,b){N.Commands.add(b.cmdTglImages,{run:function(L){var k=L.getComponents();this.toggleImages(k)},stop:function(L){var k=L.getComponents();this.toggleImages(k,!0)},toggleImages:function(L,k){var P=this;k===void 0&&(k=!1);var D="##";L.forEach((function(R){if(R.get("type")==="image"){var M=R.get("src");k?M===D&&R.set("src",R.get("src_bkp")):M!==D&&(R.set("src_bkp",R.get("src")),R.set("src",D))}P.toggleImages(R.components(),k)}))}})})(C,A),S.add(s,{run:function(N){return N.setDevice("Desktop")},stop:function(){}}),S.add(f,{run:function(N){return N.setDevice("Tablet")},stop:function(){}}),S.add(u,{run:function(N){return N.setDevice("Mobile portrait")},stop:function(){}}),S.add(p,{run:function(N){var b="core:canvas-clear";x?confirm(x)&&N.runCommand(b):N.runCommand(b)}})};var T=function(){return T=Object.assign||function(C){for(var A,S=1,x=arguments.length;S<x;S++)for(var N in A=arguments[S])Object.prototype.hasOwnProperty.call(A,N)&&(C[N]=A[N]);return C},T.apply(this,arguments)};const w=function(C,A){A===void 0&&(A={});var S=C.getConfig(),x=T({blocks:["sect100","sect50","sect30","sect37","button","divider","text","text-sect","image","quote","link","link-block","grid-items","list-items"],block:function(){return{}},juiceOpts:{},cmdOpenImport:"gjs-open-import-template",cmdTglImages:"gjs-toggle-images",cmdInlineHtml:"gjs-get-inlined-html",modalTitleImport:"Import template",modalTitleExport:"Export template",modalLabelImport:"",modalLabelExport:"",modalBtnImport:"Import",codeViewerTheme:"hopscotch",importPlaceholder:"",inlineCss:!0,cellStyle:{padding:"0",margin:"0","vertical-align":"top"},tableStyle:{height:"150px",margin:"0 auto 10px auto",padding:"5px 5px 5px 5px",width:"100%"},updateStyleManager:!0,showStylesOnChange:!0,showBlocksOnLoad:!0,useCustomTheme:!0,textCleanCanvas:"Are you sure you want to clear the canvas?"},A);if(S.devicePreviewMode=!0,x.useCustomTheme&&typeof window<"u"){var N="gjs-",b="";[["one","#373d49"],["two","#dae5e6"],["three","#4c9790"],["four","#35d7bb"]].forEach((function(k){var P=k[0],D=k[1];b+=`
        .`.concat(N).concat(P,`-bg {
          background-color: `).concat(D,`;
        }
        .`).concat(N).concat(P,`-color {
          color: `).concat(D,`;
        }
        .`).concat(N).concat(P,`-color-h:hover {
          color: `).concat(D,`;
        }
      `)}));var L=document.createElement("style");L.innerText=b,document.head.appendChild(L)}_(C,x),(function(k,P){k.Blocks;var D="",R="",M=P.tableStyle||{},z=P.cellStyle||{},H=function(q,st){P.blocks.indexOf(q)>=0&&k.Blocks.add(q,l(l({select:!0},st),P.block(q)))};for(var $ in M)D+="".concat($,": ").concat(M[$],"; ");for(var $ in z)R+="".concat($,": ").concat(z[$],"; ");H("sect100",{label:"1 Section",media:`<svg viewBox="0 0 24 24">
      <path fill="currentColor" d="M2 20h20V4H2v16Zm-1 0V4a1 1 0 0 1 1-1h20a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1Z"/>
    </svg>`,content:`
      <table style="`.concat(D,`">
        <tr>
          <td style="`).concat(R,`"></td>
        </tr>
      </table>
    `)}),H("sect50",{label:"1/2 Section",media:`<svg viewBox="0 0 23 24">
      <path fill="currentColor" d="M2 20h8V4H2v16Zm-1 0V4a1 1 0 0 1 1-1h8a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1ZM13 20h8V4h-8v16Zm-1 0V4a1 1 0 0 1 1-1h8a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1h-8a1 1 0 0 1-1-1Z"/>
    </svg>`,content:`
      <table style="`.concat(D,`">
        <tr>
          <td style="`).concat(R,` width: 50%"></td>
          <td style="`).concat(R,` width: 50%"></td>
        </tr>
      </table>
    `)}),H("sect30",{label:"1/3 Section",media:`<svg viewBox="0 0 23 24">
      <path fill="currentColor" d="M2 20h4V4H2v16Zm-1 0V4a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1ZM17 20h4V4h-4v16Zm-1 0V4a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1h-4a1 1 0 0 1-1-1ZM9.5 20h4V4h-4v16Zm-1 0V4a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1h-4a1 1 0 0 1-1-1Z"/>
    </svg>`,content:`
      <table style="`.concat(D,`">
        <tr>
          <td style="`).concat(R,` width: 33.3333%"></td>
          <td style="`).concat(R,` width: 33.3333%"></td>
          <td style="`).concat(R,` width: 33.3333%"></td>
        </tr>
      </table>
    `)}),H("sect37",{label:"3/7 Section",media:`<svg viewBox="0 0 24 24">
      <path fill="currentColor" d="M2 20h5V4H2v16Zm-1 0V4a1 1 0 0 1 1-1h5a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1ZM10 20h12V4H10v16Zm-1 0V4a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1H10a1 1 0 0 1-1-1Z"></path>
    </svg>`,content:`
      <table style="`.concat(D,`">
        <tr>
          <td style="`).concat(R,` width:30%"></td>
          <td style="`).concat(R,` width:70%"></td>
        </tr>
      </table>
    `)}),H("button",{label:"Button",media:`<svg viewBox="0 0 24 24">
        <path fill="currentColor" d="M20 20.5C20 21.3 19.3 22 18.5 22H13C12.6 22 12.3 21.9 12 21.6L8 17.4L8.7 16.6C8.9 16.4 9.2 16.3 9.5 16.3H9.7L12 18V9C12 8.4 12.4 8 13 8S14 8.4 14 9V13.5L15.2 13.6L19.1 15.8C19.6 16 20 16.6 20 17.1V20.5M20 2H4C2.9 2 2 2.9 2 4V12C2 13.1 2.9 14 4 14H8V12H4V4H20V12H18V14H20C21.1 14 22 13.1 22 12V4C22 2.9 21.1 2 20 2Z" />
    </svg>`,content:'<a class="button">Button</a>'}),H("divider",{label:"Divider",media:`<svg viewBox="0 0 24 24">
        <path fill="currentColor" d="M21 18H2V20H21V18M19 10V14H4V10H19M20 8H3C2.45 8 2 8.45 2 9V15C2 15.55 2.45 16 3 16H20C20.55 16 21 15.55 21 15V9C21 8.45 20.55 8 20 8M21 4H2V6H21V4Z" />
    </svg>`,content:`
      <table style="width: 100%; margin-top: 10px; margin-bottom: 10px;">
        <tr>
          <td class="divider"></td>
        </tr>
      </table>
      <style>
        .divider {
          background-color: rgba(0, 0, 0, 0.1);
          height: 1px;
        }
      </style>
    `}),H("text",{label:"Text",media:`<svg viewBox="0 0 24 24">
      <path fill="currentColor" d="M18.5,4L19.66,8.35L18.7,8.61C18.25,7.74 17.79,6.87 17.26,6.43C16.73,6 16.11,6 15.5,6H13V16.5C13,17 13,17.5 13.33,17.75C13.67,18 14.33,18 15,18V19H9V18C9.67,18 10.33,18 10.67,17.75C11,17.5 11,17 11,16.5V6H8.5C7.89,6 7.27,6 6.74,6.43C6.21,6.87 5.75,7.74 5.3,8.61L4.34,8.35L5.5,4H18.5Z" />
    </svg>`,activate:!0,content:{type:"text",content:"Insert your text here",style:{padding:"10px"}}}),H("text-sect",{label:"Text Section",media:`<svg viewBox="0 0 24 24">
        <path fill="currentColor" d="M20,20H4A2,2 0 0,1 2,18V6A2,2 0 0,1 4,4H20A2,2 0 0,1 22,6V18A2,2 0 0,1 20,20M4,6V18H20V6H4M6,9H18V11H6V9M6,13H16V15H6V13Z" />
    </svg>`,content:`
      <h1 class="heading">Insert title here</h1>
      <p class="paragraph">
        Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua
      </p>
    `}),H("image",{label:"Image",media:`<svg viewBox="0 0 24 24">
      <path fill="currentColor" d="M21,3H3C2,3 1,4 1,5V19A2,2 0 0,0 3,21H21C22,21 23,20 23,19V5C23,4 22,3 21,3M5,17L8.5,12.5L11,15.5L14.5,11L19,17H5Z" />
    </svg>`,activate:!0,content:{type:"image",style:{color:"black"}}}),H("quote",{label:"Quote",media:`<svg viewBox="0 0 24 24">
        <path fill="currentColor" d="M14,17H17L19,13V7H13V13H16M6,17H9L11,13V7H5V13H8L6,17Z" />
    </svg>`,content:'<blockquote class="quote">Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore ipsum dolor sit</blockquote>'}),H("link",{label:"Link",media:`<svg viewBox="0 0 24 24">
      <path fill="currentColor" d="M3.9,12C3.9,10.29 5.29,8.9 7,8.9H11V7H7A5,5 0 0,0 2,12A5,5 0 0,0 7,17H11V15.1H7C5.29,15.1 3.9,13.71 3.9,12M8,13H16V11H8V13M17,7H13V8.9H17C18.71,8.9 20.1,10.29 20.1,12C20.1,13.71 18.71,15.1 17,15.1H13V17H17A5,5 0 0,0 22,12A5,5 0 0,0 17,7Z"></path>
    </svg>`,content:{type:"link",content:"Link",style:{color:"#3b97e3"}}}),H("link-block",{label:"Link Block",media:`<svg viewBox="0 0 24 24">
      <path fill="currentColor" d="M3.9,12C3.9,10.29 5.29,8.9 7,8.9H11V7H7A5,5 0 0,0 2,12A5,5 0 0,0 7,17H11V15.1H7C5.29,15.1 3.9,13.71 3.9,12M8,13H16V11H8V13M17,7H13V8.9H17C18.71,8.9 20.1,10.29 20.1,12C20.1,13.71 18.71,15.1 17,15.1H13V17H17A5,5 0 0,0 22,12A5,5 0 0,0 17,7Z"></path>
    </svg>`,content:{type:"link",editable:!1,droppable:!0,style:{display:"inline-block",padding:"5px","min-height":"50px","min-width":"50px"}}});var j=`<table class="grid-item-card">
      <tr>
        <td class="grid-item-card-cell">
          <img class="grid-item-image" src="https://via.placeholder.com/250x150/78c5d6/fff/" alt="Image"/>
          <table class="grid-item-card-body">
            <tr>
              <td class="grid-item-card-content">
                <h1 class="card-title">Title here</h1>
                <p class="card-text">Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt</p>
              </td>
            </tr>
          </table>
        </td>
      </tr>
    </table>`;H("grid-items",{label:"Grid Items",media:`<svg viewBox="0 0 24 24">
      <path fill="currentColor" d="M3,11H11V3H3M3,21H11V13H3M13,21H21V13H13M13,3V11H21V3"/>
    </svg>`,content:`
      <table class="grid-item-row">
        <tr>
          <td class="grid-item-cell2-l">`.concat(j,`</td>
          <td class="grid-item-cell2-r">`).concat(j,`</td>
        </tr>
      </table>
    `)});var rt=`<table class="list-item">
      <tr>
        <td class="list-item-cell">
          <table class="list-item-content">
            <tr class="list-item-row">
              <td class="list-cell-left">
                <img class="list-item-image" src="https://via.placeholder.com/150/78c5d6/fff" alt="Image"/>
              </td>
              <td class="list-cell-right">
                <h1 class="card-title">Title here</h1>
                <p class="card-text">Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt</p>
              </td>
            </tr>
          </table>
        </td>
      </tr>
    </table>`;H("list-items",{label:"List Items",media:`<svg viewBox="0 0 24 24">
      <path fill="currentColor" d="M2 14H8V20H2M16 8H10V10H16M2 10H8V4H2M10 4V6H22V4M10 20H16V18H10M10 16H22V14H10"/>
    </svg>`,content:rt+rt})})(C,x),(function(k,P){var D=k.Panels,R=P.cmdOpenImport,M=P.cmdTglImages,z="export-template",H="open-sm",$="open-tm",j="open-layers",rt="open-blocks",q="sw-visibility",st="fullscreen",vt="preview",St='style="display: block; max-width: 22px"';k.getConfig().showDevices=!1,D.getPanels().reset([{id:"commands",buttons:[{}]},{id:"devices-c",buttons:[{id:s,command:s,active:!0,label:"<svg ".concat(St,` viewBox="0 0 24 24">
            <path fill="currentColor" d="M21,16H3V4H21M21,2H3C1.89,2 1,2.89 1,4V16A2,2 0 0,0 3,18H10V20H8V22H16V20H14V18H21A2,2 0 0,0 23,16V4C23,2.89 22.1,2 21,2Z" />
        </svg>`)},{id:f,command:f,label:"<svg ".concat(St,` viewBox="0 0 24 24">
            <path fill="currentColor" d="M19,18H5V6H19M21,4H3C1.89,4 1,4.89 1,6V18A2,2 0 0,0 3,20H21A2,2 0 0,0 23,18V6C23,4.89 22.1,4 21,4Z" />
        </svg>`)},{id:u,command:u,label:"<svg ".concat(St,` viewBox="0 0 24 24">
            <path fill="currentColor" d="M17,19H7V5H17M17,1H7C5.89,1 5,1.89 5,3V21A2,2 0 0,0 7,23H17A2,2 0 0,0 19,21V3C19,1.89 18.1,1 17,1Z" />
        </svg>`)}]},{id:"options",buttons:[{id:q,command:q,context:q,label:"<svg ".concat(St,` viewBox="0 0 24 24">
        <path fill="currentColor" d="M15,5H17V3H15M15,21H17V19H15M11,5H13V3H11M19,5H21V3H19M19,9H21V7H19M19,21H21V19H19M19,13H21V11H19M19,17H21V15H19M3,5H5V3H3M3,9H5V7H3M3,13H5V11H3M3,17H5V15H3M3,21H5V19H3M11,21H13V19H11M7,21H9V19H7M7,5H9V3H7V5Z" />
    </svg>`)},{id:vt,context:vt,command:vt,label:"<svg ".concat(St,' viewBox="0 0 24 24"><path fill="currentColor" d="M12,9A3,3 0 0,0 9,12A3,3 0 0,0 12,15A3,3 0 0,0 15,12A3,3 0 0,0 12,9M12,17A5,5 0 0,1 7,12A5,5 0 0,1 12,7A5,5 0 0,1 17,12A5,5 0 0,1 12,17M12,4.5C7,4.5 2.73,7.61 1,12C2.73,16.39 7,19.5 12,19.5C17,19.5 21.27,16.39 23,12C21.27,7.61 17,4.5 12,4.5Z"></path></svg>')},{id:st,command:st,context:st,label:"<svg ".concat(St,` viewBox="0 0 24 24">
            <path fill="currentColor" d="M5,5H10V7H7V10H5V5M14,5H19V10H17V7H14V5M17,14H19V19H14V17H17V14M10,17V19H5V14H7V17H10Z" />
        </svg>`)},{id:z,command:z,label:"<svg ".concat(St,` viewBox="0 0 24 24">
            <path fill="currentColor" d="M12.89,3L14.85,3.4L11.11,21L9.15,20.6L12.89,3M19.59,12L16,8.41V5.58L22.42,12L16,18.41V15.58L19.59,12M1.58,12L8,5.58V8.41L4.41,12L8,15.58V18.41L1.58,12Z" />
        </svg>`)},{id:R,command:R,label:"<svg ".concat(St,` viewBox="0 0 24 24">
            <path fill="currentColor" d="M5,20H19V18H5M19,9H15V3H9V9H5L12,16L19,9Z" />
        </svg>`)},{id:M,command:M,label:"<svg ".concat(St,` viewBox="0 0 24 24">
          <path fill="currentColor" d="M5 3C3.9 3 3 3.9 3 5V19C3 20.11 3.9 21 5 21H14.09C14.03 20.67 14 20.34 14 20C14 19.32 14.12 18.64 14.35 18H5L8.5 13.5L11 16.5L14.5 12L16.73 14.97C17.7 14.34 18.84 14 20 14C20.34 14 20.67 14.03 21 14.09V5C21 3.89 20.1 3 19 3H5M16.47 17.88L18.59 20L16.47 22.12L17.88 23.54L20 21.41L22.12 23.54L23.54 22.12L21.41 20L23.54 17.88L22.12 16.46L20 18.59L17.88 16.47L16.46 17.88Z"/>
        </svg>`)},{id:"undo",command:"core:undo",label:"<svg ".concat(St,` viewBox="0 0 24 24">
            <path fill="currentColor" d="M20 13.5C20 17.09 17.09 20 13.5 20H6V18H13.5C16 18 18 16 18 13.5S16 9 13.5 9H7.83L10.91 12.09L9.5 13.5L4 8L9.5 2.5L10.92 3.91L7.83 7H13.5C17.09 7 20 9.91 20 13.5Z" />
        </svg>`)},{id:"redo",command:"core:redo",label:"<svg ".concat(St,` viewBox="0 0 24 24">
            <path fill="currentColor" d="M10.5 18H18V20H10.5C6.91 20 4 17.09 4 13.5S6.91 7 10.5 7H16.17L13.08 3.91L14.5 2.5L20 8L14.5 13.5L13.09 12.09L16.17 9H10.5C8 9 6 11 6 13.5S8 18 10.5 18Z" />
        </svg>`)},{id:p,command:p,label:"<svg ".concat(St,` viewBox="0 0 24 24">
              <path fill="currentColor" d="M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z" />
          </svg>`)}]},{id:"views",buttons:[{id:H,command:H,active:!0,label:"<svg ".concat(St,` viewBox="0 0 24 24">
            <path fill="currentColor" d="M20.71,4.63L19.37,3.29C19,2.9 18.35,2.9 17.96,3.29L9,12.25L11.75,15L20.71,6.04C21.1,5.65 21.1,5 20.71,4.63M7,14A3,3 0 0,0 4,17C4,18.31 2.84,19 2,19C2.92,20.22 4.5,21 6,21A4,4 0 0,0 10,17A3,3 0 0,0 7,14Z" />
        </svg>`)},{id:$,command:$,label:"<svg ".concat(St,` viewBox="0 0 24 24">
          <path fill="currentColor" d="M12,15.5A3.5,3.5 0 0,1 8.5,12A3.5,3.5 0 0,1 12,8.5A3.5,3.5 0 0,1 15.5,12A3.5,3.5 0 0,1 12,15.5M19.43,12.97C19.47,12.65 19.5,12.33 19.5,12C19.5,11.67 19.47,11.34 19.43,11L21.54,9.37C21.73,9.22 21.78,8.95 21.66,8.73L19.66,5.27C19.54,5.05 19.27,4.96 19.05,5.05L16.56,6.05C16.04,5.66 15.5,5.32 14.87,5.07L14.5,2.42C14.46,2.18 14.25,2 14,2H10C9.75,2 9.54,2.18 9.5,2.42L9.13,5.07C8.5,5.32 7.96,5.66 7.44,6.05L4.95,5.05C4.73,4.96 4.46,5.05 4.34,5.27L2.34,8.73C2.21,8.95 2.27,9.22 2.46,9.37L4.57,11C4.53,11.34 4.5,11.67 4.5,12C4.5,12.33 4.53,12.65 4.57,12.97L2.46,14.63C2.27,14.78 2.21,15.05 2.34,15.27L4.34,18.73C4.46,18.95 4.73,19.03 4.95,18.95L7.44,17.94C7.96,18.34 8.5,18.68 9.13,18.93L9.5,21.58C9.54,21.82 9.75,22 10,22H14C14.25,22 14.46,21.82 14.5,21.58L14.87,18.93C15.5,18.67 16.04,18.34 16.56,17.94L19.05,18.95C19.27,19.03 19.54,18.95 19.66,18.73L21.66,15.27C21.78,15.05 21.73,14.78 21.54,14.63L19.43,12.97Z" />
      </svg>`)},{id:j,command:j,label:"<svg ".concat(St,` viewBox="0 0 24 24">
          <path fill="currentColor" d="M12,16L19.36,10.27L21,9L12,2L3,9L4.63,10.27M12,18.54L4.62,12.81L3,14.07L12,21.07L21,14.07L19.37,12.8L12,18.54Z" />
      </svg>`)},{id:rt,command:rt,label:"<svg ".concat(St,` viewBox="0 0 24 24">
          <path fill="currentColor" d="M17,13H13V17H11V13H7V11H11V7H13V11H17M19,3H5C3.89,3 3,3.89 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5C21,3.89 20.1,3 19,3Z" />
      </svg>`)}]}]),P.showStylesOnChange&&k.on("component:selected",(function(){var pt=D.getButton("views",j);if((!pt||!pt.get("active"))&&k.getSelected()){var bt=D.getButton("views",H);bt?.set("active",!0)}})),k.onReady((function(){if(P.showBlocksOnLoad){var pt=D.getButton("views",rt);pt?.set("active",!0)}}))})(C,x),(function(k,P){var D=k.StyleManager.getSectors();if(P.updateStyleManager){var R=[{name:"Dimension",open:!1,buildProps:["width","height","max-width","min-height","margin","padding"],properties:[{property:"margin",properties:[{name:"Top",property:"margin-top"},{name:"Left",property:"margin-left"},{name:"Right",property:"margin-right"},{name:"Bottom",property:"margin-bottom"}]},{property:"padding",properties:[{name:"Top",property:"padding-top"},{name:"Right",property:"padding-right"},{name:"Bottom",property:"padding-bottom"},{name:"Left",property:"padding-left"}]}]},{name:"Typography",open:!1,buildProps:["font-family","font-size","font-weight","letter-spacing","color","line-height","text-align","text-decoration","font-style","vertical-align","text-shadow"],properties:[{name:"Font",property:"font-family"},{name:"Weight",property:"font-weight"},{name:"Font color",property:"color"},{property:"text-align",type:"radio",defaults:"left",list:[{value:"left",name:"Left",className:"fa fa-align-left"},{value:"center",name:"Center",className:"fa fa-align-center"},{value:"right",name:"Right",className:"fa fa-align-right"},{value:"justify",name:"Justify",className:"fa fa-align-justify"}]},{property:"text-decoration",type:"radio",defaults:"none",list:[{value:"none",name:"None",className:"fa fa-times"},{value:"underline",name:"underline",className:"fa fa-underline"},{value:"line-through",name:"Line-through",className:"fa fa-strikethrough"}]},{property:"font-style",type:"radio",defaults:"normal",list:[{value:"normal",name:"Normal",className:"fa fa-font"},{value:"italic",name:"Italic",className:"fa fa-italic"}]},{property:"vertical-align",type:"select",defaults:"baseline",list:[{value:"baseline"},{value:"top"},{value:"middle"},{value:"bottom"}]},{property:"text-shadow",properties:[{name:"X position",property:"text-shadow-h"},{name:"Y position",property:"text-shadow-v"},{name:"Blur",property:"text-shadow-blur"},{name:"Color",property:"text-shadow-color"}]}]},{name:"Decorations",open:!1,buildProps:["background-color","border-collapse","border-radius","border","background"],properties:[{property:"background-color",name:"Background"},{property:"border-radius",properties:[{name:"Top",property:"border-top-left-radius"},{name:"Right",property:"border-top-right-radius"},{name:"Bottom",property:"border-bottom-left-radius"},{name:"Left",property:"border-bottom-right-radius"}]},{property:"border-collapse",type:"radio",defaults:"separate",list:[{value:"separate",name:"No"},{value:"collapse",name:"Yes"}]},{property:"border",properties:[{name:"Width",property:"border-width",defaults:"0"},{name:"Style",property:"border-style"},{name:"Color",property:"border-color"}]},{property:"background",properties:[{name:"Image",property:"background-image"},{name:"Repeat",property:"background-repeat"},{name:"Position",property:"background-position"},{name:"Attachment",property:"background-attachment"},{name:"Size",property:"background-size"}]}]}];k.onReady((function(){D.reset(),D.add(R)}))}})(C,x)}})(),o})()))})(wl)),wl.exports}var gE=vE();const mE=Ug(gE);function _E({initialContent:i="",onChange:r,onSave:t}){const e=sl.useRef(null),n=sl.useRef(null);return sl.useEffect(()=>{if(!e.current||n.current)return;const o=dE.init({container:e.current,plugins:[mE],pluginsOpts:{"gjs-preset-newsletter":{modalTitleImport:"Import Template",modalTitleExport:"Export Template",modalBtnImport:"Import",codeViewerTheme:"material",importPlaceholder:"Paste your HTML/CSS here",cellStyle:{padding:"0",margin:"0","vertical-align":"top"}}},storageManager:!1,height:"700px",width:"100%",panels:{defaults:[{id:"basic-actions",el:".panel__basic-actions",buttons:[{id:"visibility",active:!0,className:"btn-toggle-borders",label:'<i class="fa fa-clone"></i>',command:"sw-visibility"}]},{id:"panel-devices",el:".panel__devices",buttons:[{id:"device-desktop",label:'<i class="fa fa-desktop"></i>',command:"set-device-desktop",active:!0,togglable:!1},{id:"device-mobile",label:'<i class="fa fa-mobile"></i>',command:"set-device-mobile",togglable:!1}]}]},deviceManager:{devices:[{name:"Desktop",width:""},{name:"Mobile",width:"320px",widthMedia:"480px"}]},blockManager:{blocks:[{id:"section",label:"Section",attributes:{class:"gjs-block-section"},content:`<table style="width: 100%; border-collapse: collapse;">
              <tr>
                <td style="padding: 20px;">
                  <p>This is a section</p>
                </td>
              </tr>
            </table>`},{id:"text",label:"Text",content:'<p style="padding: 10px;">Insert your text here</p>'},{id:"image",label:"Image",content:{type:"image",style:{width:"100%","max-width":"600px"},attributes:{src:"https://via.placeholder.com/600x300"}}},{id:"button",label:"Button",content:`<table style="width: 100%;">
              <tr>
                <td style="text-align: center; padding: 20px;">
                  <a href="#" style="background-color: #2563eb; color: white; padding: 12px 30px; text-decoration: none; border-radius: 6px; display: inline-block; font-weight: bold;">
                    Click Here
                  </a>
                </td>
              </tr>
            </table>`},{id:"divider",label:"Divider",content:`<table style="width: 100%;">
              <tr>
                <td style="padding: 20px 0;">
                  <hr style="border: none; border-top: 1px solid #e5e7eb; margin: 0;">
                </td>
              </tr>
            </table>`}]},canvas:{styles:["https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap"]}});return i&&o.setComponents(i),o.on("update",()=>{const l=o.getHtml()||"",s=o.getCss()||"";r?.(l,s)}),o.Commands.add("save-template",{run:()=>{const l=o.getHtml()||"",s=o.getCss()||"";t?.(l,s)}}),n.current=o,()=>{n.current&&(n.current.destroy(),n.current=null)}},[]),sl.useEffect(()=>{n.current&&i&&n.current.setComponents(i)},[i]),gc.jsxs("div",{"data-loc":"client/src/components/EmailBuilder.tsx:192",className:"email-builder-wrapper",children:[gc.jsx("style",{"data-loc":"client/src/components/EmailBuilder.tsx:193",children:`
        .email-builder-wrapper {
          width: 100%;
          height: 100%;
        }
        .gjs-one-bg {
          background-color: #f9fafb;
        }
        .gjs-two-color {
          color: #1f2937;
        }
        .gjs-three-bg {
          background-color: #ffffff;
          color: #1f2937;
        }
        .gjs-four-color,
        .gjs-four-color-h:hover {
          color: #2563eb;
        }
        .gjs-block {
          width: auto;
          height: auto;
          min-height: 60px;
          padding: 10px;
          margin: 5px;
        }
        .gjs-block-label {
          font-size: 12px;
          font-weight: 500;
        }
        .panel__devices {
          position: absolute;
          top: 10px;
          right: 10px;
        }
        .panel__basic-actions {
          position: absolute;
          top: 10px;
          left: 10px;
        }
      `}),gc.jsx("div",{"data-loc":"client/src/components/EmailBuilder.tsx:234",ref:e})]})}export{_E as default};
