import{J as F,j as c,N as m,A as i,x as e}from"./index-BN9GAmQT.js";import{C as f}from"./card-DDCG5iAJ.js";import{B as r}from"./button-B7XicF_D.js";import{I as T}from"./input-DAxyQcQ6.js";import{T as B}from"./textarea-CUpb7IQY.js";import{B as O}from"./badge-DuBy3M6P.js";import{D as u,a as L,b as j,c as v,e as V,f as H}from"./dialog-BFxkyGdG.js";import{S as U,a as K,b as R,c as W,d as $}from"./select-lpC4X7iX.js";import{A as G}from"./arrow-left-DYl8JD6p.js";import{F as w}from"./file-text-zOWEdpec.js";import{P as N}from"./plus-Bs9J4-Yt.js";import{E as k}from"./eye-DH5-FCbl.js";import{C as J}from"./copy-DZ6CQDg7.js";import{S as Y}from"./square-pen-CPfJwZSi.js";import{T as Z}from"./trash-2-BGEcaC5X.js";import"./index-Ci_qB1WW.js";import"./index-DkLA8Hun.js";import"./index-DYYK5dbJ.js";import"./index-FM6g0UGI.js";import"./chevron-up-CGjsbtlF.js";import"./check-B0XS7teL.js";const C=[{value:"newsletter",label:"Newsletter"},{value:"promotional",label:"Promotional"},{value:"announcement",label:"Announcement"},{value:"transactional",label:"Transactional"},{value:"other",label:"Other"}],_=[{name:"Einfacher Newsletter",category:"newsletter",description:"Klassisches Newsletter-Design mit Header, Content und Footer",htmlContent:`<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Newsletter</title>
</head>
<body style="margin: 0; padding: 0; font-family: Arial, sans-serif; background-color: #f4f4f4;">
  <table width="100%" cellpadding="0" cellspacing="0" border="0" style="background-color: #f4f4f4;">
    <tr>
      <td align="center" style="padding: 40px 0;">
        <table width="600" cellpadding="0" cellspacing="0" border="0" style="background-color: #ffffff; border-radius: 8px; overflow: hidden; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
          <!-- Header -->
          <tr>
            <td style="background-color: #2563eb; padding: 30px; text-align: center;">
              <h1 style="color: #ffffff; margin: 0; font-size: 28px;">Ihr Newsletter</h1>
            </td>
          </tr>
          <!-- Content -->
          <tr>
            <td style="padding: 40px 30px;">
              <h2 style="color: #1f2937; margin: 0 0 20px 0;">Willkommen!</h2>
              <p style="color: #4b5563; line-height: 1.6; margin: 0 0 20px 0;">
                Dies ist Ihr Newsletter-Template. Passen Sie den Inhalt nach Ihren Wünschen an.
              </p>
              <p style="color: #4b5563; line-height: 1.6; margin: 0 0 30px 0;">
                Fügen Sie hier Ihre Nachrichten, Updates oder Angebote ein.
              </p>
              <table cellpadding="0" cellspacing="0" border="0">
                <tr>
                  <td style="background-color: #2563eb; border-radius: 6px; padding: 12px 30px;">
                    <a href="#" style="color: #ffffff; text-decoration: none; font-weight: bold; font-size: 16px;">Mehr erfahren</a>
                  </td>
                </tr>
              </table>
            </td>
          </tr>
          <!-- Footer -->
          <tr>
            <td style="background-color: #f9fafb; padding: 30px; text-align: center; border-top: 1px solid #e5e7eb;">
              <p style="color: #6b7280; font-size: 14px; margin: 0 0 10px 0;">
                © 2024 Ihr Unternehmen. Alle Rechte vorbehalten.
              </p>
              <p style="color: #6b7280; font-size: 12px; margin: 0;">
                <a href="#" style="color: #2563eb; text-decoration: none;">Abmelden</a>
              </p>
            </td>
          </tr>
        </table>
      </td>
    </tr>
  </table>
</body>
</html>`},{name:"Promotional Banner",category:"promotional",description:"Auffälliges Design für Werbeaktionen und Angebote",htmlContent:`<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Promotion</title>
</head>
<body style="margin: 0; padding: 0; font-family: Arial, sans-serif; background-color: #f4f4f4;">
  <table width="100%" cellpadding="0" cellspacing="0" border="0" style="background-color: #f4f4f4;">
    <tr>
      <td align="center" style="padding: 40px 0;">
        <table width="600" cellpadding="0" cellspacing="0" border="0" style="background-color: #ffffff; border-radius: 8px; overflow: hidden;">
          <!-- Hero Banner -->
          <tr>
            <td style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); padding: 60px 30px; text-align: center;">
              <h1 style="color: #ffffff; margin: 0 0 15px 0; font-size: 36px; font-weight: bold;">Exklusives Angebot!</h1>
              <p style="color: #ffffff; font-size: 20px; margin: 0 0 30px 0;">Nur für kurze Zeit verfügbar</p>
              <table cellpadding="0" cellspacing="0" border="0" style="margin: 0 auto;">
                <tr>
                  <td style="background-color: #ffffff; border-radius: 50px; padding: 15px 40px;">
                    <a href="#" style="color: #667eea; text-decoration: none; font-weight: bold; font-size: 18px;">Jetzt zugreifen</a>
                  </td>
                </tr>
              </table>
            </td>
          </tr>
          <!-- Content -->
          <tr>
            <td style="padding: 40px 30px; text-align: center;">
              <h2 style="color: #1f2937; margin: 0 0 20px 0;">Verpassen Sie nicht diese Gelegenheit</h2>
              <p style="color: #4b5563; line-height: 1.6; margin: 0 0 30px 0;">
                Beschreiben Sie hier Ihr Angebot und die Vorteile für Ihre Kunden.
              </p>
            </td>
          </tr>
          <!-- Footer -->
          <tr>
            <td style="background-color: #f9fafb; padding: 20px; text-align: center;">
              <p style="color: #6b7280; font-size: 12px; margin: 0;">
                <a href="#" style="color: #667eea; text-decoration: none;">Abmelden</a>
              </p>
            </td>
          </tr>
        </table>
      </td>
    </tr>
  </table>
</body>
</html>`}];function fe(){const[,g]=F(),[S,s]=c.useState(!1),[E,n]=c.useState(!1),[x,b]=c.useState(null),[t,l]=c.useState({name:"",description:"",category:"",htmlContent:""}),{data:o,isLoading:D,refetch:h}=m.newsletter.templates.list.useQuery(),d=m.newsletter.templates.create.useMutation({onSuccess:()=>{i.success("Template erstellt"),s(!1),l({name:"",description:"",category:"",htmlContent:""}),h()},onError:a=>{i.error(`Fehler: ${a.message}`)}}),A=m.newsletter.templates.delete.useMutation({onSuccess:()=>{i.success("Template gelöscht"),h()},onError:a=>{i.error(`Fehler: ${a.message}`)}}),z=()=>{if(!t.name||!t.htmlContent){i.error("Name und HTML-Content sind erforderlich");return}d.mutate({name:t.name,description:t.description||void 0,category:t.category||void 0,htmlContent:t.htmlContent})},P=a=>{confirm("Möchten Sie dieses Template wirklich löschen?")&&A.mutate({id:a})},I=a=>{l({name:a.name,description:a.description,category:a.category,htmlContent:a.htmlContent}),s(!0)},y=a=>{if(!a)return null;const p=C.find(M=>M.value===a);return e.jsx(O,{"data-loc":"client/src/pages/TemplateLibrary.tsx:236",variant:"outline",className:"text-xs",children:p?.label||a})};return e.jsx("div",{"data-loc":"client/src/pages/TemplateLibrary.tsx:243",className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 dark:from-gray-900 dark:to-gray-800 p-6",children:e.jsxs("div",{"data-loc":"client/src/pages/TemplateLibrary.tsx:244",className:"container mx-auto max-w-7xl",children:[e.jsxs("div",{"data-loc":"client/src/pages/TemplateLibrary.tsx:246",className:"mb-8",children:[e.jsxs(r,{"data-loc":"client/src/pages/TemplateLibrary.tsx:247",onClick:()=>g("/newsletter"),variant:"ghost",className:"mb-4",children:[e.jsx(G,{"data-loc":"client/src/pages/TemplateLibrary.tsx:252",className:"w-4 h-4 mr-2"}),"Zurück zum Newsletter"]}),e.jsxs("div",{"data-loc":"client/src/pages/TemplateLibrary.tsx:255",className:"flex items-center justify-between",children:[e.jsxs("div",{"data-loc":"client/src/pages/TemplateLibrary.tsx:256",children:[e.jsxs("div",{"data-loc":"client/src/pages/TemplateLibrary.tsx:257",className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{"data-loc":"client/src/pages/TemplateLibrary.tsx:258",className:"p-2 bg-indigo-500/10 rounded-lg",children:e.jsx(w,{"data-loc":"client/src/pages/TemplateLibrary.tsx:259",className:"w-6 h-6 text-indigo-600"})}),e.jsx("h1",{"data-loc":"client/src/pages/TemplateLibrary.tsx:261",className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Template-Bibliothek"})]}),e.jsx("p",{"data-loc":"client/src/pages/TemplateLibrary.tsx:265",className:"text-gray-600 dark:text-gray-400",children:"Verwalten Sie wiederverwendbare E-Mail-Templates"})]}),e.jsxs(r,{"data-loc":"client/src/pages/TemplateLibrary.tsx:269",onClick:()=>s(!0),className:"bg-indigo-600 hover:bg-indigo-700",children:[e.jsx(N,{"data-loc":"client/src/pages/TemplateLibrary.tsx:273",className:"w-4 h-4 mr-2"}),"Neues Template"]})]})]}),e.jsx(f,{"data-loc":"client/src/pages/TemplateLibrary.tsx:280",className:"bg-white dark:bg-gray-800 mb-6",children:e.jsxs("div",{"data-loc":"client/src/pages/TemplateLibrary.tsx:281",className:"p-6",children:[e.jsx("h2",{"data-loc":"client/src/pages/TemplateLibrary.tsx:282",className:"text-xl font-semibold mb-4 text-gray-900 dark:text-white",children:"Vorgefertigte Templates"}),e.jsx("div",{"data-loc":"client/src/pages/TemplateLibrary.tsx:285",className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:_.map((a,p)=>e.jsxs("div",{"data-loc":"client/src/pages/TemplateLibrary.tsx:287",className:"p-4 border border-gray-200 dark:border-gray-700 rounded-lg hover:border-indigo-500 transition-colors",children:[e.jsxs("div",{"data-loc":"client/src/pages/TemplateLibrary.tsx:291",className:"flex items-start justify-between mb-2",children:[e.jsxs("div",{"data-loc":"client/src/pages/TemplateLibrary.tsx:292",children:[e.jsx("h3",{"data-loc":"client/src/pages/TemplateLibrary.tsx:293",className:"font-medium text-gray-900 dark:text-white",children:a.name}),e.jsx("p",{"data-loc":"client/src/pages/TemplateLibrary.tsx:296",className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:a.description})]}),y(a.category)]}),e.jsxs("div",{"data-loc":"client/src/pages/TemplateLibrary.tsx:302",className:"flex gap-2 mt-4",children:[e.jsxs(r,{"data-loc":"client/src/pages/TemplateLibrary.tsx:303",variant:"outline",size:"sm",onClick:()=>{b(a),n(!0)},children:[e.jsx(k,{"data-loc":"client/src/pages/TemplateLibrary.tsx:311",className:"w-4 h-4 mr-2"}),"Vorschau"]}),e.jsxs(r,{"data-loc":"client/src/pages/TemplateLibrary.tsx:314",size:"sm",onClick:()=>I(a),className:"bg-indigo-600 hover:bg-indigo-700",children:[e.jsx(J,{"data-loc":"client/src/pages/TemplateLibrary.tsx:319",className:"w-4 h-4 mr-2"}),"Verwenden"]})]})]},p))})]})}),e.jsx(f,{"data-loc":"client/src/pages/TemplateLibrary.tsx:330",className:"bg-white dark:bg-gray-800",children:e.jsxs("div",{"data-loc":"client/src/pages/TemplateLibrary.tsx:331",className:"p-6",children:[e.jsx("h2",{"data-loc":"client/src/pages/TemplateLibrary.tsx:332",className:"text-xl font-semibold mb-4 text-gray-900 dark:text-white",children:"Eigene Templates"}),D?e.jsx("div",{"data-loc":"client/src/pages/TemplateLibrary.tsx:336",className:"flex justify-center py-12",children:e.jsx("div",{"data-loc":"client/src/pages/TemplateLibrary.tsx:337",className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"})}):!o||o.length===0?e.jsxs("div",{"data-loc":"client/src/pages/TemplateLibrary.tsx:340",className:"text-center py-12",children:[e.jsx(w,{"data-loc":"client/src/pages/TemplateLibrary.tsx:341",className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsx("p",{"data-loc":"client/src/pages/TemplateLibrary.tsx:342",className:"text-gray-500 mb-4",children:"Noch keine eigenen Templates erstellt"}),e.jsxs(r,{"data-loc":"client/src/pages/TemplateLibrary.tsx:343",onClick:()=>s(!0),variant:"outline",children:[e.jsx(N,{"data-loc":"client/src/pages/TemplateLibrary.tsx:347",className:"w-4 h-4 mr-2"}),"Erstes Template erstellen"]})]}):e.jsx("div",{"data-loc":"client/src/pages/TemplateLibrary.tsx:352",className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:o.map(a=>e.jsxs("div",{"data-loc":"client/src/pages/TemplateLibrary.tsx:354",className:"p-4 border border-gray-200 dark:border-gray-700 rounded-lg hover:border-indigo-500 transition-colors",children:[e.jsxs("div",{"data-loc":"client/src/pages/TemplateLibrary.tsx:358",className:"flex items-start justify-between mb-2",children:[e.jsxs("div",{"data-loc":"client/src/pages/TemplateLibrary.tsx:359",className:"flex-1",children:[e.jsx("h3",{"data-loc":"client/src/pages/TemplateLibrary.tsx:360",className:"font-medium text-gray-900 dark:text-white",children:a.name}),a.description&&e.jsx("p",{"data-loc":"client/src/pages/TemplateLibrary.tsx:364",className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:a.description})]}),y(a.category)]}),e.jsxs("div",{"data-loc":"client/src/pages/TemplateLibrary.tsx:371",className:"flex gap-2 mt-4",children:[e.jsx(r,{"data-loc":"client/src/pages/TemplateLibrary.tsx:372",variant:"ghost",size:"sm",onClick:()=>{b(a),n(!0)},children:e.jsx(k,{"data-loc":"client/src/pages/TemplateLibrary.tsx:380",className:"w-4 h-4"})}),e.jsx(r,{"data-loc":"client/src/pages/TemplateLibrary.tsx:382",variant:"ghost",size:"sm",onClick:()=>g(`/newsletter/templates/${a.id}/edit`),children:e.jsx(Y,{"data-loc":"client/src/pages/TemplateLibrary.tsx:389",className:"w-4 h-4"})}),e.jsx(r,{"data-loc":"client/src/pages/TemplateLibrary.tsx:391",variant:"ghost",size:"sm",onClick:()=>P(a.id),children:e.jsx(Z,{"data-loc":"client/src/pages/TemplateLibrary.tsx:396",className:"w-4 h-4"})})]})]},a.id))})]})}),e.jsx(u,{"data-loc":"client/src/pages/TemplateLibrary.tsx:407",open:S,onOpenChange:s,children:e.jsxs(L,{"data-loc":"client/src/pages/TemplateLibrary.tsx:408",className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(j,{"data-loc":"client/src/pages/TemplateLibrary.tsx:409",children:[e.jsx(v,{"data-loc":"client/src/pages/TemplateLibrary.tsx:410",children:"Neues Template erstellen"}),e.jsx(V,{"data-loc":"client/src/pages/TemplateLibrary.tsx:411",children:"Erstellen Sie ein wiederverwendbares E-Mail-Template"})]}),e.jsxs("div",{"data-loc":"client/src/pages/TemplateLibrary.tsx:415",className:"space-y-4",children:[e.jsxs("div",{"data-loc":"client/src/pages/TemplateLibrary.tsx:416",className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{"data-loc":"client/src/pages/TemplateLibrary.tsx:417",children:[e.jsx("label",{"data-loc":"client/src/pages/TemplateLibrary.tsx:418",className:"text-sm font-medium mb-2 block",children:"Template-Name *"}),e.jsx(T,{"data-loc":"client/src/pages/TemplateLibrary.tsx:421",placeholder:"z.B. Monatlicher Newsletter",value:t.name,onChange:a=>l({...t,name:a.target.value})})]}),e.jsxs("div",{"data-loc":"client/src/pages/TemplateLibrary.tsx:429",children:[e.jsx("label",{"data-loc":"client/src/pages/TemplateLibrary.tsx:430",className:"text-sm font-medium mb-2 block",children:"Kategorie"}),e.jsxs(U,{"data-loc":"client/src/pages/TemplateLibrary.tsx:433",value:t.category,onValueChange:a=>l({...t,category:a}),children:[e.jsx(K,{"data-loc":"client/src/pages/TemplateLibrary.tsx:439",children:e.jsx(R,{"data-loc":"client/src/pages/TemplateLibrary.tsx:440",placeholder:"Kategorie wählen"})}),e.jsx(W,{"data-loc":"client/src/pages/TemplateLibrary.tsx:442",children:C.map(a=>e.jsx($,{"data-loc":"client/src/pages/TemplateLibrary.tsx:444",value:a.value,children:a.label},a.value))})]})]})]}),e.jsxs("div",{"data-loc":"client/src/pages/TemplateLibrary.tsx:452",children:[e.jsx("label",{"data-loc":"client/src/pages/TemplateLibrary.tsx:453",className:"text-sm font-medium mb-2 block",children:"Beschreibung"}),e.jsx(T,{"data-loc":"client/src/pages/TemplateLibrary.tsx:456",placeholder:"Optionale Beschreibung",value:t.description,onChange:a=>l({...t,description:a.target.value})})]}),e.jsxs("div",{"data-loc":"client/src/pages/TemplateLibrary.tsx:467",children:[e.jsx("label",{"data-loc":"client/src/pages/TemplateLibrary.tsx:468",className:"text-sm font-medium mb-2 block",children:"HTML-Content *"}),e.jsx(B,{"data-loc":"client/src/pages/TemplateLibrary.tsx:471",placeholder:"Fügen Sie hier Ihren HTML-Code ein...",value:t.htmlContent,onChange:a=>l({...t,htmlContent:a.target.value}),rows:15,className:"font-mono text-sm"})]})]}),e.jsxs(H,{"data-loc":"client/src/pages/TemplateLibrary.tsx:485",children:[e.jsx(r,{"data-loc":"client/src/pages/TemplateLibrary.tsx:486",variant:"outline",onClick:()=>s(!1),children:"Abbrechen"}),e.jsx(r,{"data-loc":"client/src/pages/TemplateLibrary.tsx:492",onClick:z,disabled:d.isPending,className:"bg-indigo-600 hover:bg-indigo-700",children:d.isPending?"Erstelle...":"Template erstellen"})]})]})}),e.jsx(u,{"data-loc":"client/src/pages/TemplateLibrary.tsx:504",open:E,onOpenChange:n,children:e.jsxs(L,{"data-loc":"client/src/pages/TemplateLibrary.tsx:505",className:"max-w-4xl max-h-[90vh]",children:[e.jsx(j,{"data-loc":"client/src/pages/TemplateLibrary.tsx:506",children:e.jsx(v,{"data-loc":"client/src/pages/TemplateLibrary.tsx:507",children:x?.name||"Template-Vorschau"})}),e.jsx("div",{"data-loc":"client/src/pages/TemplateLibrary.tsx:511",className:"border rounded-lg overflow-hidden bg-white",children:e.jsx("iframe",{"data-loc":"client/src/pages/TemplateLibrary.tsx:512",srcDoc:x?.htmlContent,className:"w-full h-[600px] border-0",title:"Template Preview"})})]})})]})})}export{fe as default};
