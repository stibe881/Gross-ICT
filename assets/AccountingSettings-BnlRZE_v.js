import{N as x,j as p,A as o,x as t}from"./index-BN9GAmQT.js";import{L as A}from"./LoadingSkeleton-DmaNQS4_.js";import{B as g}from"./button-B7XicF_D.js";import{C as r}from"./card-DDCG5iAJ.js";import{I as i}from"./input-DAxyQcQ6.js";import{L as a}from"./label-WV9rmlgK.js";import{T as j}from"./textarea-CUpb7IQY.js";import{P as u}from"./palette-BqcrBhrU.js";import{S as m}from"./save-DcPehqtW.js";import{B as v}from"./building-2-CncIBXM4.js";import{F as y}from"./file-text-zOWEdpec.js";import"./skeleton-B4p3r7MP.js";import"./index-Ci_qB1WW.js";import"./dialog-BFxkyGdG.js";import"./index-DkLA8Hun.js";import"./index-BxbciWQS.js";function M(){const{data:n,isLoading:h,refetch:S}=x.accountingSettings.get.useQuery(),[e,c]=p.useState({companyName:"",companyAddress:"",companyCity:"",companyPostalCode:"",companyCountry:"Schweiz",companyPhone:"",companyEmail:"",companyWebsite:"",taxId:"",bankName:"",iban:"",invoicePrefix:"RE-",quotePrefix:"AN-",invoiceFooter:""});p.useState(()=>{n&&c({companyName:n.companyName||"",companyAddress:n.companyAddress||"",companyCity:n.companyCity||"",companyPostalCode:n.companyPostalCode||"",companyCountry:n.companyCountry||"Schweiz",companyPhone:n.companyPhone||"",companyEmail:n.companyEmail||"",companyWebsite:n.companyWebsite||"",taxId:n.taxId||"",bankName:n.bankName||"",iban:n.iban||"",invoicePrefix:n.invoicePrefix||"RE-",quotePrefix:n.quotePrefix||"AN-",invoiceFooter:n.invoiceFooter||""})});const l=x.accountingSettings.update.useMutation({onSuccess:()=>{o.success("Einstellungen gespeichert"),S()},onError:s=>{o.error(`Fehler: ${s.message}`)}}),d=()=>{if(!e.companyName||!e.companyEmail){o.error("Bitte füllen Sie mindestens Firmenname und E-Mail aus");return}l.mutate(e)};return h?t.jsx("div",{"data-loc":"client/src/pages/AccountingSettings.tsx:76",className:"space-y-6 p-6",children:t.jsx(A,{"data-loc":"client/src/pages/AccountingSettings.tsx:77",variant:"form",rows:6})}):t.jsxs("div",{"data-loc":"client/src/pages/AccountingSettings.tsx:83",className:"space-y-6",children:[t.jsxs("div",{"data-loc":"client/src/pages/AccountingSettings.tsx:84",className:"flex justify-between items-center",children:[t.jsxs("div",{"data-loc":"client/src/pages/AccountingSettings.tsx:85",children:[t.jsx("h2",{"data-loc":"client/src/pages/AccountingSettings.tsx:86",className:"text-2xl font-bold",children:"Buchhaltungseinstellungen"}),t.jsx("p",{"data-loc":"client/src/pages/AccountingSettings.tsx:87",className:"text-muted-foreground",children:"Firmeninformationen und Rechnungsdesign verwalten"})]}),t.jsxs("div",{"data-loc":"client/src/pages/AccountingSettings.tsx:89",className:"flex gap-2",children:[t.jsxs(g,{"data-loc":"client/src/pages/AccountingSettings.tsx:90",variant:"outline",onClick:()=>window.location.href="/invoice-template-editor",children:[t.jsx(u,{"data-loc":"client/src/pages/AccountingSettings.tsx:91",className:"w-4 h-4 mr-2"}),"Vorlagen-Editor"]}),t.jsxs(g,{"data-loc":"client/src/pages/AccountingSettings.tsx:94",onClick:d,disabled:l.isPending,children:[t.jsx(m,{"data-loc":"client/src/pages/AccountingSettings.tsx:95",className:"w-4 h-4 mr-2"}),l.isPending?"Speichere...":"Speichern"]})]})]}),t.jsxs(r,{"data-loc":"client/src/pages/AccountingSettings.tsx:102",className:"p-6",children:[t.jsxs("div",{"data-loc":"client/src/pages/AccountingSettings.tsx:103",className:"flex items-center gap-3 mb-6",children:[t.jsx("div",{"data-loc":"client/src/pages/AccountingSettings.tsx:104",className:"p-2 bg-primary/10 rounded-lg",children:t.jsx(v,{"data-loc":"client/src/pages/AccountingSettings.tsx:105",className:"w-5 h-5 text-primary"})}),t.jsxs("div",{"data-loc":"client/src/pages/AccountingSettings.tsx:107",children:[t.jsx("h3",{"data-loc":"client/src/pages/AccountingSettings.tsx:108",className:"text-lg font-semibold",children:"Firmeninformationen"}),t.jsx("p",{"data-loc":"client/src/pages/AccountingSettings.tsx:109",className:"text-sm text-muted-foreground",children:"Erscheint auf Rechnungen und Angeboten"})]})]}),t.jsxs("div",{"data-loc":"client/src/pages/AccountingSettings.tsx:113",className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{"data-loc":"client/src/pages/AccountingSettings.tsx:114",className:"md:col-span-2",children:[t.jsx(a,{"data-loc":"client/src/pages/AccountingSettings.tsx:115",children:"Firmenname *"}),t.jsx(i,{"data-loc":"client/src/pages/AccountingSettings.tsx:116",value:e.companyName,onChange:s=>c({...e,companyName:s.target.value}),placeholder:"Gross ICT"})]}),t.jsxs("div",{"data-loc":"client/src/pages/AccountingSettings.tsx:123",className:"md:col-span-2",children:[t.jsx(a,{"data-loc":"client/src/pages/AccountingSettings.tsx:124",children:"Adresse"}),t.jsx(i,{"data-loc":"client/src/pages/AccountingSettings.tsx:125",value:e.companyAddress,onChange:s=>c({...e,companyAddress:s.target.value}),placeholder:"Musterstrasse 123"})]}),t.jsxs("div",{"data-loc":"client/src/pages/AccountingSettings.tsx:132",children:[t.jsx(a,{"data-loc":"client/src/pages/AccountingSettings.tsx:133",children:"PLZ"}),t.jsx(i,{"data-loc":"client/src/pages/AccountingSettings.tsx:134",value:e.companyPostalCode,onChange:s=>c({...e,companyPostalCode:s.target.value}),placeholder:"8000"})]}),t.jsxs("div",{"data-loc":"client/src/pages/AccountingSettings.tsx:141",children:[t.jsx(a,{"data-loc":"client/src/pages/AccountingSettings.tsx:142",children:"Stadt"}),t.jsx(i,{"data-loc":"client/src/pages/AccountingSettings.tsx:143",value:e.companyCity,onChange:s=>c({...e,companyCity:s.target.value}),placeholder:"Zürich"})]}),t.jsxs("div",{"data-loc":"client/src/pages/AccountingSettings.tsx:150",children:[t.jsx(a,{"data-loc":"client/src/pages/AccountingSettings.tsx:151",children:"Land"}),t.jsx(i,{"data-loc":"client/src/pages/AccountingSettings.tsx:152",value:e.companyCountry,onChange:s=>c({...e,companyCountry:s.target.value}),placeholder:"Schweiz"})]}),t.jsxs("div",{"data-loc":"client/src/pages/AccountingSettings.tsx:159",children:[t.jsx(a,{"data-loc":"client/src/pages/AccountingSettings.tsx:160",children:"Telefon"}),t.jsx(i,{"data-loc":"client/src/pages/AccountingSettings.tsx:161",value:e.companyPhone,onChange:s=>c({...e,companyPhone:s.target.value}),placeholder:"+41 44 123 45 67"})]}),t.jsxs("div",{"data-loc":"client/src/pages/AccountingSettings.tsx:168",children:[t.jsx(a,{"data-loc":"client/src/pages/AccountingSettings.tsx:169",children:"E-Mail *"}),t.jsx(i,{"data-loc":"client/src/pages/AccountingSettings.tsx:170",type:"email",value:e.companyEmail,onChange:s=>c({...e,companyEmail:s.target.value}),placeholder:"info@gross-ict.ch"})]}),t.jsxs("div",{"data-loc":"client/src/pages/AccountingSettings.tsx:178",children:[t.jsx(a,{"data-loc":"client/src/pages/AccountingSettings.tsx:179",children:"Website"}),t.jsx(i,{"data-loc":"client/src/pages/AccountingSettings.tsx:180",value:e.companyWebsite,onChange:s=>c({...e,companyWebsite:s.target.value}),placeholder:"www.gross-ict.ch"})]}),t.jsxs("div",{"data-loc":"client/src/pages/AccountingSettings.tsx:187",children:[t.jsx(a,{"data-loc":"client/src/pages/AccountingSettings.tsx:188",children:"UID/MwSt-Nummer"}),t.jsx(i,{"data-loc":"client/src/pages/AccountingSettings.tsx:189",value:e.taxId,onChange:s=>c({...e,taxId:s.target.value}),placeholder:"CHE-123.456.789"})]})]})]}),t.jsxs(r,{"data-loc":"client/src/pages/AccountingSettings.tsx:199",className:"p-6",children:[t.jsxs("div",{"data-loc":"client/src/pages/AccountingSettings.tsx:200",className:"flex items-center gap-3 mb-6",children:[t.jsx("div",{"data-loc":"client/src/pages/AccountingSettings.tsx:201",className:"p-2 bg-primary/10 rounded-lg",children:t.jsx(y,{"data-loc":"client/src/pages/AccountingSettings.tsx:202",className:"w-5 h-5 text-primary"})}),t.jsxs("div",{"data-loc":"client/src/pages/AccountingSettings.tsx:204",children:[t.jsx("h3",{"data-loc":"client/src/pages/AccountingSettings.tsx:205",className:"text-lg font-semibold",children:"Bankverbindung"}),t.jsx("p",{"data-loc":"client/src/pages/AccountingSettings.tsx:206",className:"text-sm text-muted-foreground",children:"Für Zahlungsinformationen auf Rechnungen"})]})]}),t.jsxs("div",{"data-loc":"client/src/pages/AccountingSettings.tsx:210",className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{"data-loc":"client/src/pages/AccountingSettings.tsx:211",className:"md:col-span-2",children:[t.jsx(a,{"data-loc":"client/src/pages/AccountingSettings.tsx:212",children:"Bankname"}),t.jsx(i,{"data-loc":"client/src/pages/AccountingSettings.tsx:213",value:e.bankName,onChange:s=>c({...e,bankName:s.target.value}),placeholder:"UBS Switzerland AG"})]}),t.jsxs("div",{"data-loc":"client/src/pages/AccountingSettings.tsx:220",children:[t.jsx(a,{"data-loc":"client/src/pages/AccountingSettings.tsx:221",children:"IBAN"}),t.jsx(i,{"data-loc":"client/src/pages/AccountingSettings.tsx:222",value:e.iban,onChange:s=>c({...e,iban:s.target.value}),placeholder:"CH93 0076 2011 6238 5295 7"})]})]})]}),t.jsxs(r,{"data-loc":"client/src/pages/AccountingSettings.tsx:234",className:"p-6",children:[t.jsxs("div",{"data-loc":"client/src/pages/AccountingSettings.tsx:235",className:"flex items-center gap-3 mb-6",children:[t.jsx("div",{"data-loc":"client/src/pages/AccountingSettings.tsx:236",className:"p-2 bg-primary/10 rounded-lg",children:t.jsx(u,{"data-loc":"client/src/pages/AccountingSettings.tsx:237",className:"w-5 h-5 text-primary"})}),t.jsxs("div",{"data-loc":"client/src/pages/AccountingSettings.tsx:239",children:[t.jsx("h3",{"data-loc":"client/src/pages/AccountingSettings.tsx:240",className:"text-lg font-semibold",children:"Rechnungsdesign"}),t.jsx("p",{"data-loc":"client/src/pages/AccountingSettings.tsx:241",className:"text-sm text-muted-foreground",children:"Anpassen von Nummernkreisen und Texten"})]})]}),t.jsxs("div",{"data-loc":"client/src/pages/AccountingSettings.tsx:245",className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{"data-loc":"client/src/pages/AccountingSettings.tsx:246",children:[t.jsx(a,{"data-loc":"client/src/pages/AccountingSettings.tsx:247",children:"Rechnungsnummer-Präfix"}),t.jsx(i,{"data-loc":"client/src/pages/AccountingSettings.tsx:248",value:e.invoicePrefix,onChange:s=>c({...e,invoicePrefix:s.target.value}),placeholder:"RE-"}),t.jsxs("p",{"data-loc":"client/src/pages/AccountingSettings.tsx:253",className:"text-xs text-muted-foreground mt-1",children:["Beispiel: ",e.invoicePrefix,"2025-0001"]})]}),t.jsxs("div",{"data-loc":"client/src/pages/AccountingSettings.tsx:258",children:[t.jsx(a,{"data-loc":"client/src/pages/AccountingSettings.tsx:259",children:"Angebotsnummer-Präfix"}),t.jsx(i,{"data-loc":"client/src/pages/AccountingSettings.tsx:260",value:e.quotePrefix,onChange:s=>c({...e,quotePrefix:s.target.value}),placeholder:"AN-"}),t.jsxs("p",{"data-loc":"client/src/pages/AccountingSettings.tsx:265",className:"text-xs text-muted-foreground mt-1",children:["Beispiel: ",e.quotePrefix,"2025-0001"]})]}),t.jsxs("div",{"data-loc":"client/src/pages/AccountingSettings.tsx:270",className:"md:col-span-2",children:[t.jsx(a,{"data-loc":"client/src/pages/AccountingSettings.tsx:271",children:"Rechnungsfusszeile"}),t.jsx(j,{"data-loc":"client/src/pages/AccountingSettings.tsx:272",value:e.invoiceFooter,onChange:s=>c({...e,invoiceFooter:s.target.value}),placeholder:"Zahlbar innerhalb von 30 Tagen ohne Abzug.",rows:3})]})]})]}),t.jsx("div",{"data-loc":"client/src/pages/AccountingSettings.tsx:284",className:"flex justify-end",children:t.jsxs(g,{"data-loc":"client/src/pages/AccountingSettings.tsx:285",onClick:d,disabled:l.isPending,size:"lg",children:[t.jsx(m,{"data-loc":"client/src/pages/AccountingSettings.tsx:286",className:"w-4 h-4 mr-2"}),l.isPending?"Speichere...":"Alle Einstellungen speichern"]})})]})}export{M as default};
