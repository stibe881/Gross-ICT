import{j as N,x as e,I as T,N as u,T as k}from"./index-BN9GAmQT.js";import{C as o,a as l,b as d,d as x,c as A}from"./card-DDCG5iAJ.js";import{c as $}from"./index-DgoHzKAC.js";import{P as b}from"./index-BxbciWQS.js";import{C as f}from"./circle-check-CegIR20y.js";import{T as V}from"./trending-up-q9Xt4TNZ.js";import{C as S}from"./clock-C0SPg0PF.js";import"./index-Ci_qB1WW.js";var h="Progress",L=100,[I]=$(h),[E,D]=I(h),y=N.forwardRef((s,a)=>{const{__scopeProgress:r,value:c=null,max:i,getValueLabel:m=z,...p}=s;(i||i===0)&&!j(i)&&console.error(_(`${i}`,"Progress"));const n=j(i)?i:L;c!==null&&!M(c,n)&&console.error(O(`${c}`,"Progress"));const t=M(c,n)?c:null,P=g(t)?m(t,n):void 0;return e.jsx(E,{scope:r,value:t,max:n,children:e.jsx(b.div,{"aria-valuemax":n,"aria-valuemin":0,"aria-valuenow":g(t)?t:void 0,"aria-valuetext":P,role:"progressbar","data-state":R(t,n),"data-value":t??void 0,"data-max":n,...p,ref:a})})});y.displayName=h;var w="ProgressIndicator",C=N.forwardRef((s,a)=>{const{__scopeProgress:r,...c}=s,i=D(w,r);return e.jsx(b.div,{"data-state":R(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...c,ref:a})});C.displayName=w;function z(s,a){return`${Math.round(s/a*100)}%`}function R(s,a){return s==null?"indeterminate":s===a?"complete":"loading"}function g(s){return typeof s=="number"}function j(s){return g(s)&&!isNaN(s)&&s>0}function M(s,a){return g(s)&&!isNaN(s)&&s<=a&&s>=0}function _(s,a){return`Invalid prop \`max\` of value \`${s}\` supplied to \`${a}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${L}\`.`}function O(s,a){return`Invalid prop \`value\` of value \`${s}\` supplied to \`${a}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${L} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var Q=y,B=C;function v({className:s,value:a,...r}){return e.jsx(Q,{"data-loc":"client/src/components/ui/progress.tsx:12","data-slot":"progress",className:T("bg-primary/20 relative h-2 w-full overflow-hidden rounded-full",s),...r,children:e.jsx(B,{"data-loc":"client/src/components/ui/progress.tsx:20","data-slot":"progress-indicator",className:"bg-primary h-full w-full flex-1 transition-all",style:{transform:`translateX(-${100-(a||0)}%)`}})})}function J(){const{data:s,isLoading:a}=u.slaMonitoring.getCompliance.useQuery(),{data:r,isLoading:c}=u.slaMonitoring.getPerformanceByContract.useQuery(),{data:i,isLoading:m}=u.slaMonitoring.getBreachAlerts.useQuery();if(a||c||m)return e.jsx("div",{"data-loc":"client/src/pages/SLAMonitoring.tsx:13",className:"flex items-center justify-center h-96",children:e.jsxs("div",{"data-loc":"client/src/pages/SLAMonitoring.tsx:14",className:"text-center",children:[e.jsx("div",{"data-loc":"client/src/pages/SLAMonitoring.tsx:15",className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto"}),e.jsx("p",{"data-loc":"client/src/pages/SLAMonitoring.tsx:16",className:"mt-4 text-muted-foreground",children:"Lade SLA-Daten..."})]})});const p=t=>{switch(t){case"critical":return"text-red-600 bg-red-50 border-red-200";case"high":return"text-orange-600 bg-orange-50 border-orange-200";case"medium":return"text-yellow-600 bg-yellow-50 border-yellow-200";default:return"text-gray-600 bg-gray-50 border-gray-200"}},n=t=>t>=90?"text-green-600":t>=80?"text-yellow-600":t>=70?"text-orange-600":"text-red-600";return e.jsxs("div",{"data-loc":"client/src/pages/SLAMonitoring.tsx:43",className:"container mx-auto py-8 space-y-8",children:[e.jsxs("div",{"data-loc":"client/src/pages/SLAMonitoring.tsx:44",children:[e.jsx("h1",{"data-loc":"client/src/pages/SLAMonitoring.tsx:45",className:"text-3xl font-bold",children:"SLA-Monitoring"}),e.jsx("p",{"data-loc":"client/src/pages/SLAMonitoring.tsx:46",className:"text-muted-foreground mt-2",children:"Übersicht über SLA-Compliance und Performance-Metriken"})]}),e.jsxs("div",{"data-loc":"client/src/pages/SLAMonitoring.tsx:52",className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsxs(o,{"data-loc":"client/src/pages/SLAMonitoring.tsx:53",children:[e.jsxs(l,{"data-loc":"client/src/pages/SLAMonitoring.tsx:54",className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(d,{"data-loc":"client/src/pages/SLAMonitoring.tsx:55",className:"text-sm font-medium",children:"Aktive Verträge mit SLA"}),e.jsx(f,{"data-loc":"client/src/pages/SLAMonitoring.tsx:56",className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(x,{"data-loc":"client/src/pages/SLAMonitoring.tsx:58",children:[e.jsx("div",{"data-loc":"client/src/pages/SLAMonitoring.tsx:59",className:"text-2xl font-bold",children:s?.totalContracts||0}),e.jsx("p",{"data-loc":"client/src/pages/SLAMonitoring.tsx:60",className:"text-xs text-muted-foreground mt-1",children:"Verträge mit SLA-Richtlinien"})]})]}),e.jsxs(o,{"data-loc":"client/src/pages/SLAMonitoring.tsx:66",children:[e.jsxs(l,{"data-loc":"client/src/pages/SLAMonitoring.tsx:67",className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(d,{"data-loc":"client/src/pages/SLAMonitoring.tsx:68",className:"text-sm font-medium",children:"Compliance-Rate"}),e.jsx(V,{"data-loc":"client/src/pages/SLAMonitoring.tsx:69",className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(x,{"data-loc":"client/src/pages/SLAMonitoring.tsx:71",children:[e.jsxs("div",{"data-loc":"client/src/pages/SLAMonitoring.tsx:72",className:`text-2xl font-bold ${n(s?.complianceRate||0)}`,children:[s?.complianceRate||0,"%"]}),e.jsx(v,{"data-loc":"client/src/pages/SLAMonitoring.tsx:75",value:s?.complianceRate||0,className:"mt-2"}),e.jsx("p",{"data-loc":"client/src/pages/SLAMonitoring.tsx:76",className:"text-xs text-muted-foreground mt-1",children:"Letzte 30 Tage"})]})]}),e.jsxs(o,{"data-loc":"client/src/pages/SLAMonitoring.tsx:82",children:[e.jsxs(l,{"data-loc":"client/src/pages/SLAMonitoring.tsx:83",className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(d,{"data-loc":"client/src/pages/SLAMonitoring.tsx:84",className:"text-sm font-medium",children:"Ø Reaktionszeit"}),e.jsx(S,{"data-loc":"client/src/pages/SLAMonitoring.tsx:85",className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(x,{"data-loc":"client/src/pages/SLAMonitoring.tsx:87",children:[e.jsxs("div",{"data-loc":"client/src/pages/SLAMonitoring.tsx:88",className:"text-2xl font-bold",children:[s?.avgResponseTime||0,"min"]}),e.jsx("p",{"data-loc":"client/src/pages/SLAMonitoring.tsx:89",className:"text-xs text-muted-foreground mt-1",children:"Durchschnittliche Erstreaktion"})]})]}),e.jsxs(o,{"data-loc":"client/src/pages/SLAMonitoring.tsx:95",children:[e.jsxs(l,{"data-loc":"client/src/pages/SLAMonitoring.tsx:96",className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(d,{"data-loc":"client/src/pages/SLAMonitoring.tsx:97",className:"text-sm font-medium",children:"Ø Lösungszeit"}),e.jsx(S,{"data-loc":"client/src/pages/SLAMonitoring.tsx:98",className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(x,{"data-loc":"client/src/pages/SLAMonitoring.tsx:100",children:[e.jsxs("div",{"data-loc":"client/src/pages/SLAMonitoring.tsx:101",className:"text-2xl font-bold",children:[s?.avgResolutionTime||0,"h"]}),e.jsx("p",{"data-loc":"client/src/pages/SLAMonitoring.tsx:102",className:"text-xs text-muted-foreground mt-1",children:"Durchschnittliche Lösungszeit"})]})]})]}),i&&i.length>0&&e.jsxs(o,{"data-loc":"client/src/pages/SLAMonitoring.tsx:111",className:"border-orange-200 bg-orange-50/50",children:[e.jsxs(l,{"data-loc":"client/src/pages/SLAMonitoring.tsx:112",children:[e.jsxs(d,{"data-loc":"client/src/pages/SLAMonitoring.tsx:113",className:"flex items-center gap-2",children:[e.jsx(k,{"data-loc":"client/src/pages/SLAMonitoring.tsx:114",className:"h-5 w-5 text-orange-600"}),"SLA-Warnungen"]}),e.jsx(A,{"data-loc":"client/src/pages/SLAMonitoring.tsx:117",children:"Verträge mit niedriger Compliance-Rate (unter 80%)"})]}),e.jsx(x,{"data-loc":"client/src/pages/SLAMonitoring.tsx:121",children:e.jsx("div",{"data-loc":"client/src/pages/SLAMonitoring.tsx:122",className:"space-y-3",children:i.map(t=>e.jsx("div",{"data-loc":"client/src/pages/SLAMonitoring.tsx:124",className:`p-4 rounded-lg border ${p(t.severity)}`,children:e.jsxs("div",{"data-loc":"client/src/pages/SLAMonitoring.tsx:128",className:"flex items-start justify-between",children:[e.jsxs("div",{"data-loc":"client/src/pages/SLAMonitoring.tsx:129",className:"flex-1",children:[e.jsx("div",{"data-loc":"client/src/pages/SLAMonitoring.tsx:130",className:"font-medium",children:t.customerName}),e.jsxs("div",{"data-loc":"client/src/pages/SLAMonitoring.tsx:131",className:"text-sm opacity-80 mt-1",children:["Vertrag: ",t.contractNumber," | SLA: ",t.slaName]}),e.jsxs("div",{"data-loc":"client/src/pages/SLAMonitoring.tsx:134",className:"text-sm mt-2",children:[t.breachedTickets," von ",t.totalTickets," Tickets verletzt"]})]}),e.jsxs("div",{"data-loc":"client/src/pages/SLAMonitoring.tsx:138",className:"text-right",children:[e.jsxs("div",{"data-loc":"client/src/pages/SLAMonitoring.tsx:139",className:`text-2xl font-bold ${n(t.complianceRate)}`,children:[t.complianceRate,"%"]}),e.jsxs("div",{"data-loc":"client/src/pages/SLAMonitoring.tsx:142",className:"text-xs uppercase font-medium mt-1",children:[t.severity==="critical"&&"Kritisch",t.severity==="high"&&"Hoch",t.severity==="medium"&&"Mittel"]})]})]})},t.contractId))})})]}),e.jsxs(o,{"data-loc":"client/src/pages/SLAMonitoring.tsx:157",children:[e.jsxs(l,{"data-loc":"client/src/pages/SLAMonitoring.tsx:158",children:[e.jsx(d,{"data-loc":"client/src/pages/SLAMonitoring.tsx:159",children:"Performance nach Vertrag"}),e.jsx(A,{"data-loc":"client/src/pages/SLAMonitoring.tsx:160",children:"SLA-Compliance für jeden aktiven Vertrag (letzte 30 Tage)"})]}),e.jsx(x,{"data-loc":"client/src/pages/SLAMonitoring.tsx:164",children:r&&r.length>0?e.jsx("div",{"data-loc":"client/src/pages/SLAMonitoring.tsx:166",className:"space-y-4",children:r.map(t=>e.jsxs("div",{"data-loc":"client/src/pages/SLAMonitoring.tsx:168",className:"border rounded-lg p-4",children:[e.jsxs("div",{"data-loc":"client/src/pages/SLAMonitoring.tsx:169",className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{"data-loc":"client/src/pages/SLAMonitoring.tsx:170",className:"flex-1",children:[e.jsx("div",{"data-loc":"client/src/pages/SLAMonitoring.tsx:171",className:"font-medium",children:t.customerName}),e.jsxs("div",{"data-loc":"client/src/pages/SLAMonitoring.tsx:172",className:"text-sm text-muted-foreground mt-1",children:[t.contractNumber," | ",t.slaName]}),e.jsxs("div",{"data-loc":"client/src/pages/SLAMonitoring.tsx:175",className:"text-xs text-muted-foreground mt-1",children:["SLA: Reaktion ",t.slaResponseTime,"min, Lösung ",t.slaResolutionTime,"h"]})]}),e.jsxs("div",{"data-loc":"client/src/pages/SLAMonitoring.tsx:179",className:"text-right",children:[e.jsxs("div",{"data-loc":"client/src/pages/SLAMonitoring.tsx:180",className:`text-xl font-bold ${n(t.complianceRate)}`,children:[t.complianceRate,"%"]}),e.jsx("div",{"data-loc":"client/src/pages/SLAMonitoring.tsx:183",className:"text-xs text-muted-foreground mt-1",children:"Compliance"})]})]}),e.jsxs("div",{"data-loc":"client/src/pages/SLAMonitoring.tsx:188",className:"flex items-center gap-4 text-sm",children:[e.jsxs("div",{"data-loc":"client/src/pages/SLAMonitoring.tsx:189",children:[e.jsx("span",{"data-loc":"client/src/pages/SLAMonitoring.tsx:190",className:"text-muted-foreground",children:"Tickets:"})," ",e.jsx("span",{"data-loc":"client/src/pages/SLAMonitoring.tsx:191",className:"font-medium",children:t.totalTickets})]}),e.jsxs("div",{"data-loc":"client/src/pages/SLAMonitoring.tsx:193",children:[e.jsx("span",{"data-loc":"client/src/pages/SLAMonitoring.tsx:194",className:"text-muted-foreground",children:"Verletzt:"})," ",e.jsx("span",{"data-loc":"client/src/pages/SLAMonitoring.tsx:195",className:"font-medium text-red-600",children:t.breachedTickets})]})]}),e.jsx(v,{"data-loc":"client/src/pages/SLAMonitoring.tsx:198",value:t.complianceRate,className:"mt-3"})]},t.contractId))}):e.jsxs("div",{"data-loc":"client/src/pages/SLAMonitoring.tsx:203",className:"text-center py-12 text-muted-foreground",children:[e.jsx(f,{"data-loc":"client/src/pages/SLAMonitoring.tsx:204",className:"h-12 w-12 mx-auto mb-4 opacity-50"}),e.jsx("p",{"data-loc":"client/src/pages/SLAMonitoring.tsx:205",children:"Keine aktiven Verträge mit SLA-Richtlinien gefunden."})]})})]})]})}export{J as default};
