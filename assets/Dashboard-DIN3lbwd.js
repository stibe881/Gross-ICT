import{Q as D,J as j,j as y,N as i,A as N,x as e}from"./index-BN9GAmQT.js";import{B as d}from"./button-B7XicF_D.js";import{C as n,d as x,a as w,b as f,c as v}from"./card-DDCG5iAJ.js";import{B as m}from"./badge-DuBy3M6P.js";import{T as C}from"./TicketDetail-CuXYoXNA.js";import{L as T}from"./loader-circle-ClqFH6Ch.js";import{L}from"./log-out-Del1bcAp.js";import{T as g}from"./ticket-BVKPZXvN.js";import"./index-Ci_qB1WW.js";import"./input-DAxyQcQ6.js";import"./dialog-BFxkyGdG.js";import"./index-DkLA8Hun.js";import"./select-lpC4X7iX.js";import"./index-DYYK5dbJ.js";import"./index-FM6g0UGI.js";import"./chevron-up-CGjsbtlF.js";import"./check-B0XS7teL.js";import"./textarea-CUpb7IQY.js";import"./checkbox-BA-qCqmw.js";import"./label-WV9rmlgK.js";import"./index-BxbciWQS.js";import"./receipt-UyHtgOCh.js";import"./user-DNKQZcJU.js";import"./calendar-lP7qctBn.js";import"./message-square-D2-VYrWV.js";import"./file-text-zOWEdpec.js";import"./download-_y-9cJJ1.js";import"./lock-CN5MT7S2.js";import"./book-open-DJlXj3jr.js";import"./search-DYS7RNfR.js";import"./send-C6irG-PM.js";function ce(){const{user:a,loading:p}=D(),[,t]=j(),[c,o]=y.useState(null),{data:r,isLoading:h}=i.tickets.myTickets.useQuery(void 0,{enabled:!!a}),l=i.auth.logout.useMutation({onSuccess:()=>{N.success("Erfolgreich abgemeldet"),t("/login")}});if(p||h)return e.jsx("div",{"data-loc":"client/src/pages/Dashboard.tsx:30",className:"min-h-screen flex items-center justify-center bg-black",children:e.jsx(T,{"data-loc":"client/src/pages/Dashboard.tsx:31",className:"h-8 w-8 animate-spin text-primary"})});if(!a)return t("/login"),null;const b=s=>{switch(s){case"open":return"bg-blue-500/20 text-blue-400 border-blue-500/30";case"in_progress":return"bg-yellow-500/20 text-yellow-400 border-yellow-500/30";case"resolved":return"bg-green-500/20 text-green-400 border-green-500/30";case"closed":return"bg-gray-500/20 text-gray-400 border-gray-500/30";default:return"bg-gray-500/20 text-gray-400 border-gray-500/30"}},u=s=>{switch(s){case"urgent":return"bg-red-500/20 text-red-400 border-red-500/30";case"high":return"bg-orange-500/20 text-orange-400 border-orange-500/30";case"medium":return"bg-yellow-500/20 text-yellow-400 border-yellow-500/30";case"low":return"bg-green-500/20 text-green-400 border-green-500/30";default:return"bg-gray-500/20 text-gray-400 border-gray-500/30"}};return e.jsxs("div",{"data-loc":"client/src/pages/Dashboard.tsx:72",className:"min-h-screen bg-black text-white",children:[e.jsx("div",{"data-loc":"client/src/pages/Dashboard.tsx:74",className:"border-b border-white/10 bg-white/5 backdrop-blur-xl",children:e.jsxs("div",{"data-loc":"client/src/pages/Dashboard.tsx:75",className:"container mx-auto px-4 py-4 flex justify-between items-center",children:[e.jsxs("div",{"data-loc":"client/src/pages/Dashboard.tsx:76",children:[e.jsx("h1",{"data-loc":"client/src/pages/Dashboard.tsx:77",className:"text-2xl font-bold",children:"Mein Dashboard"}),e.jsxs("p",{"data-loc":"client/src/pages/Dashboard.tsx:78",className:"text-sm text-gray-400",children:["Willkommen, ",a.name||a.email]})]}),e.jsxs(d,{"data-loc":"client/src/pages/Dashboard.tsx:80",variant:"outline",onClick:()=>l.mutate(),disabled:l.isPending,className:"border-white/20 bg-white/5 hover:bg-white/10",children:[e.jsx(L,{"data-loc":"client/src/pages/Dashboard.tsx:86",className:"mr-2 h-4 w-4"}),"Abmelden"]})]})}),e.jsx("div",{"data-loc":"client/src/pages/Dashboard.tsx:93",className:"container mx-auto px-4 py-8",children:e.jsxs("div",{"data-loc":"client/src/pages/Dashboard.tsx:94",className:"mb-8",children:[e.jsxs("h2",{"data-loc":"client/src/pages/Dashboard.tsx:95",className:"text-xl font-bold mb-4 flex items-center gap-2",children:[e.jsx(g,{"data-loc":"client/src/pages/Dashboard.tsx:96",className:"h-5 w-5 text-primary"}),"Meine Tickets"]}),!r||r.length===0?e.jsx(n,{"data-loc":"client/src/pages/Dashboard.tsx:101",className:"bg-white/5 border-white/10",children:e.jsxs(x,{"data-loc":"client/src/pages/Dashboard.tsx:102",className:"py-12 text-center",children:[e.jsx(g,{"data-loc":"client/src/pages/Dashboard.tsx:103",className:"h-12 w-12 mx-auto mb-4 text-gray-500"}),e.jsx("p",{"data-loc":"client/src/pages/Dashboard.tsx:104",className:"text-gray-400",children:"Sie haben noch keine Tickets erstellt."}),e.jsx(d,{"data-loc":"client/src/pages/Dashboard.tsx:105",className:"mt-4",onClick:()=>t("/support-center"),children:"Neues Ticket erstellen"})]})}):e.jsx("div",{"data-loc":"client/src/pages/Dashboard.tsx:114",className:"grid gap-4",children:r.map(s=>e.jsxs(n,{"data-loc":"client/src/pages/Dashboard.tsx:116",className:"bg-white/5 border-white/10 hover:bg-white/10 transition-colors cursor-pointer",onClick:()=>o(s.id),children:[e.jsx(w,{"data-loc":"client/src/pages/Dashboard.tsx:121",children:e.jsxs("div",{"data-loc":"client/src/pages/Dashboard.tsx:122",className:"flex justify-between items-start",children:[e.jsxs("div",{"data-loc":"client/src/pages/Dashboard.tsx:123",children:[e.jsxs(f,{"data-loc":"client/src/pages/Dashboard.tsx:124",className:"text-white",children:["#",s.id," - ",s.subject]}),e.jsxs(v,{"data-loc":"client/src/pages/Dashboard.tsx:125",className:"text-gray-400",children:["Erstellt am ",new Date(s.createdAt).toLocaleDateString("de-DE")]})]}),e.jsxs("div",{"data-loc":"client/src/pages/Dashboard.tsx:129",className:"flex gap-2",children:[e.jsx(m,{"data-loc":"client/src/pages/Dashboard.tsx:130",className:u(s.priority),children:s.priority}),e.jsx(m,{"data-loc":"client/src/pages/Dashboard.tsx:133",className:b(s.status),children:s.status==="in_progress"?"In Bearbeitung":s.status==="open"?"Offen":s.status==="resolved"?"GelÃ¶st":"Geschlossen"})]})]})}),e.jsxs(x,{"data-loc":"client/src/pages/Dashboard.tsx:139",children:[e.jsx("p",{"data-loc":"client/src/pages/Dashboard.tsx:140",className:"text-gray-300 line-clamp-2",children:s.message}),s.company&&e.jsxs("p",{"data-loc":"client/src/pages/Dashboard.tsx:142",className:"text-sm text-gray-500 mt-2",children:["Firma: ",s.company]})]})]},s.id))})]})}),c&&e.jsx(C,{"data-loc":"client/src/pages/Dashboard.tsx:154",ticketId:c,onClose:()=>o(null)})]})}export{ce as default};
