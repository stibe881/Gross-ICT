import{j as d,N as x,A as r,x as e}from"./index-BN9GAmQT.js";import{C as V,a as R,b as _,d as J,c as ne}from"./card-DDCG5iAJ.js";import{B as c}from"./button-B7XicF_D.js";import{I as o}from"./input-DAxyQcQ6.js";import{L as l}from"./label-WV9rmlgK.js";import{T as j}from"./textarea-CUpb7IQY.js";import{S as N,a as C,b as S,c as k,d as s}from"./select-lpC4X7iX.js";import{D as w,a as A,b as D,c as F,e as z,f as B,X as W}from"./dialog-BFxkyGdG.js";import{T as me,a as pe,b as q,c as n,d as xe,e as m}from"./table-CCi6V4m7.js";import{B as I}from"./badge-DuBy3M6P.js";import{S as P}from"./switch-pOM7cBrf.js";import{P as Ee}from"./plus-Bs9J4-Yt.js";import{E as ge}from"./eye-DH5-FCbl.js";import{S as he}from"./square-pen-CPfJwZSi.js";import{C as Te}from"./copy-DZ6CQDg7.js";import{T as ue}from"./trash-2-BGEcaC5X.js";import{F as je}from"./file-text-zOWEdpec.js";import{C as Q}from"./code-Cdnbq5G7.js";import{S as U}from"./save-DcPehqtW.js";import"./index-Ci_qB1WW.js";import"./index-BxbciWQS.js";import"./index-DYYK5dbJ.js";import"./index-DkLA8Hun.js";import"./index-FM6g0UGI.js";import"./chevron-up-CGjsbtlF.js";import"./check-B0XS7teL.js";function We(){const[M,O]=d.useState(null),[X,E]=d.useState(!1),[G,g]=d.useState(!1),[Y,v]=d.useState(!1),[f,Z]=d.useState("all"),[L,ee]=d.useState(!1),[t,i]=d.useState({name:"",title:"",description:"",subject:"",body:"",category:"custom",isActive:!0,placeholders:[]}),{data:h,refetch:T}=x.emailTemplates.list.useQuery({category:f==="all"?void 0:f,activeOnly:L}),b=x.emailTemplates.create.useMutation({onSuccess:()=>{r.success("Template erfolgreich erstellt"),E(!1),K(),T()},onError:a=>{r.error(`Fehler: ${a.message}`)}}),y=x.emailTemplates.update.useMutation({onSuccess:()=>{r.success("Template erfolgreich aktualisiert"),g(!1),K(),T()},onError:a=>{r.error(`Fehler: ${a.message}`)}}),ae=x.emailTemplates.delete.useMutation({onSuccess:()=>{r.success("Template erfolgreich gelöscht"),T()},onError:a=>{r.error(`Fehler: ${a.message}`)}}),te=x.emailTemplates.duplicate.useMutation({onSuccess:()=>{r.success("Template erfolgreich dupliziert"),T()},onError:a=>{r.error(`Fehler: ${a.message}`)}}),K=()=>{i({name:"",title:"",description:"",subject:"",body:"",category:"custom",isActive:!0,placeholders:[]}),O(null)},le=()=>{b.mutate(t)},se=()=>{M&&y.mutate({id:M,...t})},ie=a=>{confirm("Möchten Sie dieses Template wirklich löschen?")&&ae.mutate({id:a})},ce=(a,u)=>{const p=prompt("Neuer Name für das duplizierte Template:",`${u}_copy`);p&&te.mutate({id:a,newName:p})},re=a=>{O(a.id),i({name:a.name,title:a.title,description:a.description||"",subject:a.subject,body:a.body,category:a.category,isActive:a.isActive,placeholders:a.placeholders?JSON.parse(a.placeholders):[]}),g(!0)},de=a=>{i({name:a.name,title:a.title,description:a.description||"",subject:a.subject,body:a.body,category:a.category,isActive:a.isActive,placeholders:a.placeholders?JSON.parse(a.placeholders):[]}),v(!0)},oe=a=>{const u={ticket:{variant:"default",label:"Ticket"},sla:{variant:"secondary",label:"SLA"},invoice:{variant:"outline",label:"Rechnung"},customer:{variant:"default",label:"Kunde"},system:{variant:"secondary",label:"System"},custom:{variant:"outline",label:"Benutzerdefiniert"}},p=u[a]||u.custom;return e.jsx(I,{"data-loc":"client/src/pages/EmailTemplateEditor.tsx:197",variant:p.variant,children:p.label})},$=["{{customerName}}","{{customerEmail}}","{{ticketId}}","{{ticketSubject}}","{{invoiceNumber}}","{{amount}}","{{dueDate}}","{{companyName}}"],H=a=>{i({...t,body:t.body+a})};return e.jsxs("div",{"data-loc":"client/src/pages/EmailTemplateEditor.tsx:220",className:"container mx-auto py-8",children:[e.jsxs("div",{"data-loc":"client/src/pages/EmailTemplateEditor.tsx:221",className:"flex items-center justify-between mb-8",children:[e.jsxs("div",{"data-loc":"client/src/pages/EmailTemplateEditor.tsx:222",children:[e.jsx("h1",{"data-loc":"client/src/pages/EmailTemplateEditor.tsx:223",className:"text-3xl font-bold",children:"Email-Template-Editor"}),e.jsx("p",{"data-loc":"client/src/pages/EmailTemplateEditor.tsx:224",className:"text-muted-foreground",children:"Erstellen und verwalten Sie Email-Benachrichtigungsvorlagen"})]}),e.jsxs(c,{"data-loc":"client/src/pages/EmailTemplateEditor.tsx:226",onClick:()=>E(!0),"aria-label":"Neues Template erstellen",children:[e.jsx(Ee,{"data-loc":"client/src/pages/EmailTemplateEditor.tsx:227",className:"h-4 w-4 mr-2","aria-hidden":"true"}),"Neues Template"]})]}),e.jsxs(V,{"data-loc":"client/src/pages/EmailTemplateEditor.tsx:233",className:"mb-6",children:[e.jsx(R,{"data-loc":"client/src/pages/EmailTemplateEditor.tsx:234",children:e.jsx(_,{"data-loc":"client/src/pages/EmailTemplateEditor.tsx:235",children:"Filter"})}),e.jsx(J,{"data-loc":"client/src/pages/EmailTemplateEditor.tsx:237",children:e.jsxs("div",{"data-loc":"client/src/pages/EmailTemplateEditor.tsx:238",className:"flex gap-4 items-center",children:[e.jsxs("div",{"data-loc":"client/src/pages/EmailTemplateEditor.tsx:239",className:"flex-1",children:[e.jsx(l,{"data-loc":"client/src/pages/EmailTemplateEditor.tsx:240",children:"Kategorie"}),e.jsxs(N,{"data-loc":"client/src/pages/EmailTemplateEditor.tsx:241",value:f,onValueChange:Z,children:[e.jsx(C,{"data-loc":"client/src/pages/EmailTemplateEditor.tsx:242","aria-label":"Kategorie filtern",children:e.jsx(S,{"data-loc":"client/src/pages/EmailTemplateEditor.tsx:243"})}),e.jsxs(k,{"data-loc":"client/src/pages/EmailTemplateEditor.tsx:245",children:[e.jsx(s,{"data-loc":"client/src/pages/EmailTemplateEditor.tsx:246",value:"all",children:"Alle"}),e.jsx(s,{"data-loc":"client/src/pages/EmailTemplateEditor.tsx:247",value:"ticket",children:"Ticket"}),e.jsx(s,{"data-loc":"client/src/pages/EmailTemplateEditor.tsx:248",value:"sla",children:"SLA"}),e.jsx(s,{"data-loc":"client/src/pages/EmailTemplateEditor.tsx:249",value:"invoice",children:"Rechnung"}),e.jsx(s,{"data-loc":"client/src/pages/EmailTemplateEditor.tsx:250",value:"customer",children:"Kunde"}),e.jsx(s,{"data-loc":"client/src/pages/EmailTemplateEditor.tsx:251",value:"system",children:"System"}),e.jsx(s,{"data-loc":"client/src/pages/EmailTemplateEditor.tsx:252",value:"custom",children:"Benutzerdefiniert"})]})]})]}),e.jsxs("div",{"data-loc":"client/src/pages/EmailTemplateEditor.tsx:256",className:"flex items-center gap-2",children:[e.jsx(P,{"data-loc":"client/src/pages/EmailTemplateEditor.tsx:257",checked:L,onCheckedChange:ee,"aria-label":"Nur aktive Templates anzeigen"}),e.jsx(l,{"data-loc":"client/src/pages/EmailTemplateEditor.tsx:262",children:"Nur Aktive"})]})]})})]}),e.jsxs(V,{"data-loc":"client/src/pages/EmailTemplateEditor.tsx:269",children:[e.jsxs(R,{"data-loc":"client/src/pages/EmailTemplateEditor.tsx:270",children:[e.jsx(_,{"data-loc":"client/src/pages/EmailTemplateEditor.tsx:271",children:"Email-Templates"}),e.jsxs(ne,{"data-loc":"client/src/pages/EmailTemplateEditor.tsx:272",children:[h?.length||0," Template(s) gefunden"]})]}),e.jsx(J,{"data-loc":"client/src/pages/EmailTemplateEditor.tsx:276",children:h&&h.length>0?e.jsxs(me,{"data-loc":"client/src/pages/EmailTemplateEditor.tsx:278",children:[e.jsx(pe,{"data-loc":"client/src/pages/EmailTemplateEditor.tsx:279",children:e.jsxs(q,{"data-loc":"client/src/pages/EmailTemplateEditor.tsx:280",children:[e.jsx(n,{"data-loc":"client/src/pages/EmailTemplateEditor.tsx:281",children:"Name"}),e.jsx(n,{"data-loc":"client/src/pages/EmailTemplateEditor.tsx:282",children:"Titel"}),e.jsx(n,{"data-loc":"client/src/pages/EmailTemplateEditor.tsx:283",children:"Kategorie"}),e.jsx(n,{"data-loc":"client/src/pages/EmailTemplateEditor.tsx:284",children:"Status"}),e.jsx(n,{"data-loc":"client/src/pages/EmailTemplateEditor.tsx:285",children:"Erstellt"}),e.jsx(n,{"data-loc":"client/src/pages/EmailTemplateEditor.tsx:286",className:"text-right",children:"Aktionen"})]})}),e.jsx(xe,{"data-loc":"client/src/pages/EmailTemplateEditor.tsx:289",children:h.map(a=>e.jsxs(q,{"data-loc":"client/src/pages/EmailTemplateEditor.tsx:291",children:[e.jsx(m,{"data-loc":"client/src/pages/EmailTemplateEditor.tsx:292",className:"font-medium",children:a.name}),e.jsx(m,{"data-loc":"client/src/pages/EmailTemplateEditor.tsx:293",children:a.title}),e.jsx(m,{"data-loc":"client/src/pages/EmailTemplateEditor.tsx:294",children:oe(a.category)}),e.jsx(m,{"data-loc":"client/src/pages/EmailTemplateEditor.tsx:295",children:a.isActive?e.jsx(I,{"data-loc":"client/src/pages/EmailTemplateEditor.tsx:297",variant:"default",children:"Aktiv"}):e.jsx(I,{"data-loc":"client/src/pages/EmailTemplateEditor.tsx:299",variant:"outline",children:"Inaktiv"})}),e.jsx(m,{"data-loc":"client/src/pages/EmailTemplateEditor.tsx:302",children:new Date(a.createdAt).toLocaleDateString("de-DE")}),e.jsx(m,{"data-loc":"client/src/pages/EmailTemplateEditor.tsx:305",className:"text-right",children:e.jsxs("div",{"data-loc":"client/src/pages/EmailTemplateEditor.tsx:306",className:"flex justify-end gap-2",children:[e.jsx(c,{"data-loc":"client/src/pages/EmailTemplateEditor.tsx:307",variant:"ghost",size:"sm",onClick:()=>de(a),"aria-label":`Template ${a.name} Vorschau anzeigen`,children:e.jsx(ge,{"data-loc":"client/src/pages/EmailTemplateEditor.tsx:313",className:"h-4 w-4","aria-hidden":"true"})}),e.jsx(c,{"data-loc":"client/src/pages/EmailTemplateEditor.tsx:315",variant:"ghost",size:"sm",onClick:()=>re(a),"aria-label":`Template ${a.name} bearbeiten`,children:e.jsx(he,{"data-loc":"client/src/pages/EmailTemplateEditor.tsx:321",className:"h-4 w-4","aria-hidden":"true"})}),e.jsx(c,{"data-loc":"client/src/pages/EmailTemplateEditor.tsx:323",variant:"ghost",size:"sm",onClick:()=>ce(a.id,a.name),"aria-label":`Template ${a.name} duplizieren`,children:e.jsx(Te,{"data-loc":"client/src/pages/EmailTemplateEditor.tsx:329",className:"h-4 w-4","aria-hidden":"true"})}),!a.isSystem&&e.jsx(c,{"data-loc":"client/src/pages/EmailTemplateEditor.tsx:332",variant:"ghost",size:"sm",onClick:()=>ie(a.id),"aria-label":`Template ${a.name} löschen`,children:e.jsx(ue,{"data-loc":"client/src/pages/EmailTemplateEditor.tsx:338",className:"h-4 w-4","aria-hidden":"true"})})]})})]},a.id))})]}):e.jsxs("div",{"data-loc":"client/src/pages/EmailTemplateEditor.tsx:348",className:"text-center py-12 text-muted-foreground",children:[e.jsx(je,{"data-loc":"client/src/pages/EmailTemplateEditor.tsx:349",className:"h-16 w-16 mx-auto mb-4","aria-hidden":"true"}),e.jsx("p",{"data-loc":"client/src/pages/EmailTemplateEditor.tsx:350",className:"text-lg font-medium",children:"Keine Templates gefunden"}),e.jsx("p",{"data-loc":"client/src/pages/EmailTemplateEditor.tsx:351",className:"text-sm",children:"Erstellen Sie Ihr erstes Email-Template"})]})})]}),e.jsx(w,{"data-loc":"client/src/pages/EmailTemplateEditor.tsx:358",open:X,onOpenChange:E,children:e.jsxs(A,{"data-loc":"client/src/pages/EmailTemplateEditor.tsx:359",className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(D,{"data-loc":"client/src/pages/EmailTemplateEditor.tsx:360",children:[e.jsx(F,{"data-loc":"client/src/pages/EmailTemplateEditor.tsx:361",children:"Neues Email-Template erstellen"}),e.jsx(z,{"data-loc":"client/src/pages/EmailTemplateEditor.tsx:362",children:"Erstellen Sie eine neue Email-Vorlage für Benachrichtigungen"})]}),e.jsxs("div",{"data-loc":"client/src/pages/EmailTemplateEditor.tsx:366",className:"grid gap-4 py-4",children:[e.jsxs("div",{"data-loc":"client/src/pages/EmailTemplateEditor.tsx:367",className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{"data-loc":"client/src/pages/EmailTemplateEditor.tsx:368",children:[e.jsx(l,{"data-loc":"client/src/pages/EmailTemplateEditor.tsx:369",htmlFor:"name",children:"Template-Name (ID)"}),e.jsx(o,{"data-loc":"client/src/pages/EmailTemplateEditor.tsx:370",id:"name",value:t.name,onChange:a=>i({...t,name:a.target.value}),placeholder:"z.B. ticket_created"})]}),e.jsxs("div",{"data-loc":"client/src/pages/EmailTemplateEditor.tsx:377",children:[e.jsx(l,{"data-loc":"client/src/pages/EmailTemplateEditor.tsx:378",htmlFor:"category",children:"Kategorie"}),e.jsxs(N,{"data-loc":"client/src/pages/EmailTemplateEditor.tsx:379",value:t.category,onValueChange:a=>i({...t,category:a}),children:[e.jsx(C,{"data-loc":"client/src/pages/EmailTemplateEditor.tsx:383",id:"category",children:e.jsx(S,{"data-loc":"client/src/pages/EmailTemplateEditor.tsx:384"})}),e.jsxs(k,{"data-loc":"client/src/pages/EmailTemplateEditor.tsx:386",children:[e.jsx(s,{"data-loc":"client/src/pages/EmailTemplateEditor.tsx:387",value:"ticket",children:"Ticket"}),e.jsx(s,{"data-loc":"client/src/pages/EmailTemplateEditor.tsx:388",value:"sla",children:"SLA"}),e.jsx(s,{"data-loc":"client/src/pages/EmailTemplateEditor.tsx:389",value:"invoice",children:"Rechnung"}),e.jsx(s,{"data-loc":"client/src/pages/EmailTemplateEditor.tsx:390",value:"customer",children:"Kunde"}),e.jsx(s,{"data-loc":"client/src/pages/EmailTemplateEditor.tsx:391",value:"system",children:"System"}),e.jsx(s,{"data-loc":"client/src/pages/EmailTemplateEditor.tsx:392",value:"custom",children:"Benutzerdefiniert"})]})]})]})]}),e.jsxs("div",{"data-loc":"client/src/pages/EmailTemplateEditor.tsx:397",children:[e.jsx(l,{"data-loc":"client/src/pages/EmailTemplateEditor.tsx:398",htmlFor:"title",children:"Titel"}),e.jsx(o,{"data-loc":"client/src/pages/EmailTemplateEditor.tsx:399",id:"title",value:t.title,onChange:a=>i({...t,title:a.target.value}),placeholder:"Anzeigename des Templates"})]}),e.jsxs("div",{"data-loc":"client/src/pages/EmailTemplateEditor.tsx:406",children:[e.jsx(l,{"data-loc":"client/src/pages/EmailTemplateEditor.tsx:407",htmlFor:"description",children:"Beschreibung"}),e.jsx(j,{"data-loc":"client/src/pages/EmailTemplateEditor.tsx:408",id:"description",value:t.description,onChange:a=>i({...t,description:a.target.value}),placeholder:"Optionale Beschreibung",rows:2})]}),e.jsxs("div",{"data-loc":"client/src/pages/EmailTemplateEditor.tsx:416",children:[e.jsx(l,{"data-loc":"client/src/pages/EmailTemplateEditor.tsx:417",htmlFor:"subject",children:"Betreff"}),e.jsx(o,{"data-loc":"client/src/pages/EmailTemplateEditor.tsx:418",id:"subject",value:t.subject,onChange:a=>i({...t,subject:a.target.value}),placeholder:"Email-Betreff (Platzhalter erlaubt)"})]}),e.jsxs("div",{"data-loc":"client/src/pages/EmailTemplateEditor.tsx:425",children:[e.jsx(l,{"data-loc":"client/src/pages/EmailTemplateEditor.tsx:426",htmlFor:"body",children:"Email-Inhalt (HTML)"}),e.jsx(j,{"data-loc":"client/src/pages/EmailTemplateEditor.tsx:427",id:"body",value:t.body,onChange:a=>i({...t,body:a.target.value}),placeholder:"HTML-Inhalt der Email",rows:12,className:"font-mono text-sm"})]}),e.jsxs("div",{"data-loc":"client/src/pages/EmailTemplateEditor.tsx:436",children:[e.jsx(l,{"data-loc":"client/src/pages/EmailTemplateEditor.tsx:437",children:"Platzhalter einfügen"}),e.jsx("div",{"data-loc":"client/src/pages/EmailTemplateEditor.tsx:438",className:"flex flex-wrap gap-2 mt-2",children:$.map(a=>e.jsxs(c,{"data-loc":"client/src/pages/EmailTemplateEditor.tsx:440",variant:"outline",size:"sm",onClick:()=>H(a),type:"button",children:[e.jsx(Q,{"data-loc":"client/src/pages/EmailTemplateEditor.tsx:447",className:"h-3 w-3 mr-1","aria-hidden":"true"}),a]},a))})]}),e.jsxs("div",{"data-loc":"client/src/pages/EmailTemplateEditor.tsx:453",className:"flex items-center gap-2",children:[e.jsx(P,{"data-loc":"client/src/pages/EmailTemplateEditor.tsx:454",checked:t.isActive,onCheckedChange:a=>i({...t,isActive:a}),id:"isActive"}),e.jsx(l,{"data-loc":"client/src/pages/EmailTemplateEditor.tsx:459",htmlFor:"isActive",children:"Template aktivieren"})]})]}),e.jsxs(B,{"data-loc":"client/src/pages/EmailTemplateEditor.tsx:462",children:[e.jsxs(c,{"data-loc":"client/src/pages/EmailTemplateEditor.tsx:463",variant:"outline",onClick:()=>E(!1),children:[e.jsx(W,{"data-loc":"client/src/pages/EmailTemplateEditor.tsx:464",className:"h-4 w-4 mr-2","aria-hidden":"true"}),"Abbrechen"]}),e.jsxs(c,{"data-loc":"client/src/pages/EmailTemplateEditor.tsx:467",onClick:le,disabled:b.isPending,children:[e.jsx(U,{"data-loc":"client/src/pages/EmailTemplateEditor.tsx:468",className:"h-4 w-4 mr-2","aria-hidden":"true"}),b.isPending?"Wird erstellt...":"Erstellen"]})]})]})}),e.jsx(w,{"data-loc":"client/src/pages/EmailTemplateEditor.tsx:476",open:G,onOpenChange:g,children:e.jsxs(A,{"data-loc":"client/src/pages/EmailTemplateEditor.tsx:477",className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(D,{"data-loc":"client/src/pages/EmailTemplateEditor.tsx:478",children:[e.jsx(F,{"data-loc":"client/src/pages/EmailTemplateEditor.tsx:479",children:"Email-Template bearbeiten"}),e.jsx(z,{"data-loc":"client/src/pages/EmailTemplateEditor.tsx:480",children:"Ändern Sie die Email-Vorlage"})]}),e.jsxs("div",{"data-loc":"client/src/pages/EmailTemplateEditor.tsx:484",className:"grid gap-4 py-4",children:[e.jsxs("div",{"data-loc":"client/src/pages/EmailTemplateEditor.tsx:485",className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{"data-loc":"client/src/pages/EmailTemplateEditor.tsx:486",children:[e.jsx(l,{"data-loc":"client/src/pages/EmailTemplateEditor.tsx:487",children:"Template-Name (ID)"}),e.jsx(o,{"data-loc":"client/src/pages/EmailTemplateEditor.tsx:488",value:t.name,disabled:!0})]}),e.jsxs("div",{"data-loc":"client/src/pages/EmailTemplateEditor.tsx:490",children:[e.jsx(l,{"data-loc":"client/src/pages/EmailTemplateEditor.tsx:491",htmlFor:"edit-category",children:"Kategorie"}),e.jsxs(N,{"data-loc":"client/src/pages/EmailTemplateEditor.tsx:492",value:t.category,onValueChange:a=>i({...t,category:a}),children:[e.jsx(C,{"data-loc":"client/src/pages/EmailTemplateEditor.tsx:496",id:"edit-category",children:e.jsx(S,{"data-loc":"client/src/pages/EmailTemplateEditor.tsx:497"})}),e.jsxs(k,{"data-loc":"client/src/pages/EmailTemplateEditor.tsx:499",children:[e.jsx(s,{"data-loc":"client/src/pages/EmailTemplateEditor.tsx:500",value:"ticket",children:"Ticket"}),e.jsx(s,{"data-loc":"client/src/pages/EmailTemplateEditor.tsx:501",value:"sla",children:"SLA"}),e.jsx(s,{"data-loc":"client/src/pages/EmailTemplateEditor.tsx:502",value:"invoice",children:"Rechnung"}),e.jsx(s,{"data-loc":"client/src/pages/EmailTemplateEditor.tsx:503",value:"customer",children:"Kunde"}),e.jsx(s,{"data-loc":"client/src/pages/EmailTemplateEditor.tsx:504",value:"system",children:"System"}),e.jsx(s,{"data-loc":"client/src/pages/EmailTemplateEditor.tsx:505",value:"custom",children:"Benutzerdefiniert"})]})]})]})]}),e.jsxs("div",{"data-loc":"client/src/pages/EmailTemplateEditor.tsx:510",children:[e.jsx(l,{"data-loc":"client/src/pages/EmailTemplateEditor.tsx:511",htmlFor:"edit-title",children:"Titel"}),e.jsx(o,{"data-loc":"client/src/pages/EmailTemplateEditor.tsx:512",id:"edit-title",value:t.title,onChange:a=>i({...t,title:a.target.value})})]}),e.jsxs("div",{"data-loc":"client/src/pages/EmailTemplateEditor.tsx:518",children:[e.jsx(l,{"data-loc":"client/src/pages/EmailTemplateEditor.tsx:519",htmlFor:"edit-description",children:"Beschreibung"}),e.jsx(j,{"data-loc":"client/src/pages/EmailTemplateEditor.tsx:520",id:"edit-description",value:t.description,onChange:a=>i({...t,description:a.target.value}),rows:2})]}),e.jsxs("div",{"data-loc":"client/src/pages/EmailTemplateEditor.tsx:527",children:[e.jsx(l,{"data-loc":"client/src/pages/EmailTemplateEditor.tsx:528",htmlFor:"edit-subject",children:"Betreff"}),e.jsx(o,{"data-loc":"client/src/pages/EmailTemplateEditor.tsx:529",id:"edit-subject",value:t.subject,onChange:a=>i({...t,subject:a.target.value})})]}),e.jsxs("div",{"data-loc":"client/src/pages/EmailTemplateEditor.tsx:535",children:[e.jsx(l,{"data-loc":"client/src/pages/EmailTemplateEditor.tsx:536",htmlFor:"edit-body",children:"Email-Inhalt (HTML)"}),e.jsx(j,{"data-loc":"client/src/pages/EmailTemplateEditor.tsx:537",id:"edit-body",value:t.body,onChange:a=>i({...t,body:a.target.value}),rows:12,className:"font-mono text-sm"})]}),e.jsxs("div",{"data-loc":"client/src/pages/EmailTemplateEditor.tsx:545",children:[e.jsx(l,{"data-loc":"client/src/pages/EmailTemplateEditor.tsx:546",children:"Platzhalter einfügen"}),e.jsx("div",{"data-loc":"client/src/pages/EmailTemplateEditor.tsx:547",className:"flex flex-wrap gap-2 mt-2",children:$.map(a=>e.jsxs(c,{"data-loc":"client/src/pages/EmailTemplateEditor.tsx:549",variant:"outline",size:"sm",onClick:()=>H(a),type:"button",children:[e.jsx(Q,{"data-loc":"client/src/pages/EmailTemplateEditor.tsx:556",className:"h-3 w-3 mr-1","aria-hidden":"true"}),a]},a))})]}),e.jsxs("div",{"data-loc":"client/src/pages/EmailTemplateEditor.tsx:562",className:"flex items-center gap-2",children:[e.jsx(P,{"data-loc":"client/src/pages/EmailTemplateEditor.tsx:563",checked:t.isActive,onCheckedChange:a=>i({...t,isActive:a}),id:"edit-isActive"}),e.jsx(l,{"data-loc":"client/src/pages/EmailTemplateEditor.tsx:568",htmlFor:"edit-isActive",children:"Template aktivieren"})]})]}),e.jsxs(B,{"data-loc":"client/src/pages/EmailTemplateEditor.tsx:571",children:[e.jsxs(c,{"data-loc":"client/src/pages/EmailTemplateEditor.tsx:572",variant:"outline",onClick:()=>g(!1),children:[e.jsx(W,{"data-loc":"client/src/pages/EmailTemplateEditor.tsx:573",className:"h-4 w-4 mr-2","aria-hidden":"true"}),"Abbrechen"]}),e.jsxs(c,{"data-loc":"client/src/pages/EmailTemplateEditor.tsx:576",onClick:se,disabled:y.isPending,children:[e.jsx(U,{"data-loc":"client/src/pages/EmailTemplateEditor.tsx:577",className:"h-4 w-4 mr-2","aria-hidden":"true"}),y.isPending?"Wird gespeichert...":"Speichern"]})]})]})}),e.jsx(w,{"data-loc":"client/src/pages/EmailTemplateEditor.tsx:585",open:Y,onOpenChange:v,children:e.jsxs(A,{"data-loc":"client/src/pages/EmailTemplateEditor.tsx:586",className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(D,{"data-loc":"client/src/pages/EmailTemplateEditor.tsx:587",children:[e.jsxs(F,{"data-loc":"client/src/pages/EmailTemplateEditor.tsx:588",children:["Vorschau: ",t.title]}),e.jsx(z,{"data-loc":"client/src/pages/EmailTemplateEditor.tsx:589",children:"So wird die Email aussehen"})]}),e.jsxs("div",{"data-loc":"client/src/pages/EmailTemplateEditor.tsx:593",className:"space-y-4",children:[e.jsxs("div",{"data-loc":"client/src/pages/EmailTemplateEditor.tsx:594",children:[e.jsx(l,{"data-loc":"client/src/pages/EmailTemplateEditor.tsx:595",children:"Betreff:"}),e.jsx("div",{"data-loc":"client/src/pages/EmailTemplateEditor.tsx:596",className:"p-3 bg-muted rounded-md mt-1",children:t.subject})]}),e.jsxs("div",{"data-loc":"client/src/pages/EmailTemplateEditor.tsx:600",children:[e.jsx(l,{"data-loc":"client/src/pages/EmailTemplateEditor.tsx:601",children:"Inhalt:"}),e.jsx("div",{"data-loc":"client/src/pages/EmailTemplateEditor.tsx:602",className:"p-4 bg-white border rounded-md mt-1",dangerouslySetInnerHTML:{__html:t.body}})]})]}),e.jsx(B,{"data-loc":"client/src/pages/EmailTemplateEditor.tsx:608",children:e.jsx(c,{"data-loc":"client/src/pages/EmailTemplateEditor.tsx:609",onClick:()=>v(!1),children:"Schließen"})})]})})]})}export{We as default};
