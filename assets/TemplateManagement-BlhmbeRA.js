import{j as r,N as c,A as l,x as e,L as E}from"./index-BN9GAmQT.js";import{B as t}from"./button-B7XicF_D.js";import{C as L}from"./card-DDCG5iAJ.js";import{D as A,d as D,a as F,b as I,c as z}from"./dialog-BFxkyGdG.js";import{I as $}from"./input-DAxyQcQ6.js";import{L as j}from"./label-WV9rmlgK.js";import{T as B}from"./textarea-CUpb7IQY.js";import{S as H,a as O,b as q,c as K,d as s}from"./select-lpC4X7iX.js";import"./index-Ci_qB1WW.js";import"./index-DkLA8Hun.js";import"./index-BxbciWQS.js";import"./index-DYYK5dbJ.js";import"./index-FM6g0UGI.js";import"./chevron-up-CGjsbtlF.js";import"./check-B0XS7teL.js";function le(){const[N,n]=r.useState(!1),[g,m]=r.useState(""),[d,p]=r.useState(""),[x,h]=r.useState("general"),[i,u]=r.useState(null),b=c.useUtils(),{data:M,isLoading:f}=c.templates.all.useQuery(),y=c.templates.create.useMutation({onSuccess:()=>{l.success("Vorlage erstellt"),b.templates.all.invalidate(),n(!1),o()},onError:a=>{l.error(`Fehler: ${a.message}`)}}),v=c.templates.update.useMutation({onSuccess:()=>{l.success("Vorlage aktualisiert"),b.templates.all.invalidate(),u(null),o()},onError:a=>{l.error(`Fehler: ${a.message}`)}}),w=c.templates.delete.useMutation({onSuccess:()=>{l.success("Vorlage gelöscht"),b.templates.all.invalidate()},onError:a=>{l.error(`Fehler: ${a.message}`)}}),o=()=>{m(""),p(""),h("general"),u(null)},S=a=>{a.preventDefault(),i?v.mutate({id:i,title:g,content:d,category:x}):y.mutate({title:g,content:d,category:x})},k=a=>{u(a.id),m(a.title),p(a.content),h(a.category),n(!0)},C=a=>({network:"Netzwerk",security:"Sicherheit",hardware:"Hardware",software:"Software",email:"E-Mail",other:"Sonstiges",general:"Allgemein"})[a]||a,V=a=>{const T={network:"bg-blue-100 text-blue-800",security:"bg-red-100 text-red-800",hardware:"bg-green-100 text-green-800",software:"bg-purple-100 text-purple-800",email:"bg-yellow-100 text-yellow-800",other:"bg-gray-100 text-gray-800",general:"bg-cyan-100 text-cyan-800"};return T[a]||T.other};return e.jsxs("div",{"data-loc":"client/src/pages/TemplateManagement.tsx:107",className:"min-h-screen bg-black text-white",children:[e.jsx("div",{"data-loc":"client/src/pages/TemplateManagement.tsx:109",className:"border-b border-gray-800 bg-black/50 backdrop-blur-sm sticky top-0 z-10",children:e.jsx("div",{"data-loc":"client/src/pages/TemplateManagement.tsx:110",className:"container mx-auto px-4 py-4",children:e.jsxs("div",{"data-loc":"client/src/pages/TemplateManagement.tsx:111",className:"flex items-center justify-between",children:[e.jsxs("div",{"data-loc":"client/src/pages/TemplateManagement.tsx:112",className:"flex items-center gap-4",children:[e.jsx(E,{"data-loc":"client/src/pages/TemplateManagement.tsx:113",href:"/admin",children:e.jsx(t,{"data-loc":"client/src/pages/TemplateManagement.tsx:114",variant:"ghost",size:"sm",children:"← Zurück"})}),e.jsx("h1",{"data-loc":"client/src/pages/TemplateManagement.tsx:118",className:"text-2xl font-bold",children:"Antwort-Vorlagen"})]}),e.jsxs(A,{"data-loc":"client/src/pages/TemplateManagement.tsx:120",open:N,onOpenChange:a=>{n(a),a||o()},children:[e.jsx(D,{"data-loc":"client/src/pages/TemplateManagement.tsx:124",asChild:!0,children:e.jsx(t,{"data-loc":"client/src/pages/TemplateManagement.tsx:125",className:"bg-yellow-500 hover:bg-yellow-600 text-black",children:"+ Neue Vorlage"})}),e.jsxs(F,{"data-loc":"client/src/pages/TemplateManagement.tsx:129",className:"bg-gray-900 text-white border-gray-800",children:[e.jsx(I,{"data-loc":"client/src/pages/TemplateManagement.tsx:130",children:e.jsx(z,{"data-loc":"client/src/pages/TemplateManagement.tsx:131",children:i?"Vorlage bearbeiten":"Neue Vorlage erstellen"})}),e.jsxs("form",{"data-loc":"client/src/pages/TemplateManagement.tsx:133",onSubmit:S,className:"space-y-4",children:[e.jsxs("div",{"data-loc":"client/src/pages/TemplateManagement.tsx:134",children:[e.jsx(j,{"data-loc":"client/src/pages/TemplateManagement.tsx:135",htmlFor:"title",children:"Titel"}),e.jsx($,{"data-loc":"client/src/pages/TemplateManagement.tsx:136",id:"title",value:g,onChange:a=>m(a.target.value),required:!0,className:"bg-gray-800 border-gray-700"})]}),e.jsxs("div",{"data-loc":"client/src/pages/TemplateManagement.tsx:144",children:[e.jsx(j,{"data-loc":"client/src/pages/TemplateManagement.tsx:145",htmlFor:"category",children:"Kategorie"}),e.jsxs(H,{"data-loc":"client/src/pages/TemplateManagement.tsx:146",value:x,onValueChange:a=>h(a),children:[e.jsx(O,{"data-loc":"client/src/pages/TemplateManagement.tsx:147",className:"bg-gray-800 border-gray-700",children:e.jsx(q,{"data-loc":"client/src/pages/TemplateManagement.tsx:148"})}),e.jsxs(K,{"data-loc":"client/src/pages/TemplateManagement.tsx:150",className:"bg-gray-800 border-gray-700",children:[e.jsx(s,{"data-loc":"client/src/pages/TemplateManagement.tsx:151",value:"general",children:"Allgemein"}),e.jsx(s,{"data-loc":"client/src/pages/TemplateManagement.tsx:152",value:"network",children:"Netzwerk"}),e.jsx(s,{"data-loc":"client/src/pages/TemplateManagement.tsx:153",value:"security",children:"Sicherheit"}),e.jsx(s,{"data-loc":"client/src/pages/TemplateManagement.tsx:154",value:"hardware",children:"Hardware"}),e.jsx(s,{"data-loc":"client/src/pages/TemplateManagement.tsx:155",value:"software",children:"Software"}),e.jsx(s,{"data-loc":"client/src/pages/TemplateManagement.tsx:156",value:"email",children:"E-Mail"}),e.jsx(s,{"data-loc":"client/src/pages/TemplateManagement.tsx:157",value:"other",children:"Sonstiges"})]})]})]}),e.jsxs("div",{"data-loc":"client/src/pages/TemplateManagement.tsx:161",children:[e.jsx(j,{"data-loc":"client/src/pages/TemplateManagement.tsx:162",htmlFor:"content",children:"Inhalt"}),e.jsx(B,{"data-loc":"client/src/pages/TemplateManagement.tsx:163",id:"content",value:d,onChange:a=>p(a.target.value),required:!0,rows:8,className:"bg-gray-800 border-gray-700",placeholder:"Geben Sie hier die Antwort-Vorlage ein..."})]}),e.jsxs("div",{"data-loc":"client/src/pages/TemplateManagement.tsx:173",className:"flex justify-end gap-2",children:[e.jsx(t,{"data-loc":"client/src/pages/TemplateManagement.tsx:174",type:"button",variant:"outline",onClick:()=>{n(!1),o()},className:"border-gray-700",children:"Abbrechen"}),e.jsx(t,{"data-loc":"client/src/pages/TemplateManagement.tsx:185",type:"submit",className:"bg-yellow-500 hover:bg-yellow-600 text-black",disabled:y.isPending||v.isPending,children:i?"Aktualisieren":"Erstellen"})]})]})]})]})]})})}),e.jsx("div",{"data-loc":"client/src/pages/TemplateManagement.tsx:201",className:"container mx-auto px-4 py-8",children:f?e.jsxs("div",{"data-loc":"client/src/pages/TemplateManagement.tsx:203",className:"text-center py-12",children:[e.jsx("div",{"data-loc":"client/src/pages/TemplateManagement.tsx:204",className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-yellow-500"}),e.jsx("p",{"data-loc":"client/src/pages/TemplateManagement.tsx:205",className:"mt-4 text-gray-400",children:"Lade Vorlagen..."})]}):M&&M.length>0?e.jsx("div",{"data-loc":"client/src/pages/TemplateManagement.tsx:208",className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:M.map(a=>e.jsxs(L,{"data-loc":"client/src/pages/TemplateManagement.tsx:210",className:"bg-gray-900 border-gray-800 p-6",children:[e.jsx("div",{"data-loc":"client/src/pages/TemplateManagement.tsx:211",className:"flex items-start justify-between mb-4",children:e.jsxs("div",{"data-loc":"client/src/pages/TemplateManagement.tsx:212",children:[e.jsx("h3",{"data-loc":"client/src/pages/TemplateManagement.tsx:213",className:"font-semibold text-lg",children:a.title}),e.jsx("span",{"data-loc":"client/src/pages/TemplateManagement.tsx:214",className:`inline-block px-2 py-1 rounded text-xs mt-2 ${V(a.category)}`,children:C(a.category)})]})}),e.jsx("p",{"data-loc":"client/src/pages/TemplateManagement.tsx:219",className:"text-gray-400 text-sm mb-4 line-clamp-3",children:a.content}),e.jsxs("div",{"data-loc":"client/src/pages/TemplateManagement.tsx:220",className:"flex gap-2",children:[e.jsx(t,{"data-loc":"client/src/pages/TemplateManagement.tsx:221",size:"sm",variant:"outline",onClick:()=>k(a),className:"border-gray-700",children:"Bearbeiten"}),e.jsx(t,{"data-loc":"client/src/pages/TemplateManagement.tsx:229",size:"sm",variant:"outline",onClick:()=>{confirm("Möchten Sie diese Vorlage wirklich löschen?")&&w.mutate({id:a.id})},className:"border-red-700 text-red-500 hover:bg-red-900",children:"Löschen"})]})]},a.id))}):e.jsxs("div",{"data-loc":"client/src/pages/TemplateManagement.tsx:246",className:"text-center py-12",children:[e.jsx("p",{"data-loc":"client/src/pages/TemplateManagement.tsx:247",className:"text-gray-400 mb-4",children:"Keine Vorlagen vorhanden"}),e.jsx(t,{"data-loc":"client/src/pages/TemplateManagement.tsx:248",onClick:()=>n(!0),className:"bg-yellow-500 hover:bg-yellow-600 text-black",children:"Erste Vorlage erstellen"})]})})]})}export{le as default};
