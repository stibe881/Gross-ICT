import{N as i,x as a}from"./index-BN9GAmQT.js";import{C as t}from"./card-DDCG5iAJ.js";import{S as x}from"./skeleton-B4p3r7MP.js";import{D as h}from"./dollar-sign-BhOElyIN.js";import{C as m}from"./circle-alert-CBZAY2D5.js";import{C as g}from"./calendar-lP7qctBn.js";import{C as L}from"./chart-column-8Hy86w9_.js";import{R as p,C as b,X as u,Y as D,T as j,L as F,B as A}from"./generateCategoricalChart-B5qIq3um.js";import{B as k}from"./BarChart-UulCzpsw.js";import{L as z,a as I}from"./LineChart-ljMg4o6_.js";import{T as f}from"./trending-up-q9Xt4TNZ.js";import{T as N}from"./trending-down-DxdrgmSb.js";import"./index-CqUluVxK.js";function Y(){const{data:n,isLoading:v}=i.financialDashboard.getDashboardSummary.useQuery(),{data:r,isLoading:y}=i.financialDashboard.getCashflow.useQuery({months:6}),{data:l,isLoading:w}=i.financialDashboard.getOutstandingInvoices.useQuery(),{data:d,isLoading:C}=i.financialDashboard.getRevenueForecast.useQuery({months:3}),{data:s,isLoading:R}=i.financialDashboard.getMonthlyComparison.useQuery();if(v||y||w||C||R)return a.jsxs("div",{"data-loc":"client/src/pages/FinancialDashboard.tsx:17",className:"container py-8",children:[a.jsx("h1",{"data-loc":"client/src/pages/FinancialDashboard.tsx:18",className:"text-3xl font-bold mb-8",children:"Finanz-Dashboard"}),a.jsx("div",{"data-loc":"client/src/pages/FinancialDashboard.tsx:19",className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[...Array(4)].map((c,M)=>a.jsxs(t,{"data-loc":"client/src/pages/FinancialDashboard.tsx:21",className:"p-6",children:[a.jsx(x,{"data-loc":"client/src/pages/FinancialDashboard.tsx:22",className:"h-4 w-24 mb-2"}),a.jsx(x,{"data-loc":"client/src/pages/FinancialDashboard.tsx:23",className:"h-8 w-32"})]},M))})]});const e=c=>new Intl.NumberFormat("de-CH",{style:"currency",currency:"CHF"}).format(c),o=c=>`${c>=0?"+":""}${c.toFixed(1)}%`;return a.jsxs("div",{"data-loc":"client/src/pages/FinancialDashboard.tsx:43",className:"container py-8",children:[a.jsx("div",{"data-loc":"client/src/pages/FinancialDashboard.tsx:44",className:"flex justify-between items-center mb-8",children:a.jsx("h1",{"data-loc":"client/src/pages/FinancialDashboard.tsx:45",className:"text-3xl font-bold",children:"Finanz-Dashboard"})}),a.jsxs("div",{"data-loc":"client/src/pages/FinancialDashboard.tsx:49",className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[a.jsx(t,{"data-loc":"client/src/pages/FinancialDashboard.tsx:50",className:"p-6",children:a.jsxs("div",{"data-loc":"client/src/pages/FinancialDashboard.tsx:51",className:"flex items-center justify-between",children:[a.jsxs("div",{"data-loc":"client/src/pages/FinancialDashboard.tsx:52",children:[a.jsx("p",{"data-loc":"client/src/pages/FinancialDashboard.tsx:53",className:"text-sm text-muted-foreground",children:"Gesamtumsatz"}),a.jsx("p",{"data-loc":"client/src/pages/FinancialDashboard.tsx:54",className:"text-2xl font-bold",children:e(n?.totalRevenue||0)}),a.jsxs("p",{"data-loc":"client/src/pages/FinancialDashboard.tsx:55",className:"text-sm text-muted-foreground mt-1",children:[n?.totalInvoices||0," Rechnungen"]})]}),a.jsx(h,{"data-loc":"client/src/pages/FinancialDashboard.tsx:57",className:"h-8 w-8 text-muted-foreground"})]})}),a.jsx(t,{"data-loc":"client/src/pages/FinancialDashboard.tsx:61",className:"p-6",children:a.jsxs("div",{"data-loc":"client/src/pages/FinancialDashboard.tsx:62",className:"flex items-center justify-between",children:[a.jsxs("div",{"data-loc":"client/src/pages/FinancialDashboard.tsx:63",children:[a.jsx("p",{"data-loc":"client/src/pages/FinancialDashboard.tsx:64",className:"text-sm text-muted-foreground",children:"Überfällige Rechnungen"}),a.jsx("p",{"data-loc":"client/src/pages/FinancialDashboard.tsx:65",className:"text-2xl font-bold text-red-500",children:e(n?.overdueAmount||0)}),a.jsxs("p",{"data-loc":"client/src/pages/FinancialDashboard.tsx:66",className:"text-sm text-muted-foreground mt-1",children:[n?.overdueCount||0," Rechnungen"]})]}),a.jsx(m,{"data-loc":"client/src/pages/FinancialDashboard.tsx:68",className:"h-8 w-8 text-orange-500"})]})}),a.jsx(t,{"data-loc":"client/src/pages/FinancialDashboard.tsx:72",className:"p-6",children:a.jsxs("div",{"data-loc":"client/src/pages/FinancialDashboard.tsx:73",className:"flex items-center justify-between",children:[a.jsxs("div",{"data-loc":"client/src/pages/FinancialDashboard.tsx:74",children:[a.jsx("p",{"data-loc":"client/src/pages/FinancialDashboard.tsx:75",className:"text-sm text-muted-foreground",children:"Diesen Monat"}),a.jsx("p",{"data-loc":"client/src/pages/FinancialDashboard.tsx:76",className:"text-2xl font-bold",children:e(n?.thisMonthRevenue||0)}),a.jsxs("p",{"data-loc":"client/src/pages/FinancialDashboard.tsx:77",className:"text-sm text-muted-foreground mt-1",children:[n?.thisMonthInvoices||0," Rechnungen"]})]}),a.jsx(g,{"data-loc":"client/src/pages/FinancialDashboard.tsx:79",className:"h-8 w-8 text-muted-foreground"})]})}),a.jsx(t,{"data-loc":"client/src/pages/FinancialDashboard.tsx:83",className:"p-6",children:a.jsxs("div",{"data-loc":"client/src/pages/FinancialDashboard.tsx:84",className:"flex items-center justify-between",children:[a.jsxs("div",{"data-loc":"client/src/pages/FinancialDashboard.tsx:85",children:[a.jsx("p",{"data-loc":"client/src/pages/FinancialDashboard.tsx:86",className:"text-sm text-muted-foreground",children:"Wiederkehrende Rechnungen"}),a.jsx("p",{"data-loc":"client/src/pages/FinancialDashboard.tsx:87",className:"text-2xl font-bold",children:n?.activeRecurringInvoices||0}),a.jsx("p",{"data-loc":"client/src/pages/FinancialDashboard.tsx:88",className:"text-sm text-muted-foreground mt-1",children:"Aktive Abos"})]}),a.jsx(L,{"data-loc":"client/src/pages/FinancialDashboard.tsx:90",className:"h-8 w-8 text-muted-foreground"})]})})]}),a.jsxs(t,{"data-loc":"client/src/pages/FinancialDashboard.tsx:96",className:"p-6 mb-8",children:[a.jsx("div",{"data-loc":"client/src/pages/FinancialDashboard.tsx:97",className:"flex justify-between items-center mb-4",children:a.jsx("h2",{"data-loc":"client/src/pages/FinancialDashboard.tsx:98",className:"text-xl font-bold",children:"Cashflow (6 Monate)"})}),a.jsx(p,{"data-loc":"client/src/pages/FinancialDashboard.tsx:100",width:"100%",height:300,children:a.jsxs(k,{"data-loc":"client/src/pages/FinancialDashboard.tsx:101",data:r?.months||[],children:[a.jsx(b,{"data-loc":"client/src/pages/FinancialDashboard.tsx:102",strokeDasharray:"3 3"}),a.jsx(u,{"data-loc":"client/src/pages/FinancialDashboard.tsx:103",dataKey:"month"}),a.jsx(D,{"data-loc":"client/src/pages/FinancialDashboard.tsx:104"}),a.jsx(j,{"data-loc":"client/src/pages/FinancialDashboard.tsx:105",formatter:c=>e(c)}),a.jsx(F,{"data-loc":"client/src/pages/FinancialDashboard.tsx:106"}),a.jsx(A,{"data-loc":"client/src/pages/FinancialDashboard.tsx:107",dataKey:"income",name:"Einnahmen",fill:"#10b981"})]})}),r&&a.jsxs("div",{"data-loc":"client/src/pages/FinancialDashboard.tsx:111",className:"mt-4 grid grid-cols-2 gap-4",children:[a.jsxs("div",{"data-loc":"client/src/pages/FinancialDashboard.tsx:112",children:[a.jsx("p",{"data-loc":"client/src/pages/FinancialDashboard.tsx:113",className:"text-sm text-muted-foreground",children:"Gesamteinnahmen"}),a.jsx("p",{"data-loc":"client/src/pages/FinancialDashboard.tsx:114",className:"text-lg font-bold",children:e(r.totalIncome)})]}),a.jsxs("div",{"data-loc":"client/src/pages/FinancialDashboard.tsx:116",children:[a.jsx("p",{"data-loc":"client/src/pages/FinancialDashboard.tsx:117",className:"text-sm text-muted-foreground",children:"Durchschn. pro Monat"}),a.jsx("p",{"data-loc":"client/src/pages/FinancialDashboard.tsx:118",className:"text-lg font-bold",children:e(r.averageMonthlyIncome)})]})]})]}),a.jsxs(t,{"data-loc":"client/src/pages/FinancialDashboard.tsx:125",className:"p-6 mb-8",children:[a.jsx("div",{"data-loc":"client/src/pages/FinancialDashboard.tsx:126",className:"flex justify-between items-center mb-4",children:a.jsx("h2",{"data-loc":"client/src/pages/FinancialDashboard.tsx:127",className:"text-xl font-bold",children:"Umsatzprognose (3 Monate)"})}),a.jsx(p,{"data-loc":"client/src/pages/FinancialDashboard.tsx:129",width:"100%",height:300,children:a.jsxs(z,{"data-loc":"client/src/pages/FinancialDashboard.tsx:130",data:d?.forecast||[],children:[a.jsx(b,{"data-loc":"client/src/pages/FinancialDashboard.tsx:131",strokeDasharray:"3 3"}),a.jsx(u,{"data-loc":"client/src/pages/FinancialDashboard.tsx:132",dataKey:"month"}),a.jsx(D,{"data-loc":"client/src/pages/FinancialDashboard.tsx:133"}),a.jsx(j,{"data-loc":"client/src/pages/FinancialDashboard.tsx:134",formatter:c=>e(c)}),a.jsx(F,{"data-loc":"client/src/pages/FinancialDashboard.tsx:135"}),a.jsx(I,{"data-loc":"client/src/pages/FinancialDashboard.tsx:136",type:"monotone",dataKey:"projectedRevenue",name:"Prognostizierter Umsatz",stroke:"#8b5cf6",strokeWidth:2})]})}),d&&a.jsxs("div",{"data-loc":"client/src/pages/FinancialDashboard.tsx:140",className:"mt-4 grid grid-cols-2 gap-4",children:[a.jsxs("div",{"data-loc":"client/src/pages/FinancialDashboard.tsx:141",children:[a.jsx("p",{"data-loc":"client/src/pages/FinancialDashboard.tsx:142",className:"text-sm text-muted-foreground",children:"Monatlich wiederkehrend"}),a.jsx("p",{"data-loc":"client/src/pages/FinancialDashboard.tsx:143",className:"text-lg font-bold",children:e(d.monthlyRecurringRevenue)})]}),a.jsxs("div",{"data-loc":"client/src/pages/FinancialDashboard.tsx:145",children:[a.jsx("p",{"data-loc":"client/src/pages/FinancialDashboard.tsx:146",className:"text-sm text-muted-foreground",children:"Aktive Abos"}),a.jsx("p",{"data-loc":"client/src/pages/FinancialDashboard.tsx:147",className:"text-lg font-bold",children:d.activeRecurringInvoices})]})]})]}),a.jsxs(t,{"data-loc":"client/src/pages/FinancialDashboard.tsx:154",className:"p-6 mb-8",children:[a.jsx("h2",{"data-loc":"client/src/pages/FinancialDashboard.tsx:155",className:"text-xl font-bold mb-4",children:"Monatsvergleich"}),s&&a.jsxs("div",{"data-loc":"client/src/pages/FinancialDashboard.tsx:157",className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{"data-loc":"client/src/pages/FinancialDashboard.tsx:158",children:[a.jsx("h3",{"data-loc":"client/src/pages/FinancialDashboard.tsx:159",className:"text-sm font-medium text-muted-foreground mb-2",children:"Aktueller Monat"}),a.jsx("p",{"data-loc":"client/src/pages/FinancialDashboard.tsx:160",className:"text-2xl font-bold",children:e(s.currentMonth.revenue)}),a.jsxs("p",{"data-loc":"client/src/pages/FinancialDashboard.tsx:161",className:"text-sm text-muted-foreground",children:[s.currentMonth.invoices," Rechnungen (",s.currentMonth.paidInvoices," bezahlt)"]})]}),a.jsxs("div",{"data-loc":"client/src/pages/FinancialDashboard.tsx:163",children:[a.jsx("h3",{"data-loc":"client/src/pages/FinancialDashboard.tsx:164",className:"text-sm font-medium text-muted-foreground mb-2",children:"Letzter Monat"}),a.jsx("p",{"data-loc":"client/src/pages/FinancialDashboard.tsx:165",className:"text-2xl font-bold",children:e(s.lastMonth.revenue)}),a.jsxs("p",{"data-loc":"client/src/pages/FinancialDashboard.tsx:166",className:"text-sm text-muted-foreground",children:[s.lastMonth.invoices," Rechnungen (",s.lastMonth.paidInvoices," bezahlt)"]})]}),a.jsxs("div",{"data-loc":"client/src/pages/FinancialDashboard.tsx:168",className:"col-span-2 pt-4 border-t",children:[a.jsx("h3",{"data-loc":"client/src/pages/FinancialDashboard.tsx:169",className:"text-sm font-medium text-muted-foreground mb-2",children:"Veränderungen"}),a.jsxs("div",{"data-loc":"client/src/pages/FinancialDashboard.tsx:170",className:"flex gap-6",children:[a.jsxs("div",{"data-loc":"client/src/pages/FinancialDashboard.tsx:171",className:"flex items-center gap-2",children:[s.changes.revenue>=0?a.jsx(f,{"data-loc":"client/src/pages/FinancialDashboard.tsx:172",className:"h-4 w-4 text-green-500"}):a.jsx(N,{"data-loc":"client/src/pages/FinancialDashboard.tsx:172",className:"h-4 w-4 text-red-500"}),a.jsxs("span",{"data-loc":"client/src/pages/FinancialDashboard.tsx:173",className:s.changes.revenue>=0?"text-green-500":"text-red-500",children:[o(s.changes.revenue)," Umsatz"]})]}),a.jsxs("div",{"data-loc":"client/src/pages/FinancialDashboard.tsx:177",className:"flex items-center gap-2",children:[s.changes.invoiceCount>=0?a.jsx(f,{"data-loc":"client/src/pages/FinancialDashboard.tsx:178",className:"h-4 w-4 text-green-500"}):a.jsx(N,{"data-loc":"client/src/pages/FinancialDashboard.tsx:178",className:"h-4 w-4 text-red-500"}),a.jsxs("span",{"data-loc":"client/src/pages/FinancialDashboard.tsx:179",className:s.changes.invoiceCount>=0?"text-green-500":"text-red-500",children:[o(s.changes.invoiceCount)," Rechnungen"]})]})]})]})]})]}),a.jsxs(t,{"data-loc":"client/src/pages/FinancialDashboard.tsx:190",className:"p-6",children:[a.jsx("div",{"data-loc":"client/src/pages/FinancialDashboard.tsx:191",className:"flex justify-between items-center mb-4",children:a.jsx("h2",{"data-loc":"client/src/pages/FinancialDashboard.tsx:192",className:"text-xl font-bold",children:"Offene Rechnungen"})}),l&&a.jsxs("div",{"data-loc":"client/src/pages/FinancialDashboard.tsx:195",className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsxs(t,{"data-loc":"client/src/pages/FinancialDashboard.tsx:196",className:"p-4 bg-muted/50",children:[a.jsxs("div",{"data-loc":"client/src/pages/FinancialDashboard.tsx:197",className:"flex items-center gap-2 mb-2",children:[a.jsx(h,{"data-loc":"client/src/pages/FinancialDashboard.tsx:198",className:"h-5 w-5 text-primary"}),a.jsx("h3",{"data-loc":"client/src/pages/FinancialDashboard.tsx:199",className:"font-medium",children:"Total Ausstehend"})]}),a.jsx("p",{"data-loc":"client/src/pages/FinancialDashboard.tsx:201",className:"text-2xl font-bold",children:e(l.totalOutstanding)}),a.jsxs("p",{"data-loc":"client/src/pages/FinancialDashboard.tsx:202",className:"text-sm text-muted-foreground",children:[l.totalCount," Rechnungen"]})]}),a.jsxs(t,{"data-loc":"client/src/pages/FinancialDashboard.tsx:204",className:"p-4 bg-red-500/10",children:[a.jsxs("div",{"data-loc":"client/src/pages/FinancialDashboard.tsx:205",className:"flex items-center gap-2 mb-2",children:[a.jsx(m,{"data-loc":"client/src/pages/FinancialDashboard.tsx:206",className:"h-5 w-5 text-red-500"}),a.jsx("h3",{"data-loc":"client/src/pages/FinancialDashboard.tsx:207",className:"font-medium",children:"Überfällig"})]}),a.jsx("p",{"data-loc":"client/src/pages/FinancialDashboard.tsx:209",className:"text-2xl font-bold text-red-500",children:e(l.overdue.amount)}),a.jsxs("p",{"data-loc":"client/src/pages/FinancialDashboard.tsx:210",className:"text-sm text-muted-foreground",children:[l.overdue.count," Rechnungen"]})]}),a.jsxs(t,{"data-loc":"client/src/pages/FinancialDashboard.tsx:212",className:"p-4 bg-yellow-500/10",children:[a.jsxs("div",{"data-loc":"client/src/pages/FinancialDashboard.tsx:213",className:"flex items-center gap-2 mb-2",children:[a.jsx(g,{"data-loc":"client/src/pages/FinancialDashboard.tsx:214",className:"h-5 w-5 text-yellow-600"}),a.jsx("h3",{"data-loc":"client/src/pages/FinancialDashboard.tsx:215",className:"font-medium",children:"Fällig diesen Monat"})]}),a.jsx("p",{"data-loc":"client/src/pages/FinancialDashboard.tsx:217",className:"text-2xl font-bold text-yellow-600",children:e(l.dueThisMonth.amount)}),a.jsxs("p",{"data-loc":"client/src/pages/FinancialDashboard.tsx:218",className:"text-sm text-muted-foreground",children:[l.dueThisMonth.count," Rechnungen"]})]})]})]})]})}export{Y as default};
